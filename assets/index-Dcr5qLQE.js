var ib=Object.defineProperty;var sb=(tt,dt,at)=>dt in tt?ib(tt,dt,{enumerable:!0,configurable:!0,writable:!0,value:at}):tt[dt]=at;var w0=(tt,dt,at)=>sb(tt,typeof dt!="symbol"?dt+"":dt,at);function rb(tt,dt){for(var at=0;at<dt.length;at++){const It=dt[at];if(typeof It!="string"&&!Array.isArray(It)){for(const Et in It)if(Et!=="default"&&!(Et in tt)){const jt=Object.getOwnPropertyDescriptor(It,Et);jt&&Object.defineProperty(tt,Et,jt.get?jt:{enumerable:!0,get:()=>It[Et]})}}}return Object.freeze(Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}))}(function(){const dt=document.createElement("link").relList;if(dt&&dt.supports&&dt.supports("modulepreload"))return;for(const Et of document.querySelectorAll('link[rel="modulepreload"]'))It(Et);new MutationObserver(Et=>{for(const jt of Et)if(jt.type==="childList")for(const te of jt.addedNodes)te.tagName==="LINK"&&te.rel==="modulepreload"&&It(te)}).observe(document,{childList:!0,subtree:!0});function at(Et){const jt={};return Et.integrity&&(jt.integrity=Et.integrity),Et.referrerPolicy&&(jt.referrerPolicy=Et.referrerPolicy),Et.crossOrigin==="use-credentials"?jt.credentials="include":Et.crossOrigin==="anonymous"?jt.credentials="omit":jt.credentials="same-origin",jt}function It(Et){if(Et.ep)return;Et.ep=!0;const jt=at(Et);fetch(Et.href,jt)}})();const j0=!1;var E0=Array.isArray,ob=Array.prototype.indexOf,I0=Array.from,nb=Object.defineProperty,wm=Object.getOwnPropertyDescriptor,mv=Object.getOwnPropertyDescriptors,ab=Object.prototype,lb=Array.prototype,B0=Object.getPrototypeOf,U0=Object.isExtensible;function hb(tt){return typeof tt=="function"}const bm=()=>{};function db(tt){return tt()}function M0(tt){for(var dt=0;dt<tt.length;dt++)tt[dt]()}const Gh=2,D0=4,Sx=8,Ey=16,Hp=32,Sm=64,z0=128,Hh=256,ky=512,gh=1024,Wp=2048,sf=4096,Np=8192,Iy=16384,R0=32768,Tx=65536,V0=1<<17,cb=1<<18,xv=1<<19,S0=1<<20,N0=1<<21,Jf=Symbol("$state"),pb=Symbol("legacy props"),yv=new class extends Error{constructor(){super(...arguments);w0(this,"name","StaleReactionError");w0(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function vv(tt){return tt===this.v}function ub(tt,dt){return tt!=tt?dt==dt:tt!==dt||tt!==null&&typeof tt=="object"||typeof tt=="function"}function bv(tt){return!ub(tt,this.v)}function fb(tt){throw new Error("https://svelte.dev/e/effect_in_teardown")}function gb(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function mb(tt){throw new Error("https://svelte.dev/e/effect_orphan")}function xb(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yb(tt){throw new Error("https://svelte.dev/e/props_invalid_value")}function vb(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function bb(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function wb(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Tm=!1,kb=!1;function Mb(){Tm=!0}const Sb=1,Tb=2,Ab=16,Pb=1,Cb=2,_b=4,Lb=8,Ob=16,Eb=1,Ib=2,Bb=4,Db=1,zb=2,vl=Symbol(),Rb="http://www.w3.org/1999/xhtml";function wv(tt){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Do=null;function Z0(tt){Do=tt}function Ax(tt,dt=!1,at){var It=Do={p:Do,c:null,d:!1,e:null,m:!1,s:tt,x:null,l:null};Tm&&!dt&&(Do.l={s:null,u:null,r1:[],r2:Mx(!1)}),Ev(()=>{It.d=!0})}function Px(tt){const dt=Do;if(dt!==null){const te=dt.e;if(te!==null){var at=Dr,It=Tr;dt.e=null;try{for(var Et=0;Et<te.length;Et++){var jt=te[Et];$c(jt.effect),Td(jt.reaction),Iv(jt.fn)}}finally{$c(at),Td(It)}}Do=dt.p,dt.m=!0}return{}}function By(){return!Tm||Do!==null&&Do.l===null}function Qu(tt){if(typeof tt!="object"||tt===null||Jf in tt)return tt;const dt=B0(tt);if(dt!==ab&&dt!==lb)return tt;var at=new Map,It=E0(tt),Et=Uc(0),jt=Tr,te=me=>{var ee=Tr;Td(jt);var ae=me();return Td(ee),ae};return It&&at.set("length",Uc(tt.length)),new Proxy(tt,{defineProperty(me,ee,ae){(!("value"in ae)||ae.configurable===!1||ae.enumerable===!1||ae.writable===!1)&&vb();var ue=at.get(ee);return ue===void 0?ue=te(()=>{var le=Uc(ae.value);return at.set(ee,le),le}):il(ue,ae.value,!0),!0},deleteProperty(me,ee){var ae=at.get(ee);if(ae===void 0){if(ee in me){const oe=te(()=>Uc(vl));at.set(ee,oe),k0(Et)}}else{if(It&&typeof ee=="string"){var ue=at.get("length"),le=Number(ee);Number.isInteger(le)&&le<ue.v&&il(ue,le)}il(ae,vl),k0(Et)}return!0},get(me,ee,ae){var Ce;if(ee===Jf)return tt;var ue=at.get(ee),le=ee in me;if(ue===void 0&&(!le||(Ce=wm(me,ee))!=null&&Ce.writable)&&(ue=te(()=>{var Be=Qu(le?me[ee]:vl),We=Uc(Be);return We}),at.set(ee,ue)),ue!==void 0){var oe=Ho(ue);return oe===vl?void 0:oe}return Reflect.get(me,ee,ae)},getOwnPropertyDescriptor(me,ee){var ae=Reflect.getOwnPropertyDescriptor(me,ee);if(ae&&"value"in ae){var ue=at.get(ee);ue&&(ae.value=Ho(ue))}else if(ae===void 0){var le=at.get(ee),oe=le==null?void 0:le.v;if(le!==void 0&&oe!==vl)return{enumerable:!0,configurable:!0,value:oe,writable:!0}}return ae},has(me,ee){var oe;if(ee===Jf)return!0;var ae=at.get(ee),ue=ae!==void 0&&ae.v!==vl||Reflect.has(me,ee);if(ae!==void 0||Dr!==null&&(!ue||(oe=wm(me,ee))!=null&&oe.writable)){ae===void 0&&(ae=te(()=>{var Ce=ue?Qu(me[ee]):vl,Be=Uc(Ce);return Be}),at.set(ee,ae));var le=Ho(ae);if(le===vl)return!1}return ue},set(me,ee,ae,ue){var si;var le=at.get(ee),oe=ee in me;if(It&&ee==="length")for(var Ce=ae;Ce<le.v;Ce+=1){var Be=at.get(Ce+"");Be!==void 0?il(Be,vl):Ce in me&&(Be=te(()=>Uc(vl)),at.set(Ce+"",Be))}if(le===void 0)(!oe||(si=wm(me,ee))!=null&&si.writable)&&(le=te(()=>Uc(void 0)),il(le,Qu(ae)),at.set(ee,le));else{oe=le.v!==vl;var We=te(()=>Qu(ae));il(le,We)}var di=Reflect.getOwnPropertyDescriptor(me,ee);if(di!=null&&di.set&&di.set.call(ue,ae),!oe){if(It&&typeof ee=="string"){var Ve=at.get("length"),xi=Number(ee);Number.isInteger(xi)&&xi>=Ve.v&&il(Ve,xi+1)}k0(Et)}return!0},ownKeys(me){Ho(Et);var ee=Reflect.ownKeys(me).filter(le=>{var oe=at.get(le);return oe===void 0||oe.v!==vl});for(var[ae,ue]of at)ue.v!==vl&&!(ae in me)&&ee.push(ae);return ee},setPrototypeOf(){bb()}})}function k0(tt,dt=1){il(tt,tt.v+dt)}function Dy(tt){var dt=Gh|Wp,at=Tr!==null&&(Tr.f&Gh)!==0?Tr:null;return Dr===null||at!==null&&(at.f&Hh)!==0?dt|=Hh:Dr.f|=xv,{ctx:Do,deps:null,effects:null,equals:vv,f:dt,fn:tt,reactions:null,rv:0,v:vl,wv:0,parent:at??Dr,ac:null}}function kv(tt){const dt=Dy(tt);return dt.equals=bv,dt}function Mv(tt){var dt=tt.effects;if(dt!==null){tt.effects=null;for(var at=0;at<dt.length;at+=1)Fp(dt[at])}}function Nb(tt){for(var dt=tt.parent;dt!==null;){if((dt.f&Gh)===0)return dt;dt=dt.parent}return null}function W0(tt){var dt,at=Dr;$c(Nb(tt));try{Mv(tt),dt=Xv(tt)}finally{$c(at)}return dt}function Sv(tt){var dt=W0(tt);if(tt.equals(dt)||(tt.v=dt,tt.wv=Hv()),!ef){var at=(tf||(tt.f&Hh)!==0)&&tt.deps!==null?sf:gh;dc(tt,at)}}const Qf=new Map;function Mx(tt,dt){var at={f:0,v:tt,reactions:null,equals:vv,rv:0,wv:0};return at}function Uc(tt,dt){const at=Mx(tt);return Kb(at),at}function My(tt,dt=!1,at=!0){var Et;const It=Mx(tt);return dt||(It.equals=bv),Tm&&at&&Do!==null&&Do.l!==null&&((Et=Do.l).s??(Et.s=[])).push(It),It}function il(tt,dt,at=!1){Tr!==null&&(!Vc||(Tr.f&V0)!==0)&&By()&&(Tr.f&(Gh|Ey|V0))!==0&&!((Nn==null?void 0:Nn.reaction)===Tr&&Nn.sources.includes(tt))&&wb();let It=at?Qu(dt):dt;return Tv(tt,It)}function Tv(tt,dt){if(!tt.equals(dt)){var at=tt.v;ef?Qf.set(tt,dt):Qf.set(tt,at),tt.v=dt,(tt.f&Gh)!==0&&((tt.f&Wp)!==0&&W0(tt),dc(tt,(tt.f&Hh)===0?gh:sf)),tt.wv=Hv(),Av(tt,Wp),By()&&Dr!==null&&(Dr.f&gh)!==0&&(Dr.f&(Hp|Sm))===0&&(Sd===null?Jb([tt]):Sd.push(tt))}return dt}function Av(tt,dt){var at=tt.reactions;if(at!==null)for(var It=By(),Et=at.length,jt=0;jt<Et;jt++){var te=at[jt],me=te.f;(me&Wp)===0&&(!It&&te===Dr||(dc(te,dt),(me&(gh|Hh))!==0&&((me&Gh)!==0?Av(te,sf):Wy(te))))}}let Wb=!1;var $0,Pv,Cv,_v;function Fb(){if($0===void 0){$0=window,Pv=/Firefox/.test(navigator.userAgent);var tt=Element.prototype,dt=Node.prototype,at=Text.prototype;Cv=wm(dt,"firstChild").get,_v=wm(dt,"nextSibling").get,U0(tt)&&(tt.__click=void 0,tt.__className=void 0,tt.__attributes=null,tt.__style=void 0,tt.__e=void 0),U0(at)&&(at.__t=void 0)}}function Lv(tt=""){return document.createTextNode(tt)}function Sy(tt){return Cv.call(tt)}function zy(tt){return _v.call(tt)}function Ri(tt,dt){return Sy(tt)}function sl(tt,dt){{var at=Sy(tt);return at instanceof Comment&&at.data===""?zy(at):at}}function Bi(tt,dt=1,at=!1){let It=tt;for(;dt--;)It=zy(It);return It}function Hb(tt){tt.textContent=""}function Ov(tt){Dr===null&&Tr===null&&mb(),Tr!==null&&(Tr.f&Hh)!==0&&Dr===null&&gb(),ef&&fb()}function Gb(tt,dt){var at=dt.last;at===null?dt.last=dt.first=tt:(at.next=tt,tt.prev=at,dt.last=tt)}function rf(tt,dt,at,It=!0){var Et=Dr,jt={ctx:Do,deps:null,nodes_start:null,nodes_end:null,f:tt|Wp,first:null,fn:dt,last:null,next:null,parent:Et,b:Et&&Et.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(at)try{Ny(jt),jt.f|=R0}catch(ee){throw Fp(jt),ee}else dt!==null&&Wy(jt);var te=at&&jt.deps===null&&jt.first===null&&jt.nodes_start===null&&jt.teardown===null&&(jt.f&(xv|z0))===0;if(!te&&It&&(Et!==null&&Gb(jt,Et),Tr!==null&&(Tr.f&Gh)!==0)){var me=Tr;(me.effects??(me.effects=[])).push(jt)}return jt}function Ev(tt){const dt=rf(Sx,null,!1);return dc(dt,gh),dt.teardown=tt,dt}function T0(tt){Ov();var dt=Dr!==null&&(Dr.f&Hp)!==0&&Do!==null&&!Do.m;if(dt){var at=Do;(at.e??(at.e=[])).push({fn:tt,effect:Dr,reaction:Tr})}else return Iv(tt)}function Iv(tt){return rf(D0|N0,tt,!1)}function Xb(tt){return Ov(),rf(Sx|N0,tt,!0)}function Yb(tt){const dt=rf(Sm,tt,!0);return(at={})=>new Promise(It=>{at.outro?Ty(dt,()=>{Fp(dt),It(void 0)}):(Fp(dt),It(void 0))})}function Bv(tt){return rf(D0,tt,!1)}function jb(tt,dt){var at=Do,It={effect:null,ran:!1};at.l.r1.push(It),It.effect=F0(()=>{tt(),!It.ran&&(It.ran=!0,il(at.l.r2,!0),eg(dt))})}function Ub(){var tt=Do;F0(()=>{if(Ho(tt.l.r2)){for(var dt of tt.l.r1){var at=dt.effect;(at.f&gh)!==0&&dc(at,sf),Cx(at)&&Ny(at),dt.ran=!1}tt.l.r2.v=!1}})}function F0(tt){return rf(Sx,tt,!0)}function Zc(tt,dt=[],at=Dy){const It=dt.map(at);return Ry(()=>tt(...It.map(Ho)))}function Ry(tt,dt=0){var at=rf(Sx|Ey|dt,tt,!0);return at}function Mm(tt,dt=!0){return rf(Sx|Hp,tt,!0,dt)}function Dv(tt){var dt=tt.teardown;if(dt!==null){const at=ef,It=Tr;q0(!0),Td(null);try{dt.call(null)}finally{q0(at),Td(It)}}}function zv(tt,dt=!1){var Et;var at=tt.first;for(tt.first=tt.last=null;at!==null;){(Et=at.ac)==null||Et.abort(yv);var It=at.next;(at.f&Sm)!==0?at.parent=null:Fp(at,dt),at=It}}function Vb(tt){for(var dt=tt.first;dt!==null;){var at=dt.next;(dt.f&Hp)===0&&Fp(dt),dt=at}}function Fp(tt,dt=!0){var at=!1;(dt||(tt.f&cb)!==0)&&tt.nodes_start!==null&&tt.nodes_end!==null&&(Zb(tt.nodes_start,tt.nodes_end),at=!0),zv(tt,dt&&!at),Oy(tt,0),dc(tt,Iy);var It=tt.transitions;if(It!==null)for(const jt of It)jt.stop();Dv(tt);var Et=tt.parent;Et!==null&&Et.first!==null&&Rv(tt),tt.next=tt.prev=tt.teardown=tt.ctx=tt.deps=tt.fn=tt.nodes_start=tt.nodes_end=tt.ac=null}function Zb(tt,dt){for(;tt!==null;){var at=tt===dt?null:zy(tt);tt.remove(),tt=at}}function Rv(tt){var dt=tt.parent,at=tt.prev,It=tt.next;at!==null&&(at.next=It),It!==null&&(It.prev=at),dt!==null&&(dt.first===tt&&(dt.first=It),dt.last===tt&&(dt.last=at))}function Ty(tt,dt){var at=[];H0(tt,at,!0),Nv(at,()=>{Fp(tt),dt&&dt()})}function Nv(tt,dt){var at=tt.length;if(at>0){var It=()=>--at||dt();for(var Et of tt)Et.out(It)}else dt()}function H0(tt,dt,at){if((tt.f&Np)===0){if(tt.f^=Np,tt.transitions!==null)for(const te of tt.transitions)(te.is_global||at)&&dt.push(te);for(var It=tt.first;It!==null;){var Et=It.next,jt=(It.f&Tx)!==0||(It.f&Hp)!==0;H0(It,dt,jt?at:!1),It=Et}}}function Ay(tt){Wv(tt,!0)}function Wv(tt,dt){if((tt.f&Np)!==0){tt.f^=Np;for(var at=tt.first;at!==null;){var It=at.next,Et=(at.f&Tx)!==0||(at.f&Hp)!==0;Wv(at,Et?dt:!1),at=It}if(tt.transitions!==null)for(const jt of tt.transitions)(jt.is_global||dt)&&jt.in()}}let Py=[];function $b(){var tt=Py;Py=[],M0(tt)}function G0(tt){Py.length===0&&queueMicrotask($b),Py.push(tt)}function qb(tt){var dt=Dr;if((dt.f&R0)===0){if((dt.f&z0)===0)throw tt;dt.fn(tt)}else Fv(tt,dt)}function Fv(tt,dt){for(;dt!==null;){if((dt.f&z0)!==0)try{dt.b.error(tt);return}catch{}dt=dt.parent}throw tt}let A0=!1,Cy=null,tg=!1,ef=!1;function q0(tt){ef=tt}let gy=[];let Tr=null,Vc=!1;function Td(tt){Tr=tt}let Dr=null;function $c(tt){Dr=tt}let Nn=null;function Kb(tt){Tr!==null&&Tr.f&S0&&(Nn===null?Nn={reaction:Tr,sources:[tt]}:Nn.sources.push(tt))}let Fl=null,Fh=0,Sd=null;function Jb(tt){Sd=tt}let _y=1,Ly=0,tf=!1;function Hv(){return++_y}function Cx(tt){var le;var dt=tt.f;if((dt&Wp)!==0)return!0;if((dt&sf)!==0){var at=tt.deps,It=(dt&Hh)!==0;if(at!==null){var Et,jt,te=(dt&ky)!==0,me=It&&Dr!==null&&!tf,ee=at.length;if(te||me){var ae=tt,ue=ae.parent;for(Et=0;Et<ee;Et++)jt=at[Et],(te||!((le=jt==null?void 0:jt.reactions)!=null&&le.includes(ae)))&&(jt.reactions??(jt.reactions=[])).push(ae);te&&(ae.f^=ky),me&&ue!==null&&(ue.f&Hh)===0&&(ae.f^=Hh)}for(Et=0;Et<ee;Et++)if(jt=at[Et],Cx(jt)&&Sv(jt),jt.wv>tt.wv)return!0}(!It||Dr!==null&&!tf)&&dc(tt,gh)}return!1}function Gv(tt,dt,at=!0){var It=tt.reactions;if(It!==null)for(var Et=0;Et<It.length;Et++){var jt=It[Et];(Nn==null?void 0:Nn.reaction)===Tr&&Nn.sources.includes(tt)||((jt.f&Gh)!==0?Gv(jt,dt,!1):dt===jt&&(at?dc(jt,Wp):(jt.f&gh)!==0&&dc(jt,sf),Wy(jt)))}}function Xv(tt){var Ce;var dt=Fl,at=Fh,It=Sd,Et=Tr,jt=tf,te=Nn,me=Do,ee=Vc,ae=tt.f;Fl=null,Fh=0,Sd=null,tf=(ae&Hh)!==0&&(Vc||!tg||Tr===null),Tr=(ae&(Hp|Sm))===0?tt:null,Nn=null,Z0(tt.ctx),Vc=!1,++Ly,tt.f|=S0,tt.ac!==null&&(tt.ac.abort(yv),tt.ac=null);try{var ue=(0,tt.fn)(),le=tt.deps;if(Fl!==null){var oe;if(Oy(tt,Fh),le!==null&&Fh>0)for(le.length=Fh+Fl.length,oe=0;oe<Fl.length;oe++)le[Fh+oe]=Fl[oe];else tt.deps=le=Fl;if(!tf||(ae&Gh)!==0&&tt.reactions!==null)for(oe=Fh;oe<le.length;oe++)((Ce=le[oe]).reactions??(Ce.reactions=[])).push(tt)}else le!==null&&Fh<le.length&&(Oy(tt,Fh),le.length=Fh);if(By()&&Sd!==null&&!Vc&&le!==null&&(tt.f&(Gh|sf|Wp))===0)for(oe=0;oe<Sd.length;oe++)Gv(Sd[oe],tt);return Et!==null&&Et!==tt&&(Ly++,Sd!==null&&(It===null?It=Sd:It.push(...Sd))),ue}catch(Be){qb(Be)}finally{Fl=dt,Fh=at,Sd=It,Tr=Et,tf=jt,Nn=te,Z0(me),Vc=ee,tt.f^=S0}}function Qb(tt,dt){let at=dt.reactions;if(at!==null){var It=ob.call(at,tt);if(It!==-1){var Et=at.length-1;Et===0?at=dt.reactions=null:(at[It]=at[Et],at.pop())}}at===null&&(dt.f&Gh)!==0&&(Fl===null||!Fl.includes(dt))&&(dc(dt,sf),(dt.f&(Hh|ky))===0&&(dt.f^=ky),Mv(dt),Oy(dt,0))}function Oy(tt,dt){var at=tt.deps;if(at!==null)for(var It=dt;It<at.length;It++)Qb(tt,at[It])}function Ny(tt){var dt=tt.f;if((dt&Iy)===0){dc(tt,gh);var at=Dr,It=tg;Dr=tt,tg=!0;try{(dt&Ey)!==0?Vb(tt):zv(tt),Dv(tt);var Et=Xv(tt);tt.teardown=typeof Et=="function"?Et:null,tt.wv=_y;var jt;j0&&kb&&(tt.f&Wp)!==0&&tt.deps}finally{tg=It,Dr=at}}}function tw(){try{xb()}catch(tt){if(Cy!==null)Fv(tt,Cy);else throw tt}}function ew(){var tt=tg;try{var dt=0;for(tg=!0;gy.length>0;){dt++>1e3&&tw();var at=gy,It=at.length;gy=[];for(var Et=0;Et<It;Et++){var jt=sw(at[Et]);iw(jt)}Qf.clear()}}finally{A0=!1,tg=tt,Cy=null}}function iw(tt){var dt=tt.length;if(dt!==0){for(var at=0;at<dt;at++){var It=tt[at];if((It.f&(Iy|Np))===0&&Cx(It)){var Et=_y;if(Ny(It),It.deps===null&&It.first===null&&It.nodes_start===null&&(It.teardown===null?Rv(It):It.fn=null),_y>Et&&(It.f&N0)!==0)break}}for(;at<dt;at+=1)Wy(tt[at])}}function Wy(tt){A0||(A0=!0,queueMicrotask(ew));for(var dt=Cy=tt;dt.parent!==null;){dt=dt.parent;var at=dt.f;if((at&(Sm|Hp))!==0){if((at&gh)===0)return;dt.f^=gh}}gy.push(dt)}function sw(tt){for(var dt=[],at=tt;at!==null;){var It=at.f,Et=(It&(Hp|Sm))!==0,jt=Et&&(It&gh)!==0;if(!jt&&(It&Np)===0){(It&D0)!==0?dt.push(at):Et?at.f^=gh:Cx(at)&&Ny(at);var te=at.first;if(te!==null){at=te;continue}}var me=at.parent;for(at=at.next;at===null&&me!==null;)at=me.next,me=me.parent}return dt}function Ho(tt){var dt=tt.f,at=(dt&Gh)!==0;if(Tr!==null&&!Vc){if((Nn==null?void 0:Nn.reaction)!==Tr||!(Nn!=null&&Nn.sources.includes(tt))){var It=Tr.deps;tt.rv<Ly&&(tt.rv=Ly,Fl===null&&It!==null&&It[Fh]===tt?Fh++:Fl===null?Fl=[tt]:(!tf||!Fl.includes(tt))&&Fl.push(tt))}}else if(at&&tt.deps===null&&tt.effects===null){var Et=tt,jt=Et.parent;jt!==null&&(jt.f&Hh)===0&&(Et.f^=Hh)}if(at&&!ef&&(Et=tt,Cx(Et)&&Sv(Et)),ef){if(Qf.has(tt))return Qf.get(tt);if(at){Et=tt;var te=Et.v;return((Et.f&gh)!==0||Yv(Et))&&(te=W0(Et)),Qf.set(Et,te),te}}return tt.v}function Yv(tt){if(tt.v===vl)return!0;if(tt.deps===null)return!1;for(const dt of tt.deps)if(Qf.has(dt)||(dt.f&Gh)!==0&&Yv(dt))return!0;return!1}function eg(tt){var dt=Vc;try{return Vc=!0,tt()}finally{Vc=dt}}const rw=-7169;function dc(tt,dt){tt.f=tt.f&rw|dt}function my(tt){if(!(typeof tt!="object"||!tt||tt instanceof EventTarget)){if(Jf in tt)P0(tt);else if(!Array.isArray(tt))for(let dt in tt){const at=tt[dt];typeof at=="object"&&at&&Jf in at&&P0(at)}}}function P0(tt,dt=new Set){if(typeof tt=="object"&&tt!==null&&!(tt instanceof EventTarget)&&!dt.has(tt)){dt.add(tt),tt instanceof Date&&tt.getTime();for(let It in tt)try{P0(tt[It],dt)}catch{}const at=B0(tt);if(at!==Object.prototype&&at!==Array.prototype&&at!==Map.prototype&&at!==Set.prototype&&at!==Date.prototype){const It=mv(at);for(let Et in It){const jt=It[Et].get;if(jt)try{jt.call(tt)}catch{}}}}}const ow=["touchstart","touchmove"];function nw(tt){return ow.includes(tt)}function jv(tt){var dt=Tr,at=Dr;Td(null),$c(null);try{return tt()}finally{Td(dt),$c(at)}}const aw=new Set,K0=new Set;function lw(tt,dt,at,It={}){function Et(jt){if(It.capture||bx.call(dt,jt),!jt.cancelBubble)return jv(()=>at==null?void 0:at.call(this,jt))}return tt.startsWith("pointer")||tt.startsWith("touch")||tt==="wheel"?G0(()=>{dt.addEventListener(tt,Et,It)}):dt.addEventListener(tt,Et,It),Et}function hw(tt,dt,at,It,Et){var jt={capture:It,passive:Et},te=lw(tt,dt,at,jt);(dt===document.body||dt===window||dt===document||dt instanceof HTMLMediaElement)&&Ev(()=>{dt.removeEventListener(tt,te,jt)})}function bx(tt){var xi;var dt=this,at=dt.ownerDocument,It=tt.type,Et=((xi=tt.composedPath)==null?void 0:xi.call(tt))||[],jt=Et[0]||tt.target,te=0,me=tt.__root;if(me){var ee=Et.indexOf(me);if(ee!==-1&&(dt===document||dt===window)){tt.__root=dt;return}var ae=Et.indexOf(dt);if(ae===-1)return;ee<=ae&&(te=ee)}if(jt=Et[te]||tt.target,jt!==dt){nb(tt,"currentTarget",{configurable:!0,get(){return jt||at}});var ue=Tr,le=Dr;Td(null),$c(null);try{for(var oe,Ce=[];jt!==null;){var Be=jt.assignedSlot||jt.parentNode||jt.host||null;try{var We=jt["__"+It];if(We!=null&&(!jt.disabled||tt.target===jt))if(E0(We)){var[di,...Ve]=We;di.apply(jt,[tt,...Ve])}else We.call(jt,tt)}catch(si){oe?Ce.push(si):oe=si}if(tt.cancelBubble||Be===dt||Be===null)break;jt=Be}if(oe){for(let si of Ce)queueMicrotask(()=>{throw si});throw oe}}finally{tt.__root=dt,delete tt.currentTarget,Td(ue),$c(le)}}}function dw(tt){var dt=document.createElement("template");return dt.innerHTML=tt.replaceAll("<!>","<!---->"),dt.content}function C0(tt,dt){var at=Dr;at.nodes_start===null&&(at.nodes_start=tt,at.nodes_end=dt)}function Oi(tt,dt){var at=(dt&Db)!==0,It=(dt&zb)!==0,Et,jt=!tt.startsWith("<!>");return()=>{Et===void 0&&(Et=dw(jt?tt:"<!>"+tt),at||(Et=Sy(Et)));var te=It||Pv?document.importNode(Et,!0):Et.cloneNode(!0);if(at){var me=Sy(te),ee=te.lastChild;C0(me,ee)}else C0(te,te);return te}}function ho(tt=""){{var dt=Lv(tt+"");return C0(dt,dt),dt}}function li(tt,dt){tt!==null&&tt.before(dt)}let _0=!0;function km(tt,dt){var at=dt==null?"":typeof dt=="object"?dt+"":dt;at!==(tt.__t??(tt.__t=tt.nodeValue))&&(tt.__t=at,tt.nodeValue=at+"")}function cw(tt,dt){return pw(tt,dt)}const vm=new Map;function pw(tt,{target:dt,anchor:at,props:It={},events:Et,context:jt,intro:te=!0}){Fb();var me=new Set,ee=le=>{for(var oe=0;oe<le.length;oe++){var Ce=le[oe];if(!me.has(Ce)){me.add(Ce);var Be=nw(Ce);dt.addEventListener(Ce,bx,{passive:Be});var We=vm.get(Ce);We===void 0?(document.addEventListener(Ce,bx,{passive:Be}),vm.set(Ce,1)):vm.set(Ce,We+1)}}};ee(I0(aw)),K0.add(ee);var ae=void 0,ue=Yb(()=>{var le=at??dt.appendChild(Lv());return Mm(()=>{if(jt){Ax({});var oe=Do;oe.c=jt}Et&&(It.$$events=Et),_0=te,ae=tt(le,It)||{},_0=!0,jt&&Px()}),()=>{var Be;for(var oe of me){dt.removeEventListener(oe,bx);var Ce=vm.get(oe);--Ce===0?(document.removeEventListener(oe,bx),vm.delete(oe)):vm.set(oe,Ce)}K0.delete(ee),le!==at&&((Be=le.parentNode)==null||Be.removeChild(le))}});return uw.set(ae,ue),ae}let uw=new WeakMap;function Uv(tt,dt,[at,It]=[0,0]){var Et=tt,jt=null,te=null,me=vl,ee=at>0?Tx:0,ae=!1;const ue=(oe,Ce=!0)=>{ae=!0,le(Ce,oe)},le=(oe,Ce)=>{me!==(me=oe)&&(me?(jt?Ay(jt):Ce&&(jt=Mm(()=>Ce(Et))),te&&Ty(te,()=>{te=null})):(te?Ay(te):Ce&&(te=Mm(()=>Ce(Et,[at+1,It]))),jt&&Ty(jt,()=>{jt=null})))};Ry(()=>{ae=!1,dt(ue),ae||le(null,null)},ee)}function J0(tt,dt){return dt}function fw(tt,dt,at,It){for(var Et=[],jt=dt.length,te=0;te<jt;te++)H0(dt[te].e,Et,!0);var me=jt>0&&Et.length===0&&at!==null;if(me){var ee=at.parentNode;Hb(ee),ee.append(at),It.clear(),Ju(tt,dt[0].prev,dt[jt-1].next)}Nv(Et,()=>{for(var ae=0;ae<jt;ae++){var ue=dt[ae];me||(It.delete(ue.k),Ju(tt,ue.prev,ue.next)),Fp(ue.e,!me)}})}function Q0(tt,dt,at,It,Et,jt=null){var te=tt,me={flags:dt,items:new Map,first:null},ee=null,ae=!1,ue=kv(()=>{var le=at();return E0(le)?le:le==null?[]:I0(le)});Ry(()=>{var le=Ho(ue),oe=le.length;ae&&oe===0||(ae=oe===0,gw(le,me,te,Et,dt,It,at),jt!==null&&(oe===0?ee?Ay(ee):ee=Mm(()=>jt(te)):ee!==null&&Ty(ee,()=>{ee=null})),Ho(ue))})}function gw(tt,dt,at,It,Et,jt,te){var me=tt.length,ee=dt.items,ae=dt.first,ue=ae,le,oe=null,Ce=[],Be=[],We,di,Ve,xi;for(xi=0;xi<me;xi+=1){if(We=tt[xi],di=jt(We,xi),Ve=ee.get(di),Ve===void 0){var si=ue?ue.e.nodes_start:at;oe=xw(si,dt,oe,oe===null?dt.first:oe.next,We,di,xi,It,Et,te),ee.set(di,oe),Ce=[],Be=[],ue=oe.next;continue}if(mw(Ve,We,xi),(Ve.e.f&Np)!==0&&Ay(Ve.e),Ve!==ue){if(le!==void 0&&le.has(Ve)){if(Ce.length<Be.length){var zi=Be[0],Gi;oe=zi.prev;var Ds=Ce[0],qr=Ce[Ce.length-1];for(Gi=0;Gi<Ce.length;Gi+=1)tv(Ce[Gi],zi,at);for(Gi=0;Gi<Be.length;Gi+=1)le.delete(Be[Gi]);Ju(dt,Ds.prev,qr.next),Ju(dt,oe,Ds),Ju(dt,qr,zi),ue=zi,oe=qr,xi-=1,Ce=[],Be=[]}else le.delete(Ve),tv(Ve,ue,at),Ju(dt,Ve.prev,Ve.next),Ju(dt,Ve,oe===null?dt.first:oe.next),Ju(dt,oe,Ve),oe=Ve;continue}for(Ce=[],Be=[];ue!==null&&ue.k!==di;)(ue.e.f&Np)===0&&(le??(le=new Set)).add(ue),Be.push(ue),ue=ue.next;if(ue===null)continue;Ve=ue}Ce.push(Ve),oe=Ve,ue=Ve.next}if(ue!==null||le!==void 0){for(var ke=le===void 0?[]:I0(le);ue!==null;)(ue.e.f&Np)===0&&ke.push(ue),ue=ue.next;var Kr=ke.length;if(Kr>0){var co=null;fw(dt,ke,co,ee)}}Dr.first=dt.first&&dt.first.e,Dr.last=oe&&oe.e}function mw(tt,dt,at,It){Tv(tt.v,dt),tt.i=at}function xw(tt,dt,at,It,Et,jt,te,me,ee,ae){var ue=(ee&Sb)!==0,le=(ee&Ab)===0,oe=ue?le?My(Et,!1,!1):Mx(Et):Et,Ce=(ee&Tb)===0?te:Mx(te),Be={i:Ce,v:oe,k:jt,a:null,e:null,prev:at,next:It};try{return Be.e=Mm(()=>me(tt,oe,Ce,ae),Wb),Be.e.prev=at&&at.e,Be.e.next=It&&It.e,at===null?dt.first=Be:(at.next=Be,at.e.next=Be.e),It!==null&&(It.prev=Be,It.e.prev=Be.e),Be}finally{}}function tv(tt,dt,at){for(var It=tt.next?tt.next.e.nodes_start:at,Et=dt?dt.e.nodes_start:at,jt=tt.e.nodes_start;jt!==It;){var te=zy(jt);Et.before(jt),jt=te}}function Ju(tt,dt,at){dt===null?tt.first=at:(dt.next=at,dt.e.next=at&&at.e),at!==null&&(at.prev=dt,at.e.prev=dt&&dt.e)}function Ad(tt,dt,...at){var It=tt,Et=bm,jt;Ry(()=>{Et!==(Et=dt())&&(jt&&(Fp(jt),jt=null),jt=Mm(()=>Et(It,...at)))},Tx)}function yw(tt,dt,at){var It=tt==null?"":""+tt;return dt&&(It=It?It+" "+dt:dt),It===""?null:It}function Fy(tt,dt,at,It,Et,jt){var te=tt.__className;if(te!==at||te===void 0){var me=yw(at,It);me==null?tt.removeAttribute("class"):tt.className=me,tt.__className=at}return jt}const vw=Symbol("is custom element"),bw=Symbol("is html");function Vv(tt,dt,at,It){var Et=ww(tt);Et[dt]!==(Et[dt]=at)&&(at==null?tt.removeAttribute(dt):typeof at!="string"&&kw(tt).includes(dt)?tt[dt]=at:tt.setAttribute(dt,at))}function ww(tt){return tt.__attributes??(tt.__attributes={[vw]:tt.nodeName.includes("-"),[bw]:tt.namespaceURI===Rb})}var ev=new Map;function kw(tt){var dt=ev.get(tt.nodeName);if(dt)return dt;ev.set(tt.nodeName,dt=[]);for(var at,It=tt,Et=Element.prototype;Et!==It;){at=mv(It);for(var jt in at)at[jt].set&&dt.push(jt);It=B0(It)}return dt}const Mw=()=>performance.now(),Rp={tick:tt=>requestAnimationFrame(tt),now:()=>Mw(),tasks:new Set};function Zv(){const tt=Rp.now();Rp.tasks.forEach(dt=>{dt.c(tt)||(Rp.tasks.delete(dt),dt.f())}),Rp.tasks.size!==0&&Rp.tick(Zv)}function Sw(tt){let dt;return Rp.tasks.size===0&&Rp.tick(Zv),{promise:new Promise(at=>{Rp.tasks.add(dt={c:tt,f:at})}),abort(){Rp.tasks.delete(dt)}}}function py(tt,dt){jv(()=>{tt.dispatchEvent(new CustomEvent(dt))})}function Tw(tt){if(tt==="float")return"cssFloat";if(tt==="offset")return"cssOffset";if(tt.startsWith("--"))return tt;const dt=tt.split("-");return dt.length===1?dt[0]:dt[0]+dt.slice(1).map(at=>at[0].toUpperCase()+at.slice(1)).join("")}function iv(tt){const dt={},at=tt.split(";");for(const It of at){const[Et,jt]=It.split(":");if(!Et||jt===void 0)break;const te=Tw(Et.trim());dt[te]=jt.trim()}return dt}const Aw=tt=>tt;function Kf(tt,dt,at,It){var Et=(tt&Eb)!==0,jt=(tt&Ib)!==0,te=Et&&jt,me=(tt&Bb)!==0,ee=te?"both":Et?"in":"out",ae,ue=dt.inert,le=dt.style.overflow,oe,Ce;function Be(){var si=Tr,zi=Dr;Td(null),$c(null);try{return ae??(ae=at()(dt,(It==null?void 0:It())??{},{direction:ee}))}finally{Td(si),$c(zi)}}var We={is_global:me,in(){var si;if(dt.inert=ue,!Et){Ce==null||Ce.abort(),(si=Ce==null?void 0:Ce.reset)==null||si.call(Ce);return}jt||oe==null||oe.abort(),py(dt,"introstart"),oe=L0(dt,Be(),Ce,1,()=>{py(dt,"introend"),oe==null||oe.abort(),oe=ae=void 0,dt.style.overflow=le})},out(si){if(!jt){si==null||si(),ae=void 0;return}dt.inert=!0,py(dt,"outrostart"),Ce=L0(dt,Be(),oe,0,()=>{py(dt,"outroend"),si==null||si()})},stop:()=>{oe==null||oe.abort(),Ce==null||Ce.abort()}},di=Dr;if((di.transitions??(di.transitions=[])).push(We),Et&&_0){var Ve=me;if(!Ve){for(var xi=di.parent;xi&&(xi.f&Tx)!==0;)for(;(xi=xi.parent)&&(xi.f&Ey)===0;);Ve=!xi||(xi.f&R0)!==0}Ve&&Bv(()=>{eg(()=>We.in())})}}function L0(tt,dt,at,It,Et){var jt=It===1;if(hb(dt)){var te,me=!1;return G0(()=>{if(!me){var di=dt({direction:jt?"in":"out"});te=L0(tt,di,at,It,Et)}}),{abort:()=>{me=!0,te==null||te.abort()},deactivate:()=>te.deactivate(),reset:()=>te.reset(),t:()=>te.t()}}if(at==null||at.deactivate(),!(dt!=null&&dt.duration))return Et(),{abort:bm,deactivate:bm,reset:bm,t:()=>It};const{delay:ee=0,css:ae,tick:ue,easing:le=Aw}=dt;var oe=[];if(jt&&at===void 0&&(ue&&ue(0,1),ae)){var Ce=iv(ae(0,1));oe.push(Ce,Ce)}var Be=()=>1-It,We=tt.animate(oe,{duration:ee,fill:"forwards"});return We.onfinish=()=>{We.cancel();var di=(at==null?void 0:at.t())??1-It;at==null||at.abort();var Ve=It-di,xi=dt.duration*Math.abs(Ve),si=[];if(xi>0){var zi=!1;if(ae)for(var Gi=Math.ceil(xi/16.666666666666668),Ds=0;Ds<=Gi;Ds+=1){var qr=di+Ve*le(Ds/Gi),ke=iv(ae(qr,1-qr));si.push(ke),zi||(zi=ke.overflow==="hidden")}zi&&(tt.style.overflow="hidden"),Be=()=>{var Kr=We.currentTime;return di+Ve*le(Kr/xi)},ue&&Sw(()=>{if(We.playState!=="running")return!1;var Kr=Be();return ue(Kr,1-Kr),!0})}We=tt.animate(si,{duration:xi,fill:"forwards"}),We.onfinish=()=>{Be=()=>It,ue==null||ue(It,1-It),Et()}},{abort:()=>{We&&(We.cancel(),We.effect=null,We.onfinish=bm)},deactivate:()=>{Et=bm},reset:()=>{It===0&&(ue==null||ue(1,0))},t:()=>Be()}}function sv(tt,dt){return tt===dt||(tt==null?void 0:tt[Jf])===dt}function Pw(tt={},dt,at,It){return Bv(()=>{var Et,jt;return F0(()=>{Et=jt,jt=[],eg(()=>{tt!==at(...jt)&&(dt(tt,...jt),Et&&sv(at(...Et),tt)&&dt(null,...Et))})}),()=>{G0(()=>{jt&&sv(at(...jt),tt)&&dt(null,...jt)})}}),tt}function $v(tt=!1){const dt=Do,at=dt.l.u;if(!at)return;let It=()=>my(dt.s);if(tt){let Et=0,jt={};const te=Dy(()=>{let me=!1;const ee=dt.s;for(const ae in ee)ee[ae]!==jt[ae]&&(jt[ae]=ee[ae],me=!0);return me&&Et++,Et});It=()=>Ho(te)}at.b.length&&Xb(()=>{rv(dt,It),M0(at.b)}),T0(()=>{const Et=eg(()=>at.m.map(db));return()=>{for(const jt of Et)typeof jt=="function"&&jt()}}),at.a.length&&T0(()=>{rv(dt,It),M0(at.a)})}function rv(tt,dt){if(tt.l.s)for(const at of tt.l.s)Ho(at);dt()}let uy=!1;function Cw(tt){var dt=uy;try{return uy=!1,[tt(),uy]}finally{uy=dt}}function vx(tt,dt,at,It){var si;var Et=!Tm||(at&Cb)!==0,jt=(at&Lb)!==0,te=(at&Ob)!==0,me=It,ee=!0,ae=()=>(ee&&(ee=!1,me=te?eg(It):It),me),ue;if(jt){var le=Jf in tt||pb in tt;ue=((si=wm(tt,dt))==null?void 0:si.set)??(le&&dt in tt?zi=>tt[dt]=zi:void 0)}var oe,Ce=!1;jt?[oe,Ce]=Cw(()=>tt[dt]):oe=tt[dt],oe===void 0&&It!==void 0&&(oe=ae(),ue&&(Et&&yb(),ue(oe)));var Be;if(Et?Be=()=>{var zi=tt[dt];return zi===void 0?ae():(ee=!0,zi)}:Be=()=>{var zi=tt[dt];return zi!==void 0&&(me=void 0),zi===void 0?me:zi},Et&&(at&_b)===0)return Be;if(ue){var We=tt.$$legacy;return function(zi,Gi){return arguments.length>0?((!Et||!Gi||We||Ce)&&ue(Gi?Be():zi),zi):Be()}}var di=!1,Ve=((at&Pb)!==0?Dy:kv)(()=>(di=!1,Be()));jt&&Ho(Ve);var xi=Dr;return function(zi,Gi){if(arguments.length>0){const Ds=Gi?Ho(Ve):Et&&jt?Qu(zi):zi;return il(Ve,Ds),di=!0,me!==void 0&&(me=Ds),zi}return ef&&di||(xi.f&Iy)!==0?Ve.v:Ho(Ve)}}function _x(tt){Do===null&&wv(),Tm&&Do.l!==null?Lw(Do).m.push(tt):T0(()=>{const dt=eg(tt);if(typeof dt=="function")return dt})}function _w(tt){Do===null&&wv(),_x(()=>()=>eg(tt))}function Lw(tt){var dt=tt.l;return dt.u??(dt.u={a:[],b:[],m:[]})}const Ow="5";var gv;typeof window<"u"&&((gv=window.__svelte??(window.__svelte={})).v??(gv.v=new Set)).add(Ow);Mb();var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X0(tt){return tt&&tt.__esModule&&Object.prototype.hasOwnProperty.call(tt,"default")?tt.default:tt}var xy={exports:{}},Ew=xy.exports,ov;function Iw(){return ov||(ov=1,function(tt,dt){(function(at,It){at._Highcharts=It(),tt.exports=at._Highcharts})(typeof window>"u"?Ew:window,()=>(()=>{var Du;let at,It;var Et,jt,te,me,ee,ae,ue,le,oe,Ce,Be,We,di,Ve,xi,si,zi,Gi,Ds={};Ds.d=(F,i)=>{for(var l in i)Ds.o(i,l)&&!Ds.o(F,l)&&Object.defineProperty(F,l,{enumerable:!0,get:i[l]})},Ds.o=(F,i)=>Object.prototype.hasOwnProperty.call(F,i);var qr={};Ds.d(qr,{default:()=>Zm}),function(F){var i,l,c,y,w,M,S;F.SVG_NS="http://www.w3.org/2000/svg",F.product="Highcharts",F.version="12.3.0",F.win=typeof window<"u"?window:{},F.doc=F.win.document,F.svg=!!((c=(l=(i=F.doc)==null?void 0:i.createElementNS)==null?void 0:l.call(i,F.SVG_NS,"svg"))!=null&&c.createSVGRect),F.pageLang=(M=(w=(y=F.doc)==null?void 0:y.documentElement)==null?void 0:w.closest("[lang]"))==null?void 0:M.lang,F.userAgent=((S=F.win.navigator)==null?void 0:S.userAgent)||"",F.isChrome=F.win.chrome,F.isFirefox=F.userAgent.indexOf("Firefox")!==-1,F.isMS=/(edge|msie|trident)/i.test(F.userAgent)&&!F.win.opera,F.isSafari=!F.isChrome&&F.userAgent.indexOf("Safari")!==-1,F.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(F.userAgent),F.isWebKit=F.userAgent.indexOf("AppleWebKit")!==-1,F.deg2rad=2*Math.PI/360,F.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],F.noop=function(){},F.supportsPassiveEvents=function(){let E=!1;if(!F.isMS){let W=Object.defineProperty({},"passive",{get:function(){E=!0}});F.win.addEventListener&&F.win.removeEventListener&&(F.win.addEventListener("testPassive",F.noop,W),F.win.removeEventListener("testPassive",F.noop,W))}return E}(),F.charts=[],F.composed=[],F.dateFormats={},F.seriesTypes={},F.symbolSizes={},F.chartCount=0}(Et||(Et={}));let ke=Et,{charts:Kr,doc:co,win:ii}=ke;function Xs(F,i,l,c){let y=i?"Highcharts error":"Highcharts warning";F===32&&(F=`${y}: Deprecated member`);let w=Jo(F),M=w?`${y} #${F}: www.highcharts.com/errors/${F}/`:F.toString();if(c!==void 0){let S="";w&&(M+="?"),zr(c,function(E,W){S+=`
 - ${W}: ${E}`,w&&(M+=encodeURI(W)+"="+encodeURI(E))}),M+=S}Ks(ke,"displayError",{chart:l,code:F,message:M,params:c},function(){if(i)throw Error(M);ii.console&&Xs.messages.indexOf(M)===-1&&console.warn(M)}),Xs.messages.push(M)}function Wn(F,i){return parseInt(F,i||10)}function ge(F){return typeof F=="string"}function On(F){let i=Object.prototype.toString.call(F);return i==="[object Array]"||i==="[object Array Iterator]"}function zs(F,i){return!!F&&typeof F=="object"&&(!i||!On(F))}function so(F){return zs(F)&&typeof F.nodeType=="number"}function Zt(F){let i=F==null?void 0:F.constructor;return!!(zs(F,!0)&&!so(F)&&(i!=null&&i.name)&&i.name!=="Object")}function Jo(F){return typeof F=="number"&&!isNaN(F)&&F<1/0&&F>-1/0}function ri(F){return F!=null}function ks(F,i,l){let c,y=ge(i)&&!ri(l),w=(M,S)=>{ri(M)?F.setAttribute(S,M):y?(c=F.getAttribute(S))||S!=="class"||(c=F.getAttribute(S+"Name")):F.removeAttribute(S)};return ge(i)?w(l,i):zr(i,w),c}function rr(F){return On(F)?F:[F]}function Ts(F,i){let l;for(l in F||(F={}),i)F[l]=i[l];return F}function _s(){let F=arguments,i=F.length;for(let l=0;l<i;l++){let c=F[l];if(c!=null)return c}}function ms(F,i){Ts(F.style,i)}function Xi(F){return Math.pow(10,Math.floor(Math.log(F)/Math.LN10))}function po(F,i){return F>1e14?F:parseFloat(F.toPrecision(i||14))}(Xs||(Xs={})).messages=[],Math.easeInOutSine=function(F){return-.5*(Math.cos(Math.PI*F)-1)};let uo=Array.prototype.find?function(F,i){return F.find(i)}:function(F,i){let l,c=F.length;for(l=0;l<c;l++)if(i(F[l],l))return F[l]};function zr(F,i,l){for(let c in F)Object.hasOwnProperty.call(F,c)&&i.call(l||F[c],F[c],c,F)}function fo(F,i,l){function c(M,S){let E=F.removeEventListener;E&&E.call(F,M,S,!1)}function y(M){let S,E;F.nodeName&&(i?(S={})[i]=!0:S=M,zr(S,function(W,U){if(M[U])for(E=M[U].length;E--;)c(U,M[U][E].fn)}))}let w=typeof F=="function"&&F.prototype||F;if(Object.hasOwnProperty.call(w,"hcEvents")){let M=w.hcEvents;if(i){let S=M[i]||[];l?(M[i]=S.filter(function(E){return l!==E.fn}),c(i,l)):(y(M),M[i]=[])}else y(M),delete w.hcEvents}}function Ks(F,i,l,c){if(l=l||{},(co==null?void 0:co.createEvent)&&(F.dispatchEvent||F.fireEvent&&F!==ke)){let y=co.createEvent("Events");y.initEvent(i,!0,!0),l=Ts(y,l),F.dispatchEvent?F.dispatchEvent(l):F.fireEvent(i,l)}else if(F.hcEvents){l.target||Ts(l,{preventDefault:function(){l.defaultPrevented=!0},target:F,type:i});let y=[],w=F,M=!1;for(;w.hcEvents;)Object.hasOwnProperty.call(w,"hcEvents")&&w.hcEvents[i]&&(y.length&&(M=!0),y.unshift.apply(y,w.hcEvents[i])),w=Object.getPrototypeOf(w);M&&y.sort((S,E)=>S.order-E.order),y.forEach(S=>{S.fn.call(F,l)===!1&&l.preventDefault()})}c&&!l.defaultPrevented&&c.call(F,l)}let ro=function(){let F=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(at?"":F)+i++}}();ii.jQuery&&(ii.jQuery.fn.highcharts=function(){let F=[].slice.call(arguments);if(this[0])return F[0]?(new ke[ge(F[0])?F.shift():"Chart"](this[0],F[0],F[1]),this):Kr[ks(this[0],"data-highcharts-chart")]});let wi={addEvent:function(F,i,l,c={}){let y=typeof F=="function"&&F.prototype||F;Object.hasOwnProperty.call(y,"hcEvents")||(y.hcEvents={});let w=y.hcEvents;ke.Point&&F instanceof ke.Point&&F.series&&F.series.chart&&(F.series.chart.runTrackerClick=!0);let M=F.addEventListener;M&&M.call(F,i,l,!!ke.supportsPassiveEvents&&{passive:c.passive===void 0?i.indexOf("touch")!==-1:c.passive,capture:!1}),w[i]||(w[i]=[]);let S={fn:l,order:typeof c.order=="number"?c.order:1/0};return w[i].push(S),w[i].sort((E,W)=>E.order-W.order),function(){fo(F,i,l)}},arrayMax:function(F){let i=F.length,l=F[0];for(;i--;)F[i]>l&&(l=F[i]);return l},arrayMin:function(F){let i=F.length,l=F[0];for(;i--;)F[i]<l&&(l=F[i]);return l},attr:ks,clamp:function(F,i,l){return F>i?F<l?F:l:i},clearTimeout:function(F){ri(F)&&clearTimeout(F)},correctFloat:po,createElement:function(F,i,l,c,y){let w=co.createElement(F);return i&&Ts(w,i),y&&ms(w,{padding:"0",border:"none",margin:"0"}),l&&ms(w,l),c&&c.appendChild(w),w},crisp:function(F,i=0,l){let c=i%2/2,y=l?-1:1;return(Math.round(F*y-c)+c)*y},css:ms,defined:ri,destroyObjectProperties:function(F,i,l){zr(F,function(c,y){c!==i&&(c!=null&&c.destroy)&&c.destroy(),(c!=null&&c.destroy||!l)&&delete F[y]})},diffObjects:function(F,i,l,c){let y={};return function w(M,S,E,W){let U=l?S:M;zr(M,function(H,q){if(!W&&c&&c.indexOf(q)>-1&&S[q]){H=rr(H),E[q]=[];for(let it=0;it<Math.max(H.length,S[q].length);it++)S[q][it]&&(H[it]===void 0?E[q][it]=S[q][it]:(E[q][it]={},w(H[it],S[q][it],E[q][it],W+1)))}else zs(H,!0)&&!H.nodeType?(E[q]=On(H)?[]:{},w(H,S[q]||{},E[q],W+1),Object.keys(E[q]).length===0&&(q!=="colorAxis"||W!==0)&&delete E[q]):(M[q]!==S[q]||q in M&&!(q in S))&&q!=="__proto__"&&q!=="constructor"&&(E[q]=U[q])})}(F,i,y,0),y},discardElement:function(F){var i;(i=F==null?void 0:F.parentElement)==null||i.removeChild(F)},erase:function(F,i){let l=F.length;for(;l--;)if(F[l]===i){F.splice(l,1);break}},error:Xs,extend:Ts,extendClass:function(F,i){let l=function(){};return l.prototype=new F,Ts(l.prototype,i),l},find:uo,fireEvent:Ks,getAlignFactor:(F="")=>({center:.5,right:1,middle:.5,bottom:1})[F]||0,getClosestDistance:function(F,i){let l,c,y,w=!i;return F.forEach(M=>{if(M.length>1)for(y=M.length-1;y>0;y--)(c=M[y]-M[y-1])<0&&!w?(i==null||i(),i=void 0):c&&(l===void 0||c<l)&&(l=c)}),l},getMagnitude:Xi,getNestedProperty:function(F,i){let l=F.split(".");for(;l.length&&ri(i);){let c=l.shift();if(c===void 0||c==="__proto__")return;if(c==="this"){let w;return zs(i)&&(w=i["@this"]),w??i}let y=i[c.replace(/[\\'"]/g,"")];if(!ri(y)||typeof y=="function"||typeof y.nodeType=="number"||y===ii)return;i=y}return i},getStyle:function F(i,l,c){var M;let y;if(l==="width"){let S=Math.min(i.offsetWidth,i.scrollWidth),E=(M=i.getBoundingClientRect)==null?void 0:M.call(i).width;return E<S&&E>=S-1&&(S=Math.floor(E)),Math.max(0,S-(F(i,"padding-left",!0)||0)-(F(i,"padding-right",!0)||0))}if(l==="height")return Math.max(0,Math.min(i.offsetHeight,i.scrollHeight)-(F(i,"padding-top",!0)||0)-(F(i,"padding-bottom",!0)||0));let w=ii.getComputedStyle(i,void 0);return w&&(y=w.getPropertyValue(l),_s(c,l!=="opacity")&&(y=Wn(y))),y},insertItem:function(F,i){let l,c=F.options.index,y=i.length;for(l=F.options.isInternal?y:0;l<y+1;l++)if(!i[l]||Jo(c)&&c<_s(i[l].options.index,i[l]._i)||i[l].options.isInternal){i.splice(l,0,F);break}return l},isArray:On,isClass:Zt,isDOMElement:so,isFunction:function(F){return typeof F=="function"},isNumber:Jo,isObject:zs,isString:ge,merge:function(F,...i){let l,c=[F,...i],y={},w=function(S,E){return typeof S!="object"&&(S={}),zr(E,function(W,U){U!=="__proto__"&&U!=="constructor"&&(!zs(W,!0)||Zt(W)||so(W)?S[U]=E[U]:S[U]=w(S[U]||{},W))}),S};F===!0&&(y=c[1],c=Array.prototype.slice.call(c,2));let M=c.length;for(l=0;l<M;l++)y=w(y,c[l]);return y},normalizeTickInterval:function(F,i,l,c,y){let w,M=F;l=_s(l,Xi(F));let S=F/l;for(!i&&(i=y?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],c===!1&&(l===1?i=i.filter(function(E){return E%1==0}):l<=.1&&(i=[1/l]))),w=0;w<i.length&&(M=i[w],(!y||!(M*l>=F))&&(y||!(S<=(i[w]+(i[w+1]||i[w]))/2)));w++);return po(M*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:zr,offset:function(F){let i=co.documentElement,l=F.parentElement||F.parentNode?F.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:l.top+(ii.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l.left+(ii.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:l.width,height:l.height}},pad:function(F,i,l){return Array((i||2)+1-String(F).replace("-","").length).join(l||"0")+F},pick:_s,pInt:Wn,pushUnique:function(F,i){return 0>F.indexOf(i)&&!!F.push(i)},relativeLength:function(F,i,l){return/%$/.test(F)?i*parseFloat(F)/100+(l||0):parseFloat(F)},removeEvent:fo,replaceNested:function(F,...i){let l,c;do for(c of(l=F,i))F=F.replace(c[0],c[1]);while(F!==l);return F},splat:rr,stableSort:function(F,i){let l,c,y=F.length;for(c=0;c<y;c++)F[c].safeI=c;for(F.sort(function(w,M){return(l=i(w,M))===0?w.safeI-M.safeI:l}),c=0;c<y;c++)delete F[c].safeI},syncTimeout:function(F,i,l){return i>0?setTimeout(F,i,l):(F.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(F){return ge(F)?F.substring(0,1).toUpperCase()+F.substring(1):String(F)},uniqueKey:ro,useSerialIds:function(F){return at=_s(F,at)},wrap:function(F,i,l){let c=F[i];F[i]=function(){let y=arguments,w=this;return l.apply(this,[function(){return c.apply(w,arguments.length?arguments:y)}].concat([].slice.call(arguments)))}}},{pageLang:Go,win:or}=ke,{defined:Qo,error:Fn,extend:go,isNumber:Ke,isObject:oo,isString:Po,merge:mo,objectEach:ti,pad:fr,splat:Co,timeUnits:un,ucfirst:tn}=wi,Na=ke.isSafari&&or.Intl&&!or.Intl.DateTimeFormat.prototype.formatRange,ol=F=>F.main===void 0,Ji=class{constructor(F,i){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=or.Date,this.update(F),this.lang=i}update(F={}){this.dTLCache={},this.options=F=mo(!0,this.options,F);let{timezoneOffset:i,useUTC:l,locale:c}=F;this.Date=F.Date||or.Date||Date;let y=F.timezone;Qo(l)&&(y=l?"UTC":void 0),i&&i%60==0&&(y="Etc/GMT"+(i>0?"+":"")+i/60),this.variableTimezone=y!=="UTC"&&(y==null?void 0:y.indexOf("Etc/GMT"))!==0,this.timezone=y,this.lang&&c&&(this.lang.locale=c),["months","shortMonths","weekdays","shortWeekdays"].forEach(w=>{let M=/months/i.test(w),S=/short/.test(w),E={timeZone:"UTC"};E[M?"month":"weekday"]=S?"short":"long",this[w]=(M?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(W=>this.dateFormat(E,(M?31:1)*24*36e5*W))})}toParts(F){let[i,l,c,y,w,M,S]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},F,"es").split(/(?:, | |\/|:)/g);return[y,c-1,l,w,M,S,Math.floor(Number(F)||0)%1e3,"DLMXJVS".indexOf(i)].map(Number)}dateTimeFormat(F,i,l=this.options.locale||Go){let c=JSON.stringify(F)+l;Po(F)&&(F=this.str2dtf(F));let y=this.dTLCache[c];if(!y){F.timeZone??(F.timeZone=this.timezone);try{y=new Intl.DateTimeFormat(l,F)}catch(w){/Invalid time zone/i.test(w.message)?(Fn(34),F.timeZone="UTC",y=new Intl.DateTimeFormat(l,F)):Fn(w.message,!1)}}return this.dTLCache[c]=y,(y==null?void 0:y.format(i))||""}str2dtf(F,i={}){let l={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(l).forEach(c=>{F.indexOf(c)!==-1&&go(i,l[c])}),i}makeTime(F,i,l=1,c=0,y,w,M){let S=this.Date.UTC(F,i,l,c,y||0,w||0,M||0);if(this.timezone!=="UTC"){let E=this.getTimezoneOffset(S);if(S+=E,[2,3,8,9,10,11].indexOf(i)!==-1&&(c<5||c>20)){let W=this.getTimezoneOffset(S);E!==W?S+=W-E:E-36e5!==this.getTimezoneOffset(S-36e5)||Na||(S-=36e5)}}return S}parse(F){if(!Po(F))return F??void 0;let i=(F=F.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(F),l=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(F);i||l||(F+="Z");let c=Date.parse(F);if(Ke(c))return c+(!i||l?this.getTimezoneOffset(c):0)}getTimezoneOffset(F){if(this.timezone!=="UTC"){let[i,l,c,y,w=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},F,"en").split(/(GMT|:)/).map(Number),M=-(60*(c+w/60)*6e4);if(Ke(M))return M}return 0}dateFormat(F,i,l){let c=this.lang;if(!Qo(i)||isNaN(i))return(c==null?void 0:c.invalidDate)||"";if(Po(F=F??"%Y-%m-%d %H:%M:%S")){let y,w=/%\[([a-zA-Z]+)\]/g;for(;y=w.exec(F);)F=F.replace(y[0],this.dateTimeFormat(y[1],i,c==null?void 0:c.locale))}if(Po(F)&&F.indexOf("%")!==-1){let y=this,[w,M,S,E,W,U,H,q]=this.toParts(i),it=(c==null?void 0:c.weekdays)||this.weekdays,ht=(c==null?void 0:c.shortWeekdays)||this.shortWeekdays,yt=(c==null?void 0:c.months)||this.months,xt=(c==null?void 0:c.shortMonths)||this.shortMonths;ti(go({a:ht?ht[q]:it[q].substr(0,3),A:it[q],d:fr(S),e:fr(S,2," "),w:q,v:(c==null?void 0:c.weekFrom)??"",b:xt[M],B:yt[M],m:fr(M+1),o:M+1,y:w.toString().substr(2,2),Y:w,H:fr(E),k:E,I:fr(E%12||12),l:E%12||12,M:fr(W),p:E<12?"AM":"PM",P:E<12?"am":"pm",S:fr(U),L:fr(H,3)},ke.dateFormats),function(ut,wt){if(Po(F))for(;F.indexOf("%"+wt)!==-1;)F=F.replace("%"+wt,typeof ut=="function"?ut.call(y,i):ut)})}else if(oo(F)){let y=(this.getTimezoneOffset(i)||0)/36e5,w=this.timezone||"Etc/GMT"+(y>=0?"+":"")+y,{prefix:M="",suffix:S=""}=F;F=M+this.dateTimeFormat(go({timeZone:w},F),i)+S}return l?tn(F):F}resolveDTLFormat(F){return oo(F,!0)?oo(F,!0)&&ol(F)?{main:F}:F:{main:(F=Co(F))[0],from:F[1],to:F[2]}}getDateFormat(F,i,l,c){let y=this.dateFormat("%m-%d %H:%M:%S.%L",i),w="01-01 00:00:00.000",M={millisecond:15,second:12,minute:9,hour:6,day:3},S="millisecond",E=S;for(S in un){if(F&&F===un.week&&+this.dateFormat("%w",i)===l&&y.substr(6)===w.substr(6)){S="week";break}if(F&&un[S]>F){S=E;break}if(M[S]&&y.substr(M[S])!==w.substr(M[S]))break;S!=="week"&&(E=S)}return this.resolveDTLFormat(c[S]).main}},{defined:En,extend:_o,timeUnits:gr}=wi,He=class extends Ji{getTimeTicks(F,i,l,c){let y=this,w=[],M={},{count:S=1,unitRange:E}=F,[W,U,H,q,it,ht]=y.toParts(i),yt=(i||0)%1e3,xt;if(c??(c=1),En(i)){if(yt=E>=gr.second?0:S*Math.floor(yt/S),E>=gr.second&&(ht=E>=gr.minute?0:S*Math.floor(ht/S)),E>=gr.minute&&(it=E>=gr.hour?0:S*Math.floor(it/S)),E>=gr.hour&&(q=E>=gr.day?0:S*Math.floor(q/S)),E>=gr.day&&(H=E>=gr.month?1:Math.max(1,S*Math.floor(H/S))),E>=gr.month&&(U=E>=gr.year?0:S*Math.floor(U/S)),E>=gr.year&&(W-=W%S),E===gr.week){S&&(i=y.makeTime(W,U,H,q,it,ht,yt));let Mt=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},i,"es"),Kt="DLMXJVS".indexOf(Mt);H+=-Kt+c+(Kt<c?-7:0)}i=y.makeTime(W,U,H,q,it,ht,yt),y.variableTimezone&&En(l)&&(xt=l-i>4*gr.month||y.getTimezoneOffset(i)!==y.getTimezoneOffset(l));let ut=i,wt=1;for(;ut<l;)w.push(ut),E===gr.year?ut=y.makeTime(W+wt*S,0):E===gr.month?ut=y.makeTime(W,U+wt*S):xt&&(E===gr.day||E===gr.week)?ut=y.makeTime(W,U,H+wt*S*(E===gr.day?1:7)):xt&&E===gr.hour&&S>1?ut=y.makeTime(W,U,H,q+wt*S):ut+=E*S,wt++;w.push(ut),E<=gr.hour&&w.length<1e4&&w.forEach(Mt=>{Mt%18e5==0&&y.dateFormat("%H%M%S%L",Mt)==="000000000"&&(M[Mt]="day")})}return w.info=_o(F,{higherRanks:M,totalRange:E*S}),w}},{isTouchDevice:Ut}=ke,{fireEvent:be,merge:Ee}=wi,_e={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:F=>Math.sqrt(1-Math.pow(F-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Ut?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Me=new He(_e.time,_e.lang),Le={defaultOptions:_e,defaultTime:Me,getOptions:function(){return _e},setOptions:function(F){var i;return be(ke,"setOptions",{options:F}),Ee(!0,_e,F),F.time&&Me.update(_e.time),F.lang&&"locale"in F.lang&&Me.update({locale:F.lang.locale}),(i=F.lang)!=null&&i.chartTitle&&(_e.title={..._e.title,text:F.lang.chartTitle}),_e}},{win:gi}=ke,{isNumber:Li,isString:$e,merge:ji,pInt:os,defined:Ni}=wi,Js=(F,i,l)=>`color-mix(in srgb,${F},${i} ${100*l}%)`,ns=F=>$e(F)&&!!F&&F!=="none";class Ii{static parse(i){return i?new Ii(i):Ii.None}constructor(i){let l,c,y,w;this.rgba=[NaN,NaN,NaN,NaN],this.input=i;let M=ke.Color;if(M&&M!==Ii)return new M(i);if(typeof i=="object"&&i.stops!==void 0)this.stops=i.stops.map(S=>new Ii(S[1]));else if(typeof i=="string")for(this.input=i=Ii.names[i.toLowerCase()]||i,y=Ii.parsers.length;y--&&!c;)(l=(w=Ii.parsers[y]).regex.exec(i))&&(c=w.parse(l));c&&(this.rgba=c)}get(i){let l=this.input,c=this.rgba;if(this.output)return this.output;if(typeof l=="object"&&this.stops!==void 0){let y=ji(l);return y.stops=[].slice.call(y.stops),this.stops.forEach((w,M)=>{y.stops[M]=[y.stops[M][0],w.get(i)]}),y}return c&&Li(c[0])?i!=="rgb"&&(i||c[3]!==1)?i==="a"?`${c[3]}`:"rgba("+c.join(",")+")":"rgb("+c[0]+","+c[1]+","+c[2]+")":l}brighten(i){let l=this.rgba;if(this.stops)this.stops.forEach(function(c){c.brighten(i)});else if(Li(i)&&i!==0)if(Li(l[0]))for(let c=0;c<3;c++)l[c]+=os(255*i),l[c]<0&&(l[c]=0),l[c]>255&&(l[c]=255);else Ii.useColorMix&&ns(this.input)&&(this.output=Js(this.input,i>0?"white":"black",Math.abs(i)));return this}setOpacity(i){return this.rgba[3]=i,this}tweenTo(i,l){let c=this.rgba,y=i.rgba;if(!Li(c[0])||!Li(y[0]))return Ii.useColorMix&&ns(this.input)&&ns(i.input)&&l<.99?Js(this.input,i.input,l):i.input||"none";let w=y[3]!==1||c[3]!==1,M=(E,W)=>E+(c[W]-E)*(1-l),S=y.slice(0,3).map(M).map(Math.round);return w&&S.push(M(y[3],3)),(w?"rgba(":"rgb(")+S.join(",")+")"}}Ii.names={white:"#ffffff",black:"#000000"},Ii.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(F){return[os(F[1]),os(F[2]),os(F[3]),parseFloat(F[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(F){return[os(F[1]),os(F[2]),os(F[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(F){return[os(F[1]+F[1],16),os(F[2]+F[2],16),os(F[3]+F[3],16),Ni(F[4])?os(F[4]+F[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(F){return[os(F[1],16),os(F[2],16),os(F[3],16),Ni(F[4])?os(F[4],16)/255:1]}}],Ii.useColorMix=(Du=gi.CSS)==null?void 0:Du.supports("color","color-mix(in srgb,red,blue 9%)"),Ii.None=new Ii("");let{parse:Di}=Ii,{win:Ui}=ke,{isNumber:Ns,objectEach:ar}=wi;class Ls{constructor(i,l,c){this.pos=NaN,this.options=l,this.elem=i,this.prop=c}dSetter(){let i=this.paths,l=i==null?void 0:i[0],c=i==null?void 0:i[1],y=this.now||0,w=[];if(y!==1&&l&&c)if(l.length===c.length&&y<1)for(let M=0;M<c.length;M++){let S=l[M],E=c[M],W=[];for(let U=0;U<E.length;U++){let H=S[U],q=E[U];Ns(H)&&Ns(q)&&(E[0]!=="A"||U!==4&&U!==5)?W[U]=H+y*(q-H):W[U]=q}w.push(W)}else w=c;else w=this.toD||[];this.elem.attr("d",w,void 0,!0)}update(){let i=this.elem,l=this.prop,c=this.now,y=this.options.step;this[l+"Setter"]?this[l+"Setter"]():i.attr?i.element&&i.attr(l,c,null,!0):i.style[l]=c+this.unit,y&&y.call(i,c,this)}run(i,l,c){let y=this,w=y.options,M=function(W){return!M.stopped&&y.step(W)},S=Ui.requestAnimationFrame||function(W){setTimeout(W,13)},E=function(){for(let W=0;W<Ls.timers.length;W++)Ls.timers[W]()||Ls.timers.splice(W--,1);Ls.timers.length&&S(E)};i!==l||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=i,this.end=l,this.unit=c,this.now=this.start,this.pos=0,M.elem=this.elem,M.prop=this.prop,M()&&Ls.timers.push(M)===1&&S(E)):(delete w.curAnim[this.prop],w.complete&&Object.keys(w.curAnim).length===0&&w.complete.call(this.elem))}step(i){let l,c,y=+new Date,w=this.options,M=this.elem,S=w.complete,E=w.duration,W=w.curAnim;return M.attr&&!M.element?l=!1:i||y>=E+this.startTime?(this.now=this.end,this.pos=1,this.update(),W[this.prop]=!0,c=!0,ar(W,function(U){U!==!0&&(c=!1)}),c&&S&&S.call(M),l=!1):(this.pos=w.easing((y-this.startTime)/E),this.now=this.start+(this.end-this.start)*this.pos,this.update(),l=!0),l}initPath(i,l,c){let y=i.startX,w=i.endX,M=c.slice(),S=i.isArea,E=S?2:1,W=l&&c.length>l.length&&c.hasStackedCliffs,U,H,q,it,ht=l==null?void 0:l.slice();if(!ht||W)return[M,M];function yt(ut,wt){for(;ut.length<H;){let Mt=ut[0],Kt=wt[H-ut.length];if(Kt&&Mt[0]==="M"&&(Kt[0]==="C"?ut[0]=["C",Mt[1],Mt[2],Mt[1],Mt[2],Mt[1],Mt[2]]:ut[0]=["L",Mt[1],Mt[2]]),ut.unshift(Mt),S){let Vt=ut.pop();ut.push(ut[ut.length-1],Vt)}}}function xt(ut){for(;ut.length<H;){let wt=ut[Math.floor(ut.length/E)-1].slice();if(wt[0]==="C"&&(wt[1]=wt[5],wt[2]=wt[6]),S){let Mt=ut[Math.floor(ut.length/E)].slice();ut.splice(ut.length/2,0,wt,Mt)}else ut.push(wt)}}if(y&&w&&w.length){for(q=0;q<y.length;q++)if(y[q]===w[0]){U=q;break}else if(y[0]===w[w.length-y.length+q]){U=q,it=!0;break}else if(y[y.length-1]===w[w.length-y.length+q]){U=y.length-q;break}U===void 0&&(ht=[])}return ht.length&&Ns(U)&&(H=M.length+U*E,it?(yt(ht,M),xt(M)):(yt(M,ht),xt(ht))),[ht,M]}fillSetter(){Ls.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Di(this.start).tweenTo(Di(this.end),this.pos),void 0,!0)}}Ls.timers=[];let{defined:De,getStyle:Ar,isArray:fn,isNumber:Hn,isObject:Ys,merge:Fr,objectEach:mh,pick:Xo}=wi;function Hl(F){return Ys(F)?Fr({duration:500,defer:0},F):{duration:500*!!F,defer:0}}function xo(F,i){let l=Ls.timers.length;for(;l--;)Ls.timers[l].elem!==F||i&&i!==Ls.timers[l].prop||(Ls.timers[l].stopped=!0)}let Hr={animate:function(F,i,l){let c,y="",w,M,S;Ys(l)||(S=arguments,l={duration:S[2],easing:S[3],complete:S[4]}),Hn(l.duration)||(l.duration=400),l.easing=typeof l.easing=="function"?l.easing:Math[l.easing]||Math.easeInOutSine,l.curAnim=Fr(i),mh(i,function(E,W){xo(F,W),M=new Ls(F,l,W),w=void 0,W==="d"&&fn(i.d)?(M.paths=M.initPath(F,F.pathArray,i.d),M.toD=i.d,c=0,w=1):F.attr?c=F.attr(W):(c=parseFloat(Ar(F,W))||0,W!=="opacity"&&(y="px")),w||(w=E),typeof w=="string"&&w.match("px")&&(w=w.replace(/px/g,"")),M.run(c,w,y)})},animObject:Hl,getDeferredAnimation:function(F,i,l){let c=Hl(i),y=l?[l]:F.series,w=0,M=0;return y.forEach(S=>{let E=Hl(S.options.animation);w=Ys(i)&&De(i.defer)?c.defer:Math.max(w,E.duration+E.defer),M=Math.min(c.duration,E.duration)}),F.renderer.forExport&&(w=0),{defer:Math.max(0,w-M),duration:Math.min(w,M)}},setAnimation:function(F,i){i.renderer.globalAnimation=Xo(F,i.options.chart.animation,!0)},stop:xo},{SVG_NS:xh,win:Xh}=ke,{attr:Wa,createElement:bl,css:nl,error:Gr,isFunction:wl,isString:Gn,objectEach:al,splat:Jr}=wi,{trustedTypes:Xn}=Xh,gn=Xn&&wl(Xn.createPolicy)&&Xn.createPolicy("highcharts",{createHTML:F=>F}),kl=gn?gn.createHTML(""):"";class Qs{static filterUserAttributes(i){return al(i,(l,c)=>{let y=!0;Qs.allowedAttributes.indexOf(c)===-1&&(y=!1),["background","dynsrc","href","lowsrc","src"].indexOf(c)!==-1&&(y=Gn(l)&&Qs.allowedReferences.some(w=>l.indexOf(w)===0)),y||(Gr(33,!1,void 0,{"Invalid attribute in config":`${c}`}),delete i[c]),Gn(l)&&i[c]&&(i[c]=l.replace(/</g,"&lt;"))}),i}static parseStyle(i){return i.split(";").reduce((l,c)=>{let y=c.split(":").map(M=>M.trim()),w=y.shift();return w&&y.length&&(l[w.replace(/-([a-z])/g,M=>M[1].toUpperCase())]=y.join(":")),l},{})}static setElementHTML(i,l){i.innerHTML=Qs.emptyHTML,l&&new Qs(l).addToDOM(i)}constructor(i){this.nodes=typeof i=="string"?this.parseMarkup(i):i}addToDOM(i){return function l(c,y){let w;return Jr(c).forEach(function(M){let S,E=M.tagName,W=M.textContent?ke.doc.createTextNode(M.textContent):void 0,U=Qs.bypassHTMLFiltering;if(E)if(E==="#text")S=W;else if(Qs.allowedTags.indexOf(E)!==-1||U){let H=E==="svg"?xh:y.namespaceURI||xh,q=ke.doc.createElementNS(H,E),it=M.attributes||{};al(M,function(ht,yt){yt!=="tagName"&&yt!=="attributes"&&yt!=="children"&&yt!=="style"&&yt!=="textContent"&&(it[yt]=ht)}),Wa(q,U?it:Qs.filterUserAttributes(it)),M.style&&nl(q,M.style),W&&q.appendChild(W),l(M.children||[],q),S=q}else Gr(33,!1,void 0,{"Invalid tagName in config":E});S&&y.appendChild(S),w=S}),w}(this.nodes,i)}parseMarkup(i){let l,c=[];i=i.trim().replace(/ style=(["'])/g," data-style=$1");try{l=new DOMParser().parseFromString(gn?gn.createHTML(i):i,"text/html")}catch{}if(!l){let w=bl("div");w.innerHTML=i,l={body:w}}let y=(w,M)=>{let S=w.nodeName.toLowerCase(),E={tagName:S};S==="#text"&&(E.textContent=w.textContent||"");let W=w.attributes;if(W){let U={};[].forEach.call(W,H=>{H.name==="data-style"?E.style=Qs.parseStyle(H.value):U[H.name]=H.value}),E.attributes=U}if(w.childNodes.length){let U=[];[].forEach.call(w.childNodes,H=>{y(H,U)}),U.length&&(E.children=U)}M.push(E)};return[].forEach.call(l.body.childNodes,w=>y(w,c)),c}}Qs.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Qs.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Qs.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Qs.emptyHTML=kl,Qs.bypassHTMLFiltering=!1;let{defaultOptions:Fa,defaultTime:hs}=Le,{pageLang:js}=ke,{extend:Yn,getNestedProperty:Ha,isArray:Es,isNumber:mn,isObject:Qi,isString:lr,pick:tr,ucfirst:Ml}=wi,Pr={add:(F,i)=>F+i,divide:(F,i)=>i!==0?F/i:"",eq:(F,i)=>F==i,each:function(F){let i=arguments[arguments.length-1];return!!Es(F)&&F.map((l,c)=>en(i.body,Yn(Qi(l)?l:{"@this":l},{"@index":c,"@first":c===0,"@last":c===F.length-1}))).join("")},ge:(F,i)=>F>=i,gt:(F,i)=>F>i,if:F=>!!F,le:(F,i)=>F<=i,lt:(F,i)=>F<i,multiply:(F,i)=>F*i,ne:(F,i)=>F!=i,subtract:(F,i)=>F-i,ucfirst:Ml,unless:F=>!F},yh={},ll=F=>/^["'].+["']$/.test(F);function en(F="",i,l){var xt;let c=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,y=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,w=[],M=/f$/,S=/\.(\d)/,E=((xt=l==null?void 0:l.options)==null?void 0:xt.lang)||Fa.lang,W=(l==null?void 0:l.time)||hs,U=(l==null?void 0:l.numberFormatter)||_r.bind(l),H=(ut="")=>{let wt;return ut==="true"||ut!=="false"&&((wt=Number(ut)).toString()===ut?wt:ll(ut)?ut.slice(1,-1):Ha(ut,i))},q,it,ht=0,yt;for(;(q=c.exec(F))!==null;){let ut=q,wt=y.exec(q[1]);wt&&(q=wt,yt=!0),it!=null&&it.isBlock||(it={ctx:i,expression:q[1],find:q[0],isBlock:q[1].charAt(0)==="#",start:q.index,startInner:q.index+q[0].length,length:q[0].length});let Mt=(it.isBlock?ut:q)[1].split(" ")[0].replace("#","");Pr[Mt]&&(it.isBlock&&Mt===it.fn&&ht++,it.fn||(it.fn=Mt));let Kt=q[1]==="else";if(it.isBlock&&it.fn&&(q[1]===`/${it.fn}`||Kt))if(ht)!Kt&&ht--;else{let Vt=it.startInner,qt=F.substr(Vt,q.index-Vt);it.body===void 0?(it.body=qt,it.startInner=q.index+q[0].length):it.elseBody=qt,it.find+=qt+q[0],Kt||(w.push(it),it=void 0)}else it.isBlock||w.push(it);if(wt&&!(it!=null&&it.isBlock))break}return w.forEach(ut=>{let wt,Mt,{body:Kt,elseBody:Vt,expression:qt,fn:ve}=ut;if(ve){let he=[ut],fe=[],Ie=qt.length,ze=0,Je;for(Mt=0;Mt<=Ie;Mt++){let ni=qt.charAt(Mt);Je||ni!=='"'&&ni!=="'"?Je===ni&&(Je=""):Je=ni,Je||ni!==" "&&Mt!==Ie||(fe.push(qt.substr(ze,Mt-ze)),ze=Mt+1)}for(Mt=Pr[ve].length;Mt--;)he.unshift(H(fe[Mt+1]));wt=Pr[ve].apply(i,he),ut.isBlock&&typeof wt=="boolean"&&(wt=en(wt?Kt:Vt,i,l))}else{let he=ll(qt)?[qt]:qt.split(":"),fe=(wt=H(he.shift()||""))%1!=0;if(typeof wt=="number"&&(he.length||fe)){let Ie=he.join(":");if(M.test(Ie)||fe){let ze=parseInt((Ie.match(S)||["","-1"])[1],10);wt!==null&&(wt=U(wt,ze,E.decimalPoint,Ie.indexOf(",")>-1?E.thousandsSep:""))}else wt=W.dateFormat(Ie,wt)}y.lastIndex=0,y.test(ut.find)&&lr(wt)&&(wt=`"${wt}"`)}F=F.replace(ut.find,tr(wt,""))}),yt?en(F,i,l):F}function _r(F,i,l,c){var yt;i*=1;let y,w,[M,S]=(F=+F||0).toString().split("e").map(Number),E=((yt=this==null?void 0:this.options)==null?void 0:yt.lang)||Fa.lang,W=(F.toString().split(".")[1]||"").split("e")[0].length,U=i,H={};l??(l=E.decimalPoint),c??(c=E.thousandsSep),i===-1?i=Math.min(W,20):mn(i)?i&&S<0&&((w=i+S)>=0?(M=+M.toExponential(w).split("e")[0],i=w):(M=Math.floor(M),F=i<20?+(M*Math.pow(10,S)).toFixed(i):0,S=0)):i=2,S&&(i??(i=2),F=M),mn(i)&&i>=0&&(H.minimumFractionDigits=i,H.maximumFractionDigits=i),c===""&&(H.useGrouping=!1);let q=c||l,it=q?"en":(this==null?void 0:this.locale)||E.locale||js,ht=JSON.stringify(H)+it;return y=(yh[ht]??(yh[ht]=new Intl.NumberFormat(it,H))).format(F),q&&(y=y.replace(/([,\.])/g,"_$1").replace(/_\,/g,c??",").replace("_.",l??".")),(i||+y!=0)&&(!(S<0)||U)||(y="0"),S&&+y!=0&&(y+="e"+(S<0?"":"+")+S),y}let br={dateFormat:function(F,i,l){return hs.dateFormat(F,i,l)},format:en,helpers:Pr,numberFormat:_r};(function(F){let i;F.rendererTypes={},F.getRendererType=function(l=i){return F.rendererTypes[l]||F.rendererTypes[i]},F.registerRendererType=function(l,c,y){F.rendererTypes[l]=c,(!i||y)&&(i=l,ke.Renderer=c)}})(jt||(jt={}));let Os=jt,{clamp:ua,pick:Yo,pushUnique:jo,stableSort:jn}=wi;(te||(te={})).distribute=function F(i,l,c){let y=i,w=y.reducedLen||l,M=(Mt,Kt)=>Mt.target-Kt.target,S=[],E=i.length,W=[],U=S.push,H,q,it,ht=!0,yt,xt,ut=0,wt;for(H=E;H--;)ut+=i[H].size;if(ut>w){for(jn(i,(Mt,Kt)=>(Kt.rank||0)-(Mt.rank||0)),it=(wt=i[0].rank===i[i.length-1].rank)?E/2:-1,q=wt?it:E-1;it&&ut>w;)yt=i[H=Math.floor(q)],jo(W,H)&&(ut-=yt.size),q+=it,wt&&q>=i.length&&(it/=2,q=it);W.sort((Mt,Kt)=>Kt-Mt).forEach(Mt=>U.apply(S,i.splice(Mt,1)))}for(jn(i,M),i=i.map(Mt=>({size:Mt.size,targets:[Mt.target],align:Yo(Mt.align,.5)}));ht;){for(H=i.length;H--;)yt=i[H],xt=(Math.min.apply(0,yt.targets)+Math.max.apply(0,yt.targets))/2,yt.pos=ua(xt-yt.size*yt.align,0,l-yt.size);for(H=i.length,ht=!1;H--;)H>0&&i[H-1].pos+i[H-1].size>i[H].pos&&(i[H-1].size+=i[H].size,i[H-1].targets=i[H-1].targets.concat(i[H].targets),i[H-1].align=.5,i[H-1].pos+i[H-1].size>l&&(i[H-1].pos=l-i[H-1].size),i.splice(H,1),ht=!0)}return U.apply(y,S),H=0,i.some(Mt=>{let Kt=0;return(Mt.targets||[]).some(()=>(y[H].pos=Mt.pos+Kt,c!==void 0&&Math.abs(y[H].pos-y[H].target)>c?(y.slice(0,H+1).forEach(Vt=>delete Vt.pos),y.reducedLen=(y.reducedLen||l)-.1*l,y.reducedLen>.1*l&&F(y,l,c),!0):(Kt+=y[H].size,H++,!1)))}),jn(y,M),y};let hr=te,{animate:Un,animObject:hl,stop:Ga}=Hr,{deg2rad:Lr,doc:Ws,svg:xn,SVG_NS:no,win:ts,isFirefox:yo}=ke,{addEvent:Ms,attr:sn,createElement:Gl,crisp:rn,css:Sl,defined:Fs,erase:vh,extend:ao,fireEvent:mr,getAlignFactor:on,isArray:Bt,isFunction:we,isNumber:Ne,isObject:Mi,isString:wr,merge:er,objectEach:vo,pick:Ci,pInt:Xa,pushUnique:Qr,replaceNested:fa,syncTimeout:dl,uniqueKey:ga}=wi;class Rs{_defaultGetter(i){let l=Ci(this[i+"Value"],this[i],this.element?this.element.getAttribute(i):null,0);return/^-?[\d\.]+$/.test(l)&&(l=parseFloat(l)),l}_defaultSetter(i,l,c){c.setAttribute(l,i)}add(i){let l,c=this.renderer,y=this.element;return i&&(this.parentGroup=i),this.textStr!==void 0&&this.element.nodeName==="text"&&c.buildText(this),this.added=!0,(!i||i.handleZ||this.zIndex)&&(l=this.zIndexSetter()),l||(i?i.element:c.box).appendChild(y),this.onAdd&&this.onAdd(),this}addClass(i,l){let c=l?"":this.attr("class")||"";return(i=(i||"").split(/ /g).reduce(function(y,w){return c.indexOf(w)===-1&&y.push(w),y},c?[c]:[]).join(" "))!==c&&this.attr("class",i),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(i,l,c,y=!0){let w=this.renderer,M=w.alignedObjects,S=!!i;i?(this.alignOptions=i,this.alignByTranslate=l,this.alignTo=c):(i=this.alignOptions||{},l=this.alignByTranslate,c=this.alignTo);let E=!c||wr(c)?c||"renderer":void 0;E&&(S&&Qr(M,this),c=void 0);let W=Ci(c,w[E],w),U=(W.x||0)+(i.x||0)+((W.width||0)-(i.width||0))*on(i.align),H=(W.y||0)+(i.y||0)+((W.height||0)-(i.height||0))*on(i.verticalAlign),q={"text-align":i==null?void 0:i.align};return q[l?"translateX":"x"]=Math.round(U),q[l?"translateY":"y"]=Math.round(H),y&&(this[this.placed?"animate":"attr"](q),this.placed=!0),this.alignAttr=q,this}alignSetter(i){let l={left:"start",center:"middle",right:"end"};l[i]&&(this.alignValue=i,this.element.setAttribute("text-anchor",l[i]))}animate(i,l,c){let y=hl(Ci(l,this.renderer.globalAnimation,!0)),w=y.defer;return Ws.hidden&&(y.duration=0),y.duration!==0?(c&&(y.complete=c),dl(()=>{this.element&&Un(this,i,y)},w)):(this.attr(i,void 0,c||y.complete),vo(i,function(M,S){y.step&&y.step.call(this,M,{prop:S,pos:1,elem:this})},this)),this}applyTextOutline(i){let l=this.element;i.indexOf("contrast")!==-1&&(i=i.replace(/contrast/g,this.renderer.getContrast(l.style.fill)));let c=i.indexOf(" "),y=i.substring(c+1),w=i.substring(0,c);if(w&&w!=="none"&&ke.svg){this.fakeTS=!0,w=w.replace(/(^[\d\.]+)(.*?)$/g,function(U,H,q){return 2*Number(H)+q}),this.removeTextOutline();let M=Ws.createElementNS(no,"tspan");sn(M,{class:"highcharts-text-outline",fill:y,stroke:y,"stroke-width":w,"stroke-linejoin":"round"});let S=l.querySelector("textPath")||l;[].forEach.call(S.childNodes,U=>{let H=U.cloneNode(!0);H.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(q=>H.removeAttribute(q)),M.appendChild(H)});let E=0;[].forEach.call(S.querySelectorAll("text tspan"),U=>{E+=Number(U.getAttribute("dy"))});let W=Ws.createElementNS(no,"tspan");W.textContent="​",sn(W,{x:Number(l.getAttribute("x")),dy:-E}),M.appendChild(W),S.insertBefore(M,S.firstChild)}}attr(i,l,c,y){let{element:w}=this,M=Rs.symbolCustomAttribs,S,E,W=this,U;return typeof i=="string"&&l!==void 0&&(S=i,(i={})[S]=l),typeof i=="string"?W=(this[i+"Getter"]||this._defaultGetter).call(this,i,w):(vo(i,function(H,q){U=!1,y||Ga(this,q),this.symbolName&&M.indexOf(q)!==-1&&(E||(this.symbolAttr(i),E=!0),U=!0),this.rotation&&(q==="x"||q==="y")&&(this.doTransform=!0),U||(this[q+"Setter"]||this._defaultSetter).call(this,H,q,w)},this),this.afterSetters()),c&&c.call(this),W}clip(i){if(i&&!i.clipPath){let l=ga()+"-",c=this.renderer.createElement("clipPath").attr({id:l}).add(this.renderer.defs);ao(i,{clipPath:c,id:l,count:0}),i.add(c)}return this.attr("clip-path",i?`url(${this.renderer.url}#${i.id})`:"none")}crisp(i,l){l=Math.round(l||i.strokeWidth||0);let c=i.x||this.x||0,y=i.y||this.y||0,w=(i.width||this.width||0)+c,M=(i.height||this.height||0)+y,S=rn(c,l),E=rn(y,l);return ao(i,{x:S,y:E,width:rn(w,l)-S,height:rn(M,l)-E}),Fs(i.strokeWidth)&&(i.strokeWidth=l),i}complexColor(i,l,c){let y=this.renderer,w,M,S,E,W,U,H,q,it,ht,yt=[],xt;mr(this.renderer,"complexColor",{args:arguments},function(){if(i.radialGradient?M="radialGradient":i.linearGradient&&(M="linearGradient"),M){if(S=i[M],W=y.gradients,U=i.stops,it=c.radialReference,Bt(S)&&(i[M]=S={x1:S[0],y1:S[1],x2:S[2],y2:S[3],gradientUnits:"userSpaceOnUse"}),M==="radialGradient"&&it&&!Fs(S.gradientUnits)&&(E=S,S=er(S,y.getRadialAttr(it,E),{gradientUnits:"userSpaceOnUse"})),vo(S,function(ut,wt){wt!=="id"&&yt.push(wt,ut)}),vo(U,function(ut){yt.push(ut)}),W[yt=yt.join(",")])ht=W[yt].attr("id");else{S.id=ht=ga();let ut=W[yt]=y.createElement(M).attr(S).add(y.defs);ut.radAttr=E,ut.stops=[],U.forEach(function(wt){wt[1].indexOf("rgba")===0?(H=(w=Ii.parse(wt[1])).get("rgb"),q=w.get("a")):(H=wt[1],q=1);let Mt=y.createElement("stop").attr({offset:wt[0],"stop-color":H,"stop-opacity":q}).add(ut);ut.stops.push(Mt)})}xt="url("+y.url+"#"+ht+")",c.setAttribute(l,xt),c.gradient=yt,i.toString=function(){return xt}}})}css(i){let l=this.styles,c={},y=this.element,w,M=!l;if(l&&vo(i,function(S,E){l&&l[E]!==S&&(c[E]=S,M=!0)}),M){l&&(i=ao(l,c)),i.width===null||i.width==="auto"?delete this.textWidth:y.nodeName.toLowerCase()==="text"&&i.width&&(w=this.textWidth=Xa(i.width)),ao(this.styles,i),w&&!xn&&this.renderer.forExport&&delete i.width;let S=yo&&i.fontSize||null;S&&(Ne(S)||/^\d+$/.test(S))&&(i.fontSize+="px");let E=er(i);y.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(W=>E&&delete E[W]),E.color&&(E.fill=E.color,delete E.color)),Sl(y,E)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),i.textOutline&&this.applyTextOutline(i.textOutline)),this}dashstyleSetter(i){let l,c=this["stroke-width"];if(c==="inherit"&&(c=1),i){let y=(i=i.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(l=y.length;l--;)y[l]=""+Xa(y[l])*Ci(c,NaN);i=y.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",i)}}destroy(){let i=this,l=i.element||{},c=i.renderer,y=l.ownerSVGElement,w=l.nodeName==="SPAN"&&i.parentGroup||void 0,M,S;if(l.onclick=l.onmouseout=l.onmouseover=l.onmousemove=l.point=null,Ga(i),i.clipPath&&y){let E=i.clipPath;[].forEach.call(y.querySelectorAll("[clip-path],[CLIP-PATH]"),function(W){W.getAttribute("clip-path").indexOf(E.element.id)>-1&&W.removeAttribute("clip-path")}),i.clipPath=E.destroy()}if(i.stops){for(S=0;S<i.stops.length;S++)i.stops[S].destroy();i.stops.length=0,i.stops=void 0}for(i.safeRemoveChild(l);w!=null&&w.div&&w.div.childNodes.length===0;)M=w.parentGroup,i.safeRemoveChild(w.div),delete w.div,w=M;i.alignOptions&&vh(c.alignedObjects,i),vo(i,(E,W)=>{var U,H,q;(((U=i[W])==null?void 0:U.parentGroup)===i||["connector","foreignObject"].indexOf(W)!==-1)&&((q=(H=i[W])==null?void 0:H.destroy)==null||q.call(H)),delete i[W]})}dSetter(i,l,c){Bt(i)&&(typeof i[0]=="string"&&(i=this.renderer.pathToSegments(i)),this.pathArray=i,i=i.reduce((y,w,M)=>w!=null&&w.join?(M?y+" ":"")+w.join(" "):(w||"").toString(),"")),/(NaN| {2}|^$)/.test(i)&&(i="M 0 0"),this[l]!==i&&(c.setAttribute(l,i),this[l]=i)}fillSetter(i,l,c){typeof i=="string"?c.setAttribute(l,i):i&&this.complexColor(i,l,c)}hrefSetter(i,l,c){c.setAttributeNS("http://www.w3.org/1999/xlink",l,i)}getBBox(i,l){let c,y,w,M,{alignValue:S,element:E,renderer:W,styles:U,textStr:H}=this,{cache:q,cacheKeys:it}=W,ht=E.namespaceURI===this.SVG_NS,yt=Ci(l,this.rotation,0),xt=W.styledMode?E&&Rs.prototype.getStyle.call(E,"font-size"):U.fontSize;if(Fs(H)&&((M=H.toString()).indexOf("<")===-1&&(M=M.replace(/\d/g,"0")),M+=["",W.rootFontSize,xt,yt,this.textWidth,S,U.lineClamp,U.textOverflow,U.fontWeight].join(",")),M&&!i&&(c=q[M]),!c||c.polygon){if(ht||W.forExport){try{w=this.fakeTS&&function(wt){let Mt=E.querySelector(".highcharts-text-outline");Mt&&Sl(Mt,{display:wt})},we(w)&&w("none"),c=E.getBBox?ao({},E.getBBox()):{width:E.offsetWidth,height:E.offsetHeight,x:0,y:0},we(w)&&w("")}catch{}(!c||c.width<0)&&(c={x:0,y:0,width:0,height:0})}else c=this.htmlGetBBox();y=c.height,ht&&(c.height=y={"11px,17":14,"13px,20":16}[`${xt||""},${Math.round(y)}`]||y),yt&&(c=this.getRotatedBox(c,yt));let ut={bBox:c};mr(this,"afterGetBBox",ut),c=ut.bBox}if(M&&(H===""||c.height>0)){for(;it.length>250;)delete q[it.shift()];q[M]||it.push(M),q[M]=c}return c}getRotatedBox(i,l){let{x:c,y,width:w,height:M}=i,{alignValue:S,translateY:E,rotationOriginX:W=0,rotationOriginY:U=0}=this,H=on(S),q=Number(this.element.getAttribute("y")||0)-(E?0:y),it=l*Lr,ht=(l-90)*Lr,yt=Math.cos(it),xt=Math.sin(it),ut=w*yt,wt=w*xt,Mt=Math.cos(ht),Kt=Math.sin(ht),[[Vt,qt],[ve,he]]=[W,U].map(Bs=>[Bs-Bs*yt,Bs*xt]),fe=c+H*(w-ut)+Vt+he+q*Mt,Ie=fe+ut,ze=Ie-M*Mt,Je=ze-ut,ni=y+q-H*wt-qt+ve+q*Kt,Pi=ni+wt,ki=Pi-M*Kt,Ei=ki-wt,pi=Math.min(fe,Ie,ze,Je),Fi=Math.min(ni,Pi,ki,Ei),Ps=Math.max(fe,Ie,ze,Je)-pi,Ss=Math.max(ni,Pi,ki,Ei)-Fi;return{x:pi,y:Fi,width:Ps,height:Ss,polygon:[[fe,ni],[Ie,Pi],[ze,ki],[Je,Ei]]}}getStyle(i){return ts.getComputedStyle(this.element||this,"").getPropertyValue(i)}hasClass(i){return(""+this.attr("class")).split(" ").indexOf(i)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(i,l){this.onEvents={},this.opacity=1,this.SVG_NS=no,this.element=l==="span"||l==="body"?Gl(l):Ws.createElementNS(this.SVG_NS,l),this.renderer=i,this.styles={},mr(this,"afterInit")}on(i,l){let{onEvents:c}=this;return c[i]&&c[i](),c[i]=Ms(this.element,i,l),this}opacitySetter(i,l,c){let y=Number(Number(i).toFixed(3));this.opacity=y,c.setAttribute(l,y)}reAlign(){var i;(i=this.alignOptions)!=null&&i.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(i){return this.attr("class",(""+this.attr("class")).replace(wr(i)?RegExp(`(^| )${i}( |$)`):i," ").replace(/ +/g," ").trim())}removeTextOutline(){let i=this.element.querySelector("tspan.highcharts-text-outline");i&&this.safeRemoveChild(i)}safeRemoveChild(i){let l=i.parentNode;l&&l.removeChild(i)}setRadialReference(i){let l=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=i,l!=null&&l.radAttr&&l.animate(this.renderer.getRadialAttr(i,l.radAttr)),this}shadow(i){var w;let{renderer:l}=this,c=er(((w=this.parentGroup)==null?void 0:w.rotation)===90?{offsetX:-1,offsetY:-1}:{},Mi(i)?i:{}),y=l.shadowDefinition(c);return this.attr({filter:i?`url(${l.url}#${y})`:"none"})}show(i=!0){return this.attr({visibility:i?"inherit":"visible"})}"stroke-widthSetter"(i,l,c){this[l]=i,c.setAttribute(l,i)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let i=this.getStyle("stroke-width"),l=0,c;return/px$/.test(i)?l=Xa(i):i!==""&&(sn(c=Ws.createElementNS(no,"rect"),{width:i,"stroke-width":0}),this.element.parentNode.appendChild(c),l=c.getBBox().width,c.parentNode.removeChild(c)),l}symbolAttr(i){let l=this;Rs.symbolCustomAttribs.forEach(function(c){l[c]=Ci(i[c],l[c])}),l.attr({d:l.renderer.symbols[l.symbolName](l.x,l.y,l.width,l.height,l)})}textSetter(i){i!==this.textStr&&(delete this.textPxLength,this.textStr=i,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(i){let l=this.element,c=l.getElementsByTagName("title")[0]||Ws.createElementNS(this.SVG_NS,"title");l.insertBefore?l.insertBefore(c,l.firstChild):l.appendChild(c),c.textContent=fa(Ci(i,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let i=this.element;return i.parentNode.appendChild(i),this}translate(i,l){return this.attr({translateX:i,translateY:l})}updateTransform(i="transform"){let{element:l,foreignObject:c,matrix:y,padding:w,rotation:M=0,rotationOriginX:S,rotationOriginY:E,scaleX:W,scaleY:U,text:H,translateX:q=0,translateY:it=0}=this,ht=["translate("+q+","+it+")"];Fs(y)&&ht.push("matrix("+y.join(",")+")"),M&&(ht.push("rotate("+M+" "+(S??l.getAttribute("x")??this.x??0)+" "+(E??l.getAttribute("y")??this.y??0)+")"),(H==null?void 0:H.element.tagName)!=="SPAN"||H!=null&&H.foreignObject||H.attr({rotation:M,rotationOriginX:(S||0)-w,rotationOriginY:(E||0)-w})),(Fs(W)||Fs(U))&&ht.push("scale("+Ci(W,1)+" "+Ci(U,1)+")"),ht.length&&!(H||this).textPath&&((c==null?void 0:c.element)||l).setAttribute(i,ht.join(" "))}visibilitySetter(i,l,c){i==="inherit"?c.removeAttribute(l):this[l]!==i&&c.setAttribute(l,i),this[l]=i}xGetter(i){return this.element.nodeName==="circle"&&(i==="x"?i="cx":i==="y"&&(i="cy")),this._defaultGetter(i)}zIndexSetter(i,l){let c=this.renderer,y=this.parentGroup,w=(y||c).element||c.box,M=this.element,S=w===c.box,E,W,U,H=!1,q,it=this.added,ht;if(Fs(i)?(M.setAttribute("data-z-index",i),i*=1,this[l]===i&&(it=!1)):Fs(this[l])&&M.removeAttribute("data-z-index"),this[l]=i,it){for((i=this.zIndex)&&y&&(y.handleZ=!0),ht=(E=w.childNodes).length-1;ht>=0&&!H;ht--)q=!Fs(U=(W=E[ht]).getAttribute("data-z-index")),W!==M&&(i<0&&q&&!S&&!ht?(w.insertBefore(M,E[ht]),H=!0):(Xa(U)<=i||q&&(!Fs(i)||i>=0))&&(w.insertBefore(M,E[ht+1]),H=!0));H||(w.insertBefore(M,E[3*!!S]),H=!0)}return H}}Rs.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Rs.prototype.strokeSetter=Rs.prototype.fillSetter,Rs.prototype.yGetter=Rs.prototype.xGetter,Rs.prototype.matrixSetter=Rs.prototype.rotationOriginXSetter=Rs.prototype.rotationOriginYSetter=Rs.prototype.rotationSetter=Rs.prototype.scaleXSetter=Rs.prototype.scaleYSetter=Rs.prototype.translateXSetter=Rs.prototype.translateYSetter=Rs.prototype.verticalAlignSetter=function(F,i){this[i]=F,this.doTransform=!0};let lo=Rs,{defined:bh,extend:Xl,getAlignFactor:Vn,isNumber:yn,merge:Or,pick:dr,removeEvent:Pd}=wi;class Uo extends lo{constructor(i,l,c,y,w,M,S,E,W,U){let H;super(i,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=l,this.x=c,this.y=y,this.anchorX=M,this.anchorY=S,this.baseline=W,this.className=U,this.addClass(U==="button"?"highcharts-no-tooltip":"highcharts-label"),U&&this.addClass("highcharts-"+U),this.text=i.text(void 0,0,0,E).attr({zIndex:1}),typeof w=="string"&&((H=/^url\((.*?)\)$/.test(w))||this.renderer.symbols[w])&&(this.symbolKey=w),this.bBox=Uo.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=i.styledMode||H,this.deferredAttr={},this.alignFactor=0}alignSetter(i){let l=Vn(i);this.textAlign=i,l!==this.alignFactor&&(this.alignFactor=l,this.bBox&&yn(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(i,l){this.anchorX=i,this.boxAttr(l,Math.round(i)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(i,l){this.anchorY=i,this.boxAttr(l,i-this.ySetting)}boxAttr(i,l){this.box?this.box.attr(i,l):this.deferredAttr[i]=l}css(i){if(i){let l={};i=Or(i),Uo.textProps.forEach(c=>{i[c]!==void 0&&(l[c]=i[c],delete i[c])}),this.text.css(l),"fontSize"in l||"fontWeight"in l?this.updateTextPadding():("width"in l||"textOverflow"in l)&&this.updateBoxSize()}return lo.prototype.css.call(this,i)}destroy(){Pd(this.element,"mouseenter"),Pd(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),lo.prototype.destroy.call(this)}fillSetter(i,l){i&&(this.needsBox=!0),this.fill=i,this.boxAttr(l,i)}getBBox(i,l){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:c,height:y=0,translateX:w=0,translateY:M=0,width:S=0}=this,E=dr(this.paddingLeft,c),W=l??(this.rotation||0),U={width:S,height:y,x:w+this.bBox.x-E,y:M+this.bBox.y-c+this.baselineOffset};return W&&(U=this.getRotatedBox(U,W)),U}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(i){this.heightSetting=i,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:dr(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&bh(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(i,l){yn(i)?i!==this[l]&&(this[l]=i,this.updateTextPadding()):this[l]=void 0}rSetter(i,l){this.boxAttr(l,i)}strokeSetter(i,l){this.stroke=i,this.boxAttr(l,i)}"stroke-widthSetter"(i,l){i&&(this.needsBox=!0),this["stroke-width"]=i,this.boxAttr(l,i)}"text-alignSetter"(i){this.textAlign=this["text-align"]=i,this.updateTextPadding()}textSetter(i){i!==void 0&&this.text.attr({text:i}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let i,l=this.text,c={},y=this.padding,w=this.bBox=(!yn(this.widthSetting)||!yn(this.heightSetting)||this.textAlign)&&bh(l.textStr)?l.getBBox(void 0,0):Uo.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||w.height||0)+2*y;let M=this.renderer.fontMetrics(l);if(this.baselineOffset=y+Math.min((this.text.firstLineMetrics||M).b,w.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-M.h)/2),this.needsBox&&!l.textPath){if(!this.box){let S=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();S.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),S.add(this)}c.x=i=this.getCrispAdjust(),c.y=(this.baseline?-this.baselineOffset:0)+i,c.width=Math.round(this.width),c.height=Math.round(this.height),this.box.attr(Xl(c,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let i=this.text,l=i.styles.textAlign||this.textAlign;if(!i.textPath){this.updateBoxSize();let c=this.baseline?0:this.baselineOffset,y=(this.paddingLeft??this.padding)+Vn(l)*(this.widthSetting??this.bBox.width);(y!==i.x||c!==i.y)&&(i.attr({align:l,x:y}),c!==void 0&&i.attr("y",c)),i.x=y,i.y=c}}widthSetter(i){this.widthSetting=yn(i)?i:void 0,this.doUpdate=!0}getPaddedWidth(){let i=this.padding,l=dr(this.paddingLeft,i),c=dr(this.paddingRight,i);return(this.widthSetting||this.bBox.width||0)+l+c}xSetter(i){this.x=i,this.alignFactor&&(i-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(i),this.attr("translateX",this.xSetting)}ySetter(i){this.ySetting=this.y=Math.round(i),this.attr("translateY",this.ySetting)}}Uo.emptyBBox={width:0,height:0,x:0,y:0},Uo.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Gs,isNumber:Lo,pick:zo}=wi;function Tl(F,i,l,c,y){let w=[];if(y){let M=y.start||0,S=y.end||0,E=zo(y.r,l),W=zo(y.r,c||l),U=2e-4/(y.borderRadius?1:Math.max(E,1)),H=Math.abs(S-M-2*Math.PI)<U;H&&(M=Math.PI/2,S=2.5*Math.PI-U);let q=y.innerR,it=zo(y.open,H),ht=Math.cos(M),yt=Math.sin(M),xt=Math.cos(S),ut=Math.sin(S),wt=zo(y.longArc,S-M-Math.PI<U?0:1),Mt=["A",E,W,0,wt,zo(y.clockwise,1),F+E*xt,i+W*ut];Mt.params={start:M,end:S,cx:F,cy:i},w.push(["M",F+E*ht,i+W*yt],Mt),Gs(q)&&((Mt=["A",q,q,0,wt,Gs(y.clockwise)?1-y.clockwise:0,F+q*ht,i+q*yt]).params={start:S,end:M,cx:F,cy:i},w.push(it?["M",F+q*xt,i+q*ut]:["L",F+q*xt,i+q*ut],Mt)),it||w.push(["Z"])}return w}function Yl(F,i,l,c,y){return y!=null&&y.r?Ro(F,i,l,c,y):[["M",F,i],["L",F+l,i],["L",F+l,i+c],["L",F,i+c],["Z"]]}function Ro(F,i,l,c,y){let w=(y==null?void 0:y.r)||0;return[["M",F+w,i],["L",F+l-w,i],["A",w,w,0,0,1,F+l,i+w],["L",F+l,i+c-w],["A",w,w,0,0,1,F+l-w,i+c],["L",F+w,i+c],["A",w,w,0,0,1,F,i+c-w],["L",F,i+w],["A",w,w,0,0,1,F+w,i],["Z"]]}let Yh={arc:Tl,callout:function(F,i,l,c,y){let w=Math.min((y==null?void 0:y.r)||0,l,c),M=w+6,S=y==null?void 0:y.anchorX,E=(y==null?void 0:y.anchorY)||0,W=Ro(F,i,l,c,{r:w});if(!Lo(S)||S<l&&S>0&&E<c&&E>0)return W;if(F+S>l-M)if(E>i+M&&E<i+c-M)W.splice(3,1,["L",F+l,E-6],["L",F+l+6,E],["L",F+l,E+6],["L",F+l,i+c-w]);else if(S<l){let U=E<i+M,H=U?i:i+c;W.splice(U?2:5,0,["L",S,E],["L",F+l-w,H])}else W.splice(3,1,["L",F+l,c/2],["L",S,E],["L",F+l,c/2],["L",F+l,i+c-w]);else if(F+S<M)if(E>i+M&&E<i+c-M)W.splice(7,1,["L",F,E+6],["L",F-6,E],["L",F,E-6],["L",F,i+w]);else if(S>0){let U=E<i+M,H=U?i:i+c;W.splice(U?1:6,0,["L",S,E],["L",F+w,H])}else W.splice(7,1,["L",F,c/2],["L",S,E],["L",F,c/2],["L",F,i+w]);else E>c&&S<l-M?W.splice(5,1,["L",S+6,i+c],["L",S,i+c+6],["L",S-6,i+c],["L",F+w,i+c]):E<0&&S>M&&W.splice(1,1,["L",S-6,i],["L",S,i-6],["L",S+6,i],["L",l-w,i]);return W},circle:function(F,i,l,c){return Tl(F+l/2,i+c/2,l/2,c/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(F,i,l,c){return[["M",F+l/2,i],["L",F+l,i+c/2],["L",F+l/2,i+c],["L",F,i+c/2],["Z"]]},rect:Yl,roundedRect:Ro,square:Yl,triangle:function(F,i,l,c){return[["M",F+l/2,i],["L",F+l,i+c],["L",F,i+c],["Z"]]},"triangle-down":function(F,i,l,c){return[["M",F,i],["L",F+l,i],["L",F+l/2,i+c],["Z"]]}},{doc:jl,SVG_NS:Al,win:vn}=ke,{attr:Ul,extend:bn,fireEvent:Zn,isString:Vo,objectEach:No,pick:jh}=wi,$n=(F,i)=>F.substring(0,i)+"…",nn=class{constructor(F){let i=F.styles;this.renderer=F.renderer,this.svgElement=F,this.width=F.textWidth,this.textLineHeight=i==null?void 0:i.lineHeight,this.textOutline=i==null?void 0:i.textOutline,this.ellipsis=(i==null?void 0:i.textOverflow)==="ellipsis",this.lineClamp=i==null?void 0:i.lineClamp,this.noWrap=(i==null?void 0:i.whiteSpace)==="nowrap"}buildSVG(){let F=this.svgElement,i=F.element,l=F.renderer,c=jh(F.textStr,"").toString(),y=c.indexOf("<")!==-1,w=i.childNodes,M=!F.added&&l.box,S=[c,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,F.getStyle("font-size"),F.styles.lineClamp,this.width].join(",");if(S!==F.textCache){F.textCache=S,delete F.actualWidth;for(let E=w.length;E--;)i.removeChild(w[E]);if(y||this.ellipsis||this.width||F.textPath||c.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(c))){if(c!==""){M&&M.appendChild(i);let E=new Qs(c);this.modifyTree(E.nodes),E.addToDOM(i),this.modifyDOM(),this.ellipsis&&(i.textContent||"").indexOf("…")!==-1&&F.attr("title",this.unescapeEntities(F.textStr||"",["&lt;","&gt;"])),M&&M.removeChild(i)}}else i.appendChild(jl.createTextNode(this.unescapeEntities(c)));Vo(this.textOutline)&&F.applyTextOutline&&F.applyTextOutline(this.textOutline)}}modifyDOM(){let F,i=this.svgElement,l=Ul(i.element,"x");for(i.firstLineMetrics=void 0;(F=i.element.firstChild)&&/^[\s\u200B]*$/.test(F.textContent||" ");)i.element.removeChild(F);[].forEach.call(i.element.querySelectorAll("tspan.highcharts-br"),(M,S)=>{M.nextSibling&&M.previousSibling&&(S===0&&M.previousSibling.nodeType===1&&(i.firstLineMetrics=i.renderer.fontMetrics(M.previousSibling)),Ul(M,{dy:this.getLineHeight(M.nextSibling),x:l}))});let c=this.width||0;if(!c)return;let y=(M,S)=>{var yt;let E=M.textContent||"",W=E.replace(/([^\^])-/g,"$1- ").split(" "),U=!this.noWrap&&(W.length>1||i.element.childNodes.length>1),H=this.getLineHeight(S),q=Math.max(0,c-.8*H),it=0,ht=i.actualWidth;if(U){let xt=[],ut=[];for(;S.firstChild&&S.firstChild!==M;)ut.push(S.firstChild),S.removeChild(S.firstChild);for(;W.length;)if(W.length&&!this.noWrap&&it>0&&(xt.push(M.textContent||""),M.textContent=W.join(" ").replace(/- /g,"-")),this.truncate(M,void 0,W,it===0&&ht||0,c,q,(wt,Mt)=>W.slice(0,Mt).join(" ").replace(/- /g,"-")),ht=i.actualWidth,it++,this.lineClamp&&it>=this.lineClamp){W.length&&(this.truncate(M,M.textContent||"",void 0,0,c,q,$n),M.textContent=((yt=M.textContent)==null?void 0:yt.replace("…",""))+"…");break}ut.forEach(wt=>{S.insertBefore(wt,M)}),xt.forEach(wt=>{S.insertBefore(jl.createTextNode(wt),M);let Mt=jl.createElementNS(Al,"tspan");Mt.textContent="​",Ul(Mt,{dy:H,x:l}),S.insertBefore(Mt,M)})}else this.ellipsis&&E&&this.truncate(M,E,void 0,0,c,q,$n)},w=M=>{[].slice.call(M.childNodes).forEach(S=>{S.nodeType===vn.Node.TEXT_NODE?y(S,M):(S.className.baseVal.indexOf("highcharts-br")!==-1&&(i.actualWidth=0),w(S))})};w(i.element)}getLineHeight(F){let i=F.nodeType===vn.Node.TEXT_NODE?F.parentElement:F;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(i||this.svgElement.element).h}modifyTree(F){let i=(l,c)=>{let{attributes:y={},children:w,style:M={},tagName:S}=l,E=this.renderer.styledMode;if(S==="b"||S==="strong"?E?y.class="highcharts-strong":M.fontWeight="bold":(S==="i"||S==="em")&&(E?y.class="highcharts-emphasized":M.fontStyle="italic"),M!=null&&M.color&&(M.fill=M.color),S==="br"){y.class="highcharts-br",l.textContent="​";let W=F[c+1];W!=null&&W.textContent&&(W.textContent=W.textContent.replace(/^ +/gm,""))}else S==="a"&&w&&w.some(W=>W.tagName==="#text")&&(l.children=[{children:w,tagName:"tspan"}]);S!=="#text"&&S!=="a"&&(l.tagName="tspan"),bn(l,{attributes:y,style:M}),w&&w.filter(W=>W.tagName!=="#text").forEach(i)};F.forEach(i),Zn(this.svgElement,"afterModifyTree",{nodes:F})}truncate(F,i,l,c,y,w,M){let S,E,W=this.svgElement,{rotation:U}=W,H=[],q=l&&!c?1:0,it=(i||l||"").length,ht=it;l||(y=w);let yt=function(xt,ut){let wt=ut||xt,Mt=F.parentNode;if(Mt&&H[wt]===void 0&&Mt.getSubStringLength)try{H[wt]=c+Mt.getSubStringLength(0,l?wt+1:wt)}catch{}return H[wt]};if(W.rotation=0,c+(E=yt(F.textContent.length))>y){for(;q<=it;)ht=Math.ceil((q+it)/2),l&&(S=M(l,ht)),E=yt(ht,S&&S.length-1),q===it?q=it+1:E>y?it=ht-1:q=ht;it===0?F.textContent="":i&&it===i.length-1||(F.textContent=S||M(i||l,ht)),this.ellipsis&&E>y&&this.truncate(F,F.textContent||"",void 0,0,y,w,$n)}l&&l.splice(0,ht),W.actualWidth=E,W.rotation=U}unescapeEntities(F,i){return No(this.renderer.escapes,function(l,c){i&&i.indexOf(l)!==-1||(F=F.toString().replace(RegExp(l,"g"),c))}),F}},{defaultOptions:Cd}=Le,{charts:cl,deg2rad:bo,doc:ma,isFirefox:wn,isMS:cc,isWebKit:xa,noop:pc,SVG_NS:wh,symbolSizes:Rr,win:Ya}=ke,{addEvent:Vl,attr:Xr,createElement:qn,crisp:Wo,css:ya,defined:wo,destroyObjectProperties:Zl,extend:Zo,isArray:Uh,isNumber:Oo,isObject:an,isString:va,merge:kh,pick:ba,pInt:kn,replaceNested:ln,uniqueKey:wa}=wi;class ka{constructor(i,l,c,y,w,M,S){let E,W;this.x=0,this.y=0;let U=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),H=U.element;S||U.css(this.getStyle(y||{})),i.appendChild(H),Xr(i,"dir","ltr"),i.innerHTML.indexOf("xmlns")===-1&&Xr(H,"xmlns",this.SVG_NS),this.box=H,this.boxWrapper=U,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(ma.createTextNode("Created with Highcharts 12.3.0")),this.defs=this.createElement("defs").add(),this.allowHTML=M,this.forExport=w,this.styledMode=S,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=U.getStyle("font-size"),this.setSize(l,c,!1),wn&&i.getBoundingClientRect&&((E=function(){ya(i,{left:0,top:0}),W=i.getBoundingClientRect(),ya(i,{left:Math.ceil(W.left)-W.left+"px",top:Math.ceil(W.top)-W.top+"px"})})(),this.unSubPixelFix=Vl(Ya,"resize",E))}definition(i){return new Qs([i]).addToDOM(this.defs.element)}getReferenceURL(){if((wn||xa)&&ma.getElementsByTagName("base").length){if(!wo(It)){let i=wa(),l=new Qs([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:i},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${i})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(ma.body);ya(l,{position:"fixed",top:0,left:0,zIndex:9e5});let c=ma.elementFromPoint(6,6);It=(c==null?void 0:c.id)==="hitme",ma.body.removeChild(l)}if(It)return ln(Ya.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(i){return this.style=Zo({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},i),this.style}setStyle(i){this.boxWrapper.css(this.getStyle(i))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let i=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Zl(this.gradients||{}),this.gradients=null,this.defs=i.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(i){return new this.Element(this,i)}getRadialAttr(i,l){return{cx:i[0]-i[2]/2+(l.cx||0)*i[2],cy:i[1]-i[2]/2+(l.cy||0)*i[2],r:(l.r||0)*i[2]}}shadowDefinition(i){let l=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(i).map(y=>`${y}-${i[y]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),c=kh({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},i);return this.defs.element.querySelector(`#${l}`)||this.definition({tagName:"filter",attributes:{id:l,filterUnits:c.filterUnits},children:this.getShadowFilterContent(c)}),l}getShadowFilterContent(i){return[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}buildText(i){new nn(i).buildSVG()}getContrast(i){if(i==="transparent")return"#000000";let l=Ii.parse(i).rgba,c=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Oo(l[0])||!Ii.useColorMix){let y=l.map(M=>{let S=M/255;return S<=.04?S/12.92:Math.pow((S+.055)/1.055,2.4)}),w=.2126*y[0]+.7152*y[1]+.0722*y[2];return 1.05/(w+.05)>(w+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+i+" srgb"+c+c+c+")"}button(i,l,c,y,w={},M,S,E,W,U){let H=this.label(i,l,c,W,void 0,void 0,U,void 0,"button"),q=this.styledMode,it=arguments,ht=0;w=kh(Cd.global.buttonTheme,w),q&&(delete w.fill,delete w.stroke,delete w["stroke-width"]);let yt=w.states||{},xt=w.style||{};delete w.states,delete w.style;let ut=[Qs.filterUserAttributes(w)],wt=[xt];return q||["hover","select","disabled"].forEach((Mt,Kt)=>{ut.push(kh(ut[0],Qs.filterUserAttributes(it[Kt+5]||yt[Mt]||{}))),wt.push(ut[Kt+1].style),delete ut[Kt+1].style}),Vl(H.element,cc?"mouseover":"mouseenter",function(){ht!==3&&H.setState(1)}),Vl(H.element,cc?"mouseout":"mouseleave",function(){ht!==3&&H.setState(ht)}),H.setState=(Mt=0)=>{if(Mt!==1&&(H.state=ht=Mt),H.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Mt]),!q){H.attr(ut[Mt]);let Kt=wt[Mt];an(Kt)&&H.css(Kt)}},H.attr(ut[0]),!q&&(H.css(Zo({cursor:"default"},xt)),U&&H.text.css({pointerEvents:"none"})),H.on("touchstart",Mt=>Mt.stopPropagation()).on("click",function(Mt){ht!==3&&(y==null||y.call(H,Mt))})}crispLine(i,l){let[c,y]=i;return wo(c[1])&&c[1]===y[1]&&(c[1]=y[1]=Wo(c[1],l)),wo(c[2])&&c[2]===y[2]&&(c[2]=y[2]=Wo(c[2],l)),i}path(i){let l=this.styledMode?{}:{fill:"none"};return Uh(i)?l.d=i:an(i)&&Zo(l,i),this.createElement("path").attr(l)}circle(i,l,c){let y=an(i)?i:i===void 0?{}:{x:i,y:l,r:c},w=this.createElement("circle");return w.xSetter=w.ySetter=function(M,S,E){E.setAttribute("c"+S,M)},w.attr(y)}arc(i,l,c,y,w,M){let S;an(i)?(l=(S=i).y,c=S.r,y=S.innerR,w=S.start,M=S.end,i=S.x):S={innerR:y,start:w,end:M};let E=this.symbol("arc",i,l,c,c,S);return E.r=c,E}rect(i,l,c,y,w,M){let S=an(i)?i:i===void 0?{}:{x:i,y:l,r:w,width:Math.max(c||0,0),height:Math.max(y||0,0)},E=this.createElement("rect");return this.styledMode||(M!==void 0&&(S["stroke-width"]=M,Zo(S,E.crisp(S))),S.fill="none"),E.rSetter=function(W,U,H){E.r=W,Xr(H,{rx:W,ry:W})},E.rGetter=function(){return E.r||0},E.attr(S)}roundedRect(i){return this.symbol("roundedRect").attr(i)}setSize(i,l,c){this.width=i,this.height=l,this.boxWrapper.animate({width:i,height:l},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ba(c,!0)?void 0:0}),this.alignElements()}g(i){let l=this.createElement("g");return i?l.attr({class:"highcharts-"+i}):l}image(i,l,c,y,w,M){let S={preserveAspectRatio:"none"};Oo(l)&&(S.x=l),Oo(c)&&(S.y=c),Oo(y)&&(S.width=y),Oo(w)&&(S.height=w);let E=this.createElement("image").attr(S),W=function(U){E.attr({href:i}),M.call(E,U)};if(M){E.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let U=new Ya.Image;Vl(U,"load",W),U.src=i,U.complete&&W({})}else E.attr({href:i});return E}symbol(i,l,c,y,w,M){var xt,ut;let S,E,W,U,H=this,q=/^url\((.*?)\)$/,it=q.test(i),ht=!it&&(this.symbols[i]?i:"circle"),yt=ht&&this.symbols[ht];if(yt)typeof l=="number"&&(E=yt.call(this.symbols,l||0,c||0,y||0,w||0,M)),S=this.path(E),H.styledMode||S.attr("fill","none"),Zo(S,{symbolName:ht||void 0,x:l,y:c,width:y,height:w}),M&&Zo(S,M);else if(it){W=i.match(q)[1];let wt=S=this.image(W);wt.imgwidth=ba(M==null?void 0:M.width,(xt=Rr[W])==null?void 0:xt.width),wt.imgheight=ba(M==null?void 0:M.height,(ut=Rr[W])==null?void 0:ut.height),U=Mt=>Mt.attr({width:Mt.width,height:Mt.height}),["width","height"].forEach(Mt=>{wt[`${Mt}Setter`]=function(Kt,Vt){this[Vt]=Kt;let{alignByTranslate:qt,element:ve,width:he,height:fe,imgwidth:Ie,imgheight:ze}=this,Je=Vt==="width"?Ie:ze,ni=1;M&&M.backgroundSize==="within"&&he&&fe&&Ie&&ze?(ni=Math.min(he/Ie,fe/ze),Xr(ve,{width:Math.round(Ie*ni),height:Math.round(ze*ni)})):ve&&Je&&ve.setAttribute(Vt,Je),!qt&&Ie&&ze&&this.translate(((he||0)-Ie*ni)/2,((fe||0)-ze*ni)/2)}}),wo(l)&&wt.attr({x:l,y:c}),wt.isImg=!0,wt.symbolUrl=i,wo(wt.imgwidth)&&wo(wt.imgheight)?U(wt):(wt.attr({width:0,height:0}),qn("img",{onload:function(){let Mt=cl[H.chartIndex];this.width===0&&(ya(this,{position:"absolute",top:"-999em"}),ma.body.appendChild(this)),Rr[W]={width:this.width,height:this.height},wt.imgwidth=this.width,wt.imgheight=this.height,wt.element&&U(wt),this.parentNode&&this.parentNode.removeChild(this),H.imgCount--,H.imgCount||!Mt||Mt.hasLoaded||Mt.onload()},src:W}),this.imgCount++)}return S}clipRect(i,l,c,y){return this.rect(i,l,c,y,0)}text(i,l,c,y){let w={};if(y&&(this.allowHTML||!this.forExport))return this.html(i,l,c);w.x=Math.round(l||0),c&&(w.y=Math.round(c)),wo(i)&&(w.text=i);let M=this.createElement("text").attr(w);return y&&(!this.forExport||this.allowHTML)||(M.xSetter=function(S,E,W){let U=W.getElementsByTagName("tspan"),H=W.getAttribute(E);for(let q=0,it;q<U.length;q++)(it=U[q]).getAttribute(E)===H&&it.setAttribute(E,S);W.setAttribute(E,S)}),M}fontMetrics(i){let l=kn(lo.prototype.getStyle.call(i,"font-size")||0),c=l<24?l+3:Math.round(1.2*l),y=Math.round(.8*c);return{h:c,b:y,f:l}}rotCorr(i,l,c){let y=i;return l&&c&&(y=Math.max(y*Math.cos(l*bo),4)),{x:-i/3*Math.sin(l*bo),y}}pathToSegments(i){let l=[],c=[],y={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let w=0;w<i.length;w++)va(c[0])&&Oo(i[w])&&c.length===y[c[0].toUpperCase()]&&i.splice(w,0,c[0].replace("M","L").replace("m","l")),typeof i[w]=="string"&&(c.length&&l.push(c.slice(0)),c.length=0),c.push(i[w]);return l.push(c.slice(0)),l}label(i,l,c,y,w,M,S,E,W){return new Uo(this,i,l,c,y,w,M,S,E,W)}alignElements(){this.alignedObjects.forEach(i=>i.align())}}Zo(ka.prototype,{Element:lo,SVG_NS:wh,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Yh,draw:pc}),Os.registerRendererType("svg",ka,!0);let{composed:Kn,isFirefox:In}=ke,{attr:$l,css:Jn,createElement:ql,defined:Bn,extend:Vh,getAlignFactor:Ma,isNumber:Dn,pInt:$o,pushUnique:uc}=wi;function _d(F,i,l){var y;let c=(y=this.div)==null?void 0:y.style;lo.prototype[`${i}Setter`].call(this,F,i,l),c&&(l.style[i]=c[i]=F)}let Zh=(F,i)=>{var l;if(!F.div){let c=$l(F.element,"class"),y=F.css,w=ql("div",c?{className:c}:void 0,{position:"absolute",left:`${F.translateX||0}px`,top:`${F.translateY||0}px`,...F.styles,display:F.display,opacity:F.opacity,visibility:F.visibility},((l=F.parentGroup)==null?void 0:l.div)||i);F.classSetter=(M,S,E)=>{E.setAttribute("class",M),w.className=M},F.translateXSetter=F.translateYSetter=(M,S)=>{F[S]=M,w.style[S==="translateX"?"left":"top"]=`${M}px`,F.doTransform=!0},F.scaleXSetter=F.scaleYSetter=(M,S)=>{F[S]=M,F.doTransform=!0},F.opacitySetter=F.visibilitySetter=_d,F.css=M=>(y.call(F,M),M.cursor&&(w.style.cursor=M.cursor),M.pointerEvents&&(w.style.pointerEvents=M.pointerEvents),F),F.on=function(){return lo.prototype.on.apply({element:w,onEvents:F.onEvents},arguments),F},F.div=w}return F.div};class Mn extends lo{static compose(i){uc(Kn,this.compose)&&(i.prototype.html=function(l,c,y){return new Mn(this,"span").attr({text:l,x:Math.round(c),y:Math.round(y)})})}constructor(i,l){super(i,l),Mn.useForeignObject?this.foreignObject=i.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...i.styledMode?{}:{fontFamily:i.style.fontFamily,fontSize:i.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(i,l,c){this.xCorr=-i*c,this.yCorr=-l}css(i){let l,{element:c}=this,y=c.tagName==="SPAN"&&i&&"width"in i,w=y&&i.width;return y&&(delete i.width,this.textWidth=$o(w)||void 0,l=!0),(i==null?void 0:i.textOverflow)==="ellipsis"&&(i.overflow="hidden",i.whiteSpace="nowrap"),i!=null&&i.lineClamp&&(i.display="-webkit-box",i.WebkitLineClamp=i.lineClamp,i.WebkitBoxOrient="vertical",i.overflow="hidden"),Dn(Number(i==null?void 0:i.fontSize))&&(i.fontSize+="px"),Vh(this.styles,i),Jn(c,i),l&&this.updateTransform(),this}htmlGetBBox(){let{element:i}=this;return{x:i.offsetLeft,y:i.offsetTop,width:i.offsetWidth,height:i.offsetHeight}}updateTransform(){var wt;if(!this.added){this.alignOnAdd=!0;return}let{element:i,foreignObject:l,oldTextWidth:c,renderer:y,rotation:w,rotationOriginX:M,rotationOriginY:S,scaleX:E,scaleY:W,styles:{display:U="inline-block",whiteSpace:H},textAlign:q="left",textWidth:it,translateX:ht=0,translateY:yt=0,x:xt=0,y:ut=0}=this;if(l||Jn(i,{marginLeft:`${ht}px`,marginTop:`${yt}px`}),i.tagName==="SPAN"){let Mt,Kt=[w,q,i.innerHTML,it,this.textAlign].join(","),Vt=-(((wt=this.parentGroup)==null?void 0:wt.padding)*1)||0;if(it!==c){let fe=this.textPxLength?this.textPxLength:(Jn(i,{width:"",whiteSpace:H||"nowrap"}),i.offsetWidth),Ie=it||0,ze=i.style.textOverflow===""&&i.style.webkitLineClamp;(Ie>c||fe>Ie||ze)&&(/[\-\s\u00AD]/.test(i.textContent||i.innerText)||i.style.textOverflow==="ellipsis")&&(Jn(i,{width:(w||E||fe>Ie||ze)&&Dn(it)?it+"px":"auto",display:U,whiteSpace:H||"normal"}),this.oldTextWidth=it)}l&&(Jn(i,{display:"inline-block",verticalAlign:"top"}),l.attr({width:y.width,height:y.height})),Kt!==this.cTT&&(Mt=y.fontMetrics(i).b,Bn(w)&&!l&&(w!==(this.oldRotation||0)||q!==this.oldAlign)&&Jn(i,{transform:`rotate(${w}deg)`,transformOrigin:`${Vt}% ${Vt}px`}),this.getSpanCorrection(!Bn(w)&&!this.textWidth&&this.textPxLength||i.offsetWidth,Mt,Ma(q)));let{xCorr:qt=0,yCorr:ve=0}=this,he={left:`${xt+qt}px`,top:`${ut+ve}px`,textAlign:q,transformOrigin:`${(M??xt)-qt-xt-Vt}px ${(S??ut)-ve-ut-Vt}px`};(E||W)&&(he.transform=`scale(${E??1},${W??1})`),l?(super.updateTransform(),Dn(xt)&&Dn(ut)?(l.attr({x:xt+qt,y:ut+ve,width:i.offsetWidth+3,height:i.offsetHeight,"transform-origin":i.getAttribute("transform-origin")||"0 0"}),Jn(i,{display:U,textAlign:q})):In&&l.attr({width:0,height:0})):Jn(i,he),this.cTT=Kt,this.oldRotation=w,this.oldAlign=q}}add(i){let{foreignObject:l,renderer:c}=this,y=c.box.parentNode,w=[];if(l)l.add(i),super.add(c.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(l));else{let M;if(this.parentGroup=i,i&&!(M=i.div)){let S=i;for(;S;)w.push(S),S=S.parentGroup;for(let E of w.reverse())M=Zh(E,y)}(M||y).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(i){i!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Qs.setElementHTML(this.element,i??""),this.textStr=i,this.doTransform=!0)}alignSetter(i){this.alignValue=this.textAlign=i,this.doTransform=!0}xSetter(i,l){this[l]=i,this.doTransform=!0}}let Qn=Mn.prototype;Qn.visibilitySetter=Qn.opacitySetter=_d,Qn.ySetter=Qn.rotationSetter=Qn.rotationOriginXSetter=Qn.rotationOriginYSetter=Qn.xSetter,function(F){F.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},F.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:i}=this.axis.chart;return i(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(me||(me={}));let Ld=me,{addEvent:Od,isFunction:fc,objectEach:Sn,removeEvent:ja}=wi;(ee||(ee={})).registerEventOptions=function(F,i){F.eventOptions=F.eventOptions||{},Sn(i.events,function(l,c){F.eventOptions[c]!==l&&(F.eventOptions[c]&&(ja(F,c,F.eventOptions[c]),delete F.eventOptions[c]),fc(l)&&(F.eventOptions[c]=l,Od(F,c,l,{order:0})))})};let Sa=ee,{deg2rad:Pl}=ke,{clamp:$h,correctFloat:Ta,defined:Aa,destroyObjectProperties:Kl,extend:Jl,fireEvent:zn,getAlignFactor:Ql,isNumber:Pa,merge:th,objectEach:ta,pick:Tn}=wi,ko=class{constructor(F,i,l,c,y){this.isNew=!0,this.isNewLabel=!0,this.axis=F,this.pos=i,this.type=l||"",this.parameters=y||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,zn(this,"init"),l||c||this.addLabel()}addLabel(){var ve,he;let F=this,i=F.axis,l=i.options,c=i.chart,y=i.categories,w=i.logarithmic,M=i.names,S=F.pos,E=Tn((ve=F.options)==null?void 0:ve.labels,l.labels),W=i.tickPositions,U=S===W[0],H=S===W[W.length-1],q=(!E.step||E.step===1)&&i.tickInterval===1,it=W.info,ht=F.label,yt,xt,ut,wt=this.parameters.category||(y?Tn(y[S],M[S],S):S);w&&Pa(wt)&&(wt=Ta(w.lin2log(wt))),i.dateTime&&(it?yt=(xt=c.time.resolveDTLFormat(l.dateTimeLabelFormats[!((he=l.grid)!=null&&he.enabled)&&it.higherRanks[S]||it.unitName])).main:Pa(wt)&&(yt=i.dateTime.getXDateFormat(wt,l.dateTimeLabelFormats||{}))),F.isFirst=U,F.isLast=H;let Mt={axis:i,chart:c,dateTimeLabelFormat:yt,isFirst:U,isLast:H,pos:S,tick:F,tickPositionInfo:it,value:wt};zn(this,"labelFormat",Mt);let Kt=fe=>E.formatter?E.formatter.call(fe,fe):E.format?(fe.text=i.defaultLabelFormatter.call(fe),br.format(E.format,fe,c)):i.defaultLabelFormatter.call(fe),Vt=Kt.call(Mt,Mt),qt=xt==null?void 0:xt.list;qt?F.shortenLabel=function(){for(ut=0;ut<qt.length;ut++)if(Jl(Mt,{dateTimeLabelFormat:qt[ut]}),ht.attr({text:Kt.call(Mt,Mt)}),ht.getBBox().width<i.getSlotWidth(F)-2*(E.padding||0))return;ht.attr({text:""})}:F.shortenLabel=void 0,q&&i._addedPlotLB&&F.moveLabel(Vt,E),Aa(ht)||F.movedLabel?ht&&ht.textStr!==Vt&&!q&&(!ht.textWidth||E.style.width||ht.styles.width||ht.css({width:null}),ht.attr({text:Vt}),ht.textPxLength=ht.getBBox().width):(F.label=ht=F.createLabel(Vt,E),F.rotation=0)}createLabel(F,i,l){let c=this.axis,{renderer:y,styledMode:w}=c.chart,M=i.style.whiteSpace,S=Aa(F)&&i.enabled?y.text(F,l==null?void 0:l.x,l==null?void 0:l.y,i.useHTML).add(c.labelGroup):void 0;return S&&(w||S.css(th(i.style)),S.textPxLength=S.getBBox().width,!w&&M&&S.css({whiteSpace:M})),S}destroy(){Kl(this,this.axis)}getPosition(F,i,l,c){let y=this.axis,w=y.chart,M=c&&w.oldChartHeight||w.chartHeight,S={x:F?Ta(y.translate(i+l,void 0,void 0,c)+y.transB):y.left+y.offset+(y.opposite?(c&&w.oldChartWidth||w.chartWidth)-y.right-y.left:0),y:F?M-y.bottom+y.offset-(y.opposite?y.height:0):Ta(M-y.translate(i+l,void 0,void 0,c)-y.transB)};return S.y=$h(S.y,-1e9,1e9),zn(this,"afterGetPosition",{pos:S}),S}getLabelPosition(F,i,l,c,y,w,M,S){let E,W,U=this.axis,H=U.transA,q=U.isLinked&&U.linkedParent?U.linkedParent.reversed:U.reversed,it=U.staggerLines,ht=U.tickRotCorr||{x:0,y:0},yt=c||U.reserveSpaceDefault?0:-U.labelOffset*(U.labelAlign==="center"?.5:1),xt=y.distance,ut={};return E=U.side===0?l.rotation?-xt:-l.getBBox().height:U.side===2?ht.y+xt:Math.cos(l.rotation*Pl)*(ht.y-l.getBBox(!1,0).height/2),Aa(y.y)&&(E=U.side===0&&U.horiz?y.y+E:y.y),F=F+Tn(y.x,[0,1,0,-1][U.side]*xt)+yt+ht.x-(w&&c?w*H*(q?-1:1):0),i=i+E-(w&&!c?w*H*(q?1:-1):0),it&&(W=M/(S||1)%it,U.opposite&&(W=it-W-1),i+=W*(U.labelOffset/it)),ut.x=F,ut.y=Math.round(i),zn(this,"afterGetLabelPosition",{pos:ut,tickmarkOffset:w,index:M}),ut}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(F,i,l,c,y=!1,w){return w.crispLine([["M",F,i],["L",F+(y?0:-l),i+(y?l:0)]],c)}handleOverflow(F){var xt;let i=this.axis,l=i.options.labels,c=F.x,y=i.chart.chartWidth,w=i.chart.spacing,M=Tn(i.labelLeft,Math.min(i.pos,w[3])),S=Tn(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,y-w[1])),E=this.label,W=this.rotation,U=Ql(i.labelAlign||E.attr("align")),H=E.getBBox().width,q=i.getSlotWidth(this),it=q,ht=1,yt;W||l.overflow!=="justify"?W<0&&c-U*H<M?yt=Math.round(c/Math.cos(W*Pl)-M):W>0&&c+U*H>S&&(yt=Math.round((y-c)/Math.cos(W*Pl))):(c-U*H<M?it=F.x+it*(1-U)-M:c+(1-U)*H>S&&(it=S-F.x+it*U,ht=-1),(it=Math.min(q,it))<q&&i.labelAlign==="center"&&(F.x+=ht*(q-it-U*(q-Math.min(H,it)))),(H>it||i.autoRotation&&((xt=E==null?void 0:E.styles)!=null&&xt.width))&&(yt=it)),yt&&E&&(this.shortenLabel?this.shortenLabel():E.css(Jl({},{width:Math.floor(yt)+"px",lineClamp:+!i.isRadial})))}moveLabel(F,i){let l=this,c=l.label,y=l.axis,w=!1,M;c&&c.textStr===F?(l.movedLabel=c,w=!0,delete l.label):ta(y.ticks,function(S){w||S.isNew||S===l||!S.label||S.label.textStr!==F||(l.movedLabel=S.label,w=!0,S.labelPos=l.movedLabel.xy,delete S.label)}),!w&&(l.labelPos||c)&&(M=l.labelPos||c.xy,l.movedLabel=l.createLabel(F,i,M),l.movedLabel&&l.movedLabel.attr({opacity:0}))}render(F,i,l){var ht;let c=this.axis,y=c.horiz,w=this.pos,M=Tn(this.tickmarkOffset,c.tickmarkOffset),S=this.getPosition(y,w,M,i),E=S.x,W=S.y,U=c.pos,H=U+c.len,q=y?E:W,it=Tn(l,(ht=this.label)==null?void 0:ht.newOpacity,1);!c.chart.polar&&(Ta(q)<U||q>H)&&(l=0),l??(l=1),this.isActive=!0,this.renderGridLine(i,l),this.renderMark(S,l),this.renderLabel(S,i,it,F),this.isNew=!1,zn(this,"afterRender")}renderGridLine(F,i){let l=this.axis,c=l.options,y={},w=this.pos,M=this.type,S=Tn(this.tickmarkOffset,l.tickmarkOffset),E=l.chart.renderer,W=this.gridLine,U,H=c.gridLineWidth,q=c.gridLineColor,it=c.gridLineDashStyle;this.type==="minor"&&(H=c.minorGridLineWidth,q=c.minorGridLineColor,it=c.minorGridLineDashStyle),W||(l.chart.styledMode||(y.stroke=q,y["stroke-width"]=H||0,y.dashstyle=it),M||(y.zIndex=1),F&&(i=0),this.gridLine=W=E.path().attr(y).addClass("highcharts-"+(M?M+"-":"")+"grid-line").add(l.gridGroup)),W&&(U=l.getPlotLinePath({value:w+S,lineWidth:W.strokeWidth(),force:"pass",old:F,acrossPanes:!1}))&&W[F||this.isNew?"attr":"animate"]({d:U,opacity:i})}renderMark(F,i){let l=this.axis,c=l.options,y=l.chart.renderer,w=this.type,M=l.tickSize(w?w+"Tick":"tick"),S=F.x,E=F.y,W=Tn(c[w!=="minor"?"tickWidth":"minorTickWidth"],!w&&l.isXAxis?1:0),U=c[w!=="minor"?"tickColor":"minorTickColor"],H=this.mark,q=!H;M&&(l.opposite&&(M[0]=-M[0]),!H&&(this.mark=H=y.path().addClass("highcharts-"+(w?w+"-":"")+"tick").add(l.axisGroup),l.chart.styledMode||H.attr({stroke:U,"stroke-width":W})),H[q?"attr":"animate"]({d:this.getMarkPath(S,E,M[0],H.strokeWidth(),l.horiz,y),opacity:i}))}renderLabel(F,i,l,c){let y=this.axis,w=y.horiz,M=y.options,S=this.label,E=M.labels,W=E.step,U=Tn(this.tickmarkOffset,y.tickmarkOffset),H=F.x,q=F.y,it=!0;S&&Pa(H)&&(S.xy=F=this.getLabelPosition(H,q,S,w,E,U,c,W),(!this.isFirst||this.isLast||M.showFirstLabel)&&(!this.isLast||this.isFirst||M.showLastLabel)?!w||E.step||E.rotation||i||l===0||this.handleOverflow(F):it=!1,W&&c%W&&(it=!1),it&&Pa(F.y)?(F.opacity=l,S[this.isNewLabel?"attr":"animate"](F).show(!0),this.isNewLabel=!1):(S.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let F=this.label,i=this.axis;F&&!this.isNew&&(F.animate({opacity:0},void 0,F.destroy),delete this.label),i.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Ua}=Hr,{xAxis:ea,yAxis:Va}=Ld,{defaultOptions:ia}=Le,{registerEventOptions:sa}=Sa,{deg2rad:Ca}=ke,{arrayMax:Mh,arrayMin:Ed,clamp:An,correctFloat:Er,defined:ir,destroyObjectProperties:Id,erase:Bd,error:ra,extend:Cl,fireEvent:bs,getClosestDistance:o,insertItem:x,isArray:I,isNumber:j,isString:nt,merge:bt,normalizeTickInterval:$t,objectEach:ye,pick:de,relativeLength:pe,removeEvent:ci,splat:Wi,syncTimeout:ds}=wi,bi=(F,i)=>$t(i,void 0,void 0,de(F.options.allowDecimals,i<.5||F.tickAmount!==void 0),!!F.tickAmount);Cl(ia,{xAxis:ea,yAxis:bt(ea,Va)});class Ai{constructor(i,l,c){this.init(i,l,c)}init(i,l,c=this.coll){let y=c==="xAxis",w=this.isZAxis||(i.inverted?!y:y);this.chart=i,this.horiz=w,this.isXAxis=y,this.coll=c,bs(this,"init",{userOptions:l}),this.opposite=de(l.opposite,this.opposite),this.side=de(l.side,this.side,w?2*!this.opposite:this.opposite?1:3),this.setOptions(l);let M=this.options,S=M.labels;this.type??(this.type=M.type||"linear"),this.uniqueNames??(this.uniqueNames=M.uniqueNames??!0),bs(this,"afterSetType"),this.userOptions=l,this.minPixelPadding=0,this.reversed=de(M.reversed,this.reversed),this.visible=M.visible,this.zoomEnabled=M.zoomEnabled,this.hasNames=this.type==="category"||M.categories===!0,this.categories=I(M.categories)&&M.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=ir(M.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=M.minRange||M.maxZoom,this.range=M.range,this.offset=M.offset||0,this.max=void 0,this.min=void 0;let E=de(M.crosshair,Wi(i.options.tooltip.crosshairs)[+!y]);this.crosshair=E===!0?{}:E,i.axes.indexOf(this)===-1&&(y?i.axes.splice(i.xAxis.length,0,this):i.axes.push(this),x(this,i[this.coll])),i.orderItems(this.coll),this.series=this.series||[],i.inverted&&!this.isZAxis&&y&&!ir(this.reversed)&&(this.reversed=!0),this.labelRotation=j(S.rotation)?S.rotation:void 0,sa(this,M),bs(this,"afterInit")}setOptions(i){let l=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=bt(l,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},ia[this.coll],i),bs(this,"afterSetOptions",{userOptions:i})}defaultLabelFormatter(){let i=this.axis,{numberFormatter:l}=this.chart,c=j(this.value)?this.value:NaN,y=i.chart.time,w=i.categories,M=this.dateTimeLabelFormat,S=ia.lang,E=S.numericSymbols,W=S.numericSymbolMagnitude||1e3,U=i.logarithmic?Math.abs(c):i.tickInterval,H=E==null?void 0:E.length,q,it;if(w)it=`${this.value}`;else if(M)it=y.dateFormat(M,c,!0);else if(H&&E&&U>=1e3)for(;H--&&it===void 0;)U>=(q=Math.pow(W,H+1))&&10*c%q==0&&E[H]!==null&&c!==0&&(it=l(c/q,-1)+E[H]);return it===void 0&&(it=Math.abs(c)>=1e4?l(c,-1):l(c,-1,void 0,"")),it}getSeriesExtremes(){let i,l=this;bs(this,"getSeriesExtremes",null,function(){l.hasVisibleSeries=!1,l.dataMin=l.dataMax=l.threshold=void 0,l.softThreshold=!l.isXAxis,l.series.forEach(c=>{if(c.reserveSpace()){let y=c.options,w,M=y.threshold,S,E;if(l.hasVisibleSeries=!0,l.positiveValuesOnly&&0>=(M||0)&&(M=void 0),l.isXAxis)(w=c.getColumn("x")).length&&(w=l.logarithmic?w.filter(W=>W>0):w,S=(i=c.getXExtremes(w)).min,E=i.max,j(S)||S instanceof Date||(w=w.filter(j),S=(i=c.getXExtremes(w)).min,E=i.max),w.length&&(l.dataMin=Math.min(de(l.dataMin,S),S),l.dataMax=Math.max(de(l.dataMax,E),E)));else{let W=c.applyExtremes();j(W.dataMin)&&(S=W.dataMin,l.dataMin=Math.min(de(l.dataMin,S),S)),j(W.dataMax)&&(E=W.dataMax,l.dataMax=Math.max(de(l.dataMax,E),E)),ir(M)&&(l.threshold=M),(!y.softThreshold||l.positiveValuesOnly)&&(l.softThreshold=!1)}}})}),bs(this,"afterGetSeriesExtremes")}translate(i,l,c,y,w,M){var yt;let S=this.linkedParent||this,E=y&&S.old?S.old.min:S.min;if(!j(E))return NaN;let W=S.minPixelPadding,U=(S.isOrdinal||((yt=S.brokenAxis)==null?void 0:yt.hasBreaks)||S.logarithmic&&w)&&S.lin2val,H=1,q=0,it=y&&S.old?S.old.transA:S.transA,ht=0;return it||(it=S.transA),c&&(H*=-1,q=S.len),S.reversed&&(H*=-1,q-=H*(S.sector||S.len)),l?(ht=(i=i*H+q-W)/it+E,U&&(ht=S.lin2val(ht))):(U&&(i=S.val2lin(i)),ht=H*(i-E)*it+q+H*W+(j(M)?it*M:0),S.isRadial||(ht=Er(ht))),ht}toPixels(i,l){var c;return this.translate(((c=this.chart)==null?void 0:c.time.parse(i))??NaN,!1,!this.horiz,void 0,!0)+(l?0:this.pos)}toValue(i,l){return this.translate(i-(l?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(i){let l=this,c=l.chart,y=l.left,w=l.top,M=i.old,S=i.value,E=i.lineWidth,W=M&&c.oldChartHeight||c.chartHeight,U=M&&c.oldChartWidth||c.chartWidth,H=l.transB,q=i.translatedValue,it=i.force,ht,yt,xt,ut,wt;function Mt(Vt,qt,ve){return it!=="pass"&&(Vt<qt||Vt>ve)&&(it?Vt=An(Vt,qt,ve):wt=!0),Vt}let Kt={value:S,lineWidth:E,old:M,force:it,acrossPanes:i.acrossPanes,translatedValue:q};return bs(this,"getPlotLinePath",Kt,function(Vt){ht=xt=(q=An(q=de(q,l.translate(S,void 0,void 0,M)),-1e9,1e9))+H,yt=ut=W-q-H,j(q)?l.horiz?(yt=w,ut=W-l.bottom+(l.options.isInternal?0:c.scrollablePixelsY||0),ht=xt=Mt(ht,y,y+l.width)):(ht=y,xt=U-l.right+(c.scrollablePixelsX||0),yt=ut=Mt(yt,w,w+l.height)):(wt=!0,it=!1),Vt.path=wt&&!it?void 0:c.renderer.crispLine([["M",ht,yt],["L",xt,ut]],E||1)}),Kt.path}getLinearTickPositions(i,l,c){let y,w,M,S=Er(Math.floor(l/i)*i),E=Er(Math.ceil(c/i)*i),W=[];if(Er(S+i)===S&&(M=20),this.single)return[l];for(y=S;y<=E&&(W.push(y),(y=Er(y+i,M))!==w);)w=y;return W}getMinorTickInterval(){let{minorTicks:i,minorTickInterval:l}=this.options;return i===!0?de(l,"auto"):i!==!1?l:void 0}getMinorTickPositions(){var U;let i=this.options,l=this.tickPositions,c=this.minorTickInterval,y=this.pointRangePadding||0,w=(this.min||0)-y,M=(this.max||0)+y,S=(U=this.brokenAxis)!=null&&U.hasBreaks?this.brokenAxis.unitLength:M-w,E=[],W;if(S&&S/c<this.len/3){let H=this.logarithmic;if(H)this.paddedTicks.forEach(function(q,it,ht){it&&E.push.apply(E,H.getLogTickPositions(c,ht[it-1],ht[it],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")E=E.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(c),w,M,i.startOfWeek));else for(W=w+(l[0]-w)%c;W<=M&&W!==E[0];W+=c)E.push(W)}return E.length!==0&&this.trimTicks(E),E}adjustForMinRange(){let i=this.options,l=this.logarithmic,c=this.chart.time,{max:y,min:w,minRange:M}=this,S,E,W,U;this.isXAxis&&M===void 0&&!l&&(M=ir(i.min)||ir(i.max)||ir(i.floor)||ir(i.ceiling)?null:Math.min(5*(o(this.series.map(H=>{let q=H.getColumn("x");return H.xIncrement?q.slice(0,2):q}))||0),this.dataMax-this.dataMin)),j(y)&&j(w)&&j(M)&&y-w<M&&(E=this.dataMax-this.dataMin>=M,S=(M-y+w)/2,W=[w-S,c.parse(i.min)??w-S],E&&(W[2]=l?l.log2lin(this.dataMin):this.dataMin),U=[(w=Mh(W))+M,c.parse(i.max)??w+M],E&&(U[2]=l?l.log2lin(this.dataMax):this.dataMax),(y=Ed(U))-w<M&&(W[0]=y-M,W[1]=c.parse(i.min)??y-M,w=Mh(W))),this.minRange=M,this.min=w,this.max=y}getClosest(){let i,l;if(this.categories)l=1;else{let c=[];this.series.forEach(function(y){let w=y.closestPointRange,M=y.getColumn("x");M.length===1?c.push(M[0]):y.sorted&&ir(w)&&y.reserveSpace()&&(l=ir(l)?Math.min(l,w):w)}),c.length&&(c.sort((y,w)=>y-w),i=o([c]))}return i&&l?Math.min(i,l):i||l}nameToX(i){let l=I(this.options.categories),c=l?this.categories:this.names,y=i.options.x,w;return i.series.requireSorting=!1,ir(y)||(y=this.uniqueNames&&c?l?c.indexOf(i.name):de(c.keys[i.name],-1):i.series.autoIncrement()),y===-1?!l&&c&&(w=c.length):j(y)&&(w=y),w!==void 0?(this.names[w]=i.name,this.names.keys[i.name]=w):i.x&&(w=i.x),w}updateNames(){let i=this,l=this.names;l.length>0&&(Object.keys(l.keys).forEach(function(c){delete l.keys[c]}),l.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(c=>{c.xIncrement=null,(!c.points||c.isDirtyData)&&(i.max=Math.max(i.max||0,c.dataTable.rowCount-1),c.processData(),c.generatePoints());let y=c.getColumn("x").slice();c.data.forEach((w,M)=>{let S=y[M];w!=null&&w.options&&w.name!==void 0&&(S=i.nameToX(w))!==void 0&&S!==w.x&&(y[M]=w.x=S)}),c.dataTable.setColumn("x",y)}))}setAxisTranslation(){var q;let i=this,l=i.max-i.min,c=i.linkedParent,y=!!i.categories,w=i.isXAxis,M=i.axisPointRange||0,S,E=0,W=0,U,H=i.transA;(w||y||M)&&(S=i.getClosest(),c?(E=c.minPointOffset,W=c.pointRangePadding):i.series.forEach(function(it){let ht=y?1:w?de(it.options.pointRange,S,0):i.axisPointRange||0,yt=it.options.pointPlacement;if(M=Math.max(M,ht),!i.single||y){let xt=it.is("xrange")?!w:w;E=Math.max(E,xt&&nt(yt)?0:ht/2),W=Math.max(W,xt&&yt==="on"?0:ht)}}),U=(q=i.ordinal)!=null&&q.slope&&S?i.ordinal.slope/S:1,i.minPointOffset=E*=U,i.pointRangePadding=W*=U,i.pointRange=Math.min(M,i.single&&y?1:l),w&&(i.closestPointRange=S)),i.translationSlope=i.transA=H=i.staticScale||i.len/(l+W||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=H*E,bs(this,"afterSetAxisTranslation")}minFromRange(){let{max:i,min:l}=this;return j(i)&&j(l)&&i-l||void 0}setTickInterval(i){var ki,Ei,pi,Fi;let{categories:l,chart:c,dataMax:y,dataMin:w,dateTime:M,isXAxis:S,logarithmic:E,options:W,softThreshold:U}=this,H=c.time,q=j(this.threshold)?this.threshold:void 0,it=this.minRange||0,{ceiling:ht,floor:yt,linkedTo:xt,softMax:ut,softMin:wt}=W,Mt=j(xt)&&((ki=c[this.coll])==null?void 0:ki[xt]),Kt=W.tickPixelInterval,Vt=W.maxPadding,qt=W.minPadding,ve=0,he,fe=j(W.tickInterval)&&W.tickInterval>=0?W.tickInterval:void 0,Ie,ze,Je,ni;if(M||l||Mt||this.getTickAmount(),Je=de(this.userMin,H.parse(W.min)),ni=de(this.userMax,H.parse(W.max)),Mt?(this.linkedParent=Mt,he=Mt.getExtremes(),this.min=de(he.min,he.dataMin),this.max=de(he.max,he.dataMax),this.type!==Mt.type&&ra(11,!0,c)):(U&&ir(q)&&j(y)&&j(w)&&(w>=q?(Ie=q,qt=0):y<=q&&(ze=q,Vt=0)),this.min=de(Je,Ie,w),this.max=de(ni,ze,y)),j(this.max)&&j(this.min)&&(E&&(this.positiveValuesOnly&&!i&&0>=Math.min(this.min,de(w,this.min))&&ra(10,!0,c),this.min=Er(E.log2lin(this.min),16),this.max=Er(E.log2lin(this.max),16)),this.range&&j(w)&&(this.userMin=this.min=Je=Math.max(w,this.minFromRange()||0),this.userMax=ni=this.max,this.range=void 0)),bs(this,"foundExtremes"),this.adjustForMinRange(),j(this.min)&&j(this.max)){if(!j(this.userMin)&&j(wt)&&wt<this.min&&(this.min=Je=wt),!j(this.userMax)&&j(ut)&&ut>this.max&&(this.max=ni=ut),l||this.axisPointRange||(Ei=this.stacking)!=null&&Ei.usePercentage||Mt||(ve=this.max-this.min)&&(!ir(Je)&&qt&&(this.min-=ve*qt),!ir(ni)&&Vt&&(this.max+=ve*Vt)),!j(this.userMin)&&j(yt)&&(this.min=Math.max(this.min,yt)),!j(this.userMax)&&j(ht)&&(this.max=Math.min(this.max,ht)),U&&j(w)&&j(y)){let Ps=q||0;!ir(Je)&&this.min<Ps&&w>=Ps?this.min=W.minRange?Math.min(Ps,this.max-it):Ps:!ir(ni)&&this.max>Ps&&y<=Ps&&(this.max=W.minRange?Math.max(Ps,this.min+it):Ps)}!c.polar&&this.min>this.max&&(ir(W.min)?this.max=this.min:ir(W.max)&&(this.min=this.max)),ve=this.max-this.min}if(this.min!==this.max&&j(this.min)&&j(this.max)?Mt&&!fe&&Kt===Mt.options.tickPixelInterval?this.tickInterval=fe=Mt.tickInterval:this.tickInterval=de(fe,this.tickAmount?ve/Math.max(this.tickAmount-1,1):void 0,l?1:ve*Kt/Math.max(this.len,Kt)):this.tickInterval=1,S&&!i){let Ps=this.min!==((pi=this.old)==null?void 0:pi.min)||this.max!==((Fi=this.old)==null?void 0:Fi.max);this.series.forEach(function(Ss){var Bs;Ss.forceCrop=(Bs=Ss.forceCropping)==null?void 0:Bs.call(Ss),Ss.processData(Ps)}),bs(this,"postProcessData",{hasExtremesChanged:Ps})}this.setAxisTranslation(),bs(this,"initialAxisTranslation"),this.pointRange&&!fe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Pi=de(W.minTickInterval,M&&!this.series.some(Ps=>!Ps.sorted)?this.closestPointRange:0);!fe&&Pi&&this.tickInterval<Pi&&(this.tickInterval=Pi),M||E||fe||(this.tickInterval=bi(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var U,H;let i=this.options,l=i.tickPositions,c=i.tickPositioner,y=this.getMinorTickInterval(),w=!this.isPanning,M=w&&i.startOnTick,S=w&&i.endOnTick,E=[],W;if(this.tickmarkOffset=this.categories&&i.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&ir(this.min)&&!this.tickAmount&&(this.min%1==0||i.allowDecimals!==!1),l)E=l.slice();else if(j(this.min)&&j(this.max)){if(!((U=this.ordinal)!=null&&U.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))E=[this.min,this.max],ra(19,!1,this.chart);else if(this.dateTime)E=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,(H=this.ordinal)==null?void 0:H.positions,this.closestPointRange,!0);else if(this.logarithmic)E=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let q=this.tickInterval,it=q;for(;it<=2*q&&(E=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&E.length>this.tickAmount);)this.tickInterval=bi(this,it*=1.1)}E.length>this.len&&(E=[E[0],E[E.length-1]])[0]===E[1]&&(E.length=1),c&&(this.tickPositions=E,(W=c.apply(this,[this.min,this.max]))&&(E=W))}this.tickPositions=E,this.minorTickInterval=y==="auto"&&this.tickInterval?this.tickInterval/i.minorTicksPerMajor:y,this.paddedTicks=E.slice(0),this.trimTicks(E,M,S),!this.isLinked&&j(this.min)&&j(this.max)&&(this.single&&E.length<2&&!this.categories&&!this.series.some(q=>q.is("heatmap")&&q.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),l||W||this.adjustTickAmount()),bs(this,"afterSetTickPositions")}trimTicks(i,l,c){let y=i[0],w=i[i.length-1],M=!this.isOrdinal&&this.minPointOffset||0;if(bs(this,"trimTicks"),!this.isLinked||!this.grid){if(l&&y!==-1/0)this.min=y;else for(;this.min-M>i[0];)i.shift();if(c)this.max=w;else for(;this.max+M<i[i.length-1];)i.pop();i.length===0&&ir(y)&&!this.options.tickPositions&&i.push((w+y)/2)}}alignToOthers(){let i,l=this,c=l.chart,y=[this],w=l.options,M=c.options.chart,S=this.coll==="yAxis"&&M.alignThresholds,E=[];if(l.thresholdAlignment=void 0,(M.alignTicks!==!1&&w.alignTicks||S)&&w.startOnTick!==!1&&w.endOnTick!==!1&&!l.logarithmic){let W=H=>{let{horiz:q,options:it}=H;return[q?it.left:it.top,it.width,it.height,it.pane].join(",")},U=W(this);c[this.coll].forEach(function(H){let{series:q}=H;q.length&&q.some(it=>it.visible)&&H!==l&&W(H)===U&&(i=!0,y.push(H))})}if(i&&S){y.forEach(U=>{let H=U.getThresholdAlignment(l);j(H)&&E.push(H)});let W=E.length>1?E.reduce((U,H)=>U+=H,0)/E.length:void 0;y.forEach(U=>{U.thresholdAlignment=W})}return i}getThresholdAlignment(i){if((!j(this.dataMin)||this!==i&&this.series.some(l=>l.isDirty||l.isDirtyData))&&this.getSeriesExtremes(),j(this.threshold)){let l=An((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(l=1-l),l}}getTickAmount(){let i=this.options,l=i.tickPixelInterval,c=i.tickAmount;ir(i.tickInterval)||c||!(this.len<l)||this.isRadial||this.logarithmic||!i.startOnTick||!i.endOnTick||(c=2),!c&&this.alignToOthers()&&(c=Math.ceil(this.len/l)+1),c<4&&(this.finalTickAmt=c,c=5),this.tickAmount=c}adjustTickAmount(){let i=this,{finalTickAmt:l,max:c,min:y,options:w,tickPositions:M,tickAmount:S,thresholdAlignment:E}=i,W=M==null?void 0:M.length,U=de(i.threshold,i.softThreshold?0:null),H,q,it=i.tickInterval,ht,yt=()=>M.push(Er(M[M.length-1]+it)),xt=()=>M.unshift(Er(M[0]-it));if(j(E)&&(ht=E<.5?Math.ceil(E*(S-1)):Math.floor(E*(S-1)),w.reversed&&(ht=S-1-ht)),i.hasData()&&j(y)&&j(c)){let ut=()=>{i.transA*=(W-1)/(S-1),i.min=w.startOnTick?M[0]:Math.min(y,M[0]),i.max=w.endOnTick?M[M.length-1]:Math.max(c,M[M.length-1])};if(j(ht)&&j(i.threshold)){for(;M[ht]!==U||M.length!==S||M[0]>y||M[M.length-1]<c;){for(M.length=0,M.push(i.threshold);M.length<S;)M[ht]===void 0||M[ht]>i.threshold?xt():yt();if(it>8*i.tickInterval)break;it*=2}ut()}else if(W<S){for(;M.length<S;)M.length%2||y===U?yt():xt();ut()}if(ir(l)){for(q=H=M.length;q--;)(l===3&&q%2==1||l<=2&&q>0&&q<H-1)&&M.splice(q,1);i.finalTickAmt=void 0}}}setScale(){var M,S,E,W,U;let{coll:i,stacking:l}=this,c=!1,y=!1;this.series.forEach(H=>{var q;c=c||H.isDirtyData||H.isDirty,y=y||((q=H.xAxis)==null?void 0:q.isDirty)||!1}),this.setAxisSize();let w=this.len!==((M=this.old)==null?void 0:M.len);w||c||y||this.isLinked||this.forceRedraw||this.userMin!==((S=this.old)==null?void 0:S.userMin)||this.userMax!==((E=this.old)==null?void 0:E.userMax)||this.alignToOthers()?(l&&i==="yAxis"&&l.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),l&&i==="xAxis"&&l.buildStacks(),this.isDirty||(this.isDirty=w||this.min!==((W=this.old)==null?void 0:W.min)||this.max!==((U=this.old)==null?void 0:U.max))):l&&l.cleanStacks(),c&&delete this.allExtremes,bs(this,"afterSetScale")}setExtremes(i,l,c=!0,y,w){let M=this.chart;this.series.forEach(S=>{delete S.kdTree}),i=M.time.parse(i),l=M.time.parse(l),bs(this,"setExtremes",w=Cl(w,{min:i,max:l}),S=>{this.userMin=S.min,this.userMax=S.max,this.eventArgs=S,c&&M.redraw(y)})}setAxisSize(){let i=this.chart,l=this.options,c=l.offsets||[0,0,0,0],y=this.horiz,w=this.width=Math.round(pe(de(l.width,i.plotWidth-c[3]+c[1]),i.plotWidth)),M=this.height=Math.round(pe(de(l.height,i.plotHeight-c[0]+c[2]),i.plotHeight)),S=this.top=Math.round(pe(de(l.top,i.plotTop+c[0]),i.plotHeight,i.plotTop)),E=this.left=Math.round(pe(de(l.left,i.plotLeft+c[3]),i.plotWidth,i.plotLeft));this.bottom=i.chartHeight-M-S,this.right=i.chartWidth-w-E,this.len=Math.max(y?w:M,0),this.pos=y?E:S}getExtremes(){let i=this.logarithmic;return{min:i?Er(i.lin2log(this.min)):this.min,max:i?Er(i.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(i){let l=this.logarithmic,c=l?l.lin2log(this.min):this.min,y=l?l.lin2log(this.max):this.max;return i===null||i===-1/0?i=c:i===1/0?i=y:c>i?i=c:y<i&&(i=y),this.translate(i,0,1,0,1)}autoLabelAlign(i){let l=(de(i,0)-90*this.side+720)%360,c={align:"center"};return bs(this,"autoLabelAlign",c,function(y){l>15&&l<165?y.align="right":l>195&&l<345&&(y.align="left")}),c.align}tickSize(i){let l=this.options,c=de(l[i==="tick"?"tickWidth":"minorTickWidth"],i==="tick"&&this.isXAxis&&!this.categories?1:0),y=l[i==="tick"?"tickLength":"minorTickLength"],w;c&&y&&(l[i+"Position"]==="inside"&&(y=-y),w=[y,c]);let M={tickSize:w};return bs(this,"afterTickSize",M),M.tickSize}labelMetrics(){let i=this.chart.renderer,l=this.ticks,c=l[Object.keys(l)[0]]||{};return this.chart.renderer.fontMetrics(c.label||c.movedLabel||i.box)}unsquish(){let i=this.options.labels,l=i.padding||0,c=this.horiz,y=this.tickInterval,w=this.len/((+!!this.categories+this.max-this.min)/y),M=i.rotation,S=Er(.8*this.labelMetrics().h),E=Math.max(this.max-this.min,0),W=function(ht){let yt=(ht+2*l)/(w||1);return(yt=yt>1?Math.ceil(yt):1)*y>E&&ht!==1/0&&w!==1/0&&E&&(yt=Math.ceil(E/y)),Er(yt*y)},U=y,H,q=Number.MAX_VALUE,it;if(c){if(!i.staggerLines&&(j(M)?it=[M]:w<i.autoRotationLimit&&(it=i.autoRotation)),it){let ht,yt;for(let xt of it)(xt===M||xt&&xt>=-90&&xt<=90)&&(yt=(ht=W(Math.abs(S/Math.sin(Ca*xt))))+Math.abs(xt/360))<q&&(q=yt,H=xt,U=ht)}}else U=W(.75*S);return this.autoRotation=it,this.labelRotation=de(H,j(M)?M:0),i.step?y:U}getSlotWidth(i){let l=this.chart,c=this.horiz,y=this.options.labels,w=Math.max(this.tickPositions.length-!this.categories,1),M=l.margin[3];if(i&&j(i.slotWidth))return i.slotWidth;if(c&&y.step<2&&!this.isRadial)return y.rotation?0:(this.staggerLines||1)*this.len/w;if(!c){let S=y.style.width;if(S!==void 0)return parseInt(String(S),10);if(M)return M-l.spacing[3]}return .33*l.chartWidth}renderUnsquish(){let i=this.chart,l=i.renderer,c=this.tickPositions,y=this.ticks,w=this.options.labels,M=w.style,S=this.horiz,E=this.getSlotWidth(),W=Math.max(1,Math.round(E-(S?2*(w.padding||0):w.distance||0))),U={},H=this.labelMetrics(),q=M.lineClamp,it,ht=q??(Math.floor(this.len/(c.length*H.h))||1),yt=0;nt(w.rotation)||(U.rotation=w.rotation||0),c.forEach(function(xt){var Mt;let ut=y[xt];ut.movedLabel&&ut.replaceMovedLabel();let wt=((Mt=ut.label)==null?void 0:Mt.textPxLength)||0;wt>yt&&(yt=wt)}),this.maxLabelLength=yt,this.autoRotation?yt>W&&yt>H.h?U.rotation=this.labelRotation:this.labelRotation=0:E&&(it=W),U.rotation&&(it=yt>.5*i.chartHeight?.33*i.chartHeight:yt,q||(ht=1)),this.labelAlign=w.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(U.align=this.labelAlign),c.forEach(function(xt){let ut=y[xt],wt=ut==null?void 0:ut.label,Mt=M.width,Kt={};wt&&(wt.attr(U),ut.shortenLabel?ut.shortenLabel():it&&!Mt&&M.whiteSpace!=="nowrap"&&(it<(wt.textPxLength||0)||wt.element.tagName==="SPAN")?wt.css(Cl(Kt,{width:`${it}px`,lineClamp:ht})):!wt.styles.width||Kt.width||Mt||wt.css({width:"auto"}),ut.rotation=U.rotation)},this),this.tickRotCorr=l.rotCorr(H.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(i){return i.hasData()})||this.options.showEmpty&&ir(this.min)&&ir(this.max)}addTitle(i){let l,c=this.chart.renderer,y=this.horiz,w=this.opposite,M=this.options.title,S=this.chart.styledMode;this.axisTitle||((l=M.textAlign)||(l=(y?{low:"left",middle:"center",high:"right"}:{low:w?"right":"left",middle:"center",high:w?"left":"right"})[M.align]),this.axisTitle=c.text(M.text||"",0,0,M.useHTML).attr({zIndex:7,rotation:M.rotation||0,align:l}).addClass("highcharts-axis-title"),S||this.axisTitle.css(bt(M.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),S||M.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[i?"show":"hide"](i)}generateTick(i){let l=this.ticks;l[i]?l[i].addLabel():l[i]=new ko(this,i)}createGroups(){let{axisParent:i,chart:l,coll:c,options:y}=this,w=l.renderer,M=(S,E,W)=>w.g(S).attr({zIndex:W}).addClass(`highcharts-${c.toLowerCase()}${E} `+(this.isRadial?`highcharts-radial-axis${E} `:"")+(y.className||"")).add(i);this.axisGroup||(this.gridGroup=M("grid","-grid",y.gridZIndex),this.axisGroup=M("axis","",y.zIndex),this.labelGroup=M("axis-labels","-labels",y.labels.zIndex))}getOffset(){let i=this,{chart:l,horiz:c,options:y,side:w,ticks:M,tickPositions:S,coll:E}=i,W=l.inverted&&!i.isZAxis?[1,0,3,2][w]:w,U=i.hasData(),H=y.title,q=y.labels,it=j(y.crossing),ht=l.axisOffset,yt=l.clipOffset,xt=[-1,1,1,-1][w],ut,wt=0,Mt,Kt=0,Vt=0,qt,ve;if(i.showAxis=ut=U||y.showEmpty,i.staggerLines=i.horiz&&q.staggerLines||void 0,i.createGroups(),U||i.isLinked?(S.forEach(function(he){i.generateTick(he)}),i.renderUnsquish(),i.reserveSpaceDefault=w===0||w===2||{1:"left",3:"right"}[w]===i.labelAlign,de(q.reserveSpace,!it&&null,i.labelAlign==="center"||null,i.reserveSpaceDefault)&&S.forEach(function(he){Vt=Math.max(M[he].getLabelSize(),Vt)}),i.staggerLines&&(Vt*=i.staggerLines),i.labelOffset=Vt*(i.opposite?-1:1)):ye(M,function(he,fe){he.destroy(),delete M[fe]}),H!=null&&H.text&&H.enabled!==!1&&(i.addTitle(ut),ut&&!it&&H.reserveSpace!==!1&&(i.titleOffset=wt=i.axisTitle.getBBox()[c?"height":"width"],Kt=ir(Mt=H.offset)?0:de(H.margin,c?5:10))),i.renderLine(),i.offset=xt*de(y.offset,ht[w]?ht[w]+(y.margin||0):0),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},ve=w===0?-i.labelMetrics().h:w===2?i.tickRotCorr.y:0,qt=Math.abs(Vt)+Kt,Vt&&(qt-=ve,qt+=xt*(c?de(q.y,i.tickRotCorr.y+xt*q.distance):de(q.x,xt*q.distance))),i.axisTitleMargin=de(Mt,qt),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(M,S)),E!=="colorAxis"&&yt){let he=this.tickSize("tick");ht[w]=Math.max(ht[w],(i.axisTitleMargin||0)+wt+xt*i.offset,qt,S!=null&&S.length&&he?he[0]+xt*i.offset:0);let fe=!i.axisLine||y.offset?0:i.axisLine.strokeWidth()/2;yt[W]=Math.max(yt[W],fe)}bs(this,"afterGetOffset")}getLinePath(i){let l=this.chart,c=this.opposite,y=this.offset,w=this.horiz,M=this.left+(c?this.width:0)+y,S=l.chartHeight-this.bottom-(c?this.height:0)+y;return c&&(i*=-1),l.renderer.crispLine([["M",w?this.left:M,w?S:this.top],["L",w?l.chartWidth-this.right:M,w?S:l.chartHeight-this.bottom]],i)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(i){let l=this.horiz,c=this.left,y=this.top,w=this.len,M=this.options.title,S=l?c:y,E=this.opposite,W=this.offset,U=M.x,H=M.y,q=this.chart.renderer.fontMetrics(i),it=i?Math.max(i.getBBox(!1,0).height-q.h-1,0):0,ht={low:S+(l?0:w),middle:S+w/2,high:S+(l?w:0)}[M.align],yt=(l?y+this.height:c)+(l?1:-1)*(E?-1:1)*(this.axisTitleMargin||0)+[-it,it,q.f,-it][this.side],xt={x:l?ht+U:yt+(E?this.width:0)+W+U,y:l?yt+H-(E?this.height:0)+W:ht+H};return bs(this,"afterGetTitlePosition",{titlePosition:xt}),xt}renderMinorTick(i,l){let c=this.minorTicks;c[i]||(c[i]=new ko(this,i,"minor")),l&&c[i].isNew&&c[i].render(null,!0),c[i].render(null,!1,1)}renderTick(i,l,c){var M;let y=this.isLinked,w=this.ticks;(!y||i>=this.min&&i<=this.max||(M=this.grid)!=null&&M.isColumn)&&(w[i]||(w[i]=new ko(this,i)),c&&w[i].isNew&&w[i].render(l,!0,-1),w[i].render(l))}render(){let i,l,c=this,y=c.chart,w=c.logarithmic,M=y.renderer,S=c.options,E=c.isLinked,W=c.tickPositions,U=c.axisTitle,H=c.ticks,q=c.minorTicks,it=c.alternateBands,ht=S.stackLabels,yt=S.alternateGridColor,xt=S.crossing,ut=c.tickmarkOffset,wt=c.axisLine,Mt=c.showAxis,Kt=Ua(M.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[H,q,it].forEach(function(Vt){ye(Vt,function(qt){qt.isActive=!1})}),j(xt)){let Vt=this.isXAxis?y.yAxis[0]:y.xAxis[0],qt=[1,-1,-1,1][this.side];if(Vt){let ve=Vt.toPixels(xt,!0);c.horiz&&(ve=Vt.len-ve),c.offset=qt*ve}}if(c.hasData()||E){let Vt=c.chart.hasRendered&&c.old&&j(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(qt){c.renderMinorTick(qt,Vt)}),W.length&&(W.forEach(function(qt,ve){c.renderTick(qt,ve,Vt)}),ut&&(c.min===0||c.single)&&(H[-1]||(H[-1]=new ko(c,-1,null,!0)),H[-1].render(-1))),yt&&W.forEach(function(qt,ve){l=W[ve+1]!==void 0?W[ve+1]+ut:c.max-ut,ve%2==0&&qt<c.max&&l<=c.max+(y.polar?-ut:ut)&&(it[qt]||(it[qt]=new ke.PlotLineOrBand(c,{})),i=qt+ut,it[qt].options={from:w?w.lin2log(i):i,to:w?w.lin2log(l):l,color:yt,className:"highcharts-alternate-grid"},it[qt].render(),it[qt].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(S.plotLines||[]).concat(S.plotBands||[]).forEach(function(qt){c.addPlotBandOrLine(qt)}))}[H,q,it].forEach(function(Vt){let qt=[],ve=Kt.duration;ye(Vt,function(he,fe){he.isActive||(he.render(fe,!1,0),he.isActive=!1,qt.push(fe))}),ds(function(){let he=qt.length;for(;he--;)Vt[qt[he]]&&!Vt[qt[he]].isActive&&(Vt[qt[he]].destroy(),delete Vt[qt[he]])},Vt!==it&&y.hasRendered&&ve?ve:0)}),wt&&(wt[wt.isPlaced?"animate":"attr"]({d:this.getLinePath(wt.strokeWidth())}),wt.isPlaced=!0,wt[Mt?"show":"hide"](Mt)),U&&Mt&&(U[U.isNew?"attr":"animate"](c.getTitlePosition(U)),U.isNew=!1),ht!=null&&ht.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,bs(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(i){i.render()})),this.series.forEach(function(i){i.isDirty=!0})}getKeepProps(){return this.keepProps||Ai.keepProps}destroy(i){let l=this,c=l.plotLinesAndBands,y=this.eventOptions;if(bs(this,"destroy",{keepEvents:i}),i||ci(l),[l.ticks,l.minorTicks,l.alternateBands].forEach(function(w){Id(w)}),c){let w=c.length;for(;w--;)c[w].destroy()}for(let w in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(M){l[M]&&(l[M]=l[M].destroy())}),l.plotLinesAndBandsGroups)l.plotLinesAndBandsGroups[w]=l.plotLinesAndBandsGroups[w].destroy();ye(l,function(w,M){l.getKeepProps().indexOf(M)===-1&&delete l[M]}),this.eventOptions=y}drawCrosshair(i,l){var H;let c=this.crosshair,y=(c==null?void 0:c.snap)??!0,w=this.chart,M,S,E,W=this.cross,U;if(bs(this,"drawCrosshair",{e:i,point:l}),i||(i=(H=this.cross)==null?void 0:H.e),c&&(ir(l)||!y)!==!1){if(y?ir(l)&&(S=de(this.coll!=="colorAxis"?l.crosshairPos:null,this.isXAxis?l.plotX:this.len-l.plotY)):S=i&&(this.horiz?i.chartX-this.pos:this.len-i.chartY+this.pos),ir(S)&&(U={value:l&&(this.isXAxis?l.x:de(l.stackY,l.y)),translatedValue:S},w.polar&&Cl(U,{isCrosshair:!0,chartX:i==null?void 0:i.chartX,chartY:i==null?void 0:i.chartY,point:l}),M=this.getPlotLinePath(U)||null),!ir(M))return void this.hideCrosshair();E=this.categories&&!this.isRadial,W||(this.cross=W=w.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(E?"category ":"thin ")+(c.className||"")).attr({zIndex:de(c.zIndex,2)}).add(),!w.styledMode&&(W.attr({stroke:c.color||(E?Ii.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":de(c.width,1)}).css({"pointer-events":"none"}),c.dashStyle&&W.attr({dashstyle:c.dashStyle}))),W.show().attr({d:M}),E&&!c.width&&W.attr({"stroke-width":this.transA}),this.cross.e=i}else this.hideCrosshair();bs(this,"afterDrawCrosshair",{e:i,point:l})}hideCrosshair(){this.cross&&this.cross.hide(),bs(this,"afterHideCrosshair")}update(i,l){let c=this.chart;i=bt(this.userOptions,i),this.destroy(!0),this.init(c,i),c.isDirtyBox=!0,de(l,!0)&&c.redraw()}remove(i){let l=this.chart,c=this.coll,y=this.series,w=y.length;for(;w--;)y[w]&&y[w].remove(!1);Bd(l.axes,this),Bd(l[c]||[],this),l.orderItems(c),this.destroy(),l.isDirtyBox=!0,de(i,!0)&&l.redraw()}setTitle(i,l){this.update({title:i},l)}setCategories(i,l){this.update({categories:i},l)}}Ai.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:to,getMagnitude:hn,normalizeTickInterval:Za,timeUnits:rs}=wi;(function(F){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function l(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new c(this))}F.compose=function(y){return y.keepProps.includes("dateTime")||(y.keepProps.push("dateTime"),y.prototype.getTimeTicks=i,to(y,"afterSetType",l)),y};class c{constructor(w){this.axis=w}normalizeTimeTickInterval(w,M){let S=M||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],E=S[S.length-1],W=rs[E[0]],U=E[1],H;for(H=0;H<S.length&&(W=rs[(E=S[H])[0]],U=E[1],!S[H+1]||!(w<=(W*U[U.length-1]+rs[S[H+1][0]])/2));H++);W===rs.year&&w<5*W&&(U=[1,2,5]);let q=Za(w/W,U,E[0]==="year"?Math.max(hn(w/W),1):1);return{unitRange:W,count:q,unitName:E[0]}}getXDateFormat(w,M){let{axis:S}=this,E=S.chart.time;return S.closestPointRange?E.getDateFormat(S.closestPointRange,w,S.options.startOfWeek,M)||E.resolveDTLFormat(M.year).main:E.resolveDTLFormat(M.day).main}}F.Additions=c})(ae||(ae={}));let Sh=ae,{addEvent:Th,normalizeTickInterval:eh,pick:qc}=wi;(function(F){function i(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new c(this))}function l(){let y=this.logarithmic;y&&(this.lin2val=function(w){return y.lin2log(w)},this.val2lin=function(w){return y.log2lin(w)})}F.compose=function(y){return y.keepProps.includes("logarithmic")||(y.keepProps.push("logarithmic"),Th(y,"afterSetType",i),Th(y,"afterInit",l)),y};class c{constructor(w){this.axis=w}getLogTickPositions(w,M,S,E){let W=this.axis,U=W.len,H=W.options,q=[];if(E||(this.minorAutoInterval=void 0),w>=.5)w=Math.round(w),q=W.getLinearTickPositions(w,M,S);else if(w>=.08){let it,ht,yt,xt,ut,wt,Mt,Kt=Math.floor(M);for(it=w>.3?[1,2,4]:w>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],ht=Kt;ht<S+1&&!Mt;ht++)for(yt=0,xt=it.length;yt<xt&&!Mt;yt++)(ut=this.log2lin(this.lin2log(ht)*it[yt]))>M&&(!E||wt<=S)&&wt!==void 0&&q.push(wt),wt>S&&(Mt=!0),wt=ut}else{let it=this.lin2log(M),ht=this.lin2log(S),yt=E?W.getMinorTickInterval():H.tickInterval,xt=H.tickPixelInterval/(E?5:1),ut=E?U/W.tickPositions.length:U;w=eh(w=qc(yt==="auto"?null:yt,this.minorAutoInterval,(ht-it)*xt/(ut||1))),q=W.getLinearTickPositions(w,it,ht).map(this.log2lin),E||(this.minorAutoInterval=w/5)}return E||(W.tickInterval=w),q}lin2log(w){return Math.pow(10,w)}log2lin(w){return Math.log(w)/Math.LN10}}F.Additions=c})(ue||(ue={}));let Dd=ue,{erase:nr,extend:_l,isNumber:gc}=wi;(function(F){let i;function l(W){return this.addPlotBandOrLine(W,"plotBands")}function c(W,U){let H=this.userOptions,q=new i(this,W);if(this.visible&&(q=q.render()),q){if(this._addedPlotLB||(this._addedPlotLB=!0,(H.plotLines||[]).concat(H.plotBands||[]).forEach(it=>{this.addPlotBandOrLine(it)})),U){let it=H[U]||[];it.push(W),H[U]=it}this.plotLinesAndBands.push(q)}return q}function y(W){return this.addPlotBandOrLine(W,"plotLines")}function w(W,U,H){H=H||this.options;let q=this.getPlotLinePath({value:U,force:!0,acrossPanes:H.acrossPanes}),it=[],ht=this.horiz,yt=!gc(this.min)||!gc(this.max)||W<this.min&&U<this.min||W>this.max&&U>this.max,xt=this.getPlotLinePath({value:W,force:!0,acrossPanes:H.acrossPanes}),ut,wt=1,Mt;if(xt&&q)for(yt&&(Mt=xt.toString()===q.toString(),wt=0),ut=0;ut<xt.length;ut+=2){let Kt=xt[ut],Vt=xt[ut+1],qt=q[ut],ve=q[ut+1];(Kt[0]==="M"||Kt[0]==="L")&&(Vt[0]==="M"||Vt[0]==="L")&&(qt[0]==="M"||qt[0]==="L")&&(ve[0]==="M"||ve[0]==="L")&&(ht&&qt[1]===Kt[1]?(qt[1]+=wt,ve[1]+=wt):ht||qt[2]!==Kt[2]||(qt[2]+=wt,ve[2]+=wt),it.push(["M",Kt[1],Kt[2]],["L",Vt[1],Vt[2]],["L",ve[1],ve[2]],["L",qt[1],qt[2]],["Z"])),it.isFlat=Mt}return it}function M(W){this.removePlotBandOrLine(W)}function S(W){let U=this.plotLinesAndBands,H=this.options,q=this.userOptions;if(U){let it=U.length;for(;it--;)U[it].id===W&&U[it].destroy();[H.plotLines||[],q.plotLines||[],H.plotBands||[],q.plotBands||[]].forEach(function(ht){var yt;for(it=ht.length;it--;)((yt=ht[it])==null?void 0:yt.id)===W&&nr(ht,ht[it])})}}function E(W){this.removePlotBandOrLine(W)}F.compose=function(W,U){let H=U.prototype;return H.addPlotBand||(i=W,_l(H,{addPlotBand:l,addPlotLine:y,addPlotBandOrLine:c,getPlotBandPath:w,removePlotBand:M,removePlotLine:E,removePlotBandOrLine:S})),U}})(le||(le={}));let mc=le,{addEvent:qh,arrayMax:Ah,arrayMin:Kh,defined:_a,destroyObjectProperties:of,erase:Xp,fireEvent:nf,merge:Yp,objectEach:xc,pick:Kc}=wi;class Pn{static compose(i,l){return qh(i,"afterInit",function(){this.labelCollectors.push(()=>{var y;let c=[];for(let w of this.axes)for(let{label:M,options:S}of w.plotLinesAndBands)M&&!((y=S==null?void 0:S.label)!=null&&y.allowOverlap)&&c.push(M);return c})}),mc.compose(Pn,l)}constructor(i,l){this.axis=i,this.options=l,this.id=l.id}render(){nf(this,"render");let{axis:i,options:l}=this,{horiz:c,logarithmic:y}=i,{color:w,events:M,zIndex:S=0}=l,{renderer:E,time:W}=i.chart,U={},H=W.parse(l.to),q=W.parse(l.from),it=W.parse(l.value),ht=l.borderWidth,yt=l.label,{label:xt,svgElem:ut}=this,wt=[],Mt,Kt=_a(q)&&_a(H),Vt=_a(it),qt=!ut,ve={class:"highcharts-plot-"+(Kt?"band ":"line ")+(l.className||"")},he=Kt?"bands":"lines";if(!i.chart.styledMode&&(Vt?(ve.stroke=w||"#999999",ve["stroke-width"]=Kc(l.width,1),l.dashStyle&&(ve.dashstyle=l.dashStyle)):Kt&&(ve.fill=w||"#e6e9ff",ht&&(ve.stroke=l.borderColor,ve["stroke-width"]=ht))),U.zIndex=S,he+="-"+S,(Mt=i.plotLinesAndBandsGroups[he])||(i.plotLinesAndBandsGroups[he]=Mt=E.g("plot-"+he).attr(U).add()),ut||(this.svgElem=ut=E.path().attr(ve).add(Mt)),_a(it))wt=i.getPlotLinePath({value:(y==null?void 0:y.log2lin(it))??it,lineWidth:ut.strokeWidth(),acrossPanes:l.acrossPanes});else{if(!(_a(q)&&_a(H)))return;wt=i.getPlotBandPath((y==null?void 0:y.log2lin(q))??q,(y==null?void 0:y.log2lin(H))??H,l)}return!this.eventsAdded&&M&&(xc(M,(fe,Ie)=>{ut==null||ut.on(Ie,ze=>{M[Ie].apply(this,[ze])})}),this.eventsAdded=!0),(qt||!ut.d)&&(wt!=null&&wt.length)?ut.attr({d:wt}):ut&&(wt?(ut.show(),ut.animate({d:wt})):ut.d&&(ut.hide(),xt&&(this.label=xt=xt.destroy()))),yt&&(_a(yt.text)||_a(yt.formatter))&&(wt!=null&&wt.length)&&i.width>0&&i.height>0&&!wt.isFlat?(yt=Yp({align:c&&Kt?"center":void 0,x:c?!Kt&&4:10,verticalAlign:!c&&Kt?"middle":void 0,y:c?Kt?16:10:Kt?6:-4,rotation:c&&!Kt?90:0,...Kt?{inside:!0}:{}},yt),this.renderLabel(yt,wt,Kt,S)):xt&&xt.hide(),this}renderLabel(i,l,c,y){var ht,yt;let w=this.axis,M=w.chart.renderer,S=i.inside,E=this.label;E||(this.label=E=M.text(this.getLabelText(i),0,0,i.useHTML).attr({align:i.textAlign||i.align,rotation:i.rotation,class:"highcharts-plot-"+(c?"band":"line")+"-label "+(i.className||""),zIndex:y}),w.chart.styledMode||E.css(Yp({color:(ht=w.chart.options.title)==null?void 0:ht.style.color,fontSize:"0.8em",textOverflow:c&&!S?"":"ellipsis"},i.style)),E.add());let W=l.xBounds||[l[0][1],l[1][1],c?l[2][1]:l[0][1]],U=l.yBounds||[l[0][2],l[1][2],c?l[2][2]:l[0][2]],H=Kh(W),q=Kh(U),it=Ah(W)-H;E.align(i,!1,{x:H,y:q,width:it,height:Ah(U)-q}),E.alignAttr.y-=M.fontMetrics(E).b,(!E.alignValue||E.alignValue==="left"||_a(S))&&E.css({width:(((yt=i.style)==null?void 0:yt.width)||(c&&S?it:E.rotation===90?w.height-(E.alignAttr.y-w.top):(i.clip?w.width:w.chart.chartWidth)-(E.alignAttr.x-w.left)))+"px"}),E.show(!0)}getLabelText(i){return _a(i.formatter)?i.formatter.call(this):i.text}destroy(){Xp(this.axis.plotLinesAndBands,this),delete this.axis,of(this)}}let{animObject:Jc}=Hr,{format:Jh}=br,{composed:pl,dateFormats:yc,doc:Qc,isSafari:Qh}=ke,{distribute:td}=hr,{addEvent:af,clamp:Ph,css:zd,discardElement:jp,extend:Up,fireEvent:tp,getAlignFactor:vc,isArray:ed,isNumber:ih,isObject:Vp,isString:Zp,merge:id,pick:oa,pushUnique:$p,splat:ep,syncTimeout:ip}=wi;class bc{constructor(i,l,c){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=i,this.init(i,l),this.pointer=c}bodyFormatter(i){return i.map(l=>{let c=l.series.tooltipOptions,y=l.formatPrefix||"point";return(c[y+"Formatter"]||l.tooltipFormatter).call(l,c[y+"Format"]||"")})}cleanSplit(i){this.chart.series.forEach(function(l){let c=l==null?void 0:l.tt;c&&(!c.isActive||i?l.tt=c.destroy():c.isActive=!1)})}defaultFormatter(i){let l,c=this.points||ep(this);return(l=(l=[i.headerFooterFormatter(c[0])]).concat(i.bodyFormatter(c))).push(i.headerFooterFormatter(c[0],!0)),l}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),jp(this.container)),wi.clearTimeout(this.hideTimer)}getAnchor(i,l){var U;let c,{chart:y,pointer:w}=this,M=y.inverted,S=y.plotTop,E=y.plotLeft;if(i=ep(i),(U=i[0].series)!=null&&U.yAxis&&!i[0].series.yAxis.options.reversedStacks&&(i=i.slice().reverse()),this.followPointer&&l)l.chartX===void 0&&(l=w.normalize(l)),c=[l.chartX-E,l.chartY-S];else if(i[0].tooltipPos)c=i[0].tooltipPos;else{let H=0,q=0;i.forEach(function(it){let ht=it.pos(!0);ht&&(H+=ht[0],q+=ht[1])}),H/=i.length,q/=i.length,this.shared&&i.length>1&&l&&(M?H=l.chartX:q=l.chartY),c=[H-E,q-S]}let W={point:i[0],ret:c};return tp(this,"getAnchor",W),W.ret.map(Math.round)}getClassName(i,l,c){let y=this.options,w=i.series,M=w.options;return[y.className,"highcharts-label",c&&"highcharts-tooltip-header",l?"highcharts-tooltip-box":"highcharts-tooltip",!c&&"highcharts-color-"+oa(i.colorIndex,w.colorIndex),M==null?void 0:M.className].filter(Zp).join(" ")}getLabel({anchorX:i,anchorY:l}={anchorX:0,anchorY:0}){let c=this,y=this.chart.styledMode,w=this.options,M=this.split&&this.allowShared,S=this.container,E=this.chart.renderer;if(this.label){let W=!this.label.hasClass("highcharts-label");(!M&&W||M&&!W)&&this.destroy()}if(!this.label){if(this.outside){let W=this.chart,U=W.options.chart.style,H=Os.getRendererType();this.container=S=ke.doc.createElement("div"),S.className="highcharts-tooltip-container "+(W.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),zd(S,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((U==null?void 0:U.zIndex)||0)+3)}),this.renderer=E=new H(S,0,0,U,void 0,void 0,E.styledMode)}if(M?this.label=E.g("tooltip"):(this.label=E.label("",i,l,w.shape||"callout",void 0,void 0,w.useHTML,void 0,"tooltip").attr({padding:w.padding,r:w.borderRadius}),y||this.label.attr({fill:w.backgroundColor,"stroke-width":w.borderWidth||0}).css(w.style).css({pointerEvents:w.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),c.outside){let W=this.label;[W.xSetter,W.ySetter].forEach((U,H)=>{W[H?"ySetter":"xSetter"]=q=>{U.call(W,c.distance),W[H?"y":"x"]=q,S&&(S.style[H?"top":"left"]=`${q}px`)}})}this.label.attr({zIndex:8}).shadow(w.shadow??!w.fixed).add()}return S&&!S.parentElement&&ke.doc.body.appendChild(S),this.label}getPlayingField(){let{body:i,documentElement:l}=Qc,{chart:c,distance:y,outside:w}=this;return{width:w?Math.max(i.scrollWidth,l.scrollWidth,i.offsetWidth,l.offsetWidth,l.clientWidth)-2*y-2:c.chartWidth,height:w?Math.max(i.scrollHeight,l.scrollHeight,i.offsetHeight,l.offsetHeight,l.clientHeight):c.chartHeight}}getPosition(i,l,c){var ki,Ei;let{distance:y,chart:w,outside:M,pointer:S}=this,{inverted:E,plotLeft:W,plotTop:U,polar:H}=w,{plotX:q=0,plotY:it=0}=c,ht={},yt=E&&c.h||0,{height:xt,width:ut}=this.getPlayingField(),wt=S.getChartPosition(),Mt=pi=>pi*wt.scaleX,Kt=pi=>pi*wt.scaleY,Vt=pi=>{let Fi=pi==="x";return[pi,Fi?ut:xt,Fi?i:l].concat(M?[Fi?Mt(i):Kt(l),Fi?wt.left-y+Mt(q+W):wt.top-y+Kt(it+U),0,Fi?ut:xt]:[Fi?i:l,Fi?q+W:it+U,Fi?W:U,Fi?W+w.plotWidth:U+w.plotHeight])},qt=Vt("y"),ve=Vt("x"),he,fe=!!c.negative;!H&&((Ei=(ki=w.hoverSeries)==null?void 0:ki.yAxis)!=null&&Ei.reversed)&&(fe=!fe);let Ie=!this.followPointer&&oa(c.ttBelow,!H&&!E===fe),ze=function(pi,Fi,Ps,Ss,Bs,dn,cs){let sr=M?pi==="y"?Kt(y):Mt(y):y,Ki=(Ps-Ss)/2,$i=Ss<Bs-y,io=Bs+y+Ss<Fi,Zs=Bs-sr-Ps+Ki,Mr=Bs+sr-Ki;if(Ie&&io)ht[pi]=Mr;else if(!Ie&&$i)ht[pi]=Zs;else if($i)ht[pi]=Math.min(cs-Ss,Zs-yt<0?Zs:Zs-yt);else{if(!io)return ht[pi]=0,!1;ht[pi]=Math.max(dn,Mr+yt+Ps>Fi?Mr:Mr+yt)}},Je=function(pi,Fi,Ps,Ss,Bs){if(Bs<y||Bs>Fi-y)return!1;Bs<Ps/2?ht[pi]=1:Bs>Fi-Ss/2?ht[pi]=Fi-Ss-2:ht[pi]=Bs-Ps/2},ni=function(pi){[qt,ve]=[ve,qt],he=pi},Pi=()=>{ze.apply(0,qt)!==!1?Je.apply(0,ve)!==!1||he||(ni(!0),Pi()):he?ht.x=ht.y=0:(ni(!0),Pi())};return(E&&!H||this.len>1)&&ni(),Pi(),ht}getFixedPosition(i,l,c){var q;let y=c.series,{chart:w,options:M,split:S}=this,E=M.position,W=E.relativeTo,U=M.shared||(q=y==null?void 0:y.yAxis)!=null&&q.isRadial&&(W==="pane"||!W)?"plotBox":W,H=U==="chart"?w.renderer:w[U]||w.getClipBox(y,!0);return{x:H.x+(H.width-i)*vc(E.align)+E.x,y:H.y+(H.height-l)*vc(E.verticalAlign)+(!S&&E.y||0)}}hide(i){let l=this;wi.clearTimeout(this.hideTimer),i=oa(i,this.options.hideDelay),this.isHidden||(this.hideTimer=ip(function(){let c=l.getLabel();l.getLabel().animate({opacity:0},{duration:i&&150,complete:()=>{c.hide(),l.container&&l.container.remove()}}),l.isHidden=!0},i))}init(i,l){this.chart=i,this.options=l,this.crosshairs=[],this.isHidden=!0,this.split=l.split&&!i.inverted&&!i.polar,this.shared=l.shared||this.split,this.outside=oa(l.outside,!!(i.scrollablePixelsX||i.scrollablePixelsY))}shouldStickOnContact(i){return!!(!this.followPointer&&this.options.stickOnContact&&(!i||this.pointer.inClass(i.target,"highcharts-tooltip")))}move(i,l,c,y){let{followPointer:w,options:M}=this,S=Jc(!w&&!this.isHidden&&!M.fixed&&M.animation),E=w||(this.len||0)>1,W={x:i,y:l};E?W.anchorX=W.anchorY=NaN:(W.anchorX=c,W.anchorY=y),S.step=()=>this.drawTracker(),this.getLabel().animate(W,S)}refresh(i,l){let{chart:c,options:y,pointer:w,shared:M}=this,S=ep(i),E=S[0],W=y.format,U=y.formatter||this.defaultFormatter,H=c.styledMode,q=this.allowShared;if(!y.enabled||!E.series)return;wi.clearTimeout(this.hideTimer),this.allowShared=!(!ed(i)&&i.series&&i.series.noSharedTooltip),q=q&&!this.allowShared,this.followPointer=!this.split&&E.series.tooltipOptions.followPointer;let it=this.getAnchor(i,l),ht=it[0],yt=it[1];M&&this.allowShared&&(w.applyInactiveState(S),S.forEach(wt=>wt.setState("hover")),E.points=S),this.len=S.length;let xt=Zp(W)?Jh(W,E,c):U.call(E,this);E.points=void 0;let ut=E.series;if(this.distance=oa(ut.tooltipOptions.distance,16),xt===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(xt,S);else{let wt=ht,Mt=yt;if(l&&w.isDirectTouch&&(wt=l.chartX-c.plotLeft,Mt=l.chartY-c.plotTop),!(c.polar||ut.options.clip===!1||S.some(Kt=>w.isDirectTouch||Kt.series.shouldShowTooltip(wt,Mt))))return void this.hide();{let Kt=this.getLabel(q&&this.tt||{});(!y.style.width||H)&&Kt.css({width:(this.outside?this.getPlayingField():c.spacingBox).width+"px"}),Kt.attr({class:this.getClassName(E),text:xt&&xt.join?xt.join(""):xt}),this.outside&&Kt.attr({x:Ph(Kt.x||0,0,this.getPlayingField().width-(Kt.width||0)-1)}),H||Kt.attr({stroke:y.borderColor||E.color||ut.color||"#666666"}),this.updatePosition({plotX:ht,plotY:yt,negative:E.negative,ttBelow:E.ttBelow,series:ut,h:it[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}tp(this,"refresh")}renderSplit(i,l){var Bs,dn;let c=this,{chart:y,chart:{chartWidth:w,chartHeight:M,plotHeight:S,plotLeft:E,plotTop:W,scrollablePixelsY:U=0,scrollablePixelsX:H,styledMode:q},distance:it,options:ht,options:{fixed:yt,position:xt,positioner:ut},pointer:wt}=c,{scrollLeft:Mt=0,scrollTop:Kt=0}=((Bs=y.scrollablePlotArea)==null?void 0:Bs.scrollingContainer)||{},Vt=c.outside&&typeof H!="number"?Qc.documentElement.getBoundingClientRect():{left:Mt,right:Mt+w},qt=c.getLabel(),ve=this.renderer||y.renderer,he=!!((dn=y.xAxis[0])!=null&&dn.opposite),{left:fe,top:Ie}=wt.getChartPosition(),ze=ut||yt,Je=W+Kt,ni=0,Pi=S-U,ki=function(cs,sr,Ki,$i=[0,0],io=!0){let Zs,Mr;if(Ki.isHeader)Mr=he?0:Pi,Zs=Ph($i[0]-cs/2,Vt.left,Vt.right-cs-(c.outside?fe:0));else if(yt&&Ki){let To=c.getFixedPosition(cs,sr,Ki);Zs=To.x,Mr=To.y-Je}else Mr=$i[1]-Je,Zs=Ph(Zs=io?$i[0]-cs-it:$i[0]+it,io?Zs:Vt.left,Vt.right);return{x:Zs,y:Mr}};Zp(i)&&(i=[!1,i]);let Ei=i.slice(0,l.length+1).reduce(function(cs,sr,Ki){if(sr!==!1&&sr!==""){let $i=l[Ki-1]||{isHeader:!0,plotX:l[0].plotX,plotY:S,series:{}},io=$i.isHeader,Zs=io?c:$i.series,Mr=Zs.tt=function($s,Nr,zh){let md=$s,{isHeader:Rh,series:ic}=Nr,Da=ic.tooltipOptions||ht;if(!md){let sc={padding:Da.padding,r:Da.borderRadius};q||(sc.fill=Da.backgroundColor,sc["stroke-width"]=Da.borderWidth??(yt&&!Rh?0:1)),md=ve.label("",0,0,Da[Rh?"headerShape":"shape"]||(yt&&!Rh?"rect":"callout"),void 0,void 0,Da.useHTML).addClass(c.getClassName(Nr,!0,Rh)).attr(sc).add(qt)}return md.isActive=!0,md.attr({text:zh}),q||md.css(Da.style).attr({stroke:Da.borderColor||Nr.color||ic.color||"#333333"}),md}(Zs.tt,$i,sr.toString()),To=Mr.getBBox(),ch=To.width+Mr.strokeWidth();io&&(ni=To.height,Pi+=ni,he&&(Je-=ni));let{anchorX:Qa,anchorY:_n}=function($s){let Nr,zh,{isHeader:md,plotX:Rh=0,plotY:ic=0,series:Da}=$s;if(md)Nr=Math.max(E+Rh,E),zh=W+S/2;else{let{xAxis:sc,yAxis:$g}=Da;Nr=sc.pos+Ph(Rh,-it,sc.len+it),Da.shouldShowTooltip(0,$g.pos-W+ic,{ignoreX:!0})&&(zh=$g.pos+ic)}return{anchorX:Nr=Ph(Nr,Vt.left-it,Vt.right+it),anchorY:zh}}($i);if(typeof _n=="number"){let $s=To.height+1,Nr=(ut||ki).call(c,ch,$s,$i,[Qa,_n]);cs.push({align:ze?0:void 0,anchorX:Qa,anchorY:_n,boxWidth:ch,point:$i,rank:oa(Nr.rank,+!!io),size:$s,target:Nr.y,tt:Mr,x:Nr.x})}else Mr.isActive=!1}return cs},[]);!ze&&Ei.some(cs=>{let{outside:sr}=c,Ki=(sr?fe:0)+cs.anchorX;return Ki<Vt.left&&Ki+cs.boxWidth<Vt.right||Ki<fe-Vt.left+cs.boxWidth&&Vt.right-Ki>Ki})&&(Ei=Ei.map(cs=>{let{x:sr,y:Ki}=ki.call(this,cs.boxWidth,cs.size,cs.point,[cs.anchorX,cs.anchorY],!1);return Up(cs,{target:Ki,x:sr})})),c.cleanSplit(),td(Ei,Pi);let pi={left:fe,right:fe};Ei.forEach(function(cs){let{x:sr,boxWidth:Ki,isHeader:$i}=cs;!$i&&(c.outside&&fe+sr<pi.left&&(pi.left=fe+sr),!$i&&c.outside&&pi.left+Ki>pi.right&&(pi.right=fe+sr))}),Ei.forEach(function(cs){let{x:sr,anchorX:Ki,anchorY:$i,pos:io,point:{isHeader:Zs}}=cs,Mr={visibility:io===void 0?"hidden":"inherit",x:sr,y:(io||0)+Je+(yt&&xt.y||0),anchorX:Ki,anchorY:$i};if(c.outside&&sr<Ki){let To=fe-pi.left;To>0&&(Zs||(Mr.x=sr+To,Mr.anchorX=Ki+To),Zs&&(Mr.x=(pi.right-pi.left)/2,Mr.anchorX=Ki+To))}cs.tt.attr(Mr)});let{container:Fi,outside:Ps,renderer:Ss}=c;if(Ps&&Fi&&Ss){let{width:cs,height:sr,x:Ki,y:$i}=qt.getBBox();Ss.setSize(cs+Ki,sr+$i,!1),Fi.style.left=pi.left+"px",Fi.style.top=Ie+"px"}Qh&&qt.attr({opacity:qt.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let i=this.chart,l=this.label,c=this.shared?i.hoverPoints:i.hoverPoint;if(!l||!c)return;let y={x:0,y:0,width:0,height:0},w=this.getAnchor(c),M=l.getBBox();w[0]+=i.plotLeft-(l.translateX||0),w[1]+=i.plotTop-(l.translateY||0),y.x=Math.min(0,w[0]),y.y=Math.min(0,w[1]),y.width=w[0]<0?Math.max(Math.abs(w[0]),M.width-w[0]):Math.max(Math.abs(w[0]),M.width),y.height=w[1]<0?Math.max(Math.abs(w[1]),M.height-Math.abs(w[1])):Math.max(Math.abs(w[1]),M.height),this.tracker?this.tracker.attr(y):(this.tracker=l.renderer.rect(y).addClass("highcharts-tracker").add(l),i.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(i){return i.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(i,l){let c=i.series,y=c.tooltipOptions,w=c.xAxis,M=w==null?void 0:w.dateTime,S={isFooter:l,point:i},E=y.xDateFormat||"",W=y[l?"footerFormat":"headerFormat"];return tp(this,"headerFormatter",S,function(U){if(M&&!E&&ih(i.key)&&(E=M.getXDateFormat(i.key,y.dateTimeLabelFormats)),M&&E){if(Vp(E)){let H=E;yc[0]=q=>c.chart.time.dateFormat(H,q),E="%0"}(i.tooltipDateKeys||["key"]).forEach(H=>{W=W.replace(RegExp("point\\."+H+"([ \\)}])"),`(point.${H}:${E})$1`)})}c.chart.styledMode&&(W=this.styledModeFormat(W)),U.text=Jh(W,i,this.chart)}),S.text||""}update(i){this.destroy(),this.init(this.chart,id(!0,this.options,i))}updatePosition(i){var Vt;let{chart:l,container:c,distance:y,options:w,pointer:M,renderer:S}=this,{height:E=0,width:W=0}=this.getLabel(),{fixed:U,positioner:H}=w,{left:q,top:it,scaleX:ht,scaleY:yt}=M.getChartPosition(),xt=(H||U&&this.getFixedPosition||this.getPosition).call(this,W,E,i),ut=ke.doc,wt=(i.plotX||0)+l.plotLeft,Mt=(i.plotY||0)+l.plotTop,Kt;if(S&&c){if(H||U){let{scrollLeft:qt=0,scrollTop:ve=0}=((Vt=l.scrollablePlotArea)==null?void 0:Vt.scrollingContainer)||{};xt.x+=qt+q-y,xt.y+=ve+it-y}Kt=(w.borderWidth||0)+2*y+2,S.setSize(Ph(W+Kt,0,ut.documentElement.clientWidth)-1,E+Kt,!1),(ht!==1||yt!==1)&&(zd(c,{transform:`scale(${ht}, ${yt})`}),wt*=ht,Mt*=yt),wt+=q-xt.x,Mt+=it-xt.y}this.move(Math.round(xt.x),Math.round(xt.y||0),wt,Mt)}}(function(F){F.compose=function(i){$p(pl,"Core.Tooltip")&&af(i,"afterInit",function(){let l=this.chart;l.options.tooltip&&(l.tooltip=new F(l,l.options.tooltip,this))})}})(bc||(bc={}));let ul=bc,{animObject:qp}=Hr,{defaultOptions:Ch}=Le,{format:wc}=br,{addEvent:sp,crisp:Ll,erase:Rd,extend:sh,fireEvent:kc,getNestedProperty:rp,isArray:Kp,isFunction:lf,isNumber:rh,isObject:Nd,merge:Wd,pick:La,syncTimeout:hf,removeEvent:Fd,uniqueKey:op}=wi;class Cn{animateBeforeDestroy(){let i=this,l={x:i.startXPos,opacity:0},c=i.getGraphicalProps();c.singular.forEach(function(y){i[y]=i[y].animate(y==="dataLabel"?{x:i[y].startXPos,y:i[y].startYPos,opacity:0}:l)}),c.plural.forEach(function(y){i[y].forEach(function(w){w.element&&w.animate(sh({x:i.startXPos},w.startYPos?{x:w.startXPos,y:w.startYPos}:{}))})})}applyOptions(i,l){let c=this.series,y=c.options.pointValKey||c.pointValKey;return sh(this,i=Cn.prototype.optionsToObject.call(this,i)),this.options=this.options?sh(this.options,i):i,i.group&&delete this.group,i.dataLabels&&delete this.dataLabels,y&&(this.y=Cn.prototype.getNestedProperty.call(this,y)),this.selected&&(this.state="select"),"name"in this&&l===void 0&&c.xAxis&&c.xAxis.hasNames&&(this.x=c.xAxis.nameToX(this)),this.x===void 0&&c?this.x=l??c.autoIncrement():rh(i.x)&&c.options.relativeXValue?this.x=c.autoIncrement(i.x):typeof this.x=="string"&&(l??(l=c.chart.time.parse(this.x)),rh(l)&&(this.x=l)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let i=this,l=i.series,c=l.chart,y=l.options.dataSorting,w=c.hoverPoints,M=qp(i.series.chart.renderer.globalAnimation),S=()=>{for(let E in(i.graphic||i.graphics||i.dataLabel||i.dataLabels)&&(Fd(i),i.destroyElements()),i)delete i[E]};i.legendItem&&c.legend.destroyItem(i),w&&(i.setState(),Rd(w,i),w.length||(c.hoverPoints=null)),i===c.hoverPoint&&i.onMouseOut(),y!=null&&y.enabled?(this.animateBeforeDestroy(),hf(S,M.duration)):S(),c.pointCount--}this.destroyed=!0}destroyElements(i){let l=this,c=l.getGraphicalProps(i);c.singular.forEach(function(y){l[y]=l[y].destroy()}),c.plural.forEach(function(y){l[y].forEach(function(w){w!=null&&w.element&&w.destroy()}),delete l[y]})}firePointEvent(i,l,c){let y=this,w=this.series.options;y.manageEvent(i),i==="click"&&w.allowPointSelect&&(c=function(M){!y.destroyed&&y.select&&y.select(null,M.ctrlKey||M.metaKey||M.shiftKey)}),kc(y,i,l,c)}getClassName(){var i;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((i=this.zone)!=null&&i.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(i){let l,c,y=this,w=[],M={singular:[],plural:[]};for((i=i||{graphic:1,dataLabel:1}).graphic&&w.push("graphic","connector"),i.dataLabel&&w.push("dataLabel","dataLabelPath","dataLabelUpper"),c=w.length;c--;)y[l=w[c]]&&M.singular.push(l);return["graphic","dataLabel"].forEach(function(S){let E=S+"s";i[S]&&y[E]&&M.plural.push(E)}),M}getNestedProperty(i){if(i)return i.indexOf("custom.")===0?rp(i,this.options):this[i]}getZone(){let i=this.series,l=i.zones,c=i.zoneAxis||"y",y,w=0;for(y=l[0];this[c]>=y.value;)y=l[++w];return this.nonZonedColor||(this.nonZonedColor=this.color),y!=null&&y.color&&!this.options.color?this.color=y.color:this.color=this.nonZonedColor,y}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(i,l,c){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=i,this.applyOptions(l,c),this.id??(this.id=op()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=i.options.nullInteraction),i.chart.pointCount++,kc(this,"afterInit")}isValid(){return(rh(this.x)||this.x instanceof Date)&&rh(this.y)}optionsToObject(i){var U;let l=this.series,c=l.options.keys,y=c||l.pointArrayMap||["y"],w=y.length,M={},S,E=0,W=0;if(rh(i)||i===null)M[y[0]]=i;else if(Kp(i))for(!c&&i.length>w&&((S=typeof i[0])=="string"?(U=l.xAxis)!=null&&U.dateTime?M.x=l.chart.time.parse(i[0]):M.name=i[0]:S==="number"&&(M.x=i[0]),E++);W<w;)c&&i[E]===void 0||(y[W].indexOf(".")>0?Cn.prototype.setNestedProperty(M,i[E],y[W]):M[y[W]]=i[E]),E++,W++;else typeof i=="object"&&(M=i,i.dataLabels&&(l.hasDataLabels=()=>!0),i.marker&&(l._hasPointMarkers=!0));return M}pos(i,l=this.plotY){if(!this.destroyed){let{plotX:c,series:y}=this,{chart:w,xAxis:M,yAxis:S}=y,E=0,W=0;if(rh(c)&&rh(l))return i&&(E=M?M.pos:w.plotLeft,W=S?S.pos:w.plotTop),w.inverted&&M&&S?[S.len-l+W,M.len-c+E]:[c+E,l+W]}}resolveColor(){let i=this.series,l=i.chart.options.chart,c=i.chart.styledMode,y,w,M=l.colorCount,S;delete this.nonZonedColor,i.options.colorByPoint?(c||(y=(w=i.options.colors||i.chart.options.colors)[i.colorCounter],M=w.length),S=i.colorCounter,i.colorCounter++,i.colorCounter===M&&(i.colorCounter=0)):(c||(y=i.color),S=i.colorIndex),this.colorIndex=La(this.options.colorIndex,S),this.color=La(this.options.color,y)}setNestedProperty(i,l,c){return c.split(".").reduce(function(y,w,M,S){let E=S.length-1===M;return y[w]=E?l:Nd(y[w],!0)?y[w]:{},y[w]},i),i}shouldDraw(){return!this.isNull}tooltipFormatter(i){var E;let{chart:l,pointArrayMap:c=["y"],tooltipOptions:y}=this.series,{valueDecimals:w="",valuePrefix:M="",valueSuffix:S=""}=y;return l.styledMode&&(i=((E=l.tooltip)==null?void 0:E.styledModeFormat(i))||i),c.forEach(W=>{W="{point."+W,(M||S)&&(i=i.replace(RegExp(W+"}","g"),M+W+"}"+S)),i=i.replace(RegExp(W+"}","g"),W+":,."+w+"f}")}),wc(i,this,l)}update(i,l,c,y){let w,M=this,S=M.series,E=M.graphic,W=S.chart,U=S.options;function H(){M.applyOptions(i);let q=E&&M.hasMockGraphic,it=M.y===null?!q:q;E&&it&&(M.graphic=E.destroy(),delete M.hasMockGraphic),Nd(i,!0)&&(E!=null&&E.element&&i&&i.marker&&i.marker.symbol!==void 0&&(M.graphic=E.destroy()),i!=null&&i.dataLabels&&M.dataLabel&&(M.dataLabel=M.dataLabel.destroy())),w=M.index;let ht={};for(let yt of S.dataColumnKeys())ht[yt]=M[yt];S.dataTable.setRow(ht,w),U.data[w]=Nd(U.data[w],!0)||Nd(i,!0)?M.options:La(i,U.data[w]),S.isDirty=S.isDirtyData=!0,!S.fixedBox&&S.hasCartesianSeries&&(W.isDirtyBox=!0),U.legendType==="point"&&(W.isDirtyLegend=!0),l&&W.redraw(c)}l=La(l,!0),y===!1?H():M.firePointEvent("update",{options:i},H)}remove(i,l){this.series.removePoint(this.series.data.indexOf(this),i,l)}select(i,l){let c=this,y=c.series,w=y.chart;i=La(i,!c.selected),this.selectedStaging=i,c.firePointEvent(i?"select":"unselect",{accumulate:l},function(){c.selected=c.options.selected=i,y.options.data[y.data.indexOf(c)]=c.options,c.setState(i&&"select"),l||w.getSelectedPoints().forEach(function(M){let S=M.series;M.selected&&M!==c&&(M.selected=M.options.selected=!1,S.options.data[S.data.indexOf(M)]=M.options,M.setState(w.hoverPoints&&S.options.inactiveOtherPoints?"inactive":""),M.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(i){let{inverted:l,pointer:c}=this.series.chart;c&&(i=i?c.normalize(i):c.getChartCoordinatesFromPoint(this,l),c.runPointActions(i,this))}onMouseOut(){let i=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(i.hoverPoints||[]).forEach(function(l){l.setState()}),i.hoverPoints=i.hoverPoint=null}manageEvent(i){var y,w,M,S,E,W,U;let l=Wd(this.series.options.point,this.options),c=(y=l.events)==null?void 0:y[i];lf(c)&&(!((w=this.hcEvents)!=null&&w[i])||((S=(M=this.hcEvents)==null?void 0:M[i])==null?void 0:S.map(H=>H.fn).indexOf(c))===-1)?((E=this.importedUserEvent)==null||E.call(this),this.importedUserEvent=sp(this,i,c),this.hcEvents&&(this.hcEvents[i].userEvent=!0)):this.importedUserEvent&&!c&&((W=this.hcEvents)!=null&&W[i])&&((U=this.hcEvents)!=null&&U[i].userEvent)&&(Fd(this,i),delete this.hcEvents[i],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(i,l){var qt,ve;let c=this.series,y=this.state,w=c.options.states[i||"normal"]||{},M=Ch.plotOptions[c.type].marker&&c.options.marker,S=M&&M.enabled===!1,E=((qt=M==null?void 0:M.states)==null?void 0:qt[i||"normal"])||{},W=E.enabled===!1,U=this.marker||{},H=c.chart,q=M&&c.markerAttribs,it=c.halo,ht,yt,xt,ut=c.stateMarkerGraphic,wt;if((i=i||"")===this.state&&!l||this.selected&&i!=="select"||w.enabled===!1||i&&(W||S&&E.enabled===!1)||i&&U.states&&U.states[i]&&U.states[i].enabled===!1)return;if(this.state=i,q&&(ht=c.markerAttribs(this,i)),this.graphic&&!this.hasMockGraphic){if(y&&this.graphic.removeClass("highcharts-point-"+y),i&&this.graphic.addClass("highcharts-point-"+i),!H.styledMode){yt=c.pointAttribs(this,i),xt=La(H.options.chart.animation,w.animation);let he=yt.opacity;c.options.inactiveOtherPoints&&rh(he)&&(this.dataLabels||[]).forEach(function(fe){fe&&!fe.hasClass("highcharts-data-label-hidden")&&(fe.animate({opacity:he},xt),fe.connector&&fe.connector.animate({opacity:he},xt))}),this.graphic.animate(yt,xt)}ht&&this.graphic.animate(ht,La(H.options.chart.animation,E.animation,M.animation)),ut&&ut.hide()}else i&&E&&(wt=U.symbol||c.symbol,ut&&ut.currentSymbol!==wt&&(ut=ut.destroy()),ht&&(ut?ut[l?"animate":"attr"]({x:ht.x,y:ht.y}):wt&&(c.stateMarkerGraphic=ut=H.renderer.symbol(wt,ht.x,ht.y,ht.width,ht.height,Wd(M,E)).add(c.markerGroup),ut.currentSymbol=wt)),!H.styledMode&&ut&&this.state!=="inactive"&&ut.attr(c.pointAttribs(this,i))),ut&&(ut[i&&this.isInside?"show":"hide"](),ut.element.point=this,ut.addClass(this.getClassName(),!0));let Mt=w.halo,Kt=this.graphic||ut,Vt=(Kt==null?void 0:Kt.visibility)||"inherit";Mt!=null&&Mt.size&&Kt&&Vt!=="hidden"&&!this.isCluster?(it||(c.halo=it=H.renderer.path().add(Kt.parentGroup)),it.show()[l?"animate":"attr"]({d:this.haloPath(Mt.size)}),it.attr({class:"highcharts-halo highcharts-color-"+La(this.colorIndex,c.colorIndex)+(this.className?" "+this.className:""),visibility:Vt,zIndex:-1}),it.point=this,H.styledMode||it.attr(sh({fill:this.color||c.color,"fill-opacity":Mt.opacity},Qs.filterUserAttributes(Mt.attributes||{})))):(ve=it==null?void 0:it.point)!=null&&ve.haloPath&&!it.point.destroyed&&it.animate({d:it.point.haloPath(0)},null,it.hide),kc(this,"afterSetState",{state:i})}haloPath(i){let l=this.pos();return l?this.series.chart.renderer.symbols.circle(Ll(l[0],1)-i,l[1]-i,2*i,2*i):[]}}let As=Cn,{parse:Jp}=Ii,{charts:ct,composed:O,isTouchDevice:Y}=ke,{addEvent:V,attr:et,css:pt,extend:ft,find:kt,fireEvent:Pt,isNumber:Rt,isObject:St,objectEach:Dt,offset:Ct,pick:At,pushUnique:Tt,splat:Yt}=wi;class Gt{applyInactiveState(i=[]){let l=[];i.forEach(c=>{let y=c.series;l.push(y),y.linkedParent&&l.push(y.linkedParent),y.linkedSeries&&l.push.apply(l,y.linkedSeries),y.navigatorSeries&&l.push(y.navigatorSeries),y.boosted&&y.markerGroup&&l.push.apply(l,this.chart.series.filter(w=>w.markerGroup===y.markerGroup))}),this.chart.series.forEach(c=>{l.indexOf(c)===-1?c.setState("inactive",!0):c.options.inactiveOtherPoints&&c.setAllPointsToState("inactive")})}destroy(){let i=this;this.eventsToUnbind.forEach(l=>l()),this.eventsToUnbind=[],!ke.chartCount&&(Gt.unbindDocumentMouseUp.forEach(l=>l.unbind()),Gt.unbindDocumentMouseUp.length=0,Gt.unbindDocumentTouchEnd&&(Gt.unbindDocumentTouchEnd=Gt.unbindDocumentTouchEnd())),clearInterval(i.tooltipTimeout),Dt(i,function(l,c){i[c]=void 0})}getSelectionMarkerAttrs(i,l){let c={args:{chartX:i,chartY:l},attrs:{},shapeType:"rect"};return Pt(this,"getSelectionMarkerAttrs",c,y=>{let w,{chart:M,zoomHor:S,zoomVert:E}=this,{mouseDownX:W=0,mouseDownY:U=0}=M,H=y.attrs;H.x=M.plotLeft,H.y=M.plotTop,H.width=S?1:M.plotWidth,H.height=E?1:M.plotHeight,S&&(H.width=Math.max(1,Math.abs(w=i-W)),H.x=(w>0?0:w)+W),E&&(H.height=Math.max(1,Math.abs(w=l-U)),H.y=(w>0?0:w)+U)}),c}drag(i){let{chart:l}=this,{mouseDownX:c=0,mouseDownY:y=0}=l,{panning:w,panKey:M,selectionMarkerFill:S}=l.options.chart,E=l.plotLeft,W=l.plotTop,U=l.plotWidth,H=l.plotHeight,q=St(w)?w.enabled:w,it=M&&i[`${M}Key`],ht=i.chartX,yt=i.chartY,xt,ut=this.selectionMarker;if((!ut||!ut.touch)&&(ht<E?ht=E:ht>E+U&&(ht=E+U),yt<W?yt=W:yt>W+H&&(yt=W+H),this.hasDragged=Math.sqrt(Math.pow(c-ht,2)+Math.pow(y-yt,2)),this.hasDragged>10)){xt=l.isInsidePlot(c-E,y-W,{visiblePlotOnly:!0});let{shapeType:wt,attrs:Mt}=this.getSelectionMarkerAttrs(ht,yt);this.hasZoom&&xt&&!it&&!ut&&(this.selectionMarker=ut=l.renderer[wt](),ut.attr({class:"highcharts-selection-marker",zIndex:7}).add(),l.styledMode||ut.attr({fill:S||Jp("#334eff").setOpacity(.25).get()})),ut&&ut.attr(Mt),xt&&!ut&&q&&l.pan(i,w)}}dragStart(i){let l=this.chart;l.mouseIsDown=i.type,l.cancelClick=!1,l.mouseDownX=i.chartX,l.mouseDownY=i.chartY}getSelectionBox(i){let l={args:{marker:i},result:i.getBBox()};return Pt(this,"getSelectionBox",l),l.result}drop(i){let l,{chart:c,selectionMarker:y}=this;for(let w of c.axes)w.isPanning&&(w.isPanning=!1,(w.options.startOnTick||w.options.endOnTick||w.series.some(M=>M.boosted))&&(w.forceRedraw=!0,w.setExtremes(w.userMin,w.userMax,!1),l=!0));if(l&&c.redraw(),y&&i){if(this.hasDragged){let w=this.getSelectionBox(y);c.transform({axes:c.axes.filter(M=>M.zoomEnabled&&(M.coll==="xAxis"&&this.zoomX||M.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:i,xAxis:[],yAxis:[],...w},from:w})}Rt(c.index)&&(this.selectionMarker=y.destroy())}c&&Rt(c.index)&&(pt(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(i,l,c){let y;return i.forEach(function(w){let M=!(w.noSharedTooltip&&l)&&0>w.options.findNearestPointBy.indexOf("y"),S=w.searchPoint(c,M);St(S,!0)&&S.series&&(!St(y,!0)||function(E,W){var it,ht;let U=E.distX-W.distX,H=E.dist-W.dist,q=((it=W.series.group)==null?void 0:it.zIndex)-((ht=E.series.group)==null?void 0:ht.zIndex);return U!==0&&l?U:H!==0?H:q!==0?q:E.series.index>W.series.index?-1:1}(y,S)>0)&&(y=S)}),y}getChartCoordinatesFromPoint(i,l){let{xAxis:c,yAxis:y}=i.series,w=i.shapeArgs;if(c&&y){let M=i.clientX??i.plotX??0,S=i.plotY||0;return i.isNode&&w&&Rt(w.x)&&Rt(w.y)&&(M=w.x,S=w.y),l?{chartX:y.len+y.pos-S,chartY:c.len+c.pos-M}:{chartX:M+c.pos,chartY:S+y.pos}}if(w!=null&&w.x&&w.y)return{chartX:w.x,chartY:w.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:i}=this.chart,l=Ct(i);this.chartPosition={left:l.left,top:l.top,scaleX:1,scaleY:1};let{offsetHeight:c,offsetWidth:y}=i;return y>2&&c>2&&(this.chartPosition.scaleX=l.width/y,this.chartPosition.scaleY=l.height/c),this.chartPosition}getCoordinates(i){let l={xAxis:[],yAxis:[]};for(let c of this.chart.axes)l[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(i[c.horiz?"chartX":"chartY"])});return l}getHoverData(i,l,c,y,w,M){let S=[],E=function(it){return it.visible&&!(!w&&it.directTouch)&&At(it.options.enableMouseTracking,!0)},W=l,U,H={chartX:M?M.chartX:void 0,chartY:M?M.chartY:void 0,shared:w};Pt(this,"beforeGetHoverData",H),U=W&&!W.stickyTracking?[W]:c.filter(it=>it.stickyTracking&&(H.filter||E)(it));let q=y&&i||!M?i:this.findNearestKDPoint(U,w,M);return W=q==null?void 0:q.series,q&&(w&&!W.noSharedTooltip?(U=c.filter(function(it){return H.filter?H.filter(it):E(it)&&!it.noSharedTooltip})).forEach(function(it){var xt;let ht=(xt=it.options)==null?void 0:xt.nullInteraction,yt=kt(it.points,function(ut){return ut.x===q.x&&(!ut.isNull||!!ht)});St(yt)&&(it.boosted&&it.boost&&(yt=it.boost.getPoint(yt)),S.push(yt))}):S.push(q)),Pt(this,"afterGetHoverData",H={hoverPoint:q}),{hoverPoint:H.hoverPoint,hoverSeries:W,hoverPoints:S}}getPointFromEvent(i){let l=i.target,c;for(;l&&!c;)c=l.point,l=l.parentNode;return c}onTrackerMouseOut(i){let l=this.chart,c=i.relatedTarget,y=l.hoverSeries;this.isDirectTouch=!1,!y||!c||y.stickyTracking||this.inClass(c,"highcharts-tooltip")||this.inClass(c,"highcharts-series-"+y.index)&&this.inClass(c,"highcharts-tracker")||y.onMouseOut()}inClass(i,l){let c=i,y;for(;c;){if(y=et(c,"class")){if(y.indexOf(l)!==-1)return!0;if(y.indexOf("highcharts-container")!==-1)return!1}c=c.parentElement}}constructor(i,l){var c;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=l,this.chart=i,this.runChartClick=!!((c=l.chart.events)!=null&&c.click),this.pinchDown=[],this.setDOMEvents(),Pt(this,"afterInit")}normalize(i,l){let c=i.touches,y=c?c.length?c.item(0):At(c.changedTouches,i.changedTouches)[0]:i;l||(l=this.getChartPosition());let w=y.pageX-l.left,M=y.pageY-l.top;return ft(i,{chartX:Math.round(w/=l.scaleX),chartY:Math.round(M/=l.scaleY)})}onContainerClick(i){let l=this.chart,c=l.hoverPoint,y=this.normalize(i),w=l.plotLeft,M=l.plotTop;!l.cancelClick&&(c&&this.inClass(y.target,"highcharts-tracker")?(Pt(c.series,"click",ft(y,{point:c})),l.hoverPoint&&c.firePointEvent("click",y)):(ft(y,this.getCoordinates(y)),l.isInsidePlot(y.chartX-w,y.chartY-M,{visiblePlotOnly:!0})&&Pt(l,"click",y)))}onContainerMouseDown(i){var c;let l=(1&(i.buttons||i.button))==1;i=this.normalize(i),ke.isFirefox&&i.button!==0&&this.onContainerMouseMove(i),(i.button===void 0||l)&&(this.zoomOption(i),l&&((c=i.preventDefault)==null||c.call(i)),this.dragStart(i))}onContainerMouseLeave(i){let{pointer:l}=ct[At(Gt.hoverChartIndex,-1)]||{};i=this.normalize(i),this.onContainerMouseMove(i),l&&!this.inClass(i.relatedTarget,"highcharts-tooltip")&&(l.reset(),l.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(i){var w;let l=this.chart,c=l.tooltip,y=this.normalize(i);this.setHoverChartIndex(i),(l.mouseIsDown==="mousedown"||this.touchSelect(y))&&this.drag(y),!((w=l.exporting)!=null&&w.openMenu)&&(this.inClass(y.target,"highcharts-tracker")||l.isInsidePlot(y.chartX-l.plotLeft,y.chartY-l.plotTop,{visiblePlotOnly:!0}))&&!(c!=null&&c.shouldStickOnContact(y))&&(this.inClass(y.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(y))}onDocumentTouchEnd(i){this.onDocumentMouseUp(i)}onContainerTouchMove(i){this.touchSelect(i)?this.onContainerMouseMove(i):this.touch(i)}onContainerTouchStart(i){this.touchSelect(i)?this.onContainerMouseDown(i):(this.zoomOption(i),this.touch(i,!0))}onDocumentMouseMove(i){let l=this.chart,c=l.tooltip,y=this.chartPosition,w=this.normalize(i,y);!y||l.isInsidePlot(w.chartX-l.plotLeft,w.chartY-l.plotTop,{visiblePlotOnly:!0})||c!=null&&c.shouldStickOnContact(w)||w.target!==l.container.ownerDocument&&this.inClass(w.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(i){var l,c;(c=(l=ct[At(Gt.hoverChartIndex,-1)])==null?void 0:l.pointer)==null||c.drop(i)}pinch(i){let l=this,{chart:c,hasZoom:y,lastTouches:w}=l,M=[].map.call(i.touches||[],H=>l.normalize(H)),S=M.length,E=S===1&&(l.inClass(i.target,"highcharts-tracker")&&c.runTrackerClick||l.runChartClick),W=c.tooltip,U=S===1&&At(W==null?void 0:W.options.followTouchMove,!0);S>1?l.initiated=!0:U&&(l.initiated=!1),y&&l.initiated&&!E&&i.cancelable!==!1&&i.preventDefault(),i.type==="touchstart"?(l.pinchDown=M,l.res=!0,c.mouseDownX=i.chartX):U?this.runPointActions(l.normalize(i)):w&&(Pt(c,"touchpan",{originalEvent:i,touches:M},()=>{let H=q=>{let it=q[0],ht=q[1]||it;return{x:it.chartX,y:it.chartY,width:ht.chartX-it.chartX,height:ht.chartY-it.chartY}};c.transform({axes:c.axes.filter(q=>q.zoomEnabled&&(this.zoomHor&&q.horiz||this.zoomVert&&!q.horiz)),to:H(M),from:H(w),trigger:i.type})}),l.res&&(l.res=!1,this.reset(!1,0))),l.lastTouches=M}reset(i,l){let c=this.chart,y=c.hoverSeries,w=c.hoverPoint,M=c.hoverPoints,S=c.tooltip,E=S!=null&&S.shared?M:w;i&&E&&Yt(E).forEach(function(W){W.series.isCartesian&&W.plotX===void 0&&(i=!1)}),i?S&&E&&Yt(E).length&&(S.refresh(E),S.shared&&M?M.forEach(function(W){W.setState(W.state,!0),W.series.isCartesian&&(W.series.xAxis.crosshair&&W.series.xAxis.drawCrosshair(null,W),W.series.yAxis.crosshair&&W.series.yAxis.drawCrosshair(null,W))}):w&&(w.setState(w.state,!0),c.axes.forEach(function(W){W.crosshair&&w.series[W.coll]===W&&W.drawCrosshair(null,w)}))):(w&&w.onMouseOut(),M&&M.forEach(function(W){W.setState()}),y&&y.onMouseOut(),S&&S.hide(l),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),c.axes.forEach(function(W){W.hideCrosshair()}),c.hoverPoints=c.hoverPoint=void 0)}runPointActions(i,l,c){var yt;let y=this.chart,w=y.series,M=(yt=y.tooltip)!=null&&yt.options.enabled?y.tooltip:void 0,S=!!M&&M.shared,E=l||y.hoverPoint,W=(E==null?void 0:E.series)||y.hoverSeries,U=(!i||i.type!=="touchmove")&&(!!l||(W==null?void 0:W.directTouch)&&this.isDirectTouch),H=this.getHoverData(E,W,w,U,S,i);E=H.hoverPoint,W=H.hoverSeries;let q=H.hoverPoints,it=(W==null?void 0:W.tooltipOptions.followPointer)&&!W.tooltipOptions.split,ht=S&&W&&!W.noSharedTooltip;if(E&&(c||E!==y.hoverPoint||M!=null&&M.isHidden)){if((y.hoverPoints||[]).forEach(function(xt){q.indexOf(xt)===-1&&xt.setState()}),y.hoverSeries!==W&&W.onMouseOver(),this.applyInactiveState(q),(q||[]).forEach(function(xt){xt.setState("hover")}),y.hoverPoint&&y.hoverPoint.firePointEvent("mouseOut"),!E.series)return;y.hoverPoints=q,y.hoverPoint=E,E.firePointEvent("mouseOver",void 0,()=>{M&&E&&M.refresh(ht?q:E,i)})}else if(it&&M&&!M.isHidden){let xt=M.getAnchor([{}],i);y.isInsidePlot(xt[0],xt[1],{visiblePlotOnly:!0})&&M.updatePosition({plotX:xt[0],plotY:xt[1]})}this.unDocMouseMove||(this.unDocMouseMove=V(y.container.ownerDocument,"mousemove",xt=>{var ut,wt;return(wt=(ut=ct[Gt.hoverChartIndex??-1])==null?void 0:ut.pointer)==null?void 0:wt.onDocumentMouseMove(xt)}),this.eventsToUnbind.push(this.unDocMouseMove)),y.axes.forEach(function(xt){var Mt;let ut,wt=((Mt=xt.crosshair)==null?void 0:Mt.snap)??!0;wt&&((ut=y.hoverPoint)&&ut.series[xt.coll]===xt||(ut=kt(q,Kt=>{var Vt;return((Vt=Kt.series)==null?void 0:Vt[xt.coll])===xt}))),ut||!wt?xt.drawCrosshair(i,ut):xt.hideCrosshair()})}setDOMEvents(){let i=this.chart.container,l=i.ownerDocument;i.onmousedown=this.onContainerMouseDown.bind(this),i.onmousemove=this.onContainerMouseMove.bind(this),i.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(V(i,"mouseenter",this.onContainerMouseEnter.bind(this)),V(i,"mouseleave",this.onContainerMouseLeave.bind(this))),Gt.unbindDocumentMouseUp.some(y=>y.doc===l)||Gt.unbindDocumentMouseUp.push({doc:l,unbind:V(l,"mouseup",this.onDocumentMouseUp.bind(this))});let c=this.chart.renderTo.parentElement;for(;c&&c.tagName!=="BODY";)this.eventsToUnbind.push(V(c,"scroll",()=>{delete this.chartPosition})),c=c.parentElement;this.eventsToUnbind.push(V(i,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),V(i,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Gt.unbindDocumentTouchEnd||(Gt.unbindDocumentTouchEnd=V(l,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),V(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var w,M;if(!Y)return;let i=this.pointerCaptureEventsToUnbind,l=this.chart,c=l.container,y=At((w=l.options.tooltip)==null?void 0:w.followTouchMove,!0)&&l.series.some(S=>S.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&y?(i.push(V(c,"pointerdown",S=>{var E,W;(E=S.target)!=null&&E.hasPointerCapture(S.pointerId)&&((W=S.target)==null||W.releasePointerCapture(S.pointerId))}),V(c,"pointermove",S=>{var E,W;(W=(E=l.pointer)==null?void 0:E.getPointFromEvent(S))==null||W.onMouseOver(S)})),l.styledMode||pt(c,{"touch-action":"none"}),c.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!y&&(i.forEach(S=>S()),i.length=0,l.styledMode||pt(c,{"touch-action":At((M=l.options.chart.style)==null?void 0:M["touch-action"],"manipulation")}),c.className=c.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(i){var y;let l=this.chart,c=ke.charts[At(Gt.hoverChartIndex,-1)];if(c&&c!==l){let w={relatedTarget:l.container};i&&!(i!=null&&i.relatedTarget)&&Object.assign({},i,w),(y=c.pointer)==null||y.onContainerMouseLeave(i||w)}c!=null&&c.mouseIsDown||(Gt.hoverChartIndex=l.index)}touch(i,l){var M;let c,{chart:y,pinchDown:w=[]}=this;this.setHoverChartIndex(),(i=this.normalize(i)).touches.length===1?y.isInsidePlot(i.chartX-y.plotLeft,i.chartY-y.plotTop,{visiblePlotOnly:!0})&&!((M=y.exporting)!=null&&M.openMenu)?(l&&this.runPointActions(i),i.type==="touchmove"&&(c=!!w[0]&&Math.pow(w[0].chartX-i.chartX,2)+Math.pow(w[0].chartY-i.chartY,2)>=16),At(c,!0)&&this.pinch(i)):l&&this.reset():i.touches.length===2&&this.pinch(i)}touchSelect(i){return!!(this.chart.zooming.singleTouch&&i.touches&&i.touches.length===1)}zoomOption(i){let l=this.chart,c=l.inverted,y=l.zooming.type||"",w,M;/touch/.test(i.type)&&(y=At(l.zooming.pinchType,y)),this.zoomX=w=/x/.test(y),this.zoomY=M=/y/.test(y),this.zoomHor=w&&!c||M&&c,this.zoomVert=M&&!c||w&&c,this.hasZoom=w||M}}Gt.unbindDocumentMouseUp=[],function(F){F.compose=function(i){Tt(O,"Core.Pointer")&&V(i,"beforeRender",function(){this.pointer=new F(this,this.options)})}}(Gt||(Gt={}));let re=Gt;(function(F){F.setLength=function(i,l,c){return Array.isArray(i)?(i.length=l,i):i[c?"subarray":"slice"](0,l)},F.splice=function(i,l,c,y,w=[]){if(Array.isArray(i))return Array.isArray(w)||(w=Array.from(w)),{removed:i.splice(l,c,...w),array:i};let M=Object.getPrototypeOf(i).constructor,S=i[y?"subarray":"slice"](l,l+c),E=new M(i.length-c+w.length);return E.set(i.subarray(0,l),0),E.set(w,l),E.set(i.subarray(l+c),l+w.length),{removed:S,array:E}}})(oe||(oe={}));let{setLength:Se,splice:Fe}=oe,{fireEvent:xe,objectEach:Oe,uniqueKey:Ze}=wi,Te=class{constructor(F={}){this.autoId=!F.id,this.columns={},this.id=F.id||Ze(),this.modified=this,this.rowCount=0,this.versionTag=Ze();let i=0;Oe(F.columns||{},(l,c)=>{this.columns[c]=l.slice(),i=Math.max(i,l.length)}),this.applyRowCount(i)}applyRowCount(F){this.rowCount=F,Oe(this.columns,(i,l)=>{i.length!==F&&(this.columns[l]=Se(i,F))})}deleteRows(F,i=1){if(i>0&&F<this.rowCount){let l=0;Oe(this.columns,(c,y)=>{this.columns[y]=Fe(c,F,i).array,l=c.length}),this.rowCount=l}xe(this,"afterDeleteRows",{rowIndex:F,rowCount:i}),this.versionTag=Ze()}getColumn(F,i){return this.columns[F]}getColumns(F,i){return(F||Object.keys(this.columns)).reduce((l,c)=>(l[c]=this.columns[c],l),{})}getRow(F,i){return(i||Object.keys(this.columns)).map(l=>{var c;return(c=this.columns[l])==null?void 0:c[F]})}setColumn(F,i=[],l=0,c){this.setColumns({[F]:i},l,c)}setColumns(F,i,l){let c=this.rowCount;Oe(F,(y,w)=>{this.columns[w]=y.slice(),c=y.length}),this.applyRowCount(c),l!=null&&l.silent||(xe(this,"afterSetColumns"),this.versionTag=Ze())}setRow(F,i=this.rowCount,l,c){let{columns:y}=this,w=l?this.rowCount+1:i+1;Oe(F,(M,S)=>{let E=y[S]||(c==null?void 0:c.addColumns)!==!1&&Array(w);E&&(l?E=Fe(E,i,0,!0,[M]).array:E[i]=M,y[S]=E)}),w>this.rowCount&&this.applyRowCount(w),c!=null&&c.silent||(xe(this,"afterSetRows"),this.versionTag=Ze())}},{extend:Ge,merge:Ue,pick:hi}=wi;(function(F){function i(l,c,y){var Kt,Vt;let w=this.legendItem=this.legendItem||{},{chart:M,options:S}=this,{baseline:E=0,symbolWidth:W,symbolHeight:U}=l,H=this.symbol||"circle",q=U/2,it=M.renderer,ht=w.group,yt=E-Math.round((((Kt=l.fontMetrics)==null?void 0:Kt.b)||U)*(y?.4:.3)),xt={},ut,wt=S.marker,Mt=0;if(M.styledMode||(xt["stroke-width"]=Math.min(S.lineWidth||0,24),S.dashStyle?xt.dashstyle=S.dashStyle:S.linecap!=="square"&&(xt["stroke-linecap"]="round")),w.line=it.path().addClass("highcharts-graph").attr(xt).add(ht),y&&(w.area=it.path().addClass("highcharts-area").add(ht)),xt["stroke-linecap"]&&(Mt=Math.min(w.line.strokeWidth(),W)/2),W){let qt=[["M",Mt,yt],["L",W-Mt,yt]];w.line.attr({d:qt}),(Vt=w.area)==null||Vt.attr({d:[...qt,["L",W-Mt,E],["L",Mt,E]]})}if(wt&&wt.enabled!==!1&&W){let qt=Math.min(hi(wt.radius,q),q);H.indexOf("url")===0&&(wt=Ue(wt,{width:U,height:U}),qt=0),w.symbol=ut=it.symbol(H,W/2-qt,yt-qt,2*qt,2*qt,Ge({context:"legend"},wt)).addClass("highcharts-point").add(ht),ut.isMarker=!0}}F.areaMarker=function(l,c){i.call(this,l,c,!0)},F.lineMarker=i,F.rectangle=function(l,c){let y=c.legendItem||{},w=l.options,M=l.symbolHeight,S=w.squareSymbol,E=S?M:l.symbolWidth;y.symbol=this.chart.renderer.rect(S?(l.symbolWidth-M)/2:0,l.baseline-M+1,E,M,hi(l.options.symbolRadius,M/2)).addClass("highcharts-point").attr({zIndex:3}).add(y.group)}})(Ce||(Ce={}));let je=Ce,{defaultOptions:oi}=Le,{extend:Ti,extendClass:Is,merge:is}=wi;(function(F){function i(l,c){let y=oi.plotOptions||{},w=c.defaultOptions,M=c.prototype;return M.type=l,M.pointClass||(M.pointClass=As),!F.seriesTypes[l]&&(w&&(y[l]=w),F.seriesTypes[l]=c,!0)}F.seriesTypes=ke.seriesTypes,F.registerSeriesType=i,F.seriesType=function(l,c,y,w,M){let S=oi.plotOptions||{};if(c=c||"",S[l]=is(S[c],y),delete F.seriesTypes[l],i(l,Is(F.seriesTypes[c]||function(){},w)),F.seriesTypes[l].prototype.type=l,M){class E extends As{}Ti(E.prototype,M),F.seriesTypes[l].prototype.pointClass=E}return F.seriesTypes[l]}})(Be||(Be={}));let Vi=Be,{animObject:kr,setAnimation:Cr}=Hr,{defaultOptions:xr}=Le,{registerEventOptions:Us}=Sa,{svg:qo,win:Fo}=ke,{seriesTypes:ss}=Vi,{format:Oa}=br,{arrayMax:np,arrayMin:ws,clamp:df,correctFloat:sg,crisp:Qp,defined:Yr,destroyObjectProperties:Pm,diffObjects:cf,erase:sd,error:ap,extend:_h,find:rg,fireEvent:xs,getClosestDistance:og,getNestedProperty:ng,insertItem:Mo,isArray:lp,isNumber:eo,isString:ag,merge:cr,objectEach:rd,pick:jr,removeEvent:Ur,syncTimeout:pf}=wi;class yr{constructor(){this.zoneAxis="y"}init(i,l){var E,W,U;let c;xs(this,"init",{options:l}),this.dataTable??(this.dataTable=new Te);let y=i.series;this.eventsToUnbind=[],this.chart=i,this.options=this.setOptions(l);let w=this.options,M=w.visible!==!1;this.linkedSeries=[],this.bindAxes(),_h(this,{name:w.name,state:"",visible:M,selected:w.selected===!0}),Us(this,w);let S=w.events;(S!=null&&S.click||(W=(E=w.point)==null?void 0:E.events)!=null&&W.click||w.allowPointSelect)&&(i.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(i.hasCartesianSeries=!0),y.length&&(c=y[y.length-1]),this._i=jr(c==null?void 0:c._i,-1)+1,this.opacity=this.options.opacity,i.orderItems("series",Mo(this,y)),(U=w.dataSorting)!=null&&U.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(w.data,!1),xs(this,"afterInit")}is(i){return ss[i]&&this instanceof ss[i]}bindAxes(){let i,l=this,c=l.options,y=l.chart;xs(this,"bindAxes",null,function(){(l.axisTypes||[]).forEach(function(w){(y[w]||[]).forEach(function(M){i=M.options,(jr(c[w],0)===M.index||c[w]!==void 0&&c[w]===i.id)&&(Mo(l,M.series),l[w]=M,M.isDirty=!0)}),l[w]||l.optionalAxis===w||ap(18,!0,y)})}),xs(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(i,l){let c=i.marker,y=l.marker||{};return c&&(y.enabled&&!c.enabled||y.symbol!==c.symbol||y.height!==c.height||y.width!==c.width)}autoIncrement(i){let l,c=this.options,{pointIntervalUnit:y,relativeXValue:w}=this.options,M=this.chart.time,S=this.xIncrement??M.parse(c.pointStart)??0;if(this.pointInterval=l=jr(this.pointInterval,c.pointInterval,1),w&&eo(i)&&(l*=i),y){let E=M.toParts(S);y==="day"?E[2]+=l:y==="month"?E[1]+=l:y==="year"&&(E[0]+=l),l=M.makeTime.apply(M,E)-S}return w&&eo(i)?S+l:(this.xIncrement=S+l,S)}setDataSortingOptions(){let i=this.options;_h(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Yr(i.pointRange)||(i.pointRange=1)}setOptions(i){var xt,ut;let l,c=this.chart,y=c.options.plotOptions,w=c.userOptions||{},M=cr(i),S=c.styledMode,E={plotOptions:y,userOptions:M};xs(this,"setOptions",E);let W=E.plotOptions[this.type],U=w.plotOptions||{},H=U.series||{},q=xr.plotOptions[this.type]||{},it=U[this.type]||{};W.dataLabels=this.mergeArrays(q.dataLabels,W.dataLabels),this.userOptions=E.userOptions;let ht=cr(W,y.series,it,M);this.tooltipOptions=cr(xr.tooltip,(xt=xr.plotOptions.series)==null?void 0:xt.tooltip,q==null?void 0:q.tooltip,c.userOptions.tooltip,(ut=U.series)==null?void 0:ut.tooltip,it.tooltip,M.tooltip),this.stickyTracking=jr(M.stickyTracking,it.stickyTracking,H.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||ht.stickyTracking),W.marker===null&&delete ht.marker,this.zoneAxis=ht.zoneAxis||"y";let yt=this.zones=(ht.zones||[]).map(wt=>({...wt}));return(ht.negativeColor||ht.negativeFillColor)&&!ht.zones&&(l={value:ht[this.zoneAxis+"Threshold"]||ht.threshold||0,className:"highcharts-negative"},S||(l.color=ht.negativeColor,l.fillColor=ht.negativeFillColor),yt.push(l)),yt.length&&Yr(yt[yt.length-1].value)&&yt.push(S?{}:{color:this.color,fillColor:this.fillColor}),xs(this,"afterSetOptions",{options:ht}),ht}getName(){return this.options.name??Oa(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(i,l,c){let y,w,M=this.chart,S=`${i}Index`,E=`${i}Counter`,W=(c==null?void 0:c.length)||M.options.chart.colorCount;!l&&(Yr(w=jr(i==="color"?this.options.colorIndex:void 0,this[S]))?y=w:(M.series.length||(M[E]=0),y=M[E]%W,M[E]+=1),c&&(l=c[y])),y!==void 0&&(this[S]=y),this[i]=l}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||xr.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let i=this.options.marker;this.getCyclic("symbol",i.symbol,this.chart.options.symbols)}getColumn(i,l){return(l?this.dataTable.modified:this.dataTable).getColumn(i,!0)||[]}findPointIndex(i,l){var H;let c,y,w,{id:M,x:S}=i,E=this.points,W=this.options.dataSorting,U=this.cropStart||0;if(M){let q=this.chart.get(M);q instanceof As&&(c=q)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let q=it=>!it.touched&&it.index===i.index;if(W!=null&&W.matchByName?q=it=>!it.touched&&it.name===i.name:this.options.relativeXValue&&(q=it=>!it.touched&&it.options.x===i.x),!(c=rg(E,q)))return}return c&&(w=c==null?void 0:c.index)!==void 0&&(y=!0),w===void 0&&eo(S)&&(w=this.getColumn("x").indexOf(S,l)),w!==-1&&w!==void 0&&this.cropped&&(w=w>=U?w-U:w),!y&&eo(w)&&((H=E[w])!=null&&H.touched)&&(w=void 0),w}updateData(i,l){var yt;let{options:c,requireSorting:y}=this,w=c.dataSorting,M=this.points,S=[],E=i.length===M.length,W,U,H,q,it=!0;if(this.xIncrement=null,i.forEach((xt,ut)=>{var qt;let wt,Mt=Yr(xt)&&this.pointClass.prototype.optionsToObject.call({series:this},xt)||{},{id:Kt,x:Vt}=Mt;Kt||eo(Vt)?((wt=this.findPointIndex(Mt,q))===-1||wt===void 0?S.push(xt):M[wt]&&xt!==((qt=c.data)==null?void 0:qt[wt])?(M[wt].update(xt,!1,void 0,!1),M[wt].touched=!0,y&&(q=wt+1)):M[wt]&&(M[wt].touched=!0),(!E||ut!==wt||w!=null&&w.enabled||this.hasDerivedData)&&(W=!0)):S.push(xt)},this),W)for(U=M.length;U--;)(H=M[U])&&!H.touched&&((yt=H.remove)==null||yt.call(H,!1,l));else E&&!(w!=null&&w.enabled)?(i.forEach((xt,ut)=>{xt===M[ut].y||M[ut].destroyed||M[ut].update(xt,!1,void 0,!1)}),S.length=0):it=!1;if(M.forEach(xt=>{xt&&(xt.touched=!1)}),!it)return!1;S.forEach(xt=>{this.addPoint(xt,!1,void 0,void 0,!1)},this);let ht=this.getColumn("x");return this.xIncrement===null&&ht.length&&(this.xIncrement=np(ht),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(i,l=!0,c,y){var ve,he;let w=this.points,M=(w==null?void 0:w.length)||0,S=this.options,E=this.chart,W=S.dataSorting,U=this.xAxis,H=S.turboThreshold,q=this.dataTable,it=this.dataColumnKeys(),ht=this.pointValKey||"y",yt=(this.pointArrayMap||[]).length,xt=S.keys,ut,wt,Mt=0,Kt=1,Vt;E.options.chart.allowMutatingData||(S.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Vt=cr(!0,i));let qt=(i=Vt||i||[]).length;if(W!=null&&W.enabled&&(i=this.sortData(i)),E.options.chart.allowMutatingData&&y!==!1&&qt&&M&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(wt=this.updateData(i,c)),!wt){this.xIncrement=null,this.colorCounter=0;let fe=H&&!S.relativeXValue&&qt>H;if(fe){let Ie=this.getFirstValidPoint(i),ze=this.getFirstValidPoint(i,qt-1,-1),Je=ni=>!!(lp(ni)&&(xt||eo(ni[0])));if(eo(Ie)&&eo(ze)){let ni=[],Pi=[];for(let ki of i)ni.push(this.autoIncrement()),Pi.push(ki);q.setColumns({x:ni,[ht]:Pi})}else if(Je(Ie)&&Je(ze))if(yt){let ni=+(Ie.length===yt),Pi=Array(it.length).fill(0).map(()=>[]);for(let ki of i){ni&&Pi[0].push(this.autoIncrement());for(let Ei=ni;Ei<=yt;Ei++)(ve=Pi[Ei])==null||ve.push(ki[Ei-ni])}q.setColumns(it.reduce((ki,Ei,pi)=>(ki[Ei]=Pi[pi],ki),{}))}else{xt&&(Mt=xt.indexOf("x"),Kt=xt.indexOf("y"),Mt=Mt>=0?Mt:0,Kt=Kt>=0?Kt:1),Ie.length===1&&(Kt=0);let ni=[],Pi=[];if(Mt===Kt)for(let ki of i)ni.push(this.autoIncrement()),Pi.push(ki[Kt]);else for(let ki of i)ni.push(ki[Mt]),Pi.push(ki[Kt]);q.setColumns({x:ni,[ht]:Pi})}else fe=!1}if(!fe){let Ie=it.reduce((ze,Je)=>(ze[Je]=[],ze),{});for(ut=0;ut<qt;ut++){let ze=this.pointClass.prototype.applyOptions.apply({series:this},[i[ut]]);for(let Je of it)Ie[Je][ut]=ze[Je]}q.setColumns(Ie)}for(ag(this.getColumn("y")[0])&&ap(14,!0,E),this.data=[],this.options.data=this.userOptions.data=i,ut=M;ut--;)(he=w[ut])==null||he.destroy();U&&(U.minRange=U.userMinRange),this.isDirty=E.isDirtyBox=!0,this.isDirtyData=!!w,c=!1}S.legendType==="point"&&(this.processData(),this.generatePoints()),l&&E.redraw(c)}sortData(i){let l=this,c=l.options.dataSorting.sortKey||"y",y=function(w,M){return Yr(M)&&w.pointClass.prototype.optionsToObject.call({series:w},M)||{}};return i.forEach(function(w,M){i[M]=y(l,w),i[M].index=M},this),i.concat().sort((w,M)=>{let S=ng(c,w),E=ng(c,M);return E<S?-1:+(E>S)}).forEach(function(w,M){w.x=M},this),l.linkedSeries&&l.linkedSeries.forEach(function(w){var E;let M=w.options,S=M.data;!((E=M.dataSorting)!=null&&E.enabled)&&S&&(S.forEach(function(W,U){S[U]=y(w,W),i[U]&&(S[U].x=i[U].x,S[U].index=U)}),w.setData(S,!1))}),i}getProcessedData(i){let l=this,{dataTable:c,isCartesian:y,options:w,xAxis:M}=l,S=w.cropThreshold,E=i||l.getExtremesFromAll,W=M==null?void 0:M.logarithmic,U=c.rowCount,H,q,it=0,ht,yt,xt,ut=l.getColumn("x"),wt=c,Mt=!1;return M&&(yt=(ht=M.getExtremes()).min,xt=ht.max,Mt=!!(M.categories&&!M.names.length),y&&l.sorted&&!E&&(!S||U>S||l.forceCrop)&&(ut[U-1]<yt||ut[0]>xt?wt=new Te:l.getColumn(l.pointValKey||"y").length&&(ut[0]<yt||ut[U-1]>xt)&&(wt=(H=this.cropData(c,yt,xt)).modified,it=H.start,q=!0))),ut=wt.getColumn("x")||[],{modified:wt,cropped:q,cropStart:it,closestPointRange:og([W?ut.map(W.log2lin):ut],()=>l.requireSorting&&!Mt&&ap(15,!1,l.chart))}}processData(i){let l=this.xAxis,c=this.dataTable;if(this.isCartesian&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!i)return!1;let y=this.getProcessedData();c.modified=y.modified,this.cropped=y.cropped,this.cropStart=y.cropStart,this.closestPointRange=this.basePointRange=y.closestPointRange,xs(this,"afterProcessData")}cropData(i,l,c){let y=i.getColumn("x",!0)||[],w=y.length,M={},S,E,W=0,U=w;for(S=0;S<w;S++)if(y[S]>=l){W=Math.max(0,S-1);break}for(E=S;E<w;E++)if(y[E]>c){U=E+1;break}for(let H of this.dataColumnKeys()){let q=i.getColumn(H,!0);q&&(M[H]=q.slice(W,U))}return{modified:new Te({columns:M}),start:W,end:U}}generatePoints(){var Vt,qt,ve;let i=this.options,l=this.processedData||i.data,c=this.dataTable.modified,y=this.getColumn("x",!0),w=this.pointClass,M=c.rowCount,S=this.cropStart||0,E=this.hasGroupedData,W=i.keys,U=[],H=(Vt=i.dataGrouping)!=null&&Vt.groupAll?S:0,q=(qt=this.xAxis)==null?void 0:qt.categories,it=this.pointArrayMap||["y"],ht=this.dataColumnKeys(),yt,xt,ut,wt,Mt=this.data,Kt;if(!Mt&&!E){let he=[];he.length=(l==null?void 0:l.length)||0,Mt=this.data=he}for(W&&E&&(this.options.keys=!1),wt=0;wt<M;wt++)xt=S+wt,E?((ut=new w(this,c.getRow(wt,ht)||[])).dataGroup=this.groupMap[H+wt],(ve=ut.dataGroup)!=null&&ve.options&&(ut.options=ut.dataGroup.options,_h(ut,ut.dataGroup.options),delete ut.dataLabels)):(ut=Mt[xt],Kt=l?l[xt]:c.getRow(wt,it),ut||Kt===void 0||(Mt[xt]=ut=new w(this,Kt,y[wt]))),ut&&(ut.index=E?H+wt:xt,U[wt]=ut,ut.category=(q==null?void 0:q[ut.x])??ut.x,ut.key=ut.name??ut.category);if(this.options.keys=W,Mt&&(M!==(yt=Mt.length)||E))for(wt=0;wt<yt;wt++)wt!==S||E||(wt+=M),Mt[wt]&&(Mt[wt].destroyElements(),Mt[wt].plotX=void 0);this.data=Mt,this.points=U,xs(this,"afterGeneratePoints")}getXExtremes(i){return{min:ws(i),max:np(i)}}getExtremes(i,l){var Vt;let{xAxis:c,yAxis:y}=this,w=l||this.getExtremesFromAll||this.options.getExtremesFromAll,M=w&&this.cropped?this.dataTable:this.dataTable.modified,S=M.rowCount,E=i||this.stackedYData,W=E?[E]:((Vt=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:Vt.map(qt=>M.getColumn(qt,!0)||[]))||[],U=this.getColumn("x",!0),H=[],q=this.requireSorting&&!this.is("column")?1:0,it=!!y&&y.positiveValuesOnly,ht=w||this.cropped||!c,yt,xt,ut,wt=0,Mt=0;for(c&&(wt=(yt=c.getExtremes()).min,Mt=yt.max),ut=0;ut<S;ut++)if(xt=U[ut],ht||(U[ut+q]||xt)>=wt&&(U[ut-q]||xt)<=Mt)for(let qt of W){let ve=qt[ut];eo(ve)&&(ve>0||!it)&&H.push(ve)}let Kt={activeYData:H,dataMin:ws(H),dataMax:np(H)};return xs(this,"afterGetExtremes",{dataExtremes:Kt}),Kt}applyExtremes(){let i=this.getExtremes();return this.dataMin=i.dataMin,this.dataMax=i.dataMax,i}getFirstValidPoint(i,l=0,c=1){let y=i.length,w=l;for(;w>=0&&w<y;){if(Yr(i[w]))return i[w];w+=c}}translate(){var Mt;this.generatePoints();let i=this.options,l=i.stacking,c=this.xAxis,y=this.enabledDataSorting,w=this.yAxis,M=this.points,S=M.length,E=this.pointPlacementToXValue(),W=!!E,U=i.threshold,H=i.startFromThreshold?U:0,q=(i==null?void 0:i.nullInteraction)&&w.len,it,ht,yt,xt,ut=Number.MAX_VALUE;function wt(Kt){return df(Kt,-1e9,1e9)}for(it=0;it<S;it++){let Kt,Vt=M[it],qt=Vt.x,ve,he,fe=Vt.y,Ie=Vt.low,ze=l&&((Mt=w.stacking)==null?void 0:Mt.stacks[(this.negStacks&&fe<(H?0:U)?"-":"")+this.stackKey]);Vt.plotX=eo(ht=c.translate(qt,!1,!1,!1,!0,E))?sg(wt(ht)):void 0,l&&this.visible&&ze&&ze[qt]&&(xt=this.getStackIndicator(xt,qt,this.index),!Vt.isNull&&xt.key&&(he=(ve=ze[qt]).points[xt.key]),ve&&lp(he)&&(Ie=he[0],fe=he[1],Ie===H&&xt.key===ze[qt].base&&(Ie=jr(eo(U)?U:w.min)),w.positiveValuesOnly&&Yr(Ie)&&Ie<=0&&(Ie=void 0),Vt.total=Vt.stackTotal=jr(ve.total),Vt.percentage=Yr(Vt.y)&&ve.total?Vt.y/ve.total*100:void 0,Vt.stackY=fe,this.irregularWidths||ve.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Vt.yBottom=Yr(Ie)?wt(w.translate(Ie,!1,!0,!1,!0)):void 0,this.dataModify&&(fe=this.dataModify.modifyValue(fe,it)),eo(fe)&&Vt.plotX!==void 0?Kt=eo(Kt=w.translate(fe,!1,!0,!1,!0))?wt(Kt):void 0:!eo(fe)&&q&&(Kt=q),Vt.plotY=Kt,Vt.isInside=this.isPointInside(Vt),Vt.clientX=W?sg(c.translate(qt,!1,!1,!1,!0,E)):ht,Vt.negative=(Vt.y||0)<(U||0),Vt.isNull||Vt.visible===!1||(yt!==void 0&&(ut=Math.min(ut,Math.abs(ht-yt))),yt=ht),Vt.zone=this.zones.length?Vt.getZone():void 0,!Vt.graphic&&this.group&&y&&(Vt.isNew=!0)}this.closestPointRangePx=ut,xs(this,"afterTranslate")}getValidPoints(i,l,c){let y=this.chart;return(i||this.points||[]).filter(function(w){let{plotX:M,plotY:S}=w;return(!!c||!w.isNull&&!!eo(S))&&(!l||!!y.isInsidePlot(M,S,{inverted:y.inverted}))&&w.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:i,group:l,markerGroup:c}=this,y=i.sharedClips,w=i.renderer,M=i.getClipBox(this),S=this.getSharedClipKey(),E=y[S];E?E.animate(M):y[S]=E=w.clipRect(M),l&&l.clip(this.options.clip===!1?void 0:E),c&&c.clip()}animate(i){let{chart:l,group:c,markerGroup:y}=this,w=l.inverted,M=kr(this.options.animation),S=[this.getSharedClipKey(),M.duration,M.easing,M.defer].join(","),E=l.sharedClips[S],W=l.sharedClips[S+"m"];if(i&&c){let U=l.getClipBox(this);if(E)E.attr("height",U.height);else{U.width=0,w&&(U.x=l.plotHeight),E=l.renderer.clipRect(U),l.sharedClips[S]=E;let H={x:-99,y:-99,width:w?l.plotWidth+199:99,height:w?99:l.plotHeight+199};W=l.renderer.clipRect(H),l.sharedClips[S+"m"]=W}c.clip(E),y==null||y.clip(W)}else if(E&&!E.hasClass("highcharts-animating")){let U=l.getClipBox(this),H=M.step;(y!=null&&y.element.childNodes.length||l.series.length>1)&&(M.step=function(q,it){H&&H.apply(it,arguments),it.prop==="width"&&(W!=null&&W.element)&&W.attr(w?"height":"width",q+99)}),E.addClass("highcharts-animating").animate(U,M)}}afterAnimate(){this.setClip(),rd(this.chart.sharedClips,(i,l,c)=>{i&&!this.chart.container.querySelector(`[clip-path="url(#${i.id})"]`)&&(i.destroy(),delete c[l])}),this.finishedAnimating=!0,xs(this,"afterAnimate")}drawPoints(i=this.points){let l,c,y,w,M,S,E,W=this.chart,U=W.styledMode,{colorAxis:H,options:q}=this,it=q.marker,ht=q.nullInteraction,yt=this[this.specialGroup||"markerGroup"],xt=this.xAxis,ut=jr(it.enabled,!xt||!!xt.isRadial||null,this.closestPointRangePx>=it.enabledThreshold*it.radius);if(it.enabled!==!1||this._hasPointMarkers)for(l=0;l<i.length;l++){w=(y=(c=i[l]).graphic)?"animate":"attr",M=c.marker||{},S=!!c.marker;let wt=c.isNull;if((ut&&!Yr(M.enabled)||M.enabled)&&(!wt||ht)&&c.visible!==!1){let Mt=jr(M.symbol,this.symbol,"rect");E=this.markerAttribs(c,c.selected&&"select"),this.enabledDataSorting&&(c.startXPos=xt.reversed?-(E.width||0):xt.width);let Kt=c.isInside!==!1;if(!y&&Kt&&((E.width||0)>0||c.hasImage)&&(c.graphic=y=W.renderer.symbol(Mt,E.x,E.y,E.width,E.height,S?M:it).add(yt),this.enabledDataSorting&&W.hasRendered&&(y.attr({x:c.startXPos}),w="animate")),y&&w==="animate"&&y[Kt?"show":"hide"](Kt).animate(E),y){let Vt=this.pointAttribs(c,U||!c.selected?void 0:"select");U?H&&y.css({fill:Vt.fill}):y[w](Vt)}y&&y.addClass(c.getClassName(),!0)}else y&&(c.graphic=y.destroy())}}markerAttribs(i,l){let c=this.options,y=c.marker,w=i.marker||{},M=w.symbol||y.symbol,S={},E,W,U=jr(w.radius,y==null?void 0:y.radius);l&&(E=y.states[l],W=w.states&&w.states[l],U=jr(W==null?void 0:W.radius,E==null?void 0:E.radius,U&&U+((E==null?void 0:E.radiusPlus)||0))),i.hasImage=M&&M.indexOf("url")===0,i.hasImage&&(U=0);let H=i.pos();return eo(U)&&H&&(c.crisp&&(H[0]=Qp(H[0],i.hasImage?0:M==="rect"?(y==null?void 0:y.lineWidth)||0:1)),S.x=H[0]-U,S.y=H[1]-U),U&&(S.width=S.height=2*U),S}pointAttribs(i,l){var ut;let c=this.options,y=c.marker,w=i==null?void 0:i.options,M=(w==null?void 0:w.marker)||{},S=w==null?void 0:w.color,E=i==null?void 0:i.color,W=(ut=i==null?void 0:i.zone)==null?void 0:ut.color,U,H,q=this.color,it,ht,yt=jr(M.lineWidth,y.lineWidth),xt=i!=null&&i.isNull&&c.nullInteraction?0:1;return q=S||W||E||q,it=M.fillColor||y.fillColor||q,ht=M.lineColor||y.lineColor||q,l=l||"normal",U=y.states[l]||{},yt=jr((H=M.states&&M.states[l]||{}).lineWidth,U.lineWidth,yt+jr(H.lineWidthPlus,U.lineWidthPlus,0)),it=H.fillColor||U.fillColor||it,ht=H.lineColor||U.lineColor||ht,{stroke:ht,"stroke-width":yt,fill:it,opacity:xt=jr(H.opacity,U.opacity,xt)}}destroy(i){var E,W;let l,c,y=this,w=y.chart,M=/AppleWebKit\/533/.test(Fo.navigator.userAgent),S=y.data||[];for(xs(y,"destroy",{keepEventsForUpdate:i}),this.removeEvents(i),(y.axisTypes||[]).forEach(function(U){c=y[U],c!=null&&c.series&&(sd(c.series,y),c.isDirty=c.forceRedraw=!0)}),y.legendItem&&y.chart.legend.destroyItem(y),l=S.length;l--;)(W=(E=S[l])==null?void 0:E.destroy)==null||W.call(E);for(let U of y.zones)Pm(U,void 0,!0);wi.clearTimeout(y.animationTimeout),rd(y,function(U,H){U instanceof lo&&!U.survive&&U[M&&H==="group"?"hide":"destroy"]()}),w.hoverSeries===y&&(w.hoverSeries=void 0),sd(w.series,y),w.orderItems("series"),rd(y,function(U,H){i&&H==="hcEvents"||delete y[H]})}applyZones(){let{area:i,chart:l,graph:c,zones:y,points:w,xAxis:M,yAxis:S,zoneAxis:E}=this,{inverted:W,renderer:U}=l,H=this[`${E}Axis`],{isXAxis:q,len:it=0,minPointOffset:ht=0}=H||{},yt=((c==null?void 0:c.strokeWidth())||0)/2+1,xt=(ut,wt=0,Mt=0)=>{W&&(Mt=it-Mt);let{translated:Kt=0,lineClip:Vt}=ut,qt=Mt-Kt;Vt==null||Vt.push(["L",wt,Math.abs(qt)<yt?Mt-yt*(qt<=0?-1:1):Kt])};if(y.length&&(c||i)&&H&&eo(H.min)){let ut=H.getExtremes().max+ht,wt=Vt=>{Vt.forEach((qt,ve)=>{(qt[0]==="M"||qt[0]==="L")&&(Vt[ve]=[qt[0],q?it-qt[1]:qt[1],q?qt[2]:it-qt[2]])})};if(y.forEach(Vt=>{Vt.lineClip=[],Vt.translated=df(H.toPixels(jr(Vt.value,ut),!0)||0,0,it)}),c&&!this.showLine&&c.hide(),i&&i.hide(),E==="y"&&w.length<M.len)for(let Vt of w){let{plotX:qt,plotY:ve,zone:he}=Vt,fe=he&&y[y.indexOf(he)-1];he&&xt(he,qt,ve),fe&&xt(fe,qt,ve)}let Mt=[],Kt=H.toPixels(H.getExtremes().min-ht,!0);y.forEach(Vt=>{var Ei,pi;let qt=Vt.lineClip||[],ve=Math.round(Vt.translated||0);M.reversed&&qt.reverse();let{clip:he,simpleClip:fe}=Vt,Ie=0,ze=0,Je=M.len,ni=S.len;q?(Ie=ve,Je=Kt):(ze=ve,ni=Kt);let Pi=[["M",Ie,ze],["L",Je,ze],["L",Je,ni],["L",Ie,ni],["Z"]],ki=[Pi[0],...qt,Pi[1],Pi[2],...Mt,Pi[3],Pi[4]];Mt=qt.reverse(),Kt=ve,W&&(wt(ki),i&&wt(Pi)),he?(he.animate({d:ki}),fe==null||fe.animate({d:Pi})):(he=Vt.clip=U.path(ki),i&&(fe=Vt.simpleClip=U.path(Pi))),c&&((Ei=Vt.graph)==null||Ei.clip(he)),i&&((pi=Vt.area)==null||pi.clip(fe))})}else this.visible&&(c&&c.show(),i&&i.show())}plotGroup(i,l,c,y,w){let M=this[i],S=!M,E={visibility:c,zIndex:y||.1};return Yr(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(E.opacity=this.opacity),M||(this[i]=M=this.chart.renderer.g().add(w)),M.addClass("highcharts-"+l+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Yr(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(M.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),M.attr(E)[S?"attr":"animate"](this.getPlotBox(l)),M}getPlotBox(i){let l=this.xAxis,c=this.yAxis,y=this.chart,w=y.inverted&&!y.polar&&l&&this.invertible&&i==="series";y.inverted&&(l=c,c=this.xAxis);let M={scale:1,translateX:l?l.left:y.plotLeft,translateY:c?c.top:y.plotTop,name:i};xs(this,"getPlotBox",M);let{scale:S,translateX:E,translateY:W}=M;return{translateX:E,translateY:W,rotation:90*!!w,rotationOriginX:w?S*(l.len-c.len)/2:0,rotationOriginY:w?S*(l.len+c.len)/2:0,scaleX:w?-S:S,scaleY:S}}removeEvents(i){let{eventsToUnbind:l}=this;i||Ur(this),l.length&&(l.forEach(c=>{c()}),l.length=0)}render(){var U,H,q,it,ht;let i=this,{chart:l,options:c,hasRendered:y}=i,w=kr(c.animation),M=i.visible?"inherit":"hidden",S=c.zIndex,E=l.seriesGroup,W=i.finishedAnimating?0:w.duration;xs(this,"render"),i.plotGroup("group","series",M,S,E),i.markerGroup=i.plotGroup("markerGroup","markers",M,S,E),c.clip!==!1&&i.setClip(),W&&((U=i.animate)==null||U.call(i,!0)),i.drawGraph&&(i.drawGraph(),i.applyZones()),i.visible&&i.drawPoints(),(H=i.drawDataLabels)==null||H.call(i),(q=i.redrawPoints)==null||q.call(i),c.enableMouseTracking&&((it=i.drawTracker)==null||it.call(i)),W&&((ht=i.animate)==null||ht.call(i)),y||(W&&w.defer&&(W+=w.defer),i.animationTimeout=pf(()=>{i.afterAnimate()},W||0)),i.isDirty=!1,i.hasRendered=!0,xs(i,"afterRender")}redraw(){let i=this.isDirty||this.isDirtyData;this.translate(),this.render(),i&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(i,l){let{xAxis:c,yAxis:y}=this,w=this.chart.inverted;return this.searchKDTree({clientX:w?c.len-i.chartY+c.pos:i.chartX-c.pos,plotY:w?y.len-i.chartX+y.pos:i.chartY-y.pos},l,i)}buildKDTree(i){this.buildingKdTree=!0;let l=this,c=l.options,y=c.findNearestPointBy.indexOf("y")>-1?2:1;delete l.kdTree,pf(function(){l.kdTree=function w(M,S,E){let W,U,H=M==null?void 0:M.length;if(H)return W=l.kdAxisArray[S%E],M.sort((q,it)=>(q[W]||0)-(it[W]||0)),{point:M[U=Math.floor(H/2)],left:w(M.slice(0,U),S+1,E),right:w(M.slice(U+1),S+1,E)}}(l.getValidPoints(void 0,!l.directTouch,c==null?void 0:c.nullInteraction),y,y),l.buildingKdTree=!1},c.kdNow||(i==null?void 0:i.type)==="touchstart"?0:1)}searchKDTree(i,l,c,y,w){let M=this,[S,E]=this.kdAxisArray,W=l?"distX":"dist",U=(M.options.findNearestPointBy||"").indexOf("y")>-1?2:1,H=!!M.isBubble,q=y||((ht,yt,xt)=>{let ut=ht[xt]||0,wt=yt[xt]||0;return[ut===wt&&ht.index>yt.index||ut<wt?ht:yt,!1]}),it=w||((ht,yt)=>ht<yt);if(this.kdTree||this.buildingKdTree||this.buildKDTree(c),this.kdTree)return function ht(yt,xt,ut,wt){var Ie;let Mt=xt.point,Kt=M.kdAxisArray[ut%wt],Vt=Mt,qt=!1;(function(ze,Je){var Ss;let ni=ze[S],Pi=Je[S],ki=Yr(ni)&&Yr(Pi)?ni-Pi:null,Ei=ze[E],pi=Je[E],Fi=Yr(Ei)&&Yr(pi)?Ei-pi:0,Ps=H&&((Ss=Je.marker)==null?void 0:Ss.radius)||0;Je.dist=Math.sqrt((ki&&ki*ki||0)+Fi*Fi)-Ps,Je.distX=Yr(ki)?Math.abs(ki)-Ps:Number.MAX_VALUE})(yt,Mt);let ve=(yt[Kt]||0)-(Mt[Kt]||0)+(H&&((Ie=Mt.marker)==null?void 0:Ie.radius)||0),he=ve<0?"left":"right",fe=ve<0?"right":"left";return xt[he]&&([Vt,qt]=q(Mt,ht(yt,xt[he],ut+1,wt),W)),xt[fe]&&it(Math.sqrt(ve*ve),Vt[W],qt)&&(Vt=q(Vt,ht(yt,xt[fe],ut+1,wt),W)[0]),Vt}(i,this.kdTree,U,U)}pointPlacementToXValue(){let{options:i,xAxis:l}=this,c=i.pointPlacement;return c==="between"&&(c=l.reversed?-.5:.5),eo(c)?c*(i.pointRange||l.pointRange):0}isPointInside(i){let{chart:l,xAxis:c,yAxis:y}=this,{plotX:w=-1,plotY:M=-1}=i;return M>=0&&M<=(y?y.len:l.plotHeight)&&w>=0&&w<=(c?c.len:l.plotWidth)}drawTracker(){var q;let i=this,l=i.options,c=l.trackByArea,y=[].concat((c?i.areaPath:i.graphPath)||[]),w=i.chart,M=w.pointer,S=w.renderer,E=((q=w.options.tooltip)==null?void 0:q.snap)||0,W=()=>{l.enableMouseTracking&&w.hoverSeries!==i&&i.onMouseOver()},U="rgba(192,192,192,"+(qo?1e-4:.002)+")",H=i.tracker;H?H.attr({d:y}):i.graph&&(i.tracker=H=S.path(y).attr({visibility:i.visible?"inherit":"hidden",zIndex:2}).addClass(c?"highcharts-tracker-area":"highcharts-tracker-line").add(i.group),w.styledMode||H.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:U,fill:c?U:"none","stroke-width":i.graph.strokeWidth()+(c?0:2*E)}),[i.tracker,i.markerGroup,i.dataLabelsGroup].forEach(it=>{it&&(it.addClass("highcharts-tracker").on("mouseover",W).on("mouseout",ht=>{M==null||M.onTrackerMouseOut(ht)}),l.cursor&&!w.styledMode&&it.css({cursor:l.cursor}),it.on("touchstart",W))})),xs(this,"afterDrawTracker")}addPoint(i,l,c,y,w){let M,S,E=this.options,{chart:W,data:U,dataTable:H,xAxis:q}=this,it=(q==null?void 0:q.hasNames)&&q.names,ht=E.data,yt=this.getColumn("x");l=jr(l,!0);let xt={series:this};this.pointClass.prototype.applyOptions.apply(xt,[i]);let ut=xt.x;if(S=yt.length,this.requireSorting&&ut<yt[S-1])for(M=!0;S&&yt[S-1]>ut;)S--;H.setRow(xt,S,!0,{addColumns:!1}),it&&xt.name&&(it[ut]=xt.name),ht==null||ht.splice(S,0,i),(M||this.processedData)&&(this.data.splice(S,0,null),this.processData()),E.legendType==="point"&&this.generatePoints(),c&&(U[0]&&U[0].remove?U[0].remove(!1):([U,ht].filter(Yr).forEach(wt=>{wt.shift()}),H.deleteRows(0))),w!==!1&&xs(this,"addPoint",{point:xt}),this.isDirty=!0,this.isDirtyData=!0,l&&W.redraw(y)}removePoint(i,l,c){let y=this,{chart:w,data:M,points:S,dataTable:E}=y,W=M[i],U=function(){[(S==null?void 0:S.length)===M.length?S:void 0,M,y.options.data].filter(Yr).forEach(H=>{H.splice(i,1)}),E.deleteRows(i),W==null||W.destroy(),y.isDirty=!0,y.isDirtyData=!0,l&&w.redraw()};Cr(c,w),l=jr(l,!0),W?W.firePointEvent("remove",null,U):U()}remove(i,l,c,y){let w=this,M=w.chart;function S(){w.destroy(y),M.isDirtyLegend=M.isDirtyBox=!0,M.linkSeries(y),jr(i,!0)&&M.redraw(l)}c!==!1?xs(w,"remove",null,S):S()}update(i,l){var ut,wt;xs(this,"update",{options:i=cf(i,this.userOptions)});let c=this,y=c.chart,w=c.userOptions,M=c.initialType||c.type,S=y.options.plotOptions,E=ss[M].prototype,W=c.finishedAnimating&&{animation:!1},U={},H,q,it=yr.keepProps.slice(),ht=i.type||w.type||y.options.chart.type,yt=!(this.hasDerivedData||ht&&ht!==this.type||i.keys!==void 0||i.pointStart!==void 0||i.pointInterval!==void 0||i.relativeXValue!==void 0||i.joinBy||i.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(Mt=>c.hasOptionChanged(Mt)));ht=ht||M,yt?(it.push.apply(it,yr.keepPropsForPoints),i.visible!==!1&&it.push("area","graph"),c.parallelArrays.forEach(function(Mt){it.push(Mt+"Data")}),i.data&&(i.dataSorting&&_h(c.options.dataSorting,i.dataSorting),this.setData(i.data,!1))):this.dataTable.modified=this.dataTable,i=cr(w,{index:w.index===void 0?c.index:w.index,pointStart:((ut=S==null?void 0:S.series)==null?void 0:ut.pointStart)??w.pointStart??c.getColumn("x")[0]},!yt&&{data:c.options.data},i,W),yt&&i.data&&(i.data=c.options.data),(it=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(it)).forEach(function(Mt){it[Mt]=c[Mt],delete c[Mt]});let xt=!1;if(ss[ht]){if(xt=ht!==c.type,c.remove(!1,!1,!1,!0),xt)if(y.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(c,ss[ht].prototype);else{let Mt=Object.hasOwnProperty.call(c,"hcEvents")&&c.hcEvents;for(q in E)c[q]=void 0;_h(c,ss[ht].prototype),Mt?c.hcEvents=Mt:delete c.hcEvents}}else ap(17,!0,y,{missingModuleFor:ht});if(it.forEach(function(Mt){c[Mt]=it[Mt]}),c.init(y,i),yt&&this.points)for(let Mt of((H=c.options).visible===!1?(U.graphic=1,U.dataLabel=1):(this.hasMarkerChanged(H,w)&&(U.graphic=1),(wt=c.hasDataLabels)!=null&&wt.call(c)||(U.dataLabel=1)),this.points))Mt!=null&&Mt.series&&(Mt.resolveColor(),Object.keys(U).length&&Mt.destroyElements(U),H.showInLegend===!1&&Mt.legendItem&&y.legend.destroyItem(Mt));c.initialType=M,y.linkSeries(),y.setSortedData(),xt&&c.linkedSeries.length&&(c.isDirtyData=!0),xs(this,"afterUpdate"),jr(l,!0)&&y.redraw(!!yt&&void 0)}setName(i){this.name=this.options.name=this.userOptions.name=i,this.chart.isDirtyLegend=!0}hasOptionChanged(i){var S,E;let l=this.chart,c=this.options[i],y=l.options.plotOptions,w=this.userOptions[i],M=jr((S=y==null?void 0:y[this.type])==null?void 0:S[i],(E=y==null?void 0:y.series)==null?void 0:E[i]);return w&&!Yr(M)?c!==w:c!==jr(M,c)}onMouseOver(){let i=this.chart,l=i.hoverSeries,c=i.pointer;c==null||c.setHoverChartIndex(),l&&l!==this&&l.onMouseOut(),this.options.events.mouseOver&&xs(this,"mouseOver"),this.setState("hover"),i.hoverSeries=this}onMouseOut(){let i=this.options,l=this.chart,c=l.tooltip,y=l.hoverPoint;l.hoverSeries=null,y&&y.onMouseOut(),this&&i.events.mouseOut&&xs(this,"mouseOut"),c&&!this.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),l.series.forEach(function(w){w.setState("",!0)})}setState(i,l){let c=this,y=c.options,w=c.graph,M=y.inactiveOtherPoints,S=y.states,E=jr(S[i||"normal"]&&S[i||"normal"].animation,c.chart.options.chart.animation),W=y.lineWidth,U=y.opacity;if(i=i||"",c.state!==i&&([c.group,c.markerGroup,c.dataLabelsGroup].forEach(function(H){H&&(c.state&&H.removeClass("highcharts-series-"+c.state),i&&H.addClass("highcharts-series-"+i))}),c.state=i,!c.chart.styledMode)){if(S[i]&&S[i].enabled===!1)return;if(i&&(W=S[i].lineWidth||W+(S[i].lineWidthPlus||0),U=jr(S[i].opacity,U)),w&&!w.dashstyle&&eo(W))for(let H of[w,...this.zones.map(q=>q.graph)])H==null||H.animate({"stroke-width":W},E);M||[c.group,c.markerGroup,c.dataLabelsGroup,c.labelBySeries].forEach(function(H){H&&H.animate({opacity:U},E)})}l&&M&&c.points&&c.setAllPointsToState(i||void 0)}setAllPointsToState(i){this.points.forEach(function(l){l.setState&&l.setState(i)})}setVisible(i,l){var E;let c=this,y=c.chart,w=y.options.chart.ignoreHiddenSeries,M=c.visible;c.visible=i=c.options.visible=c.userOptions.visible=i===void 0?!M:i;let S=i?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(W=>{var U;(U=c[W])==null||U[S]()}),(y.hoverSeries===c||((E=y.hoverPoint)==null?void 0:E.series)===c)&&c.onMouseOut(),c.legendItem&&y.legend.colorizeItem(c,i),c.isDirty=!0,c.options.stacking&&y.series.forEach(W=>{W.options.stacking&&W.visible&&(W.isDirty=!0)}),c.linkedSeries.forEach(W=>{W.setVisible(i,!1)}),w&&(y.isDirtyBox=!0),xs(c,S),l!==!1&&y.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(i){this.selected=i=this.options.selected=i===void 0?!this.selected:i,this.checkbox&&(this.checkbox.checked=i),xs(this,i?"select":"unselect")}shouldShowTooltip(i,l,c={}){return c.series=this,c.visiblePlotOnly=!0,this.chart.isInsidePlot(i,l,c)}drawLegendSymbol(i,l){var c;(c=je[this.options.legendSymbol||"rectangle"])==null||c.call(this,i,l)}}yr.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:F}=this.series.chart;return typeof this.y!="number"?"":F(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},yr.types=Vi.seriesTypes,yr.registerType=Vi.registerSeriesType,yr.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],yr.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],_h(yr.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:As,requireSorting:!0,sorted:!0}),Vi.series=yr;let Ea=yr,{animObject:Mc,setAnimation:Eo}=Hr,{registerEventOptions:Vr}=Sa,{composed:hp,marginNames:dp}=ke,{distribute:Vs}=hr,{format:$a}=br,{addEvent:cp,createElement:Ol,css:na,defined:uf,discardElement:lg,find:hg,fireEvent:Lh,isNumber:Sc,merge:Hd,pick:fl,pushUnique:Tc,relativeLength:Cm,stableSort:_m,syncTimeout:El}=wi;class tu{constructor(i,l){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=i,this.setOptions(l),l.enabled&&(this.render(),Vr(this,l),cp(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),cp(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(i){let l=fl(i.padding,8);this.options=i,this.chart.styledMode||(this.itemStyle=i.itemStyle,this.itemHiddenStyle=Hd(this.itemStyle,i.itemHiddenStyle)),this.itemMarginTop=i.itemMarginTop,this.itemMarginBottom=i.itemMarginBottom,this.padding=l,this.initialItemY=l-5,this.symbolWidth=fl(i.symbolWidth,16),this.pages=[],this.proximate=i.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(i,l){let c=this.chart;this.setOptions(Hd(!0,this.options,i)),"events"in this.options&&Vr(this,this.options),this.destroy(),c.isDirtyLegend=c.isDirtyBox=!0,fl(l,!0)&&c.redraw(),Lh(this,"afterUpdate",{redraw:l})}colorizeItem(i,l){var W;let c=i.color,{area:y,group:w,label:M,line:S,symbol:E}=i.legendItem||{};if((i instanceof Ea||i instanceof As)&&(i.color=((W=i.options)==null?void 0:W.legendSymbolColor)||c),w==null||w[l?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:U={}}=this,H=U.color,{fillColor:q,fillOpacity:it,lineColor:ht,marker:yt}=i.options,xt=ut=>(!l&&(ut.fill&&(ut.fill=H),ut.stroke&&(ut.stroke=H)),ut);M==null||M.css(Hd(l?this.itemStyle:U)),S==null||S.attr(xt({stroke:ht||i.color})),E&&E.attr(xt(yt&&E.isMarker?i.pointAttribs():{fill:i.color})),y==null||y.attr(xt({fill:q||i.color,"fill-opacity":q?1:it??.75}))}i.color=c,Lh(this,"afterColorizeItem",{item:i,visible:l})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(i){let{group:l,x:c=0,y=0}=i.legendItem||{},w=this.options,M=w.symbolPadding,S=!w.rtl,E=i.checkbox;if(l!=null&&l.element){let W={translateX:S?c:this.legendWidth-c-2*M-4,translateY:y};l[uf(l.translateY)?"animate":"attr"](W,void 0,()=>{Lh(this,"afterPositionItem",{item:i})})}E&&(E.x=c,E.y=y)}destroyItem(i){let l=i.checkbox,c=i.legendItem||{};for(let y of["group","label","line","symbol"])c[y]&&(c[y]=c[y].destroy());l&&lg(l),i.legendItem=void 0}destroy(){for(let i of this.getAllItems())this.destroyItem(i);for(let i of["clipRect","up","down","pager","nav","box","title","group"])this[i]&&(this[i]=this[i].destroy());this.display=null}positionCheckboxes(){var w;let i,l=(w=this.group)==null?void 0:w.alignAttr,c=this.clipHeight||this.legendHeight,y=this.titleHeight;l&&(i=l.translateY,this.allItems.forEach(function(M){let S,E=M.checkbox;E&&(S=i+y+E.y+(this.scrollOffset||0)+3,na(E,{left:l.translateX+M.checkboxOffset+E.x-20+"px",top:S+"px",display:this.proximate||S>i-6&&S<i+c-6?"":"none"}))},this))}renderTitle(){let i=this.options,l=this.padding,c=i.title,y,w=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,l-3,l-4,void 0,void 0,void 0,i.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(c.style),this.title.add(this.group)),c.width||this.title.css({width:this.maxLegendWidth+"px"}),w=(y=this.title.getBBox()).height,this.offsetWidth=y.width,this.contentGroup.attr({translateY:w})),this.titleHeight=w}setText(i){let l=this.options;i.legendItem.label.attr({text:l.labelFormat?$a(l.labelFormat,i,this.chart):l.labelFormatter.call(i)})}renderItem(i){var ve;let l=i.legendItem=i.legendItem||{},c=this.chart,y=c.renderer,w=this.options,M=w.layout==="horizontal",S=this.symbolWidth,E=w.symbolPadding||0,W=this.itemStyle,U=this.itemHiddenStyle,H=M?fl(w.itemDistance,20):0,q=!w.rtl,it=!i.series,ht=!it&&i.series.drawLegendSymbol?i.series:i,yt=ht.options,xt=!!this.createCheckboxForItem&&yt&&yt.showCheckbox,ut=w.useHTML,wt=i.options.className,Mt=l.label,Kt=S+E+H+20*!!xt;!Mt&&(l.group=y.g("legend-item").addClass("highcharts-"+ht.type+"-series highcharts-color-"+i.colorIndex+(wt?" "+wt:"")+(it?" highcharts-series-"+i.index:"")).attr({zIndex:1}).add(this.scrollGroup),l.label=Mt=y.text("",q?S+E:-E,this.baseline||0,ut),c.styledMode||Mt.css(Hd(i.visible?W:U)),Mt.attr({align:q?"left":"right",zIndex:2}).add(l.group),!this.baseline&&(this.fontMetrics=y.fontMetrics(Mt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,Mt.attr("y",this.baseline),this.symbolHeight=fl(w.symbolHeight,this.fontMetrics.f),w.squareSymbol&&(this.symbolWidth=fl(w.symbolWidth,Math.max(this.symbolHeight,16)),Kt=this.symbolWidth+E+H+20*!!xt,q&&Mt.attr("x",this.symbolWidth+E))),ht.drawLegendSymbol(this,i),this.setItemEvents&&this.setItemEvents(i,Mt,ut)),xt&&!i.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(i),this.colorizeItem(i,i.visible),(c.styledMode||!W.width)&&Mt.css({width:(w.itemWidth||this.widthOption||c.spacingBox.width)-Kt+"px"}),this.setText(i);let Vt=Mt.getBBox(),qt=((ve=this.fontMetrics)==null?void 0:ve.h)||0;i.itemWidth=i.checkboxOffset=w.itemWidth||l.labelWidth||Vt.width+Kt,this.maxItemWidth=Math.max(this.maxItemWidth,i.itemWidth),this.totalItemWidth+=i.itemWidth,this.itemHeight=i.itemHeight=Math.round(l.labelHeight||(Vt.height>1.5*qt?Vt.height:qt))}layoutItem(i){let l=this.options,c=this.padding,y=l.layout==="horizontal",w=i.itemHeight,M=this.itemMarginBottom,S=this.itemMarginTop,E=y?fl(l.itemDistance,20):0,W=this.maxLegendWidth,U=l.alignColumns&&this.totalItemWidth>W?this.maxItemWidth:i.itemWidth,H=i.legendItem||{};y&&this.itemX-c+U>W&&(this.itemX=c,this.lastLineHeight&&(this.itemY+=S+this.lastLineHeight+M),this.lastLineHeight=0),this.lastItemY=S+this.itemY+M,this.lastLineHeight=Math.max(w,this.lastLineHeight),H.x=this.itemX,H.y=this.itemY,y?this.itemX+=U:(this.itemY+=S+w+M,this.lastLineHeight=w),this.offsetWidth=this.widthOption||Math.max((y?this.itemX-c-(i.checkbox?0:E):U)+c,this.offsetWidth)}getAllItems(){let i=[];return this.chart.series.forEach(function(l){var y;let c=l==null?void 0:l.options;l&&fl(c.showInLegend,!uf(c.linkedTo)&&void 0,!0)&&(i=i.concat(((y=l.legendItem)==null?void 0:y.labels)||(c.legendType==="point"?l.data:l)))}),Lh(this,"afterGetAllItems",{allItems:i}),i}getAlignment(){let i=this.options;return this.proximate?i.align.charAt(0)+"tv":i.floating?"":i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0)}adjustMargins(i,l){let c=this.chart,y=this.options,w=this.getAlignment();w&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(M,S){M.test(w)&&!uf(i[S])&&(c[dp[S]]=Math.max(c[dp[S]],c.legend[(S+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][S]*y[S%2?"x":"y"]+fl(y.margin,12)+l[S]+(c.titleOffset[S]||0)))})}proximatePositions(){let i,l=this.chart,c=[],y=this.options.align==="left";for(let w of(this.allItems.forEach(function(M){let S,E,W=y,U,H;M.yAxis&&(M.xAxis.options.reversed&&(W=!W),M.points&&(S=hg(W?M.points:M.points.slice(0).reverse(),function(q){return Sc(q.plotY)})),E=this.itemMarginTop+M.legendItem.label.getBBox().height+this.itemMarginBottom,H=M.yAxis.top-l.plotTop,U=M.visible?(S?S.plotY:M.yAxis.height)+(H-.3*E):H+M.yAxis.height,c.push({target:U,size:E,item:M}))},this),Vs(c,l.plotHeight)))i=w.item.legendItem||{},Sc(w.pos)&&(i.y=l.plotTop-l.spacing[0]+w.pos)}render(){let i=this.chart,l=i.renderer,c=this.options,y=this.padding,w=this.getAllItems(),M,S,E,W=this.group,U,H=this.box;this.itemX=y,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Cm(c.width,i.spacingBox.width-y),U=i.spacingBox.width-2*y-c.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(U/=2),this.maxLegendWidth=this.widthOption||U,W||(this.group=W=l.g("legend").addClass(c.className||"").attr({zIndex:7}).add(),this.contentGroup=l.g().attr({zIndex:1}).add(W),this.scrollGroup=l.g().add(this.contentGroup)),this.renderTitle(),_m(w,(q,it)=>{var ht,yt;return(((ht=q.options)==null?void 0:ht.legendIndex)||0)-(((yt=it.options)==null?void 0:yt.legendIndex)||0)}),c.reversed&&w.reverse(),this.allItems=w,this.display=M=!!w.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,w.forEach(this.renderItem,this),w.forEach(this.layoutItem,this),S=(this.widthOption||this.offsetWidth)+y,E=this.lastItemY+this.lastLineHeight+this.titleHeight,E=this.handleOverflow(E)+y,H||(this.box=H=l.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(W)),i.styledMode||H.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),S>0&&E>0&&H[H.placed?"animate":"attr"](H.crisp.call({},{x:0,y:0,width:S,height:E},H.strokeWidth())),W[M?"show":"hide"](),i.styledMode&&W.getStyle("display")==="none"&&(S=E=0),this.legendWidth=S,this.legendHeight=E,M&&this.align(),this.proximate||this.positionItems(),Lh(this,"afterRender")}align(i=this.chart.spacingBox){let l=this.chart,c=this.options,y=i.y;/(lth|ct|rth)/.test(this.getAlignment())&&l.titleOffset[0]>0?y+=l.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&l.titleOffset[2]>0&&(y-=l.titleOffset[2]),y!==i.y&&(i=Hd(i,{y})),l.hasRendered||(this.group.placed=!1),this.group.align(Hd(c,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,i)}handleOverflow(i){let l=this,c=this.chart,y=c.renderer,w=this.options,M=w.y,S=w.verticalAlign==="top",E=this.padding,W=w.maxHeight,U=w.navigation,H=fl(U.animation,!0),q=U.arrowSize||12,it=this.pages,ht=this.allItems,yt=function(he){typeof he=="number"?ve.attr({height:he}):ve&&(l.clipRect=ve.destroy(),l.contentGroup.clip()),l.contentGroup.div&&(l.contentGroup.div.style.clip=he?"rect("+E+"px,9999px,"+(E+he)+"px,0)":"auto")},xt=function(he){return l[he]=y.circle(0,0,1.3*q).translate(q/2,q/2).add(qt),c.styledMode||l[he].attr("fill","rgba(0,0,0,0.0001)"),l[he]},ut,wt,Mt,Kt,Vt=c.spacingBox.height+(S?-M:M)-E,qt=this.nav,ve=this.clipRect;return w.layout!=="horizontal"||w.verticalAlign==="middle"||w.floating||(Vt/=2),W&&(Vt=Math.min(Vt,W)),it.length=0,i&&Vt>0&&i>Vt&&U.enabled!==!1?(this.clipHeight=ut=Math.max(Vt-20-this.titleHeight-E,0),this.currentPage=fl(this.currentPage,1),this.fullHeight=i,ht.forEach((he,fe)=>{let Ie=(Mt=he.legendItem||{}).y||0,ze=Math.round(Mt.label.getBBox().height),Je=it.length;(!Je||Ie-it[Je-1]>ut&&(wt||Ie)!==it[Je-1])&&(it.push(wt||Ie),Je++),Mt.pageIx=Je-1,wt&&Kt&&(Kt.pageIx=Je-1),fe===ht.length-1&&Ie+ze-it[Je-1]>ut&&Ie>it[Je-1]&&(it.push(Ie),Mt.pageIx=Je),Ie!==wt&&(wt=Ie),Kt=Mt}),ve||(ve=l.clipRect=y.clipRect(0,E-2,9999,0),l.contentGroup.clip(ve)),yt(ut),qt||(this.nav=qt=y.g().attr({zIndex:1}).add(this.group),this.up=y.symbol("triangle",0,0,q,q).add(qt),xt("upTracker").on("click",function(){l.scroll(-1,H)}),this.pager=y.text("",15,10).addClass("highcharts-legend-navigation"),!c.styledMode&&U.style&&this.pager.css(U.style),this.pager.add(qt),this.down=y.symbol("triangle-down",0,0,q,q).add(qt),xt("downTracker").on("click",function(){l.scroll(1,H)})),l.scroll(0),i=Vt):qt&&(yt(),this.nav=qt.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i}scroll(i,l){let c=this.chart,y=this.pages,w=y.length,M=this.clipHeight,S=this.options.navigation,E=this.pager,W=this.padding,U=this.currentPage+i;U>w&&(U=w),U>0&&(l!==void 0&&Eo(l,c),this.nav.attr({translateX:W,translateY:M+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(H){H.attr({class:U===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),E.attr({text:U+"/"+w}),[this.down,this.downTracker].forEach(function(H){H.attr({x:18+this.pager.getBBox().width,class:U===w?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:U===1?S.inactiveColor:S.activeColor}),this.upTracker.css({cursor:U===1?"default":"pointer"}),this.down.attr({fill:U===w?S.inactiveColor:S.activeColor}),this.downTracker.css({cursor:U===w?"default":"pointer"})),this.scrollOffset=-y[U-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=U,this.positionCheckboxes(),El(()=>{Lh(this,"afterScroll",{currentPage:U})},Mc(fl(l,c.renderer.globalAnimation,!0)).duration))}setItemEvents(i,l,c){let y=this,w=i.legendItem||{},M=y.chart.renderer.boxWrapper,S=i instanceof As,E=i instanceof Ea,W="highcharts-legend-"+(S?"point":"series")+"-active",U=y.chart.styledMode,H=c?[l,w.symbol]:[w.group],q=it=>{y.allItems.forEach(ht=>{i!==ht&&[ht].concat(ht.linkedSeries||[]).forEach(yt=>{yt.setState(it,!S)})})};for(let it of H)it&&it.on("mouseover",function(){i.visible&&q("inactive"),i.setState("hover"),i.visible&&M.addClass(W),U||l.css(y.options.itemHoverStyle)}).on("mouseout",function(){y.chart.styledMode||l.css(Hd(i.visible?y.itemStyle:y.itemHiddenStyle)),q(""),M.removeClass(W),i.setState()}).on("click",function(ht){let yt=function(){i.setVisible&&i.setVisible(),q(i.visible?"inactive":"")};M.removeClass(W),Lh(y,"itemClick",{browserEvent:ht,legendItem:i},yt),S?i.firePointEvent("legendItemClick",{browserEvent:ht}):E&&Lh(i,"legendItemClick",{browserEvent:ht})})}createCheckboxForItem(i){i.checkbox=Ol("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:i.selected,defaultChecked:i.selected},this.options.itemCheckboxStyle,this.chart.container),cp(i.checkbox,"click",function(l){let c=l.target;Lh(i.series||i,"checkboxClick",{checked:c.checked,item:i},function(){i.select()})})}}(function(F){F.compose=function(i){Tc(hp,"Core.Legend")&&cp(i,"beforeMargins",function(){this.legend=new F(this,this.options.legend)})}})(tu||(tu={}));let od=tu,{animate:So,animObject:dg,setAnimation:Oh}=Hr,{defaultOptions:Ia}=Le,{numberFormat:Lm}=br,{registerEventOptions:eu}=Sa,{charts:nd,doc:Gd,marginNames:iu,svg:su,win:Ac}=ke,{seriesTypes:ff}=Vi,{addEvent:Pc,attr:oh,createElement:Xd,css:qa,defined:Ba,diffObjects:Yd,discardElement:ru,erase:gf,error:pp,extend:gl,find:aa,fireEvent:ys,getAlignFactor:ou,getStyle:Ka,isArray:ad,isNumber:Eh,isObject:ld,isString:Cc,merge:as,objectEach:nh,pick:Io,pInt:Hs,relativeLength:jd,removeEvent:nu,splat:Ud,syncTimeout:la,uniqueKey:mf}=wi;class Ir{static chart(i,l,c){return new Ir(i,l,c)}constructor(i,l,c){this.sharedClips={};let y=[...arguments];(Cc(i)||i.nodeName)&&(this.renderTo=y.shift()),this.init(y[0],y[1])}setZoomOptions(){let i=this.options.chart,l=i.zooming;this.zooming={...l,type:Io(i.zoomType,l.type),key:Io(i.zoomKey,l.key),pinchType:Io(i.pinchType,l.pinchType),singleTouch:Io(i.zoomBySingleTouch,l.singleTouch,!1),resetButton:as(l.resetButton,i.resetZoomButton)}}init(i,l){ys(this,"init",{args:arguments},function(){var M;let c=as(Ia,i),y=c.chart,w=this.renderTo||y.renderTo;this.userOptions=gl({},i),(this.renderTo=Cc(w)?Gd.getElementById(w):w)||pp(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=l,this.isResizing=0,this.options=c,this.axes=[],this.series=[],this.locale=c.lang.locale??((M=this.renderTo.closest("[lang]"))==null?void 0:M.lang),this.time=new He(gl(c.time||{},{locale:this.locale}),c.lang),c.time=this.time.options,this.numberFormatter=(y.numberFormatter||Lm).bind(this),this.styledMode=y.styledMode,this.hasCartesianSeries=y.showAxes,this.index=nd.length,nd.push(this),ke.chartCount++,eu(this,y),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),ys(this,"afterInit"),this.firstRender()})}initSeries(i){let l=this.options.chart,c=i.type||l.type,y=ff[c];y||pp(17,!0,this,{missingModuleFor:c});let w=new y;return typeof w.init=="function"&&w.init(this,i),w}setSortedData(){this.getSeriesOrderByLinks().forEach(function(i){i.points||i.data||!i.enabledDataSorting||i.setData(i.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(i,l){return i.linkedSeries.length||l.linkedSeries.length?l.linkedSeries.length-i.linkedSeries.length:0})}orderItems(i,l=0){let c=this[i],y=this.options[i]=Ud(this.options[i]).slice(),w=this.userOptions[i]=this.userOptions[i]?Ud(this.userOptions[i]).slice():[];if(this.hasRendered&&(y.splice(l),w.splice(l)),c)for(let M=l,S=c.length;M<S;++M){let E=c[M];E&&(E.index=M,E instanceof Ea&&(E.name=E.getName()),E.options.isInternal||(y[M]=E.options,w[M]=E.userOptions))}}getClipBox(i,l){var U,H;let c=this.inverted,{xAxis:y,yAxis:w}=i||{},{x:M,y:S,width:E,height:W}=as(this.clipBox);return i&&(y&&y.len!==this.plotSizeX&&(E=y.len),w&&w.len!==this.plotSizeY&&(W=w.len),c&&!i.invertible&&([E,W]=[W,E])),l&&(M+=((U=c?w:y)==null?void 0:U.pos)??this.plotLeft,S+=((H=c?y:w)==null?void 0:H.pos)??this.plotTop),{x:M,y:S,width:E,height:W}}isInsidePlot(i,l,c={}){var xt;let{inverted:y,plotBox:w,plotLeft:M,plotTop:S,scrollablePlotBox:E}=this,{scrollLeft:W=0,scrollTop:U=0}=c.visiblePlotOnly&&((xt=this.scrollablePlotArea)==null?void 0:xt.scrollingContainer)||{},H=c.series,q=c.visiblePlotOnly&&E||w,it=c.inverted?l:i,ht=c.inverted?i:l,yt={x:it,y:ht,isInsidePlot:!0,options:c};if(!c.ignoreX){let ut=H&&(y&&!this.polar?H.yAxis:H.xAxis)||{pos:M,len:1/0},wt=c.paneCoordinates?ut.pos+it:M+it;wt>=Math.max(W+M,ut.pos)&&wt<=Math.min(W+M+q.width,ut.pos+ut.len)||(yt.isInsidePlot=!1)}if(!c.ignoreY&&yt.isInsidePlot){let ut=!y&&c.axis&&!c.axis.isXAxis&&c.axis||H&&(y?H.xAxis:H.yAxis)||{pos:S,len:1/0},wt=c.paneCoordinates?ut.pos+ht:S+ht;wt>=Math.max(U+S,ut.pos)&&wt<=Math.min(U+S+q.height,ut.pos+ut.len)||(yt.isInsidePlot=!1)}return ys(this,"afterIsInsidePlot",yt),yt.isInsidePlot}redraw(i){ys(this,"beforeRedraw");let l=this.hasCartesianSeries?this.axes:this.colorAxis||[],c=this.series,y=this.pointer,w=this.legend,M=this.userOptions.legend,S=this.renderer,E=S.isHidden(),W=[],U,H,q,it=this.isDirtyBox,ht=this.isDirtyLegend,yt;for(S.rootFontSize=S.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Oh(!!this.hasRendered&&i,this),E&&this.temporaryDisplay(),this.layOutTitles(!1),q=c.length;q--;)if(((yt=c[q]).options.stacking||yt.options.centerInCategory)&&(H=!0,yt.isDirty)){U=!0;break}if(U)for(q=c.length;q--;)(yt=c[q]).options.stacking&&(yt.isDirty=!0);c.forEach(function(xt){xt.isDirty&&(xt.options.legendType==="point"?(typeof xt.updateTotals=="function"&&xt.updateTotals(),ht=!0):M&&(M.labelFormatter||M.labelFormat)&&(ht=!0)),xt.isDirtyData&&ys(xt,"updatedData")}),ht&&w&&w.options.enabled&&(w.render(),this.isDirtyLegend=!1),H&&this.getStacks(),l.forEach(function(xt){xt.updateNames(),xt.setScale()}),this.getMargins(),l.forEach(function(xt){xt.isDirty&&(it=!0)}),l.forEach(function(xt){let ut=xt.min+","+xt.max;xt.extKey!==ut&&(xt.extKey=ut,W.push(function(){ys(xt,"afterSetExtremes",gl(xt.eventArgs,xt.getExtremes())),delete xt.eventArgs})),(it||H)&&xt.redraw()}),it&&this.drawChartBox(),ys(this,"predraw"),c.forEach(function(xt){(it||xt.isDirty)&&xt.visible&&xt.redraw(),xt.isDirtyData=!1}),y&&y.reset(!0),S.draw(),ys(this,"redraw"),ys(this,"render"),E&&this.temporaryDisplay(!0),W.forEach(function(xt){xt.call()})}get(i){let l=this.series;function c(w){return w.id===i||w.options&&w.options.id===i}let y=aa(this.axes,c)||aa(this.series,c);for(let w=0;!y&&w<l.length;w++)y=aa(l[w].points||[],c);return y}createAxes(){let i=this.userOptions;for(let l of(ys(this,"createAxes"),["xAxis","yAxis"]))for(let c of i[l]=Ud(i[l]||{}))new Ai(this,c,l);ys(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((i,l)=>(l.getPointsCollection().forEach(c=>{Io(c.selectedStaging,c.selected)&&i.push(c)}),i),[])}getSelectedSeries(){return this.series.filter(i=>i.selected)}setTitle(i,l,c){this.applyDescription("title",i),this.applyDescription("subtitle",l),this.applyDescription("caption",void 0),this.layOutTitles(c)}applyDescription(i,l){var M;let c=this,y=this.options[i]=as(this.options[i],l),w=this[i];w&&l&&(this[i]=w=w.destroy()),y&&!w&&((w=this.renderer.text(y.text,0,0,y.useHTML).attr({align:y.align,class:"highcharts-"+i,zIndex:y.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(S,E){c.applyDescription(i,S),c.layOutTitles(E)},this.styledMode||w.css(gl(i==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},y.style)),w.textPxLength=w.getBBox().width,w.css({whiteSpace:(M=y.style)==null?void 0:M.whiteSpace}),this[i]=w)}layOutTitles(i=!0){var S,E,W,U;let l=[0,0,0],{options:c,renderer:y,spacingBox:w}=this;["title","subtitle","caption"].forEach(H=>{var xt;let q=this[H],it=this.options[H],ht=as(w),yt=(q==null?void 0:q.textPxLength)||0;if(q&&it){ys(this,"layOutTitle",{alignTo:ht,key:H,textPxLength:yt});let ut=y.fontMetrics(q),wt=ut.b,Mt=ut.h,Kt=it.verticalAlign||"top",Vt=Kt==="top",qt=Vt&&it.minScale||1,ve=H==="title"?Vt?-3:0:Vt?l[0]+2:0,he=Math.min(ht.width/yt,1),fe=Math.max(qt,he),Ie=as({y:Kt==="bottom"?wt:ve+wt},{align:H==="title"?he<qt?"left":"center":(xt=this.title)==null?void 0:xt.alignValue},it),ze=(it.width||(he>qt?this.chartWidth:ht.width)/fe)+"px";q.alignValue!==Ie.align&&(q.placed=!1);let Je=Math.round(q.css({width:ze}).getBBox(it.useHTML).height);if(Ie.height=Je,q.align(Ie,!1,ht).attr({align:Ie.align,scaleX:fe,scaleY:fe,"transform-origin":`${ht.x+yt*fe*ou(Ie.align)} ${Mt}`}),!it.floating){let ni=Je*(Je<1.2*Mt?1:fe);Kt==="top"?l[0]=Math.ceil(l[0]+ni):Kt==="bottom"&&(l[2]=Math.ceil(l[2]+ni))}}},this),l[0]&&(((S=c.title)==null?void 0:S.verticalAlign)||"top")==="top"&&(l[0]+=((E=c.title)==null?void 0:E.margin)||0),l[2]&&((W=c.caption)==null?void 0:W.verticalAlign)==="bottom"&&(l[2]+=((U=c.caption)==null?void 0:U.margin)||0);let M=!this.titleOffset||this.titleOffset.join(",")!==l.join(",");this.titleOffset=l,ys(this,"afterLayOutTitles"),!this.isDirtyBox&&M&&(this.isDirtyBox=this.isDirtyLegend=M,this.hasRendered&&i&&this.isDirtyBox&&this.redraw())}getContainerBox(){let i=[].map.call(this.renderTo.children,c=>{if(c!==this.container){let y=c.style.display;return c.style.display="none",[c,y]}}),l={width:Ka(this.renderTo,"width",!0)||0,height:Ka(this.renderTo,"height",!0)||0};return i.filter(Boolean).forEach(([c,y])=>{c.style.display=y}),l}getChartSize(){var M;let i=this.options.chart,l=i.width,c=i.height,y=this.getContainerBox(),w=y.height<=1||!((M=this.renderTo.parentElement)!=null&&M.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,l||y.width||600),this.chartHeight=Math.max(0,jd(c,this.chartWidth)||(w?400:y.height)),this.containerBox=y}temporaryDisplay(i){let l=this.renderTo,c;if(i)for(;l!=null&&l.style;)l.hcOrigStyle&&(qa(l,l.hcOrigStyle),delete l.hcOrigStyle),l.hcOrigDetached&&(Gd.body.removeChild(l),l.hcOrigDetached=!1),l=l.parentNode;else for(;l!=null&&l.style&&(Gd.body.contains(l)||l.parentNode||(l.hcOrigDetached=!0,Gd.body.appendChild(l)),(Ka(l,"display",!1)==="none"||l.hcOricDetached)&&(l.hcOrigStyle={display:l.style.display,height:l.style.height,overflow:l.style.overflow},c={display:"block",overflow:"hidden"},l!==this.renderTo&&(c.height=0),qa(l,c),l.offsetWidth||l.style.setProperty("display","block","important")),(l=l.parentNode)!==Gd.body););}setClassName(i){this.container.className="highcharts-container "+(i||"")}getContainer(){var q,it;let i,l=this.options,c=l.chart,y="data-highcharts-chart",w=mf(),M=this.renderTo,S=Hs(oh(M,y));Eh(S)&&nd[S]&&nd[S].hasRendered&&nd[S].destroy(),oh(M,y,this.index),M.innerHTML=Qs.emptyHTML,c.skipClone||M.offsetWidth||this.temporaryDisplay(),this.getChartSize();let E=this.chartHeight,W=this.chartWidth;qa(M,{overflow:"hidden"}),this.styledMode||(i=gl({position:"relative",overflow:"hidden",width:W+"px",height:E+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},c.style||{}));let U=Xd("div",{id:w},i,M);this.container=U,this.getChartSize(),W!==this.chartWidth&&(W=this.chartWidth,this.styledMode||qa(U,{width:Io((q=c.style)==null?void 0:q.width,W+"px")})),this.containerBox=this.getContainerBox(),this._cursor=U.style.cursor;let H=c.renderer||!su?Os.getRendererType(c.renderer):ka;if(this.renderer=new H(U,W,E,void 0,c.forExport,(it=l.exporting)==null?void 0:it.allowHTML,this.styledMode),Oh(void 0,this),this.setClassName(c.className),this.styledMode)for(let ht in l.defs)this.renderer.definition(l.defs[ht]);else this.renderer.setStyle(c.style);this.renderer.chartIndex=this.index,ys(this,"afterGetContainer")}getMargins(i){var w;let{spacing:l,margin:c,titleOffset:y}=this;this.resetMargins(),y[0]&&!Ba(c[0])&&(this.plotTop=Math.max(this.plotTop,y[0]+l[0])),y[2]&&!Ba(c[2])&&(this.marginBottom=Math.max(this.marginBottom,y[2]+l[2])),(w=this.legend)!=null&&w.display&&this.legend.adjustMargins(c,l),ys(this,"getMargins"),i||this.getAxisMargins()}getAxisMargins(){let i=this,l=i.axisOffset=[0,0,0,0],c=i.colorAxis,y=i.margin,w=function(M){M.forEach(function(S){S.visible&&S.getOffset()})};i.hasCartesianSeries?w(i.axes):c!=null&&c.length&&w(c),iu.forEach(function(M,S){Ba(y[S])||(i[M]+=l[S])}),i.setChartSize()}getOptions(){return Yd(this.userOptions,Ia)}reflow(i){var w,M;let l=this,c=l.containerBox,y=l.getContainerBox();(w=l.pointer)==null||delete w.chartPosition,!((M=l.exporting)!=null&&M.isPrinting)&&!l.isResizing&&c&&y.width&&((y.width!==c.width||y.height!==c.height)&&(wi.clearTimeout(l.reflowTimeout),l.reflowTimeout=la(function(){l.container&&l.setSize(void 0,void 0,!1)},100*!!i)),l.containerBox=y)}setReflow(){let i=this,l=c=>{var y;(y=i.options)!=null&&y.chart.reflow&&i.hasLoaded&&i.reflow(c)};if(typeof ResizeObserver=="function")new ResizeObserver(l).observe(i.renderTo);else{let c=Pc(Ac,"resize",l);Pc(this,"destroy",c)}}setSize(i,l,c){let y=this,w=y.renderer;y.isResizing+=1,Oh(c,y);let M=w.globalAnimation;y.oldChartHeight=y.chartHeight,y.oldChartWidth=y.chartWidth,i!==void 0&&(y.options.chart.width=i),l!==void 0&&(y.options.chart.height=l),y.getChartSize();let{chartWidth:S,chartHeight:E,scrollablePixelsX:W=0,scrollablePixelsY:U=0}=y;(y.isDirtyBox||S!==y.oldChartWidth||E!==y.oldChartHeight)&&(y.styledMode||(M?So:qa)(y.container,{width:`${S+W}px`,height:`${E+U}px`},M),y.setChartSize(!0),w.setSize(S,E,M),y.axes.forEach(function(H){H.isDirty=!0,H.setScale()}),y.isDirtyLegend=!0,y.isDirtyBox=!0,y.layOutTitles(),y.getMargins(),y.redraw(M),y.oldChartHeight=void 0,ys(y,"resize"),setTimeout(()=>{y&&ys(y,"endResize")},dg(M).duration)),y.isResizing-=1}setChartSize(i){let l,c,y,w,{chartHeight:M,chartWidth:S,inverted:E,spacing:W,renderer:U}=this,H=this.clipOffset,q=Math[E?"floor":"round"];this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=y=Math.max(0,Math.round(S-l-(this.marginRight??0))),this.plotHeight=w=Math.max(0,Math.round(M-c-(this.marginBottom??0))),this.plotSizeX=E?w:y,this.plotSizeY=E?y:w,this.spacingBox=U.spacingBox={x:W[3],y:W[0],width:S-W[3]-W[1],height:M-W[0]-W[2]},this.plotBox=U.plotBox={x:l,y:c,width:y,height:w},H&&(this.clipBox={x:q(H[3]),y:q(H[0]),width:q(this.plotSizeX-H[1]-H[3]),height:q(this.plotSizeY-H[0]-H[2])}),i||(this.axes.forEach(function(it){it.setAxisSize(),it.setAxisTranslation()}),U.alignElements()),ys(this,"afterSetChartSize",{skipAxes:i})}resetMargins(){ys(this,"resetMargins");let i=this,l=i.options.chart,c=l.plotBorderWidth||0,y=Math.round(c)/2;["margin","spacing"].forEach(function(w){let M=l[w],S=ld(M)?M:[M,M,M,M];["Top","Right","Bottom","Left"].forEach(function(E,W){i[w][W]=Io(l[w+E],S[W])})}),iu.forEach(function(w,M){i[w]=Io(i.margin[M],i.spacing[M])}),i.axisOffset=[0,0,0,0],i.clipOffset=[y,y,y,y],i.plotBorderWidth=c}drawChartBox(){let i=this.options.chart,l=this.renderer,c=this.chartWidth,y=this.chartHeight,w=this.styledMode,M=this.plotBGImage,S=i.backgroundColor,E=i.plotBackgroundColor,W=i.plotBackgroundImage,U=this.plotLeft,H=this.plotTop,q=this.plotWidth,it=this.plotHeight,ht=this.plotBox,yt=this.clipRect,xt=this.clipBox,ut=this.chartBackground,wt=this.plotBackground,Mt=this.plotBorder,Kt,Vt,qt,ve="animate";ut||(this.chartBackground=ut=l.rect().addClass("highcharts-background").add(),ve="attr"),w?Kt=Vt=ut.strokeWidth():(Vt=(Kt=i.borderWidth||0)+8*!!i.shadow,qt={fill:S||"none"},(Kt||ut["stroke-width"])&&(qt.stroke=i.borderColor,qt["stroke-width"]=Kt),ut.attr(qt).shadow(i.shadow)),ut[ve]({x:Vt/2,y:Vt/2,width:c-Vt-Kt%2,height:y-Vt-Kt%2,r:i.borderRadius}),ve="animate",wt||(ve="attr",this.plotBackground=wt=l.rect().addClass("highcharts-plot-background").add()),wt[ve](ht),!w&&(wt.attr({fill:E||"none"}).shadow(i.plotShadow),W&&(M?(W!==M.attr("href")&&M.attr("href",W),M.animate(ht)):this.plotBGImage=l.image(W,U,H,q,it).add())),yt?yt.animate({width:xt.width,height:xt.height}):this.clipRect=l.clipRect(xt),ve="animate",Mt||(ve="attr",this.plotBorder=Mt=l.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),w||Mt.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),Mt[ve](Mt.crisp(ht,-Mt.strokeWidth())),this.isDirtyBox=!1,ys(this,"afterDrawChartBox")}propFromSeries(){let i,l,c,y=this,w=y.options.chart,M=y.options.series;["inverted","angular","polar"].forEach(function(S){for(l=ff[w.type],c=w[S]||l&&l.prototype[S],i=M==null?void 0:M.length;!c&&i--;)(l=ff[M[i].type])&&l.prototype[S]&&(c=!0);y[S]=c})}linkSeries(i){let l=this,c=l.series;c.forEach(function(y){y.linkedSeries.length=0}),c.forEach(function(y){let{linkedTo:w}=y.options;if(Cc(w)){let M;(M=w===":previous"?l.series[y.index-1]:l.get(w))&&M.linkedParent!==y&&(M.linkedSeries.push(y),y.linkedParent=M,M.enabledDataSorting&&y.setDataSortingOptions(),y.visible=Io(y.options.visible,M.options.visible,y.visible))}}),ys(this,"afterLinkSeries",{isUpdating:i})}renderSeries(){this.series.forEach(function(i){i.translate(),i.render()})}render(){var U;let i=this.axes,l=this.colorAxis,c=this.renderer,y=this.options.chart.axisLayoutRuns||2,w=H=>{H.forEach(q=>{q.visible&&q.render()})},M=0,S=!0,E,W=0;for(let H of(this.setTitle(),ys(this,"beforeMargins"),(U=this.getStacks)==null||U.call(this),this.getMargins(!0),this.setChartSize(),i)){let{options:q}=H,{labels:it}=q;if(this.hasCartesianSeries&&H.horiz&&H.visible&&it.enabled&&H.series.length&&H.coll!=="colorAxis"&&!this.polar){M=q.tickLength,H.createGroups();let ht=new ko(H,0,"",!0),yt=ht.createLabel("x",it);if(ht.destroy(),yt&&Io(it.reserveSpace,!Eh(q.crossing))&&(M=yt.getBBox().height+it.distance+Math.max(q.offset||0,0)),M){yt==null||yt.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-M,0);(S||E||y>1)&&W<y;){let H=this.plotWidth,q=this.plotHeight;for(let it of i)W===0?it.setScale():(it.horiz&&S||!it.horiz&&E)&&it.setTickInterval(!0);W===0?this.getAxisMargins():this.getMargins(),S=H/this.plotWidth>(W?1:1.1),E=q/this.plotHeight>(W?1:1.05),W++}this.drawChartBox(),this.hasCartesianSeries?w(i):l!=null&&l.length&&w(l),this.seriesGroup||(this.seriesGroup=c.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=c.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(i){let l=this,c=as(!0,this.options.credits,i);c.enabled&&!this.credits&&(this.credits=this.renderer.text(c.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){c.href&&(Ac.location.href=c.href)}).attr({align:c.position.align,zIndex:8}),l.styledMode||this.credits.css(c.style),this.credits.add().align(c.position),this.credits.update=function(y){l.credits=l.credits.destroy(),l.addCredits(y)})}destroy(){var S,E;let i,l=this,c=l.axes,y=l.series,w=l.container,M=w==null?void 0:w.parentNode;for(ys(l,"destroy"),l.renderer.forExport?gf(nd,l):nd[l.index]=void 0,ke.chartCount--,l.renderTo.removeAttribute("data-highcharts-chart"),nu(l),i=c.length;i--;)c[i]=c[i].destroy();for((E=(S=this.scroller)==null?void 0:S.destroy)==null||E.call(S),i=y.length;i--;)y[i]=y[i].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(W=>{var U,H;l[W]=(H=(U=l[W])==null?void 0:U.destroy)==null?void 0:H.call(U)}),w&&(w.innerHTML=Qs.emptyHTML,nu(w),M&&ru(w)),nh(l,function(W,U){delete l[U]})}firstRender(){var y;let i=this,l=i.options;i.getContainer(),i.resetMargins(),i.setChartSize(),i.propFromSeries(),i.createAxes();let c=ad(l.series)?l.series:[];l.series=[],c.forEach(function(w){i.initSeries(w)}),i.linkSeries(),i.setSortedData(),ys(i,"beforeRender"),i.render(),(y=i.pointer)==null||y.getChartPosition(),i.renderer.imgCount||i.hasLoaded||i.onload(),i.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(i){i&&this.index!==void 0&&i.apply(this,[this])},this),ys(this,"load"),ys(this,"render"),Ba(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:i,title:l}=this;i&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((l==null?void 0:l.element.textContent)||"").replace(/</g,"&lt;")}),i.accessibility&&i.accessibility.enabled===!1||pp('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(i,l,c){let y,w=this;return i&&(l=Io(l,!0),ys(w,"addSeries",{options:i},function(){y=w.initSeries(i),w.isDirtyLegend=!0,w.linkSeries(),y.enabledDataSorting&&y.setData(i.data,!1),ys(w,"afterAddSeries",{series:y}),l&&w.redraw(c)})),y}addAxis(i,l,c,y){return this.createAxis(l?"xAxis":"yAxis",{axis:i,redraw:c,animation:y})}addColorAxis(i,l,c){return this.createAxis("colorAxis",{axis:i,redraw:l,animation:c})}createAxis(i,l){let c=new Ai(this,l.axis,i);return Io(l.redraw,!0)&&this.redraw(l.animation),c}showLoading(i){let l=this,c=l.options,y=c.loading,w=function(){M&&qa(M,{left:l.plotLeft+"px",top:l.plotTop+"px",width:l.plotWidth+"px",height:l.plotHeight+"px"})},M=l.loadingDiv,S=l.loadingSpan;M||(l.loadingDiv=M=Xd("div",{className:"highcharts-loading highcharts-loading-hidden"},null,l.container)),S||(l.loadingSpan=S=Xd("span",{className:"highcharts-loading-inner"},null,M),Pc(l,"redraw",w)),M.className="highcharts-loading",Qs.setElementHTML(S,Io(i,c.lang.loading,"")),!l.styledMode&&(qa(M,gl(y.style,{zIndex:10})),qa(S,y.labelStyle),l.loadingShown||(qa(M,{opacity:0,display:""}),So(M,{opacity:y.style.opacity||.5},{duration:y.showDuration||0}))),l.loadingShown=!0,w()}hideLoading(){let i=this.options,l=this.loadingDiv;l&&(l.className="highcharts-loading highcharts-loading-hidden",this.styledMode||So(l,{opacity:0},{duration:i.loading.hideDuration||100,complete:function(){qa(l,{display:"none"})}})),this.loadingShown=!1}update(i,l,c,y){let w,M,S,E=this,W={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},U=i.isResponsiveOptions,H=[];ys(E,"update",{options:i}),U||E.setResponsive(!1,!0),i=Yd(i,E.options),E.userOptions=as(E.userOptions,i);let q=i.chart;q&&(as(!0,E.options.chart,q),this.setZoomOptions(),"className"in q&&E.setClassName(q.className),("inverted"in q||"polar"in q||"type"in q)&&(E.propFromSeries(),w=!0),"alignTicks"in q&&(w=!0),"events"in q&&eu(this,q),nh(q,function(yt,xt){E.propsRequireUpdateSeries.indexOf("chart."+xt)!==-1&&(M=!0),E.propsRequireDirtyBox.indexOf(xt)!==-1&&(E.isDirtyBox=!0),E.propsRequireReflow.indexOf(xt)!==-1&&(E.isDirtyBox=!0,U||(S=!0))}),!E.styledMode&&q.style&&E.renderer.setStyle(E.options.chart.style||{})),!E.styledMode&&i.colors&&(this.options.colors=i.colors),nh(i,function(yt,xt){E[xt]&&typeof E[xt].update=="function"?E[xt].update(yt,!1):typeof E[W[xt]]=="function"?E[W[xt]](yt):xt!=="colors"&&E.collectionsWithUpdate.indexOf(xt)===-1&&as(!0,E.options[xt],i[xt]),xt!=="chart"&&E.propsRequireUpdateSeries.indexOf(xt)!==-1&&(M=!0)}),this.collectionsWithUpdate.forEach(function(yt){i[yt]&&(Ud(i[yt]).forEach(function(xt,ut){let wt,Mt=Ba(xt.id);Mt&&(wt=E.get(xt.id)),!wt&&E[yt]&&(wt=E[yt][Io(xt.index,ut)])&&(Mt&&Ba(wt.options.id)||wt.options.isInternal)&&(wt=void 0),wt&&wt.coll===yt&&(wt.update(xt,!1),c&&(wt.touched=!0)),!wt&&c&&E.collectionsWithInit[yt]&&(E.collectionsWithInit[yt][0].apply(E,[xt].concat(E.collectionsWithInit[yt][1]||[]).concat([!1])).touched=!0)}),c&&E[yt].forEach(function(xt){xt.touched||xt.options.isInternal?delete xt.touched:H.push(xt)}))}),H.forEach(function(yt){yt.chart&&yt.remove&&yt.remove(!1)}),w&&E.axes.forEach(function(yt){yt.update({},!1)}),M&&E.getSeriesOrderByLinks().forEach(function(yt){yt.chart&&yt.update({},!1)},this);let it=q==null?void 0:q.width,ht=q&&(Cc(q.height)?jd(q.height,it||E.chartWidth):q.height);S||Eh(it)&&it!==E.chartWidth||Eh(ht)&&ht!==E.chartHeight?E.setSize(it,ht,y):Io(l,!0)&&E.redraw(y),ys(E,"afterUpdate",{options:i,redraw:l,animation:y})}setSubtitle(i,l){this.applyDescription("subtitle",i),this.layOutTitles(l)}setCaption(i,l){this.applyDescription("caption",i),this.layOutTitles(l)}showResetZoom(){let i=this,l=Ia.lang,c=i.zooming.resetButton,y=c.theme,w=c.relativeTo==="chart"||c.relativeTo==="spacingBox"?null:"plotBox";function M(){i.zoomOut()}ys(this,"beforeShowResetZoom",null,function(){i.resetZoomButton=i.renderer.button(l.resetZoom,null,null,M,y).attr({align:c.position.align,title:l.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,w)}),ys(this,"afterShowResetZoom")}zoomOut(){ys(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(i,l){let c=this,y=typeof l=="object"?l:{enabled:l,type:"x"},w=y.type,M=w&&c[{x:"xAxis",xy:"axes",y:"yAxis"}[w]].filter(E=>E.options.panningEnabled&&!E.options.isInternal),S=c.options.chart;S!=null&&S.panning&&(S.panning=y),ys(this,"pan",{originalEvent:i},()=>{c.transform({axes:M,event:i,to:{x:i.chartX-(c.mouseDownX||0),y:i.chartY-(c.mouseDownY||0)},trigger:"pan"}),qa(c.container,{cursor:"move"})})}transform(i){var ht;let{axes:l=this.axes,event:c,from:y={},reset:w,selection:M,to:S={},trigger:E}=i,{inverted:W,time:U}=this;(ht=this.hoverPoints)==null||ht.forEach(yt=>yt.setState()),ys(this,"transform",i);let H=i.hasZoomed||!1,q,it;for(let yt of l){let{horiz:xt,len:ut,minPointOffset:wt=0,options:Mt,reversed:Kt}=yt,Vt=xt?"width":"height",qt=xt?"x":"y",ve=Io(S[Vt],yt.len),he=Io(y[Vt],yt.len),fe=10>Math.abs(ve)?1:ve/he,Ie=(y[qt]||0)+he/2-yt.pos,ze=Ie-((S[qt]??yt.pos)+ve/2-yt.pos)/fe,Je=Kt&&!W||!Kt&&W?-1:1;if(!w&&(Ie<0||Ie>yt.len))continue;let ni=yt.chart.polar||yt.isOrdinal?0:wt*Je||0,Pi=yt.toValue(ze,!0),ki=yt.toValue(ze+ut/fe,!0),Ei=Pi+ni,pi=ki-ni,Fi=yt.allExtremes;if(M&&M[yt.coll].push({axis:yt,min:Math.min(Pi,ki),max:Math.max(Pi,ki)}),Ei>pi&&([Ei,pi]=[pi,Ei]),fe===1&&!w&&yt.coll==="yAxis"&&!Fi){for(let $s of yt.series){let Nr=$s.getExtremes($s.getProcessedData(!0).modified.getColumn("y")||[],!0);Fi??(Fi={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Eh(Nr.dataMin)&&Eh(Nr.dataMax)&&(Fi.dataMin=Math.min(Nr.dataMin,Fi.dataMin),Fi.dataMax=Math.max(Nr.dataMax,Fi.dataMax))}yt.allExtremes=Fi}let{dataMin:Ps,dataMax:Ss,min:Bs,max:dn}=gl(yt.getExtremes(),Fi||{}),cs=U.parse(Mt.min),sr=U.parse(Mt.max),Ki=Ps??cs,$i=Ss??sr,io=pi-Ei,Zs=yt.categories?0:Math.min(io,$i-Ki),Mr=Ki-Zs*(Ba(cs)?0:Mt.minPadding),To=$i+Zs*(Ba(sr)?0:Mt.maxPadding),ch=yt.allowZoomOutside||fe===1||E!=="zoom"&&fe>1,Qa=Math.min(cs??Mr,Mr,ch?Bs:Mr),_n=Math.max(sr??To,To,ch?dn:To);(!yt.isOrdinal||fe!==1||w)&&(Ei<Qa&&(Ei=Qa,fe>=1&&(pi=Ei+io)),pi>_n&&(pi=_n,fe>=1&&(Ei=pi-io)),(w||yt.series.length&&(Ei!==Bs||pi!==dn)&&Ei>=Qa&&pi<=_n)&&(M?M[yt.coll].push({axis:yt,min:Ei,max:pi}):(yt.isPanning=E!=="zoom",yt.isPanning&&(it=!0),yt.setExtremes(w?void 0:Ei,w?void 0:pi,!1,!1,{move:ze,trigger:E,scale:fe}),!w&&(Ei>Qa||pi<_n)&&E!=="mousewheel"&&(q=!0)),H=!0),this.hasCartesianSeries||w||E==="mousewheel"||(q=!0),c&&(this[xt?"mouseDownX":"mouseDownY"]=c[xt?"chartX":"chartY"]))}return H&&(M?ys(this,"selection",M,()=>{delete i.selection,i.trigger="zoom",this.transform(i)}):(!q||it||this.resetZoomButton?!q&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(E==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),H}}gl(Ir.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Ir.prototype.addAxis,[!0]],yAxis:[Ir.prototype.addAxis,[!1]],series:[Ir.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:ah}=Hr,{composed:au}=ke,{addEvent:Zr,createElement:Vd,css:lu,defined:hu,erase:lh,merge:du,pushUnique:cg}=wi;function Zd(){let F=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!F&&(this.scrollablePlotArea=F=new hd(this)),F==null||F.applyFixed()}function ml(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class hd{static compose(i,l,c){cg(au,this.compose)&&(Zr(i,"afterInit",ml),Zr(l,"afterSetChartSize",y=>this.afterSetSize(y.target,y)),Zr(l,"render",Zd),Zr(c,"show",ml))}static afterSetSize(i,l){let c,y,w,{minWidth:M,minHeight:S}=i.options.chart.scrollablePlotArea||{},{clipBox:E,plotBox:W,inverted:U,renderer:H}=i;if(!H.forExport&&(M?(i.scrollablePixelsX=c=Math.max(0,M-i.chartWidth),c&&(i.scrollablePlotBox=du(i.plotBox),W.width=i.plotWidth+=c,E[U?"height":"width"]+=c,w=!0)):S&&(i.scrollablePixelsY=y=Math.max(0,S-i.chartHeight),hu(y)&&(i.scrollablePlotBox=du(i.plotBox),W.height=i.plotHeight+=y,E[U?"width":"height"]+=y,w=!1)),hu(w)&&!l.skipAxes))for(let q of i.axes)(q.horiz===w||i.hasParallelCoordinates&&q.coll==="yAxis")&&(q.setAxisSize(),q.setAxisTranslation())}constructor(i){var it;let l,c=i.options.chart,y=Os.getRendererType(),w=c.scrollablePlotArea||{},M=this.moveFixedElements.bind(this),S={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};i.scrollablePixelsX&&(S.overflowX="auto"),i.scrollablePixelsY&&(S.overflowY="auto"),this.chart=i;let E=this.parentDiv=Vd("div",{className:"highcharts-scrolling-parent"},{position:"relative"},i.renderTo),W=this.scrollingContainer=Vd("div",{className:"highcharts-scrolling"},S,E),U=this.innerContainer=Vd("div",{className:"highcharts-inner-container"},void 0,W),H=this.fixedDiv=Vd("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((it=c.style)==null?void 0:it.zIndex)||0)+2,top:0},void 0,!0),q=this.fixedRenderer=new y(H,i.chartWidth,i.chartHeight,c.style);this.mask=q.path().attr({fill:c.backgroundColor||"#fff","fill-opacity":w.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),W.parentNode.insertBefore(H,W),lu(i.renderTo,{overflow:"visible"}),Zr(i,"afterShowResetZoom",M),Zr(i,"afterApplyDrilldown",M),Zr(i,"afterLayOutTitles",M),Zr(W,"scroll",()=>{let{pointer:ht,hoverPoint:yt}=i;ht&&(delete ht.chartPosition,yt&&(l=yt),ht.runPointActions(void 0,l,!0))}),U.appendChild(i.container)}applyFixed(){var Ie;let{chart:i,fixedRenderer:l,isDirty:c,scrollingContainer:y}=this,{axisOffset:w,chartWidth:M,chartHeight:S,container:E,plotHeight:W,plotLeft:U,plotTop:H,plotWidth:q,scrollablePixelsX:it=0,scrollablePixelsY:ht=0}=i,{scrollPositionX:yt=0,scrollPositionY:xt=0}=i.options.chart.scrollablePlotArea||{},ut=M+it,wt=S+ht;l.setSize(M,S),(c??!0)&&(this.isDirty=!1,this.moveFixedElements()),ah(i.container),lu(E,{width:`${ut}px`,height:`${wt}px`}),i.renderer.boxWrapper.attr({width:ut,height:wt,viewBox:[0,0,ut,wt].join(" ")}),(Ie=i.chartBackground)==null||Ie.attr({width:ut,height:wt}),lu(y,{width:`${M}px`,height:`${S}px`}),hu(c)||(y.scrollLeft=it*yt,y.scrollTop=ht*xt);let Mt=H-w[0]-1,Kt=U-w[3]-1,Vt=H+W+w[2]+1,qt=U+q+w[1]+1,ve=U+q-it,he=H+W-ht,fe=[["M",0,0]];it?fe=[["M",0,Mt],["L",U-1,Mt],["L",U-1,Vt],["L",0,Vt],["Z"],["M",ve,Mt],["L",M,Mt],["L",M,Vt],["L",ve,Vt],["Z"]]:ht&&(fe=[["M",Kt,0],["L",Kt,H-1],["L",qt,H-1],["L",qt,0],["Z"],["M",Kt,he],["L",Kt,S],["L",qt,S],["L",qt,he],["Z"]]),i.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:fe})}moveFixedElements(){let i,{container:l,inverted:c,scrollablePixelsX:y,scrollablePixelsY:w}=this.chart,M=this.fixedRenderer,S=hd.fixedSelectors;if(y&&!c?i=".highcharts-yaxis":y&&c||w&&!c?i=".highcharts-xaxis":w&&c&&(i=".highcharts-yaxis"),i&&!(this.chart.hasParallelCoordinates&&i===".highcharts-yaxis"))for(let E of[`${i}:not(.highcharts-radial-axis)`,`${i}-labels:not(.highcharts-radial-axis-labels)`])cg(S,E);else for(let E of[".highcharts-xaxis",".highcharts-yaxis"])for(let W of[`${E}:not(.highcharts-radial-axis)`,`${E}-labels:not(.highcharts-radial-axis-labels)`])lh(S,W);for(let E of S)[].forEach.call(l.querySelectorAll(E),W=>{(W.namespaceURI===M.SVG_NS?M.box:M.box.parentNode).appendChild(W),W.style.pointerEvents="auto"})}}hd.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:xf}=br,{series:hh}=Vi,{destroyObjectProperties:cu,fireEvent:up,getAlignFactor:_c,isNumber:yf,pick:$d}=wi,qd=class{constructor(F,i,l,c,y){let w=F.chart.inverted,M=F.reversed;this.axis=F;let S=this.isNegative=!!l!=!!M;this.options=i=i||{},this.x=c,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=y,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:i.align||(w?S?"left":"right":"center"),verticalAlign:i.verticalAlign||(w?"middle":S?"bottom":"top"),y:i.y,x:i.x},this.textAlign=i.textAlign||(w?S?"right":"left":"center")}destroy(){cu(this,this.axis)}render(F){let i=this.axis.chart,l=this.options,c=l.format,y=c?xf(c,this,i):l.formatter.call(this);if(this.label)this.label.attr({text:y,visibility:"hidden"});else{this.label=i.renderer.label(y,null,void 0,l.shape,void 0,void 0,l.useHTML,!1,"stack-labels");let w={r:l.borderRadius||0,text:y,padding:$d(l.padding,5),visibility:"hidden"};i.styledMode||(w.fill=l.backgroundColor,w.stroke=l.borderColor,w["stroke-width"]=l.borderWidth,this.label.css(l.style||{})),this.label.attr(w),this.label.added||this.label.add(F)}this.label.labelrank=i.plotSizeY,up(this,"afterRender")}setOffset(F,i,l,c,y,w){let{alignOptions:M,axis:S,label:E,options:W,textAlign:U}=this,H=S.chart,q=this.getStackBox({xOffset:F,width:i,boxBottom:l,boxTop:c,defaultX:y,xAxis:w}),{verticalAlign:it}=M;if(E&&q){let ht=E.getBBox(void 0,0),yt=E.padding,xt=$d(W.overflow,"justify")==="justify",ut;M.x=W.x||0,M.y=W.y||0;let{x:wt,y:Mt}=this.adjustStackPosition({labelBox:ht,verticalAlign:it,textAlign:U});q.x-=wt,q.y-=Mt,E.align(M,!1,q),(ut=H.isInsidePlot(E.alignAttr.x+M.x+wt,E.alignAttr.y+M.y+Mt))||(xt=!1),xt&&hh.prototype.justifyDataLabel.call(S,E,M,E.alignAttr,ht,q),E.attr({x:E.alignAttr.x,y:E.alignAttr.y,rotation:W.rotation,rotationOriginX:ht.width*_c(W.textAlign||"center"),rotationOriginY:ht.height/2}),$d(!xt&&W.crop,!0)&&(ut=yf(E.x)&&yf(E.y)&&H.isInsidePlot(E.x-yt+(E.width||0),E.y)&&H.isInsidePlot(E.x+yt,E.y)),E[ut?"show":"hide"]()}up(this,"afterSetOffset",{xOffset:F,width:i})}adjustStackPosition({labelBox:F,verticalAlign:i,textAlign:l}){return{x:F.width/2+F.width/2*(2*_c(l)-1),y:F.height/2*2*(1-_c(i))}}getStackBox(F){let i=this.axis,l=i.chart,{boxTop:c,defaultX:y,xOffset:w,width:M,boxBottom:S}=F,E=i.stacking.usePercentage?100:$d(c,this.total,0),W=i.toPixels(E),U=F.xAxis||l.xAxis[0],H=$d(y,U.translate(this.x))+w,q=Math.abs(W-i.toPixels(S||yf(i.min)&&i.logarithmic&&i.logarithmic.lin2log(i.min)||0)),it=l.inverted,ht=this.isNegative;return it?{x:(ht?W:W-q)-l.plotLeft,y:U.height-H-M+U.top-l.plotTop,width:q,height:M}:{x:H+U.transB-l.plotLeft,y:(ht?W-q:W)-l.plotTop,width:M,height:q}}},{getDeferredAnimation:Om}=Hr,{series:{prototype:pg}}=Vi,{addEvent:Lc,correctFloat:Oc,defined:pu,destroyObjectProperties:vf,fireEvent:Ec,isNumber:Ic,objectEach:Ih,pick:Kd}=wi;function uu(){let F=this.inverted;this.axes.forEach(i=>{var l;(l=i.stacking)!=null&&l.stacks&&i.hasVisibleSeries&&(i.stacking.oldStacks=i.stacking.stacks)}),this.series.forEach(i=>{var c;let l=((c=i.xAxis)==null?void 0:c.options)||{};i.options.stacking&&i.reserveSpace()&&(i.stackKey=[i.type,Kd(i.options.stack,""),F?l.top:l.left,F?l.height:l.width].join(","))})}function fp(){var i;let F=this.stacking;if(F){let l=F.stacks;Ih(l,(c,y)=>{vf(c),delete l[y]}),(i=F.stackTotalGroup)==null||i.destroy()}}function ug(){this.stacking||(this.stacking=new wf(this))}function fg(F,i,l,c){return!pu(F)||F.x!==i||c&&F.stackKey!==c?F={x:i,index:0,key:c,stackKey:c}:F.index++,F.key=[l,i,F.index].join(","),F}function gp(){let F,i=this,l=i.yAxis,c=i.stackKey||"",y=l.stacking.stacks,w=i.getColumn("x",!0),M=i.options.stacking,S=i[M+"Stacker"];S&&[c,"-"+c].forEach(E=>{var it;let W=w.length,U,H,q;for(;W--;)U=w[W],F=i.getStackIndicator(F,U,i.index,E),H=(it=y[E])==null?void 0:it[U],(q=H==null?void 0:H.points[F.key||""])&&S.call(i,q,H,W)})}function fu(F,i,l){let c=i.total?100/i.total:0;F[0]=Oc(F[0]*c),F[1]=Oc(F[1]*c),this.stackedYData[l]=F[1]}function Jd(F){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?pg.setStackedPoints.call(this,F,"group"):F.stacking.resetStacks())}function bf(F,i){var he,fe;let l,c,y,w,M,S,E,W=i||this.options.stacking;if(!W||!this.reserveSpace()||({group:"xAxis"}[W]||"yAxis")!==F.coll)return;let U=this.getColumn("x",!0),H=this.getColumn(this.pointValKey||"y",!0),q=[],it=H.length,ht=this.options,yt=ht.threshold||0,xt=ht.startFromThreshold?yt:0,ut=ht.stack,wt=i?`${this.type},${W}`:this.stackKey||"",Mt="-"+wt,Kt=this.negStacks,Vt=F.stacking,qt=Vt.stacks,ve=Vt.oldStacks;for(Vt.stacksTouched+=1,E=0;E<it;E++){let Ie=U[E]||0,ze=H[E],Je=Ic(ze)&&ze||0;S=(l=this.getStackIndicator(l,Ie,this.index)).key||"",qt[M=(c=Kt&&Je<(xt?0:yt))?Mt:wt]||(qt[M]={}),qt[M][Ie]||((he=ve[M])!=null&&he[Ie]?(qt[M][Ie]=ve[M][Ie],qt[M][Ie].total=null):qt[M][Ie]=new qd(F,F.options.stackLabels,!!c,Ie,ut)),y=qt[M][Ie],ze!==null?(y.points[S]=y.points[this.index]=[Kd(y.cumulative,xt)],pu(y.cumulative)||(y.base=S),y.touched=Vt.stacksTouched,l.index>0&&this.singleStacks===!1&&(y.points[S][0]=y.points[this.index+","+Ie+",0"][0])):(delete y.points[S],delete y.points[this.index]);let ni=y.total||0;W==="percent"?(w=c?wt:Mt,ni=Kt&&((fe=qt[w])!=null&&fe[Ie])?(w=qt[w][Ie]).total=Math.max(w.total||0,ni)+Math.abs(Je):Oc(ni+Math.abs(Je))):W==="group"?Ic(ze)&&ni++:ni=Oc(ni+Je),W==="group"?y.cumulative=(ni||1)-1:y.cumulative=Oc(Kd(y.cumulative,xt)+Je),y.total=ni,ze!==null&&(y.points[S].push(y.cumulative),q[E]=y.cumulative,y.hasValidPoints=!0)}W==="percent"&&(Vt.usePercentage=!0),W!=="group"&&(this.stackedYData=q),Vt.oldStacks={}}class wf{constructor(i){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=i}buildStacks(){let i,l,c=this.axis,y=c.series,w=c.coll==="xAxis",M=c.options.reversedStacks,S=y.length;for(this.resetStacks(),this.usePercentage=!1,l=S;l--;)i=y[M?l:S-l-1],w&&i.setGroupedPoints(c),i.setStackedPoints(c);if(!w)for(l=0;l<S;l++)y[l].modifyStacks();Ec(c,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Ih(this.stacks,i=>{Ih(i,l=>{l.cumulative=l.total})}))}resetStacks(){Ih(this.stacks,i=>{Ih(i,(l,c)=>{Ic(l.touched)&&l.touched<this.stacksTouched?(l.destroy(),delete i[c]):(l.total=null,l.cumulative=null)})})}renderStackTotals(){var S;let i=this.axis,l=i.chart,c=l.renderer,y=this.stacks,w=Om(l,((S=i.options.stackLabels)==null?void 0:S.animation)||!1),M=this.stackTotalGroup=this.stackTotalGroup||c.g("stack-labels").attr({zIndex:6,opacity:0}).add();M.translate(l.plotLeft,l.plotTop),Ih(y,E=>{Ih(E,W=>{W.render(M)})}),M.animate({opacity:1},w)}}(We||(We={})).compose=function(F,i,l){let c=i.prototype,y=l.prototype;c.getStacks||(Lc(F,"init",ug),Lc(F,"destroy",fp),c.getStacks=uu,y.getStackIndicator=fg,y.modifyStacks=gp,y.percentStacker=fu,y.setGroupedPoints=Jd,y.setStackedPoints=bf)};let Qd=We,{defined:kf,merge:gg,isObject:Em}=wi;class mg extends Ea{drawGraph(){let i=this.options,l=(this.gappedPath||this.getGraphPath).call(this),c=this.chart.styledMode;[this,...this.zones].forEach((y,w)=>{let M,S=y.graph,E=S?"animate":"attr",W=y.dashStyle||i.dashStyle;S?(S.endX=this.preventGraphAnimation?null:l.xMap,S.animate({d:l})):l.length&&(y.graph=S=this.chart.renderer.path(l).addClass("highcharts-graph"+(w?` highcharts-zone-graph-${w-1} `:" ")+(w&&y.className||"")).attr({zIndex:1}).add(this.group)),S&&!c&&(M={stroke:!w&&i.lineColor||y.color||this.color||"#cccccc","stroke-width":i.lineWidth||0,fill:this.fillGraph&&this.color||"none"},W?M.dashstyle=W:i.linecap!=="square"&&(M["stroke-linecap"]=M["stroke-linejoin"]="round"),S[E](M).shadow(i.shadow&&gg({filterUnits:"userSpaceOnUse"},Em(i.shadow)?i.shadow:{}))),S&&(S.startX=l.xMap,S.isArea=l.isArea)})}getGraphPath(i,l,c){let y=this,w=y.options,M=[],S=[],E,W=w.step,U=(i=i||y.points).reversed;return U&&i.reverse(),(W={right:1,center:2}[W]||W&&3)&&U&&(W=4-W),(i=this.getValidPoints(i,!1,w.nullInteraction||!(w.connectNulls&&!l&&!c))).forEach(function(H,q){let it,ht=H.plotX,yt=H.plotY,xt=i[q-1],ut=H.isNull||typeof yt!="number";(H.leftCliff||xt!=null&&xt.rightCliff)&&!c&&(E=!0),ut&&!kf(l)&&q>0?E=!w.connectNulls:ut&&!l?E=!0:(q===0||E?it=[["M",H.plotX,H.plotY]]:y.getPointSpline?it=[y.getPointSpline(i,H,q)]:W?(it=W===1?[["L",xt.plotX,yt]]:W===2?[["L",(xt.plotX+ht)/2,xt.plotY],["L",(xt.plotX+ht)/2,yt]]:[["L",ht,xt.plotY]]).push(["L",ht,yt]):it=[["L",ht,yt]],S.push(H.x),W&&(S.push(H.x),W===2&&S.push(H.x)),M.push.apply(M,it),E=!1)}),M.xMap=S,y.graphPath=M,M}}mg.defaultOptions=gg(Ea.defaultOptions,{legendSymbol:"lineMarker"}),Vi.registerSeriesType("line",mg);let{seriesTypes:{line:Mf}}=Vi,{extend:Im,merge:Bm,objectEach:Dm,pick:gu}=wi;class mu extends Mf{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:i,options:l}=this;[this,...this.zones].forEach((c,y)=>{let w={},M=c.fillColor||l.fillColor,S=c.area,E=S?"animate":"attr";S?(S.endX=this.preventGraphAnimation?null:i.xMap,S.animate({d:i})):(w.zIndex=0,(S=c.area=this.chart.renderer.path(i).addClass("highcharts-area"+(y?` highcharts-zone-area-${y-1} `:" ")+(y&&c.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(w.fill=M||c.color||this.color,w["fill-opacity"]=M?1:l.fillOpacity??.75,S.css({pointerEvents:this.stickyTracking?"none":"auto"})),S[E](w),S.startX=i.xMap,S.shiftUnit=l.step?2:1})}getGraphPath(i){let l,c,y,w=Mf.prototype.getGraphPath,M=this.options,S=M.stacking,E=this.yAxis,W=[],U=[],H=this.index,q=E.stacking.stacks[this.stackKey],it=M.threshold,ht=Math.round(E.getThreshold(M.threshold)),yt=gu(M.connectNulls,S==="percent"),xt=function(qt,ve,he){let fe=i[qt],Ie=S&&q[fe.x].points[H],ze=fe[he+"Null"]||0,Je=fe[he+"Cliff"]||0,ni,Pi,ki=!0;Je||ze?(ni=(ze?Ie[0]:Ie[1])+Je,Pi=Ie[0]+Je,ki=!!ze):!S&&i[ve]&&i[ve].isNull&&(ni=Pi=it),ni!==void 0&&(U.push({plotX:l,plotY:ni===null?ht:E.getThreshold(ni),isNull:ki,isCliff:!0}),W.push({plotX:l,plotY:Pi===null?ht:E.getThreshold(Pi),doCurve:!1}))};i=i||this.points,S&&(i=this.getStackPoints(i));for(let qt=0,ve=i.length;qt<ve;++qt)S||(i[qt].leftCliff=i[qt].rightCliff=i[qt].leftNull=i[qt].rightNull=void 0),c=i[qt].isNull,l=gu(i[qt].rectPlotX,i[qt].plotX),y=S?gu(i[qt].yBottom,ht):ht,(!c||yt)&&(yt||xt(qt,qt-1,"left"),c&&!S&&yt||(U.push(i[qt]),W.push({x:qt,plotX:l,plotY:y})),yt||xt(qt,qt+1,"right"));let ut=w.call(this,U,!0,!0);W.reversed=!0;let wt=w.call(this,W,!0,!0),Mt=wt[0];Mt&&Mt[0]==="M"&&(wt[0]=["L",Mt[1],Mt[2]]);let Kt=ut.concat(wt);Kt.length&&Kt.push(["Z"]);let Vt=w.call(this,U,!1,yt);return this.chart.series.length>1&&S&&U.some(qt=>qt.isCliff)&&(Kt.hasStackedCliffs=Vt.hasStackedCliffs=!0),Kt.xMap=ut.xMap,this.areaPath=Kt,Vt}getStackPoints(i){let l=this,c=[],y=[],w=this.xAxis,M=this.yAxis,S=M.stacking.stacks[this.stackKey],E={},W=M.series,U=W.length,H=M.options.reversedStacks?1:-1,q=W.indexOf(l);if(i=i||this.points,this.options.stacking){for(let ht=0;ht<i.length;ht++)i[ht].leftNull=i[ht].rightNull=void 0,E[i[ht].x]=i[ht];Dm(S,function(ht,yt){ht.total!==null&&y.push(yt)}),y.sort(function(ht,yt){return ht-yt});let it=W.map(ht=>ht.visible);y.forEach(function(ht,yt){let xt=0,ut,wt;if(E[ht]&&!E[ht].isNull)c.push(E[ht]),[-1,1].forEach(function(Mt){let Kt=Mt===1?"rightNull":"leftNull",Vt=S[y[yt+Mt]],qt=0;if(Vt){let ve=q;for(;ve>=0&&ve<U;){let he=W[ve].index;!(ut=Vt.points[he])&&(he===l.index?E[ht][Kt]=!0:it[ve]&&(wt=S[ht].points[he])&&(qt-=wt[1]-wt[0])),ve+=H}}E[ht][Mt===1?"rightCliff":"leftCliff"]=qt});else{let Mt=q;for(;Mt>=0&&Mt<U;){let Kt=W[Mt].index;if(ut=S[ht].points[Kt]){xt=ut[1];break}Mt+=H}xt=gu(xt,0),xt=M.translate(xt,0,1,0,1),c.push({isNull:!0,plotX:w.translate(ht,0,0,0,1),x:ht,plotY:xt,yBottom:xt})}})}return c}}mu.defaultOptions=Bm(Mf.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Im(mu.prototype,{singleStacks:!1}),Vi.registerSeriesType("area",mu);let{line:xg}=Vi.seriesTypes,{merge:yg,pick:tc}=wi;class Sf extends xg{getPointSpline(i,l,c){let y,w,M,S,E=l.plotX||0,W=l.plotY||0,U=i[c-1],H=i[c+1];function q(ht){return ht&&!ht.isNull&&ht.doCurve!==!1&&!l.isCliff}if(q(U)&&q(H)){let ht=U.plotX||0,yt=U.plotY||0,xt=H.plotX||0,ut=H.plotY||0,wt=0;y=(1.5*E+ht)/2.5,w=(1.5*W+yt)/2.5,M=(1.5*E+xt)/2.5,S=(1.5*W+ut)/2.5,M!==y&&(wt=(S-w)*(M-E)/(M-y)+W-S),w+=wt,S+=wt,w>yt&&w>W?(w=Math.max(yt,W),S=2*W-w):w<yt&&w<W&&(w=Math.min(yt,W),S=2*W-w),S>ut&&S>W?(S=Math.max(ut,W),w=2*W-S):S<ut&&S<W&&(S=Math.min(ut,W),w=2*W-S),l.rightContX=M,l.rightContY=S,l.controlPoints={low:[y,w],high:[M,S]}}let it=["C",tc(U.rightContX,U.plotX,0),tc(U.rightContY,U.plotY,0),tc(y,E,0),tc(w,W,0),E,W];return U.rightContX=U.rightContY=void 0,it}}Sf.defaultOptions=yg(xg.defaultOptions),Vi.registerSeriesType("spline",Sf);let Tf=Sf,{area:Af,area:{prototype:Bc}}=Vi.seriesTypes,{extend:Pf,merge:vg}=wi;class Dc extends Tf{}Dc.defaultOptions=vg(Tf.defaultOptions,Af.defaultOptions),Pf(Dc.prototype,{getGraphPath:Bc.getGraphPath,getStackPoints:Bc.getStackPoints,drawGraph:Bc.drawGraph}),Vi.registerSeriesType("areaspline",Dc);let{animObject:zc}=Hr,{parse:xu}=Ii,{noop:bg}=ke,{clamp:ec,crisp:dd,defined:Cf,extend:wg,fireEvent:Rc,isArray:kg,isNumber:yu,merge:mp,pick:cd,objectEach:vu}=wi;class xp extends Ea{animate(i){let l,c,y=this,w=this.yAxis,M=w.pos,S=w.reversed,E=y.options,{clipOffset:W,inverted:U}=this.chart,H={},q=U?"translateX":"translateY";i&&W?(H.scaleY=.001,c=ec(w.toPixels(E.threshold||0),M,M+w.len),U?H.translateX=(c+=S?-Math.floor(W[0]):Math.ceil(W[2]))-w.len:H.translateY=c+=S?Math.ceil(W[0]):-Math.floor(W[2]),y.clipBox&&y.setClip(),y.group.attr(H)):(l=Number(y.group.attr(q)),y.group.animate({scaleY:1},wg(zc(y.options.animation),{step:function(it,ht){y.group&&(H[q]=l+ht.pos*(M-l),y.group.attr(H))}})))}init(i,l){super.init.apply(this,arguments);let c=this;(i=c.chart).hasRendered&&i.series.forEach(function(y){y.type===c.type&&(y.isDirty=!0)})}getColumnMetrics(){var yt,xt;let i=this,l=i.options,c=i.xAxis,y=i.yAxis,w=c.options.reversedStacks,M=c.reversed&&!w||!c.reversed&&w,S={},E,W=0;l.grouping===!1?W=1:i.chart.series.forEach(function(ut){let wt,Mt=ut.yAxis,Kt=ut.options;ut.type===i.type&&ut.reserveSpace()&&y.len===Mt.len&&y.pos===Mt.pos&&(Kt.stacking&&Kt.stacking!=="group"?(S[E=ut.stackKey]===void 0&&(S[E]=W++),wt=S[E]):Kt.grouping!==!1&&(wt=W++),ut.columnIndex=wt)});let U=Math.min(Math.abs(c.transA)*(!((yt=c.brokenAxis)!=null&&yt.hasBreaks)&&((xt=c.ordinal)==null?void 0:xt.slope)||l.pointRange||c.closestPointRange||c.tickInterval||1),c.len),H=U*l.groupPadding,q=(U-2*H)/(W||1),it=Math.min(l.maxPointWidth||c.len,cd(l.pointWidth,q*(1-2*l.pointPadding))),ht=(i.columnIndex||0)+ +!!M;return i.columnMetrics={width:it,offset:(q-it)/2+(H+ht*q-U/2)*(M?-1:1),paddedWidth:q,columnCount:W},i.columnMetrics}crispCol(i,l,c,y){let w=this.borderWidth,M=this.chart.inverted;return y=dd(l+y,w,M)-(l=dd(l,w,M)),this.options.crisp&&(c=dd(i+c,w)-(i=dd(i,w))),{x:i,y:l,width:c,height:y}}adjustForMissingColumns(i,l,c,y){var w;if(!c.isNull&&y.columnCount>1){let M=this.xAxis.series.filter(U=>U.visible).map(U=>U.index),S=0,E=0;vu((w=this.xAxis.stacking)==null?void 0:w.stacks,U=>{var ht;let H=typeof c.x=="number"?(ht=U[c.x.toString()])==null?void 0:ht.points:void 0,q=H==null?void 0:H[this.index],it={};if(H&&kg(q)){let yt=this.index,xt=Object.keys(H).filter(ut=>!ut.match(",")&&H[ut]&&H[ut].length>1).map(parseFloat).filter(ut=>M.indexOf(ut)!==-1).filter(ut=>{let wt=this.chart.series[ut].options,Mt=wt.stacking&&wt.stack;if(Cf(Mt)){if(yu(it[Mt]))return yt===ut&&(yt=it[Mt]),!1;it[Mt]=ut}return!0}).sort((ut,wt)=>wt-ut);S=xt.indexOf(yt),E=xt.length}}),S=this.xAxis.reversed?E-1-S:S;let W=(E-1)*y.paddedWidth+l;i=(c.plotX||0)+W/2-l-S*y.paddedWidth}return i}translate(){let i=this,l=i.chart,c=i.options,y=i.dense=i.closestPointRange*i.xAxis.transA<2,w=i.borderWidth=cd(c.borderWidth,+!y),M=i.xAxis,S=i.yAxis,E=c.threshold,W=cd(c.minPointLength,5),U=i.getColumnMetrics(),H=U.width,q=i.pointXOffset=U.offset,it=i.dataMin,ht=i.dataMax,yt=i.translatedThreshold=S.getThreshold(E),xt=i.barW=Math.max(H,1+2*w);c.pointPadding&&c.crisp&&(xt=Math.ceil(xt)),Ea.prototype.translate.apply(i),i.points.forEach(function(ut){let wt=cd(ut.yBottom,yt),Mt=999+Math.abs(wt),Kt=ut.plotX||0,Vt=ec(ut.plotY,-Mt,S.len+Mt),qt,ve=Math.min(Vt,wt),he=Math.max(Vt,wt)-ve,fe=H,Ie=Kt+q,ze=xt;W&&Math.abs(he)<W&&(he=W,qt=!S.reversed&&!ut.negative||S.reversed&&ut.negative,yu(E)&&yu(ht)&&ut.y===E&&ht<=E&&(S.min||0)<E&&(it!==ht||(S.max||0)<=E)&&(qt=!qt,ut.negative=!ut.negative),ve=Math.abs(ve-yt)>W?wt-W:yt-(qt?W:0)),Cf(ut.options.pointWidth)&&(Ie-=Math.round(((fe=ze=Math.ceil(ut.options.pointWidth))-H)/2)),c.centerInCategory&&(Ie=i.adjustForMissingColumns(Ie,fe,ut,U)),ut.barX=Ie,ut.pointWidth=fe,ut.tooltipPos=l.inverted?[ec(S.len+S.pos-l.plotLeft-Vt,S.pos-l.plotLeft,S.len+S.pos-l.plotLeft),M.len+M.pos-l.plotTop-Ie-ze/2,he]:[M.left-l.plotLeft+Ie+ze/2,ec(Vt+S.pos-l.plotTop,S.pos-l.plotTop,S.len+S.pos-l.plotTop),he],ut.shapeType=i.pointClass.prototype.shapeType||"roundedRect",ut.shapeArgs=i.crispCol(Ie,ve,ze,ut.isNull?0:he)}),Rc(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(i,l){let c=this.options,y=this.pointAttrToOptions||{},w=y.stroke||"borderColor",M=y["stroke-width"]||"borderWidth",S,E,W,U=i&&i.color||this.color,H=i&&i[w]||c[w]||U,q=i&&i.options.dashStyle||c.dashStyle,it=i&&i[M]||c[M]||this[M]||0,ht=i!=null&&i.isNull&&c.nullInteraction?0:(i==null?void 0:i.opacity)??c.opacity??1;i&&this.zones.length&&(E=i.getZone(),U=i.options.color||E&&(E.color||i.nonZonedColor)||this.color,E&&(H=E.borderColor||H,q=E.dashStyle||q,it=E.borderWidth||it)),l&&i&&(W=(S=mp(c.states[l],i.options.states&&i.options.states[l]||{})).brightness,U=S.color||W!==void 0&&xu(U).brighten(S.brightness).get()||U,H=S[w]||H,it=S[M]||it,q=S.dashStyle||q,ht=cd(S.opacity,ht));let yt={fill:U,stroke:H,"stroke-width":it,opacity:ht};return q&&(yt.dashstyle=q),yt}drawPoints(i=this.points){let l,c=this,y=this.chart,w=c.options,M=w.nullInteraction,S=y.renderer,E=w.animationLimit||250;i.forEach(function(W){let U=W.plotY,H=W.graphic,q=!!H,it=H&&y.pointCount<E?"animate":"attr";yu(U)&&(W.y!==null||M)?(l=W.shapeArgs,H&&W.hasNewShapeType()&&(H=H.destroy()),c.enabledDataSorting&&(W.startXPos=c.xAxis.reversed?-(l&&l.width||0):c.xAxis.width),!H&&(W.graphic=H=S[W.shapeType](l).add(W.group||c.group),H&&c.enabledDataSorting&&y.hasRendered&&y.pointCount<E&&(H.attr({x:W.startXPos}),q=!0,it="animate")),H&&q&&H[it](mp(l)),y.styledMode||H[it](c.pointAttribs(W,W.selected&&"select")).shadow(W.allowShadow!==!1&&w.shadow),H&&(H.addClass(W.getClassName(),!0),H.attr({visibility:W.visible?"inherit":"hidden"}))):H&&(W.graphic=H.destroy())})}drawTracker(i=this.points){let l,c=this,y=c.chart,w=y.pointer,M=function(S){w==null||w.normalize(S);let E=w==null?void 0:w.getPointFromEvent(S);w&&E&&c.options.enableMouseTracking&&(y.isInsidePlot(S.chartX-y.plotLeft,S.chartY-y.plotTop,{visiblePlotOnly:!0})||w!=null&&w.inClass(S.target,"highcharts-data-label"))&&(w.isDirectTouch=!0,E.onMouseOver(S))};i.forEach(function(S){l=kg(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[],S.graphic&&(S.graphic.element.point=S),l.forEach(function(E){(E.div||E.element).point=S})}),c._hasTracking||(c.trackerGroups.forEach(function(S){c[S]&&(c[S].addClass("highcharts-tracker").on("mouseover",M).on("mouseout",function(E){w==null||w.onTrackerMouseOut(E)}).on("touchstart",M),!y.styledMode&&c.options.cursor&&c[S].css({cursor:c.options.cursor}))}),c._hasTracking=!0),Rc(this,"afterDrawTracker")}remove(){let i=this,l=i.chart;l.hasRendered&&l.series.forEach(function(c){c.type===i.type&&(c.isDirty=!0)}),Ea.prototype.remove.apply(i,arguments)}}xp.defaultOptions=mp(Ea.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),wg(xp.prototype,{directTouch:!0,getSymbol:bg,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Vi.registerSeriesType("column",xp);let pd=xp,{getDeferredAnimation:yp}=Hr,{format:_f}=br,{defined:Il,extend:vp,fireEvent:ud,getAlignFactor:bp,isArray:Ja,isString:xl,merge:wp,objectEach:bu,pick:ha,pInt:Mg,splat:wu}=wi;(function(F){function i(){return E(this).some(U=>U==null?void 0:U.enabled)}function l(U,H,q,it,ht){var Ie;let{chart:yt,enabledDataSorting:xt}=this,ut=this.isCartesian&&yt.inverted,wt=U.plotX,Mt=U.plotY,Kt=q.rotation||0,Vt=Il(wt)&&Il(Mt)&&yt.isInsidePlot(wt,Math.round(Mt),{inverted:ut,paneCoordinates:!0,series:this}),qt=Kt===0&&ha(q.overflow,xt?"none":"justify")==="justify",ve=this.visible&&U.visible!==!1&&Il(wt)&&(U.series.forceDL||xt&&!qt||Vt||ha(q.inside,!!this.options.stacking)&&it&&yt.isInsidePlot(wt,ut?it.x+1:it.y+it.height-1,{inverted:ut,paneCoordinates:!0,series:this})),he=U.pos();if(ve&&he){var fe;let ze=H.getBBox(),Je=H.getBBox(void 0,0);if(it=vp({x:he[0],y:Math.round(he[1]),width:0,height:0},it||{}),q.alignTo==="plotEdges"&&this.isCartesian&&(it[ut?"x":"y"]=0,it[ut?"width":"height"]=((Ie=this.yAxis)==null?void 0:Ie.len)||0),vp(q,{width:ze.width,height:ze.height}),fe=it,xt&&this.xAxis&&!qt&&this.setDataLabelStartPos(U,H,ht,Vt,fe),H.align(wp(q,{width:Je.width,height:Je.height}),!1,it,!1),H.alignAttr.x+=bp(q.align)*(Je.width-ze.width),H.alignAttr.y+=bp(q.verticalAlign)*(Je.height-ze.height),H[H.placed?"animate":"attr"]({"text-align":H.alignAttr["text-align"]||"center",x:H.alignAttr.x+(ze.width-Je.width)/2,y:H.alignAttr.y+(ze.height-Je.height)/2,rotationOriginX:(H.width||0)/2,rotationOriginY:(H.height||0)/2}),qt&&it.height>=0)this.justifyDataLabel(H,q,H.alignAttr,ze,it,ht);else if(ha(q.crop,!0)){let{x:ni,y:Pi}=H.alignAttr;ve=yt.isInsidePlot(ni,Pi,{paneCoordinates:!0,series:this})&&yt.isInsidePlot(ni+ze.width-1,Pi+ze.height-1,{paneCoordinates:!0,series:this})}q.shape&&!Kt&&H[ht?"attr":"animate"]({anchorX:he[0],anchorY:he[1]})}ht&&xt&&(H.placed=!1),ve||xt&&!qt?(H.show(),H.placed=!0):(H.hide(),H.placed=!1)}function c(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function y(U){let H=this.hasRendered||0,q=this.initDataLabelsGroup().attr({opacity:+H});return!H&&q&&(this.visible&&q.show(),this.options.animation?q.animate({opacity:1},U):q.attr({opacity:1})),q}function w(U){var ve;let H;U=U||this.points;let q=this,it=q.chart,ht=q.options,yt=it.renderer,{backgroundColor:xt,plotBackgroundColor:ut}=it.options.chart,wt=yt.getContrast(xl(ut)&&ut||xl(xt)&&xt||"#000000"),Mt=E(q),{animation:Kt,defer:Vt}=Mt[0],qt=Vt?yp(it,Kt,q):{defer:0,duration:0};ud(this,"drawDataLabels"),(ve=q.hasDataLabels)!=null&&ve.call(q)&&(H=this.initDataLabels(qt),U.forEach(he=>{var Je,ni,Pi;let fe=he.dataLabels||[],Ie=he.color||q.color;wu(S(Mt,he.dlOptions||((Je=he.options)==null?void 0:Je.dataLabels))).forEach((ki,Ei)=>{var Mr;let pi=ki.enabled&&(he.visible||he.dataLabelOnHidden)&&(!he.isNull||he.dataLabelOnNull)&&function(To,ch){let Qa=ch.filter;if(Qa){let _n=Qa.operator,$s=To[Qa.property],Nr=Qa.value;return _n===">"&&$s>Nr||_n==="<"&&$s<Nr||_n===">="&&$s>=Nr||_n==="<="&&$s<=Nr||_n==="=="&&$s==Nr||_n==="==="&&$s===Nr||_n==="!="&&$s!=Nr||_n==="!=="&&$s!==Nr||!1}return!0}(he,ki),{backgroundColor:Fi,borderColor:Ps,distance:Ss,style:Bs={}}=ki,dn,cs,sr,Ki={},$i=fe[Ei],io=!$i,Zs;pi&&(cs=Il(dn=ha(ki[he.formatPrefix+"Format"],ki.format))?_f(dn,he,it):(ki[he.formatPrefix+"Formatter"]||ki.formatter).call(he,ki),sr=ki.rotation,!it.styledMode&&(Bs.color=ha(ki.color,Bs.color,xl(q.color)?q.color:void 0,"#000000"),Bs.color==="contrast"?(Fi!=="none"&&(Zs=Fi),he.contrastColor=yt.getContrast(Zs!=="auto"&&xl(Zs)&&Zs||(xl(Ie)?Ie:"")),Bs.color=Zs||!Il(Ss)&&ki.inside||0>Mg(Ss||0)||ht.stacking?he.contrastColor:wt):delete he.contrastColor,ht.cursor&&(Bs.cursor=ht.cursor)),Ki={r:ki.borderRadius||0,rotation:sr,padding:ki.padding,zIndex:1},it.styledMode||(Ki.fill=Fi==="auto"?he.color:Fi,Ki.stroke=Ps==="auto"?he.color:Ps,Ki["stroke-width"]=ki.borderWidth),bu(Ki,(To,ch)=>{To===void 0&&delete Ki[ch]})),!$i||pi&&Il(cs)&&!!($i.div||(Mr=$i.text)!=null&&Mr.foreignObject)==!!ki.useHTML&&($i.rotation&&ki.rotation||$i.rotation===ki.rotation)||($i=void 0,io=!0),pi&&Il(cs)&&cs!==""&&($i?Ki.text=cs:($i=yt.label(cs,0,0,ki.shape,void 0,void 0,ki.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+he.colorIndex+" "+(ki.className||"")+(ki.useHTML?" highcharts-tracker":"")),$i&&($i.options=ki,$i.attr(Ki),it.styledMode?Bs.width&&$i.css({width:Bs.width,textOverflow:Bs.textOverflow,whiteSpace:Bs.whiteSpace}):$i.css(Bs).shadow(ki.shadow),ud($i,"beforeAddingDataLabel",{labelOptions:ki,point:he}),$i.added||$i.add(H),q.alignDataLabel(he,$i,ki,void 0,io),$i.isActive=!0,fe[Ei]&&fe[Ei]!==$i&&fe[Ei].destroy(),fe[Ei]=$i))});let ze=fe.length;for(;ze--;)(ni=fe[ze])!=null&&ni.isActive?fe[ze].isActive=!1:((Pi=fe[ze])==null||Pi.destroy(),fe.splice(ze,1));he.dataLabel=fe[0],he.dataLabels=fe})),ud(this,"afterDrawDataLabels")}function M(U,H,q,it,ht,yt){let xt=this.chart,ut=H.align,wt=H.verticalAlign,Mt=U.box?0:U.padding||0,Kt=xt.inverted?this.yAxis:this.xAxis,Vt=Kt?Kt.left-xt.plotLeft:0,qt=xt.inverted?this.xAxis:this.yAxis,ve=qt?qt.top-xt.plotTop:0,{x:he=0,y:fe=0}=H,Ie,ze;return(Ie=(q.x||0)+Mt+Vt)<0&&(ut==="right"&&he>=0?(H.align="left",H.inside=!0):he-=Ie,ze=!0),(Ie=(q.x||0)+it.width-Mt+Vt)>xt.plotWidth&&(ut==="left"&&he<=0?(H.align="right",H.inside=!0):he+=xt.plotWidth-Ie,ze=!0),(Ie=q.y+Mt+ve)<0&&(wt==="bottom"&&fe>=0?(H.verticalAlign="top",H.inside=!0):fe-=Ie,ze=!0),(Ie=(q.y||0)+it.height-Mt+ve)>xt.plotHeight&&(wt==="top"&&fe<=0?(H.verticalAlign="bottom",H.inside=!0):fe+=xt.plotHeight-Ie,ze=!0),ze&&(H.x=he,H.y=fe,U.placed=!yt,U.align(H,void 0,ht)),ze}function S(U,H){let q=[],it;if(Ja(U)&&!Ja(H))q=U.map(function(ht){return wp(ht,H)});else if(Ja(H)&&!Ja(U))q=H.map(function(ht){return wp(U,ht)});else if(Ja(U)||Ja(H)){if(Ja(U)&&Ja(H))for(it=Math.max(U.length,H.length);it--;)q[it]=wp(U[it],H[it])}else q=wp(U,H);return q}function E(U){var q,it;let H=U.chart.options.plotOptions;return wu(S(S((q=H==null?void 0:H.series)==null?void 0:q.dataLabels,(it=H==null?void 0:H[U.type])==null?void 0:it.dataLabels),U.options.dataLabels))}function W(U,H,q,it,ht){let yt=this.chart,xt=yt.inverted,ut=this.xAxis,wt=ut.reversed,Mt=((xt?H.height:H.width)||0)/2,Kt=U.pointWidth,Vt=Kt?Kt/2:0;H.startXPos=xt?ht.x:wt?-Mt-Vt:ut.width-Mt+Vt,H.startYPos=xt?wt?this.yAxis.height-Mt+Vt:-Mt-Vt:ht.y,it?H.visibility==="hidden"&&(H.show(),H.attr({opacity:0}).animate({opacity:1})):H.attr({opacity:1}).animate({opacity:0},void 0,H.hide),yt.hasRendered&&(q&&H.attr({x:H.startXPos,y:H.startYPos}),H.placed=!0)}F.compose=function(U){let H=U.prototype;H.initDataLabels||(H.initDataLabels=y,H.initDataLabelsGroup=c,H.alignDataLabel=l,H.drawDataLabels=w,H.justifyDataLabel=M,H.mergeArrays=S,H.setDataLabelStartPos=W,H.hasDataLabels=i)}})(di||(di={}));let Bl=di,{composed:Bh}=ke,{series:fd}=Vi,{merge:Nc,pushUnique:gd}=wi;(function(F){function i(l,c,y,w,M){var yt,xt;let{chart:S,options:E}=this,W=S.inverted,U=((yt=this.xAxis)==null?void 0:yt.len)||S.plotSizeX||0,H=((xt=this.yAxis)==null?void 0:xt.len)||S.plotSizeY||0,q=l.dlBox||l.shapeArgs,it=l.below??(l.plotY||0)>(this.translatedThreshold??H),ht=y.inside??!!E.stacking;if(q){if(w=Nc(q),y.overflow!=="allow"||y.crop!==!1||E.clip!==!1){w.y<0&&(w.height+=w.y,w.y=0);let ut=w.y+w.height-H;ut>0&&ut<w.height-1&&(w.height-=ut)}W&&(w={x:H-w.y-w.height,y:U-w.x-w.width,width:w.height,height:w.width}),ht||(W?(w.x+=it?0:w.width,w.width=0):(w.y+=it?w.height:0,w.height=0))}y.align??(y.align=!W||ht?"center":it?"right":"left"),y.verticalAlign??(y.verticalAlign=W||ht?"middle":it?"top":"bottom"),fd.prototype.alignDataLabel.call(this,l,c,y,w,M),y.inside&&l.contrastColor&&c.css({color:l.contrastColor})}F.compose=function(l){Bl.compose(fd),gd(Bh,"ColumnDataLabel")&&(l.prototype.alignDataLabel=i)}})(Ve||(Ve={}));let Dh=Ve,{extend:kp,merge:Sg}=wi;class dh extends pd{}dh.defaultOptions=Sg(pd.defaultOptions,{}),kp(dh.prototype,{inverted:!0}),Vi.registerSeriesType("bar",dh);let{column:zm,line:ku}=Vi.seriesTypes,{addEvent:Mu,extend:Rm,merge:Tg}=wi;class Su extends ku{applyJitter(){let i=this,l=this.options.jitter,c=this.points.length;l&&this.points.forEach(function(y,w){["x","y"].forEach(function(M,S){if(l[M]&&!y.isNull){let E=`plot${M.toUpperCase()}`,W=i[`${M}Axis`],U=l[M]*W.transA;if(W&&!W.logarithmic){let H=Math.max(0,(y[E]||0)-U),q=Math.min(W.len,(y[E]||0)+U);y[E]=H+(q-H)*function(it){let ht=1e4*Math.sin(it);return ht-Math.floor(ht)}(w+S*c),M==="x"&&(y.clientX=y.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Su.defaultOptions=Tg(ku.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Rm(Su.prototype,{drawTracker:zm.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Mu(Su,"afterTranslate",function(){this.applyJitter()}),Vi.registerSeriesType("scatter",Su);let{deg2rad:Ag}=ke,{fireEvent:Lf,isNumber:Of,pick:Mp,relativeLength:Ef}=wi;(function(F){F.getCenter=function(){let i=this.options,l=this.chart,c=2*(i.slicedOffset||0),y=l.plotWidth-2*c,w=l.plotHeight-2*c,M=i.center,S=Math.min(y,w),E=i.thickness,W,U=i.size,H=i.innerSize||0,q,it;typeof U=="string"&&(U=parseFloat(U)),typeof H=="string"&&(H=parseFloat(H));let ht=[Mp(M==null?void 0:M[0],"50%"),Mp(M==null?void 0:M[1],"50%"),Mp(U&&U<0?void 0:i.size,"100%"),Mp(H&&H<0?void 0:i.innerSize||0,"0%")];for(!l.angular||this instanceof Ea||(ht[3]=0),q=0;q<4;++q)it=ht[q],W=q<2||q===2&&/%$/.test(it),ht[q]=Ef(it,[y,w,S,ht[2]][q])+(W?c:0);return ht[3]>ht[2]&&(ht[3]=ht[2]),Of(E)&&2*E<ht[2]&&E>0&&(ht[3]=ht[2]-2*E),Lf(this,"afterGetCenter",{positions:ht}),ht},F.getStartAndEndRadians=function(i,l){let c=Of(i)?i:0,y=Of(l)&&l>c&&l-c<360?l:c+360;return{start:Ag*(c+-90),end:Ag*(y+-90)}}})(xi||(xi={}));let Pg=xi,{setAnimation:Cg}=Hr,{addEvent:Sp,defined:_g,extend:Nm,isNumber:Wc,pick:Tp,relativeLength:Wm}=wi;class Fc extends As{getConnectorPath(i){let l=i.dataLabelPosition,c=i.options||{},y=c.connectorShape,w=this.connectorShapes[y]||y;return l&&w.call(this,{...l.computed,alignment:l.alignment},l.connectorPosition,c)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(i){let l=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(l.x,l.y,l.r+i,l.r+i,{innerR:l.r-1,start:l.start,end:l.end,borderRadius:l.borderRadius})}constructor(i,l,c){super(i,l,c),this.half=0,this.name??(this.name=i.chart.options.lang.pieSliceName);let y=w=>{this.slice(w.type==="select")};Sp(this,"select",y),Sp(this,"unselect",y)}isValid(){return Wc(this.y)&&this.y>=0}setVisible(i,l=!0){i!==this.visible&&this.update({visible:i??!this.visible},l,void 0,!1)}slice(i,l,c){let y=this.series;Cg(c,y.chart),l=Tp(l,!0),this.sliced=this.options.sliced=i=_g(i)?i:!this.sliced,y.options.data[y.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Nm(Fc.prototype,{connectorShapes:{fixedOffset:function(F,i,l){let c=i.breakAt,y=i.touchingSliceAt,w=l.softConnector?["C",F.x+(F.alignment==="left"?-5:5),F.y,2*c.x-y.x,2*c.y-y.y,c.x,c.y]:["L",c.x,c.y];return[["M",F.x,F.y],w,["L",y.x,y.y]]},straight:function(F,i){let l=i.touchingSliceAt;return[["M",F.x,F.y],["L",l.x,l.y]]},crookedLine:function(F,i,l){let{angle:c=this.angle||0,breakAt:y,touchingSliceAt:w}=i,{series:M}=this,[S,E,W]=M.center,U=W/2,{plotLeft:H,plotWidth:q}=M.chart,it=F.alignment==="left",{x:ht,y:yt}=F,xt=y.x;if(l.crookDistance){let wt=Wm(l.crookDistance,1);xt=it?S+U+(q+H-S-U)*(1-wt):H+(S-U)*wt}else xt=S+(E-yt)*Math.tan(c-Math.PI/2);let ut=[["M",ht,yt]];return(it?xt<=ht&&xt>=y.x:xt>=ht&&xt<=y.x)&&ut.push(["L",xt,yt]),ut.push(["L",y.x,y.y],["L",w.x,w.y]),ut}}});let{getStartAndEndRadians:Tu}=Pg,{noop:If}=ke,{clamp:Lg,extend:Fm,fireEvent:Bf,merge:Df,pick:Hm}=wi;class Au extends Ea{animate(i){let l=this,c=l.points,y=l.startAngleRad;i||c.forEach(function(w){let M=w.graphic,S=w.shapeArgs;M&&S&&(M.attr({r:Hm(w.startR,l.center&&l.center[3]/2),start:y,end:y}),M.animate({r:S.r,start:S.start,end:S.end},l.options.animation))})}drawEmpty(){let i,l,c=this.startAngleRad,y=this.endAngleRad,w=this.options;this.total===0&&this.center?(i=this.center[0],l=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(i,l,this.center[1]/2,0,c,y).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Yh.arc(i,l,this.center[2]/2,0,{start:c,end:y,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":w.borderWidth,fill:w.fillColor||"none",stroke:w.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let i=this.chart.renderer;this.points.forEach(function(l){l.graphic&&l.hasNewShapeType()&&(l.graphic=l.graphic.destroy()),l.graphic||(l.graphic=i[l.shapeType](l.shapeArgs).add(l.series.group),l.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(i,l,c,y){let w=this.center,M=this.radii?this.radii[c.index]||0:w[2]/2,S=y.dataLabelPosition,E=(S==null?void 0:S.distance)||0,W=Math.asin(Lg((i-w[1])/(M+E),-1,1));return w[0]+Math.cos(W)*(M+E)*(l?-1:1)+(E>0?(l?-1:1)*(y.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let i,l,c,y,w=this,M=w.chart;this.drawEmpty(),w.group&&!M.styledMode&&w.group.shadow(w.options.shadow),w.points.forEach(function(S){let E={};l=S.graphic,!S.isNull&&l?(y=S.shapeArgs,i=S.getTranslate(),M.styledMode||(c=w.pointAttribs(S,S.selected&&"select")),S.delayedRendering?(l.setRadialReference(w.center).attr(y).attr(i),M.styledMode||l.attr(c).attr({"stroke-linejoin":"round"}),S.delayedRendering=!1):(l.setRadialReference(w.center),M.styledMode||Df(!0,E,c),Df(!0,E,y,i),l.animate(E)),l.attr({visibility:S.visible?"inherit":"hidden"}),l.addClass(S.getClassName(),!0)):l&&(S.graphic=l.destroy())})}sortByAngle(i,l){i.sort(function(c,y){return c.angle!==void 0&&(y.angle-c.angle)*l})}translate(i){Bf(this,"translate"),this.generatePoints();let l=this.options,c=l.slicedOffset,y=Tu(l.startAngle,l.endAngle),w=this.startAngleRad=y.start,M=(this.endAngleRad=y.end)-w,S=this.points,E=l.ignoreHiddenPoint,W=S.length,U,H,q,it,ht,yt,xt,ut=0;for(i||(this.center=i=this.getCenter()),yt=0;yt<W;yt++){xt=S[yt],U=w+ut*M,xt.isValid()&&(!E||xt.visible)&&(ut+=xt.percentage/100),H=w+ut*M;let wt={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:Math.round(1e3*U)/1e3,end:Math.round(1e3*H)/1e3};xt.shapeType="arc",xt.shapeArgs=wt,(q=(H+U)/2)>1.5*Math.PI?q-=2*Math.PI:q<-Math.PI/2&&(q+=2*Math.PI),xt.slicedTranslation={translateX:Math.round(Math.cos(q)*c),translateY:Math.round(Math.sin(q)*c)},it=Math.cos(q)*i[2]/2,ht=Math.sin(q)*i[2]/2,xt.tooltipPos=[i[0]+.7*it,i[1]+.7*ht],xt.half=+(q<-Math.PI/2||q>Math.PI/2),xt.angle=q}Bf(this,"afterTranslate")}updateTotals(){let i=this.points,l=i.length,c=this.options.ignoreHiddenPoint,y,w,M=0;for(y=0;y<l;y++)(w=i[y]).isValid()&&(!c||w.visible)&&(M+=w.y);for(y=0,this.total=M;y<l;y++)(w=i[y]).percentage=M>0&&(w.visible||!c)?w.y/M*100:0,w.total=M}}Au.defaultOptions=Df(Ea.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Fm(Au.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:pd.prototype.drawTracker,getCenter:Pg.getCenter,getSymbol:If,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:pd.prototype.pointAttribs,pointClass:Fc,requireSorting:!1,searchPoint:If,trackerGroups:["group","dataLabelsGroup"]}),Vi.registerSeriesType("pie",Au);let{composed:Gm,noop:Og}=ke,{distribute:Eg}=hr,{series:Ig}=Vi,{arrayMax:zf,clamp:Pu,defined:Bg,pick:Cu,pushUnique:Rf,relativeLength:Dg}=wi;(function(F){let i={radialDistributionY:function(M,S){var E;return(((E=S.dataLabelPosition)==null?void 0:E.top)||0)+M.distributeBox.pos},radialDistributionX:function(M,S,E,W,U){let H=U.dataLabelPosition;return M.getX(E<((H==null?void 0:H.top)||0)+2||E>((H==null?void 0:H.bottom)||0)-2?W:E,S.half,S,U)},justify:function(M,S,E,W){var U;return W[0]+(M.half?-1:1)*(E+(((U=S.dataLabelPosition)==null?void 0:U.distance)||0))},alignToPlotEdges:function(M,S,E,W){let U=M.getBBox().width;return S?U+W:E-U-W},alignToConnectors:function(M,S,E,W){let U=0,H;return M.forEach(function(q){(H=q.dataLabel.getBBox().width)>U&&(U=H)}),S?U+W:E-U-W}};function l(M,S){let E=Math.PI/2,{start:W=0,end:U=0}=M.shapeArgs||{},H=M.angle||0;S>0&&W<E&&U>E&&H>E/2&&H<1.5*E&&(H=H<=E?Math.max(E/2,(W+E)/2):Math.min(1.5*E,(E+U)/2));let{center:q,options:it}=this,ht=q[2]/2,yt=Math.cos(H),xt=Math.sin(H),ut=q[0]+yt*ht,wt=q[1]+xt*ht,Mt=Math.min((it.slicedOffset||0)+(it.borderWidth||0),S/5);return{natural:{x:ut+yt*S,y:wt+xt*S},computed:{},alignment:S<0?"center":M.half?"right":"left",connectorPosition:{angle:H,breakAt:{x:ut+yt*Mt,y:wt+xt*Mt},touchingSliceAt:{x:ut,y:wt}},distance:S}}function c(){var ve;let M=this,S=M.points,E=M.chart,W=E.plotWidth,U=E.plotHeight,H=E.plotLeft,q=Math.round(E.chartWidth/3),it=M.center,ht=it[2]/2,yt=it[1],xt=[[],[]],ut=[0,0,0,0],wt=M.dataLabelPositioners,Mt,Kt,Vt,qt=0;M.visible&&((ve=M.hasDataLabels)!=null&&ve.call(M))&&(S.forEach(he=>{(he.dataLabels||[]).forEach(fe=>{fe.shortened&&(fe.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),fe.shortened=!1)})}),Ig.prototype.drawDataLabels.apply(M),S.forEach(he=>{(he.dataLabels||[]).forEach((fe,Ie)=>{var Pi;let ze=it[2]/2,Je=fe.options,ni=Dg((Je==null?void 0:Je.distance)||0,ze);Ie===0&&xt[he.half].push(he),!Bg((Pi=Je==null?void 0:Je.style)==null?void 0:Pi.width)&&fe.getBBox().width>q&&(fe.css({width:Math.round(.7*q)+"px"}),fe.shortened=!0),fe.dataLabelPosition=this.getDataLabelPosition(he,ni),qt=Math.max(qt,ni)})}),xt.forEach((he,fe)=>{let Ie=he.length,ze=[],Je,ni,Pi=0,ki;Ie&&(M.sortByAngle(he,fe-.5),qt>0&&(Je=Math.max(0,yt-ht-qt),ni=Math.min(yt+ht+qt,E.plotHeight),he.forEach(Ei=>{(Ei.dataLabels||[]).forEach(pi=>{var Ps;let Fi=pi.dataLabelPosition;Fi&&Fi.distance>0&&(Fi.top=Math.max(0,yt-ht-Fi.distance),Fi.bottom=Math.min(yt+ht+Fi.distance,E.plotHeight),Pi=pi.getBBox().height||21,pi.lineHeight=E.renderer.fontMetrics(pi.text||pi).h+2*pi.padding,Ei.distributeBox={target:(((Ps=pi.dataLabelPosition)==null?void 0:Ps.natural.y)||0)-Fi.top+pi.lineHeight/2,size:Pi,rank:Ei.y},ze.push(Ei.distributeBox))})}),Eg(ze,ki=ni+Pi-Je,ki/5)),he.forEach(Ei=>{(Ei.dataLabels||[]).forEach(pi=>{let Fi=pi.options||{},Ps=Ei.distributeBox,Ss=pi.dataLabelPosition,Bs=(Ss==null?void 0:Ss.natural.y)||0,dn=Fi.connectorPadding||0,cs=pi.lineHeight||21,sr=(cs-pi.getBBox().height)/2,Ki=0,$i=Bs,io="inherit";if(Ss){if(ze&&Bg(Ps)&&Ss.distance>0&&(Ps.pos===void 0?io="hidden":(Vt=Ps.size,$i=wt.radialDistributionY(Ei,pi))),Fi.justify)Ki=wt.justify(Ei,pi,ht,it);else switch(Fi.alignTo){case"connectors":Ki=wt.alignToConnectors(he,fe,W,H);break;case"plotEdges":Ki=wt.alignToPlotEdges(pi,fe,W,H);break;default:Ki=wt.radialDistributionX(M,Ei,$i-sr,Bs,pi)}if(Ss.attribs={visibility:io,align:Ss.alignment},Ss.posAttribs={x:Ki+(Fi.x||0)+({left:dn,right:-dn}[Ss.alignment]||0),y:$i+(Fi.y||0)-cs/2},Ss.computed.x=Ki,Ss.computed.y=$i-sr,Cu(Fi.crop,!0)){let Zs;Ki-(Kt=pi.getBBox().width)<dn&&fe===1?(Zs=Math.round(Kt-Ki+dn),ut[3]=Math.max(Zs,ut[3])):Ki+Kt>W-dn&&fe===0&&(Zs=Math.round(Ki+Kt-W+dn),ut[1]=Math.max(Zs,ut[1])),$i-Vt/2<0?ut[0]=Math.max(Math.round(-$i+Vt/2),ut[0]):$i+Vt/2>U&&(ut[2]=Math.max(Math.round($i+Vt/2-U),ut[2])),Ss.sideOverflow=Zs}}})}))}),(zf(ut)===0||this.verifyDataLabelOverflow(ut))&&(this.placeDataLabels(),this.points.forEach(he=>{(he.dataLabels||[]).forEach(fe=>{var ni;let{connectorColor:Ie,connectorWidth:ze=1}=fe.options||{},Je=fe.dataLabelPosition;if(ze){let Pi;Mt=fe.connector,Je&&Je.distance>0?(Pi=!Mt,Mt||(fe.connector=Mt=E.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+he.colorIndex+(he.className?" "+he.className:"")).add(M.dataLabelsGroup)),E.styledMode||Mt.attr({"stroke-width":ze,stroke:Ie||he.color||"#666666"}),Mt[Pi?"attr":"animate"]({d:he.getConnectorPath(fe)}),Mt.attr({visibility:(ni=Je.attribs)==null?void 0:ni.visibility})):Mt&&(fe.connector=Mt.destroy())}})})))}function y(){this.points.forEach(M=>{(M.dataLabels||[]).forEach(S=>{var W,U;let E=S.dataLabelPosition;E?(E.sideOverflow&&(S.css({width:Math.max(S.getBBox().width-E.sideOverflow,0)+"px",textOverflow:((U=(W=S.options)==null?void 0:W.style)==null?void 0:U.textOverflow)||"ellipsis"}),S.shortened=!0),S.attr(E.attribs),S[S.moved?"animate":"attr"](E.posAttribs),S.moved=!0):S&&S.attr({y:-9999})}),delete M.distributeBox},this)}function w(M){let S=this.center,E=this.options,W=E.center,U=E.minSize||80,H=U,q=E.size!==null;return!q&&(W[0]!==null?H=Math.max(S[2]-Math.max(M[1],M[3]),U):(H=Math.max(S[2]-M[1]-M[3],U),S[0]+=(M[3]-M[1])/2),W[1]!==null?H=Pu(H,U,S[2]-Math.max(M[0],M[2])):(H=Pu(H,U,S[2]-M[0]-M[2]),S[1]+=(M[0]-M[2])/2),H<S[2]?(S[2]=H,S[3]=Math.min(E.thickness?Math.max(0,H-2*E.thickness):Math.max(0,Dg(E.innerSize||0,H)),H),this.translate(S),this.drawDataLabels&&this.drawDataLabels()):q=!0),q}F.compose=function(M){if(Bl.compose(Ig),Rf(Gm,"PieDataLabel")){let S=M.prototype;S.dataLabelPositioners=i,S.alignDataLabel=Og,S.drawDataLabels=c,S.getDataLabelPosition=l,S.placeDataLabels=y,S.verifyDataLabelOverflow=w}}})(si||(si={}));let Nf=si;(function(F){F.getCenterOfPoints=function(i){let l=i.reduce((c,y)=>(c.x+=y.x,c.y+=y.y,c),{x:0,y:0});return{x:l.x/i.length,y:l.y/i.length}},F.getDistanceBetweenPoints=function(i,l){return Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2))},F.getAngleBetweenPoints=function(i,l){return Math.atan2(l.x-i.x,l.y-i.y)},F.pointInPolygon=function({x:i,y:l},c){let y=c.length,w,M,S=!1;for(w=0,M=y-1;w<y;M=w++){let[E,W]=c[w],[U,H]=c[M];W>l!=H>l&&i<(U-E)*(l-W)/(H-W)+E&&(S=!S)}return S}})(zi||(zi={}));let{pointInPolygon:zg}=zi,{addEvent:Xm,getAlignFactor:Rg,fireEvent:_u,objectEach:Ng,pick:Wg}=wi;function Wf(F){let i=F.length,l=(U,H)=>!(H.x>=U.x+U.width||H.x+H.width<=U.x||H.y>=U.y+U.height||H.y+H.height<=U.y),c=(U,H)=>{for(let q of U)if(zg({x:q[0],y:q[1]},H))return!0;return!1},y,w,M,S,E,W=!1;for(let U=0;U<i;U++)(y=F[U])&&(y.oldOpacity=y.opacity,y.newOpacity=1,y.absoluteBox=function(H){var q,it;if(H&&(!H.alignAttr||H.placed)){let ht=H.box?0:H.padding||0,yt=H.alignAttr||{x:H.attr("x"),y:H.attr("y")},{height:xt,polygon:ut,width:wt}=H.getBBox(),Mt=Rg(H.alignValue)*wt;return H.width=wt,H.height=xt,{x:yt.x+(((q=H.parentGroup)==null?void 0:q.translateX)||0)+ht-Mt,y:yt.y+(((it=H.parentGroup)==null?void 0:it.translateY)||0)+ht,width:wt-2*ht,height:xt-2*ht,polygon:ut}}}(y));F.sort((U,H)=>(H.labelrank||0)-(U.labelrank||0));for(let U=0;U<i;++U){S=(w=F[U])&&w.absoluteBox;let H=S==null?void 0:S.polygon;for(let q=U+1;q<i;++q){E=(M=F[q])&&M.absoluteBox;let it=!1;if(S&&E&&w!==M&&w.newOpacity!==0&&M.newOpacity!==0&&w.visibility!=="hidden"&&M.visibility!=="hidden"){let ht=E.polygon;if(H&&ht&&H!==ht?c(H,ht)&&(it=!0):l(S,E)&&(it=!0),it){let yt=w.labelrank<M.labelrank?w:M,xt=yt.text;yt.newOpacity=0,xt!=null&&xt.element.querySelector("textPath")&&xt.hide()}}}}for(let U of F)Fg(U,this)&&(W=!0);W&&_u(this,"afterHideAllOverlappingLabels")}function Fg(F,i){let l,c=!1;return F&&(l=F.newOpacity,F.oldOpacity!==l&&(F.hasClass("highcharts-data-label")?(F[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),c=!0,F[F.isOld?"animate":"attr"]({opacity:l},void 0,function(){i.styledMode||F.css({pointerEvents:l?"auto":"none"})}),_u(i,"afterHideOverlappingLabel")):F.attr({opacity:l})),F.isOld=!0),c}function Hg(){var l;let F=this,i=[];for(let c of F.labelCollectors||[])i=i.concat(c());for(let c of F.yAxis||[])c.stacking&&c.options.stackLabels&&!c.options.stackLabels.allowOverlap&&Ng(c.stacking.stacks,y=>{Ng(y,w=>{w.label&&i.push(w.label)})});for(let c of F.series||[])if(c.visible&&((l=c.hasDataLabels)!=null&&l.call(c))){let y=w=>{for(let M of w)M.visible&&(M.dataLabels||[]).forEach(S=>{var W;let E=S.options||{};S.labelrank=Wg(E.labelrank,M.labelrank,(W=M.shapeArgs)==null?void 0:W.height),E.allowOverlap??Number(E.distance)>0?(S.oldOpacity=S.opacity,S.newOpacity=1,Fg(S,F)):i.push(S)})};y(c.nodes||[]),y(c.points)}this.hideOverlappingLabels(i)}let Ff={compose:function(F){let i=F.prototype;i.hideOverlappingLabels||(i.hideOverlappingLabels=Wf,Xm(F,"render",Hg))}},{defaultOptions:Ym}=Le,{noop:Gg}=ke,{addEvent:Hf,extend:Xg,isObject:Gf,merge:Yg,relativeLength:Lu}=wi,jm={radius:0,scope:"stack",where:void 0},Ou=Gg,jg=Gg;function Xf(F,i,l,c,y={}){let w=Ou(F,i,l,c,y),{innerR:M=0,r:S=l,start:E=0,end:W=0}=y;if(y.open||!y.borderRadius)return w;let U=W-E,H=Math.sin(U/2),q=Math.max(Math.min(Lu(y.borderRadius||0,S-M),(S-M)/2,S*H/(1+H)),0),it=Math.min(q,U/Math.PI*2*M),ht=w.length-1;for(;ht--;)(function(yt,xt,ut){let wt,Mt,Kt,Vt=yt[xt],qt=yt[xt+1];if(qt[0]==="Z"&&(qt=yt[0]),(Vt[0]==="M"||Vt[0]==="L")&&qt[0]==="A"?(wt=Vt,Mt=qt,Kt=!0):Vt[0]==="A"&&(qt[0]==="M"||qt[0]==="L")&&(wt=qt,Mt=Vt),wt&&Mt&&Mt.params){let ve=Mt[1],he=Mt[5],fe=Mt.params,{start:Ie,end:ze,cx:Je,cy:ni}=fe,Pi=he?ve-ut:ve+ut,ki=Pi?Math.asin(ut/Pi):0,Ei=he?ki:-ki,pi=Math.cos(ki)*Pi;Kt?(fe.start=Ie+Ei,wt[1]=Je+pi*Math.cos(Ie),wt[2]=ni+pi*Math.sin(Ie),yt.splice(xt+1,0,["A",ut,ut,0,0,1,Je+ve*Math.cos(fe.start),ni+ve*Math.sin(fe.start)])):(fe.end=ze-Ei,Mt[6]=Je+ve*Math.cos(fe.end),Mt[7]=ni+ve*Math.sin(fe.end),yt.splice(xt+1,0,["A",ut,ut,0,0,1,Je+pi*Math.cos(ze),ni+pi*Math.sin(ze)])),Mt[4]=Math.abs(fe.end-fe.start)<Math.PI?0:1}})(w,ht,ht>1?it:q);return w}function Ug(){var F,i;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:l,yAxis:c}=this,y=l.stacking==="percent",w=(i=(F=Ym.plotOptions)==null?void 0:F[this.type])==null?void 0:i.borderRadius,M=Eu(l.borderRadius,Gf(w)?w:{}),S=c.options.reversed;for(let E of this.points){let{shapeArgs:W}=E;if(E.shapeType==="roundedRect"&&W){let{width:U=0,height:H=0,y:q=0}=W,it=q,ht=H;if(M.scope==="stack"&&E.stackTotal){let wt=c.translate(y?100:E.stackTotal,!1,!0,!1,!0),Mt=c.translate(l.threshold||0,!1,!0,!1,!0),Kt=this.crispCol(0,Math.min(wt,Mt),0,Math.abs(wt-Mt));it=Kt.y,ht=Kt.height}let yt=(E.negative?-1:1)*(S?-1:1)==-1,xt=M.where;!xt&&this.is("waterfall")&&Math.abs((E.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(xt="all"),xt||(xt="end");let ut=Math.min(Lu(M.radius,U),U/2,xt==="all"?H/2:1/0)||0;xt==="end"&&(yt&&(it-=ut),ht+=ut),Xg(W,{brBoxHeight:ht,brBoxY:it,r:ut})}}}}function Eu(F,i){return Gf(F)||(F={radius:F||0}),Yg(jm,i,F)}function Yf(){let F=Eu(this.options.borderRadius);for(let i of this.points){let l=i.shapeArgs;l&&(l.borderRadius=Lu(F.radius,(l.r||0)-(l.innerR||0)))}}function Um(F,i,l,c,y={}){let w=jg(F,i,l,c,y),{r:M=0,brBoxHeight:S=c,brBoxY:E=i}=y,W=i-E,U=E+S-(i+c),H=W-M>-.1?0:M,q=U-M>-.1?0:M,it=Math.max(H&&W,0),ht=Math.max(q&&U,0),yt=[F+H,i],xt=[F+l-H,i],ut=[F+l,i+H],wt=[F+l,i+c-q],Mt=[F+l-q,i+c],Kt=[F+q,i+c],Vt=[F,i+c-q],qt=[F,i+H],ve=(he,fe)=>Math.sqrt(Math.pow(he,2)-Math.pow(fe,2));if(it){let he=ve(H,H-it);yt[0]-=he,xt[0]+=he,ut[1]=qt[1]=i+H-it}if(c<H-it){let he=ve(H,H-it-c);ut[0]=wt[0]=F+l-H+he,Mt[0]=Math.min(ut[0],Mt[0]),Kt[0]=Math.max(wt[0],Kt[0]),Vt[0]=qt[0]=F+H-he,ut[1]=qt[1]=i+c}if(ht){let he=ve(q,q-ht);Mt[0]+=he,Kt[0]-=he,wt[1]=Vt[1]=i+c-q+ht}if(c<q-ht){let he=ve(q,q-ht-c);ut[0]=wt[0]=F+l-q+he,xt[0]=Math.min(ut[0],xt[0]),yt[0]=Math.max(wt[0],yt[0]),Vt[0]=qt[0]=F+q-he,wt[1]=Vt[1]=i}return w.length=0,w.push(["M",...yt],["L",...xt],["A",H,H,0,0,1,...ut],["L",...wt],["A",q,q,0,0,1,...Mt],["L",...Kt],["A",q,q,0,0,1,...Vt],["L",...qt],["A",H,H,0,0,1,...yt],["Z"]),w}let{diffObjects:Iu,extend:Vm,find:Bu,merge:Vg,pick:Ap,uniqueKey:Zg}=wi;(function(F){function i(c,y){let w=c.condition;(w.callback||function(){return this.chartWidth<=Ap(w.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Ap(w.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Ap(w.minWidth,0)&&this.chartHeight>=Ap(w.minHeight,0)}).call(this)&&y.push(c._id)}function l(c,y){let w=this.options.responsive,M=this.currentResponsive,S=[],E;!y&&w&&w.rules&&w.rules.forEach(H=>{H._id===void 0&&(H._id=Zg()),this.matchResponsiveRule(H,S)},this);let W=Vg(...S.map(H=>Bu((w==null?void 0:w.rules)||[],q=>q._id===H)).map(H=>H==null?void 0:H.chartOptions));W.isResponsiveOptions=!0,S=S.toString()||void 0;let U=M==null?void 0:M.ruleIds;S!==U&&(M&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(M.undoOptions,c,!0),this.updatingResponsive=!1),S?((E=Iu(W,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:S,mergedOptions:W,undoOptions:E},this.updatingResponsive||this.update(W,c,!0)):this.currentResponsive=void 0)}F.compose=function(c){let y=c.prototype;return y.matchResponsiveRule||Vm(y,{matchResponsiveRule:i,setResponsive:l}),c}})(Gi||(Gi={}));let jf=Gi;ke.AST=Qs,ke.Axis=Ai,ke.Chart=Ir,ke.Color=Ii,ke.DataLabel=Bl,ke.DataTableCore=Te,ke.Fx=Ls,ke.HTMLElement=Mn,ke.Legend=od,ke.LegendSymbol=je,ke.OverlappingDataLabels=ke.OverlappingDataLabels||Ff,ke.PlotLineOrBand=Pn,ke.Point=As,ke.Pointer=re,ke.RendererRegistry=Os,ke.Series=Ea,ke.SeriesRegistry=Vi,ke.StackItem=qd,ke.SVGElement=lo,ke.SVGRenderer=ka,ke.Templating=br,ke.Tick=ko,ke.Time=He,ke.Tooltip=ul,ke.animate=Hr.animate,ke.animObject=Hr.animObject,ke.chart=Ir.chart,ke.color=Ii.parse,ke.dateFormat=br.dateFormat,ke.defaultOptions=Le.defaultOptions,ke.distribute=hr.distribute,ke.format=br.format,ke.getDeferredAnimation=Hr.getDeferredAnimation,ke.getOptions=Le.getOptions,ke.numberFormat=br.numberFormat,ke.seriesType=Vi.seriesType,ke.setAnimation=Hr.setAnimation,ke.setOptions=Le.setOptions,ke.stop=Hr.stop,ke.time=Le.defaultTime,ke.timers=Ls.timers,{compose:function(F,i,l){let c=F.types.pie;if(!i.symbolCustomAttribs.includes("borderRadius")){let y=l.prototype.symbols;Hf(F,"afterColumnTranslate",Ug,{order:9}),Hf(c,"afterTranslate",Yf),i.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),Ou=y.arc,jg=y.roundedRect,y.arc=Xf,y.roundedRect=Um}},optionsToObject:Eu}.compose(ke.Series,ke.SVGElement,ke.SVGRenderer),Dh.compose(ke.Series.types.column),Bl.compose(ke.Series),Sh.compose(ke.Axis),Mn.compose(ke.SVGRenderer),od.compose(ke.Chart),Dd.compose(ke.Axis),Ff.compose(ke.Chart),Nf.compose(ke.Series.types.pie),Pn.compose(ke.Chart,ke.Axis),re.compose(ke.Chart),jf.compose(ke.Chart),hd.compose(ke.Axis,ke.Chart,ke.Series),Qd.compose(ke.Axis,ke.Chart,ke.Series),ul.compose(ke.Pointer),wi.extend(ke,wi);let Zm=ke;return qr.default})())}(xy)),xy.exports}var qv=Iw();const Bw=X0(qv),ig=rb({__proto__:null,default:Bw},[qv]);var yy={exports:{}},Dw=yy.exports,nv;function zw(){return nv||(nv=1,function(tt,dt){(function(at,It){tt.exports=It(at._Highcharts,at._Highcharts.AST,at._Highcharts.Chart)})(typeof window>"u"?Dw:window,(at,It,Et)=>(()=>{var jt,te,me={660:He=>{He.exports=It},944:He=>{He.exports=at},960:He=>{He.exports=Et}},ee={};function ae(He){var Ut=ee[He];if(Ut!==void 0)return Ut.exports;var be=ee[He]={exports:{}};return me[He](be,be.exports,ae),be.exports}ae.n=He=>{var Ut=He&&He.__esModule?()=>He.default:()=>He;return ae.d(Ut,{a:Ut}),Ut},ae.d=(He,Ut)=>{for(var be in Ut)ae.o(Ut,be)&&!ae.o(He,be)&&Object.defineProperty(He,be,{enumerable:!0,get:Ut[be]})},ae.o=(He,Ut)=>Object.prototype.hasOwnProperty.call(He,Ut);var ue={};ae.d(ue,{default:()=>gr});var le=ae(944),oe=ae.n(le),Ce=ae(660),Be=ae.n(Ce),We=ae(960),di=ae.n(We);(function(He){He.compose=function(be){return be.navigation||(be.navigation=new Ut(be)),be};class Ut{constructor(Ee){this.updates=[],this.chart=Ee}addUpdate(Ee){this.chart.navigation.updates.push(Ee)}update(Ee,_e){this.updates.forEach(Me=>{Me.call(this.chart,Ee,_e)})}}He.Additions=Ut})(jt||(jt={}));let Ve=jt,{isSafari:xi,win:si,win:{document:zi}}=oe(),{error:Gi}=oe(),Ds=si.URL||si.webkitURL||si;function qr(He){let Ut=He.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(Ut&&Ut.length>3&&si.atob&&si.ArrayBuffer&&si.Uint8Array&&si.Blob&&Ds.createObjectURL){let be=si.atob(Ut[3]),Ee=new si.ArrayBuffer(be.length),_e=new si.Uint8Array(Ee);for(let Me=0;Me<_e.length;++Me)_e[Me]=be.charCodeAt(Me);return Ds.createObjectURL(new si.Blob([_e],{type:Ut[1]}))}}let{isTouchDevice:ke}=oe(),Kr={exporting:{allowTableSorting:!0,libURL:"https://code.highcharts.com/12.3.0/lib/",local:!0,type:"image/png",url:`https://export-svg.highcharts.com?v=${oe().version}`,pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){var He;(He=this.fullscreen)==null||He.toggle()}},printChart:{textKey:"printChart",onclick:function(){var He;(He=this.exporting)==null||He.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:async function(){var He;await((He=this.exporting)==null?void 0:He.exportChart())}},downloadJPEG:{textKey:"downloadJPEG",onclick:async function(){var He;await((He=this.exporting)==null?void 0:He.exportChart({type:"image/jpeg"}))}},downloadPDF:{textKey:"downloadPDF",onclick:async function(){var He;await((He=this.exporting)==null?void 0:He.exportChart({type:"application/pdf"}))}},downloadSVG:{textKey:"downloadSVG",onclick:async function(){var He;await((He=this.exporting)==null?void 0:He.exportChart({type:"image/svg+xml"}))}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:5,height:28,y:-5,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",padding:5,stroke:"none","stroke-linecap":"round"}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:ke?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}};(function(He){let Ut=[];function be(_e,Me,Le,gi){return[["M",_e,Me+2.5],["L",_e+Le,Me+2.5],["M",_e,Me+gi/2+.5],["L",_e+Le,Me+gi/2+.5],["M",_e,Me+gi-1.5],["L",_e+Le,Me+gi-1.5]]}function Ee(_e,Me,Le,gi){let Li=gi/3-2;return[].concat(this.circle(Le-Li,Me,Li,Li),this.circle(Le-Li,Me+Li+4,Li,Li),this.circle(Le-Li,Me+2*(Li+4),Li,Li))}He.compose=function(_e){if(Ut.indexOf(_e)===-1){Ut.push(_e);let Me=_e.prototype.symbols;Me.menu=be,Me.menuball=Ee.bind(Me)}}})(te||(te={}));let co=te,{composed:ii}=oe(),{addEvent:Xs,fireEvent:Wn,pushUnique:ge}=oe();function On(){this.fullscreen=new zs(this)}class zs{static compose(Ut){ge(ii,"Fullscreen")&&Xs(Ut,"beforeRender",On)}constructor(Ut){this.chart=Ut,this.isOpen=!1;let be=Ut.renderTo;!this.browserProps&&(typeof be.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:be.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:be.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:be.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){let Ut=this,be=Ut.chart,Ee=be.options.chart;Wn(be,"fullscreenClose",null,function(){Ut.isOpen&&Ut.browserProps&&be.container.ownerDocument instanceof Document&&be.container.ownerDocument[Ut.browserProps.exitFullscreen](),Ut.unbindFullscreenEvent&&(Ut.unbindFullscreenEvent=Ut.unbindFullscreenEvent()),be.setSize(Ut.origWidth,Ut.origHeight,!1),Ut.origWidth=void 0,Ut.origHeight=void 0,Ee.width=Ut.origWidthOption,Ee.height=Ut.origHeightOption,Ut.origWidthOption=void 0,Ut.origHeightOption=void 0,Ut.isOpen=!1,Ut.setButtonText()})}open(){let Ut=this,be=Ut.chart,Ee=be.options.chart;Wn(be,"fullscreenOpen",null,function(){if(Ee&&(Ut.origWidthOption=Ee.width,Ut.origHeightOption=Ee.height),Ut.origWidth=be.chartWidth,Ut.origHeight=be.chartHeight,Ut.browserProps){let _e=Xs(be.container.ownerDocument,Ut.browserProps.fullscreenChange,function(){Ut.isOpen?(Ut.isOpen=!1,Ut.close()):(be.setSize(null,null,!1),Ut.isOpen=!0,Ut.setButtonText())}),Me=Xs(be,"destroy",_e);Ut.unbindFullscreenEvent=()=>{_e(),Me()};let Le=be.renderTo[Ut.browserProps.requestFullscreen]();Le&&Le.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var Le;let Ut=this.chart,be=(Le=Ut.exporting)==null?void 0:Le.divElements,Ee=Ut.options.exporting,_e=Ee&&Ee.buttons&&Ee.buttons.contextButton.menuItems,Me=Ut.options.lang;if(Ee&&Ee.menuItemDefinitions&&Me&&Me.exitFullscreen&&Me.viewFullscreen&&_e&&be){let gi=be[_e.indexOf("viewFullscreen")];gi&&Be().setElementHTML(gi,this.isOpen?Me.exitFullscreen:Ee.menuItemDefinitions.viewFullscreen.text||Me.viewFullscreen)}}toggle(){this.isOpen?this.close():this.open()}}let{win:so}=oe(),{discardElement:Zt,objectEach:Jo}=oe(),ri={ajax:function(He){var _e;let Ut={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},be=new XMLHttpRequest;function Ee(Me,Le){He.error&&He.error(Me,Le)}if(!He.url)return!1;be.open((He.type||"get").toUpperCase(),He.url,!0),(_e=He.headers)!=null&&_e["Content-Type"]||be.setRequestHeader("Content-Type",Ut[He.dataType||"json"]||Ut.text),Jo(He.headers,function(Me,Le){be.setRequestHeader(Le,Me)}),He.responseType&&(be.responseType=He.responseType),be.onreadystatechange=function(){var Le;let Me;if(be.readyState===4){if(be.status===200){if(He.responseType!=="blob"&&(Me=be.responseText,He.dataType==="json"))try{Me=JSON.parse(Me)}catch(gi){if(gi instanceof Error)return Ee(be,gi)}return(Le=He.success)==null?void 0:Le.call(He,Me,be)}Ee(be,be.responseText)}},He.data&&typeof He.data!="string"&&(He.data=JSON.stringify(He.data)),be.send(He.data)},getJSON:function(He,Ut){ri.ajax({url:He,success:Ut,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:async function(He,Ut,be){let Ee=new so.FormData;Jo(Ut,function(Me,Le){Ee.append(Le,Me)}),Ee.append("b64","true");let _e=await so.fetch(He,{method:"POST",body:Ee,...be});if(_e.ok){let Me=await _e.text(),Le=document.createElement("a");Le.href=`data:${Ut.type};base64,${Me}`,Le.download=Ut.filename,Le.click(),Zt(Le)}}},{defaultOptions:ks,setOptions:rr}=oe(),{downloadURL:Ts,getScript:_s}={downloadURL:function(He,Ut){let be=si.navigator,Ee=zi.createElement("a");if(typeof He!="string"&&!(He instanceof String)&&be.msSaveOrOpenBlob)return void be.msSaveOrOpenBlob(He,Ut);if(He=""+He,be.userAgent.length>1e3)throw Error("Input too long");let _e=/Edge\/\d+/.test(be.userAgent);if((xi&&typeof He=="string"&&He.indexOf("data:application/pdf")===0||_e||He.length>2e6)&&!(He=qr(He)||""))throw Error("Failed to convert to blob");if(Ee.download!==void 0)Ee.href=He,Ee.download=Ut,zi.body.appendChild(Ee),Ee.click(),zi.body.removeChild(Ee);else try{if(!si.open(He,"chart"))throw Error("Failed to open window")}catch{si.location.href=He}},getScript:function(He){return new Promise((Ut,be)=>{let Ee=zi.getElementsByTagName("head")[0],_e=zi.createElement("script");_e.type="text/javascript",_e.src=He,_e.onload=()=>{Ut()},_e.onerror=()=>{be(Gi(`Error loading script ${He}`))},Ee.appendChild(_e)})}},{composed:ms,doc:Xi,isFirefox:po,isMS:uo,isSafari:zr,SVG_NS:fo,win:Ks}=oe(),{addEvent:ro,clearTimeout:wi,createElement:Go,css:or,discardElement:Qo,error:Fn,extend:go,find:Ke,fireEvent:oo,isObject:Po,merge:mo,objectEach:ti,pick:fr,pushUnique:Co,removeEvent:un,splat:tn,uniqueKey:Na}=oe();Be().allowedAttributes.push("data-z-index","fill-opacity","filter","preserveAspectRatio","rx","ry","stroke-dasharray","stroke-linejoin","stroke-opacity","text-anchor","transform","transform-origin","version","viewBox","visibility","xmlns","xmlns:xlink"),Be().allowedTags.push("desc","clippath","fedropshadow","femorphology","g","image");let ol=Ks.URL||Ks.webkitURL||Ks;class Ji{constructor(Ut,be){this.options={},this.chart=Ut,this.options=be,this.btnCount=0,this.buttonOffset=0,this.divElements=[],this.svgElements=[]}static hyphenate(Ut){return Ut.replace(/[A-Z]/g,function(be){return"-"+be.toLowerCase()})}static async imageToDataURL(Ut,be,Ee){let _e=await Ji.loadImage(Ut),Me=Xi.createElement("canvas"),Le=Me==null?void 0:Me.getContext("2d");if(Le)return Me.height=_e.height*be,Me.width=_e.width*be,Le.drawImage(_e,0,0,Me.width,Me.height),Me.toDataURL(Ee);throw Error("No canvas found!")}static loadImage(Ut){return new Promise((be,Ee)=>{let _e=new Ks.Image;_e.crossOrigin="Anonymous",_e.onload=()=>{setTimeout(()=>{be(_e)},Ji.loadEventDeferDelay)},_e.onerror=Me=>{Ee(Me)},_e.src=Ut})}static prepareImageOptions(Ut){var _e;let be=(Ut==null?void 0:Ut.type)||"image/png",Ee=(Ut==null?void 0:Ut.libURL)||((_e=ks.exporting)==null?void 0:_e.libURL);return{type:be,filename:((Ut==null?void 0:Ut.filename)||"chart")+"."+(be==="image/svg+xml"?"svg":be.split("/")[1]),scale:(Ut==null?void 0:Ut.scale)||1,libURL:(Ee==null?void 0:Ee.slice(-1))!=="/"?Ee+"/":Ee}}static sanitizeSVG(Ut,be){var Le;let Ee=Ut.indexOf("</svg>")+6,_e=Ut.indexOf("<foreignObject")>-1,Me=Ut.substr(Ee);return Ut=Ut.substr(0,Ee),_e?Ut=Ut.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />"):Me&&((Le=be==null?void 0:be.exporting)!=null&&Le.allowHTML)&&(Me='<foreignObject x="0" y="0" width="'+be.chart.width+'" height="'+be.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Me.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",Ut=Ut.replace("</svg>",Me+"</svg>")),Ut=Ut.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery\d+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS\d+\:)?href=/g," xlink:href=").replace(/\n+/g," ").replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}static svgToDataURL(Ut){let be=Ks.navigator.userAgent,Ee=be.indexOf("WebKit")>-1&&0>be.indexOf("Chrome");try{if(!Ee&&Ut.indexOf("<foreignObject")===-1)return ol.createObjectURL(new Ks.Blob([Ut],{type:"image/svg+xml;charset-utf-16"}))}catch{}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(Ut)}addButton(Ut){var Js;let be,Ee=this,_e=Ee.chart,Me=_e.renderer,Le=mo((Js=_e.options.navigation)==null?void 0:Js.buttonOptions,Ut),gi=Le.onclick,Li=Le.menuItems,$e=Le.symbolSize||12;if(Le.enabled===!1||!Le.theme)return;let ji=_e.styledMode?{}:Le.theme,os=()=>{};gi?os=function(ns){ns&&ns.stopPropagation(),gi.call(_e,ns)}:Li&&(os=function(ns){ns&&ns.stopPropagation(),Ee.contextMenu(Ni.menuClassName,Li,Ni.translateX||0,Ni.translateY||0,Ni.width||0,Ni.height||0,Ni),Ni.setState(2)}),Le.text&&Le.symbol?ji.paddingLeft=fr(ji.paddingLeft,30):Le.text||go(ji,{width:Le.width,height:Le.height,padding:0});let Ni=Me.button(Le.text||"",0,0,os,ji,void 0,void 0,void 0,void 0,Le.useHTML).addClass(Ut.className||"").attr({title:fr(_e.options.lang[Le._titleKey||Le.titleKey],"")});Ni.menuClassName=Ut.menuClassName||"highcharts-menu-"+Ee.btnCount++,Le.symbol&&(be=Me.symbol(Le.symbol,Math.round((Le.symbolX||0)-$e/2),Math.round((Le.symbolY||0)-$e/2),$e,$e,{width:$e,height:$e}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Ni),_e.styledMode||be.attr({stroke:Le.symbolStroke,fill:Le.symbolFill,"stroke-width":Le.symbolStrokeWidth||1})),Ni.add(Ee.group).align(go(Le,{width:Ni.width,x:fr(Le.x,Ee.buttonOffset)}),!0,"spacingBox"),Ee.buttonOffset+=((Ni.width||0)+(Le.buttonSpacing||0))*(Le.align==="right"?-1:1),Ee.svgElements.push(Ni,be)}afterPrint(){let Ut=this.chart;if(!this.printReverseInfo)return;let{childNodes:be,origDisplay:Ee,resetParams:_e}=this.printReverseInfo;this.moveContainers(Ut.renderTo),[].forEach.call(be,function(Me,Le){Me.nodeType===1&&(Me.style.display=Ee[Le]||"")}),this.isPrinting=!1,_e&&Ut.setSize.apply(Ut,_e),delete this.printReverseInfo,Ji.printingChart=void 0,oo(Ut,"afterPrint")}beforePrint(){var Me;let Ut=this.chart,be=Xi.body,Ee=this.options.printMaxWidth,_e={childNodes:be.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,(Me=Ut.pointer)==null||Me.reset(void 0,0),oo(Ut,"beforePrint"),Ee&&Ut.chartWidth>Ee&&(_e.resetParams=[Ut.options.chart.width,void 0,!1],Ut.setSize(Ee,void 0,!1)),[].forEach.call(_e.childNodes,function(Le,gi){Le.nodeType===1&&(_e.origDisplay[gi]=Le.style.display,Le.style.display="none")}),this.moveContainers(be),this.printReverseInfo=_e}contextMenu(Ut,be,Ee,_e,Me,Le,gi){var Ns,ar,Ls;let Li=this,$e=Li.chart,ji=$e.options.navigation,os=$e.chartWidth,Ni=$e.chartHeight,Js="cache-"+Ut,ns=Math.max(Me,Le),Ii,Di=$e[Js];Di||(Li.contextMenuEl=$e[Js]=Di=Go("div",{className:Ut},{position:"absolute",zIndex:1e3,padding:ns+"px",pointerEvents:"auto",...$e.renderer.style},((Ns=$e.scrollablePlotArea)==null?void 0:Ns.fixedDiv)||$e.container),Ii=Go("ul",{className:"highcharts-menu"},$e.styledMode?{}:{listStyle:"none",margin:0,padding:0},Di),$e.styledMode||or(Ii,go({MozBoxShadow:"3px 3px 10px #0008",WebkitBoxShadow:"3px 3px 10px #0008",boxShadow:"3px 3px 10px #0008"},(ji==null?void 0:ji.menuStyle)||{})),Di.hideMenu=function(){or(Di,{display:"none"}),gi&&gi.setState(0),$e.exporting&&($e.exporting.openMenu=!1),or($e.renderTo,{overflow:"hidden"}),or($e.container,{overflow:"hidden"}),wi(Di.hideTimer),oo($e,"exportMenuHidden")},(ar=Li.events)==null||ar.push(ro(Di,"mouseleave",function(){Di.hideTimer=Ks.setTimeout(Di.hideMenu,500)}),ro(Di,"mouseenter",function(){wi(Di.hideTimer)}),ro(Xi,"mouseup",function(De){var Ar;(Ar=$e.pointer)!=null&&Ar.inClass(De.target,Ut)||Di.hideMenu()}),ro(Di,"click",function(){var De;(De=$e.exporting)!=null&&De.openMenu&&Di.hideMenu()})),be.forEach(function(De){var Ar;if(typeof De=="string"&&((Ar=Li.options.menuItemDefinitions)!=null&&Ar[De])&&(De=Li.options.menuItemDefinitions[De]),Po(De,!0)){let fn;De.separator?fn=Go("hr",void 0,void 0,Ii):(De.textKey==="viewData"&&Li.isDataTableVisible&&(De.textKey="hideData"),fn=Go("li",{className:"highcharts-menu-item",onclick:function(Hn){Hn&&Hn.stopPropagation(),Di.hideMenu(),typeof De!="string"&&De.onclick&&De.onclick.apply($e,arguments)}},void 0,Ii),Be().setElementHTML(fn,De.text||$e.options.lang[De.textKey]),$e.styledMode||(fn.onmouseover=function(){or(this,(ji==null?void 0:ji.menuItemHoverStyle)||{})},fn.onmouseout=function(){or(this,(ji==null?void 0:ji.menuItemStyle)||{})},or(fn,go({cursor:"pointer"},(ji==null?void 0:ji.menuItemStyle)||{})))),Li.divElements.push(fn)}}),Li.divElements.push(Ii,Di),Li.menuHeight=Di.offsetHeight,Li.menuWidth=Di.offsetWidth);let Ui={display:"block"};Ee+(Li.menuWidth||0)>os?Ui.right=os-Ee-Me-ns+"px":Ui.left=Ee-ns+"px",_e+Le+(Li.menuHeight||0)>Ni&&((Ls=gi.alignOptions)==null?void 0:Ls.verticalAlign)!=="top"?Ui.bottom=Ni-_e-ns+"px":Ui.top=_e+Le-ns+"px",or(Di,Ui),or($e.renderTo,{overflow:""}),or($e.container,{overflow:""}),$e.exporting&&($e.exporting.openMenu=!0),oo($e,"exportMenuShown")}destroy(Ut){let be,Ee=Ut?Ut.target:this.chart,{divElements:_e,events:Me,svgElements:Le}=this;Le.forEach((gi,Li)=>{gi&&(gi.onclick=gi.ontouchstart=null,Ee[be="cache-"+gi.menuClassName]&&delete Ee[be],Le[Li]=gi.destroy())}),Le.length=0,this.group&&(this.group.destroy(),delete this.group),_e.forEach(function(gi,Li){gi&&(wi(gi.hideTimer),un(gi,"mouseleave"),_e[Li]=gi.onmouseout=gi.onmouseover=gi.ontouchstart=gi.onclick=null,Qo(gi))}),_e.length=0,Me&&(Me.forEach(function(gi){gi()}),Me.length=0)}async downloadSVG(Ut,be){let Ee,_e={svg:Ut,exportingOptions:be,exporting:this};if(oo(Ji.prototype,"downloadSVG",_e),_e.defaultPrevented)return;let{type:Me,filename:Le,scale:gi,libURL:Li}=Ji.prepareImageOptions(be);if(Me==="application/pdf")throw Error("Offline exporting logic for PDF type is not found.");if(Me==="image/svg+xml"){if(Ks.MSBlobBuilder!==void 0){let $e=new Ks.MSBlobBuilder;$e.append(Ut),Ee=$e.getBlob("image/svg+xml")}else Ee=Ji.svgToDataURL(Ut);Ts(Ee,Le)}else{Ee=Ji.svgToDataURL(Ut);try{Ji.objectURLRevoke=!0;let $e=await Ji.imageToDataURL(Ee,gi,Me);Ts($e,Le)}catch($e){if($e.message==="No canvas found!")throw $e;if(Ut.length>1e8)throw Error("Input too long");let ji=Xi.createElement("canvas"),os=ji.getContext("2d"),Ni=Ut.match(/^<svg[^>]*\s{,1000}width\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/),Js=Ut.match(/^<svg[^>]*\s{0,1000}height\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/);if(os&&Ni&&Js){let ns=Ni[1]*gi,Ii=Js[1]*gi;ji.width=ns,ji.height=Ii,Ks.canvg||(Ji.objectURLRevoke=!0,await _s(Li+"canvg.js")),Ks.canvg.Canvg.fromString(os,Ut).start(),Ts(Ks.navigator.msSaveOrOpenBlob?ji.msToBlob():ji.toDataURL(Me),Le)}}finally{if(Ji.objectURLRevoke)try{ol.revokeObjectURL(Ee)}catch{}}}}async exportChart(Ut,be){if((Ut=mo(this.options,Ut)).local)await this.localExport(Ut,be||{});else{let Ee=this.getSVGForExport(Ut,be);Ut.url&&await ri.post(Ut.url,{filename:Ut.filename?Ut.filename.replace(/\//g,"-"):this.getFilename(),type:Ut.type,width:Ut.width,scale:Ut.scale,svg:Ee},Ut.fetchOptions)}}async fallbackToServer(Ut,be){Ut.fallbackToExportServer===!1?Ut.error?Ut.error(Ut,be):Fn(28,!0):Ut.type==="application/pdf"&&(Ut.local=!1,await this.exportChart(Ut))}getChartHTML(Ut){let be=this.chart;return Ut&&this.inlineStyles(),this.resolveCSSVariables(),be.container.innerHTML}getFilename(){var Ee;let Ut=(Ee=this.chart.userOptions.title)==null?void 0:Ee.text,be=this.options.filename;return be?be.replace(/\//g,"-"):(typeof Ut=="string"&&(be=Ut.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z\d\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!be||be.length<5)&&(be="chart"),be)}getSVG(Ut){var Js,ns,Ii,Di;let be=this.chart,Ee,_e,Me=mo(be.options,Ut);Me.plotOptions=mo(be.userOptions.plotOptions,Ut==null?void 0:Ut.plotOptions),Me.time=mo(be.userOptions.time,Ut==null?void 0:Ut.time);let Le=Go("div",void 0,{position:"absolute",top:"-9999em",width:be.chartWidth+"px",height:be.chartHeight+"px"},Xi.body),gi=be.renderTo.style.width,Li=be.renderTo.style.height,$e=((Js=Me.exporting)==null?void 0:Js.sourceWidth)||Me.chart.width||/px$/.test(gi)&&parseInt(gi,10)||(Me.isGantt?800:600),ji=((ns=Me.exporting)==null?void 0:ns.sourceHeight)||Me.chart.height||/px$/.test(Li)&&parseInt(Li,10)||400;go(Me.chart,{animation:!1,renderTo:Le,forExport:!0,renderer:"SVGRenderer",width:$e,height:ji}),Me.exporting&&(Me.exporting.enabled=!1),delete Me.data,Me.series=[],be.series.forEach(function(Ui){var Ns;(_e=mo(Ui.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Ui.visible})).isInternal||((Ns=Me==null?void 0:Me.series)==null||Ns.push(_e))});let os={};be.axes.forEach(function(Ui){Ui.userOptions.internalKey||(Ui.userOptions.internalKey=Na()),Me&&!Ui.options.isInternal&&(os[Ui.coll]||(os[Ui.coll]=!0,Me[Ui.coll]=[]),Me[Ui.coll].push(mo(Ui.userOptions,{visible:Ui.visible,type:Ui.type,uniqueNames:Ui.uniqueNames})))}),Me.colorAxis=be.userOptions.colorAxis;let Ni=new be.constructor(Me,be.callback);return Ut&&["xAxis","yAxis","series"].forEach(function(Ui){Ut[Ui]&&Ni.update({[Ui]:Ut[Ui]})}),be.axes.forEach(function(Ui){let Ns=Ke(Ni.axes,ar=>ar.options.internalKey===Ui.userOptions.internalKey);if(Ns){let ar=Ui.getExtremes(),Ls=tn((Ut==null?void 0:Ut[Ui.coll])||{})[0],De="min"in Ls?Ls.min:ar.userMin,Ar="max"in Ls?Ls.max:ar.userMax;(De!==void 0&&De!==Ns.min||Ar!==void 0&&Ar!==Ns.max)&&Ns.setExtremes(De??void 0,Ar??void 0,!0,!1)}}),Ee=((Di=Ni.exporting)==null?void 0:Di.getChartHTML(be.styledMode||((Ii=Me.exporting)==null?void 0:Ii.applyStyleSheets)))||"",oo(be,"getSVG",{chartCopy:Ni}),Ee=Ji.sanitizeSVG(Ee,Me),Me=void 0,Ni.destroy(),Qo(Le),Ee}getSVGForExport(Ut,be){let Ee=this.options;return this.getSVG(mo({chart:{borderRadius:0}},Ee.chartOptions,be,{exporting:{sourceWidth:(Ut==null?void 0:Ut.sourceWidth)||Ee.sourceWidth,sourceHeight:(Ut==null?void 0:Ut.sourceHeight)||Ee.sourceHeight}}))}inlineStyles(){var gi;let Ut,be=Ji.inlineDenylist,Ee=Ji.inlineAllowlist,_e={},Me=Go("iframe",void 0,{width:"1px",height:"1px",visibility:"hidden"},Xi.body),Le=(gi=Me.contentWindow)==null?void 0:gi.document;Le&&Le.body.appendChild(Le.createElementNS(fo,"svg")),function Li($e){let ji,os,Ni,Js,ns,Ii,Di={};if(Le&&$e.nodeType===1&&Ji.unstyledElements.indexOf($e.nodeName)===-1){if(ji=Ks.getComputedStyle($e,null),os=$e.nodeName==="svg"?{}:Ks.getComputedStyle($e.parentNode,null),!_e[$e.nodeName]){Ut=Le.getElementsByTagName("svg")[0],Ni=Le.createElementNS($e.namespaceURI,$e.nodeName),Ut.appendChild(Ni);let Ui=Ks.getComputedStyle(Ni,null),Ns={};for(let ar in Ui)ar.length<1e3&&typeof Ui[ar]=="string"&&!/^\d+$/.test(ar)&&(Ns[ar]=Ui[ar]);_e[$e.nodeName]=Ns,$e.nodeName==="text"&&delete _e.text.fill,Ut.removeChild(Ni)}for(let Ui in ji)(po||uo||zr||Object.hasOwnProperty.call(ji,Ui))&&function(Ns,ar){if(Js=ns=!1,Ee.length){for(Ii=Ee.length;Ii--&&!ns;)ns=Ee[Ii].test(ar);Js=!ns}for(ar==="transform"&&Ns==="none"&&(Js=!0),Ii=be.length;Ii--&&!Js;){if(ar.length>1e3)throw Error("Input too long");Js=be[Ii].test(ar)||typeof Ns=="function"}!Js&&(os[ar]!==Ns||$e.nodeName==="svg")&&_e[$e.nodeName][ar]!==Ns&&(Ji.inlineToAttributes&&Ji.inlineToAttributes.indexOf(ar)===-1?Di[ar]=Ns:Ns&&$e.setAttribute(Ji.hyphenate(ar),Ns))}(ji[Ui],Ui);if(or($e,Di),$e.nodeName==="svg"&&$e.setAttribute("stroke-width","1px"),$e.nodeName==="text")return;[].forEach.call($e.children||$e.childNodes,Li)}}(this.chart.container.querySelector("svg")),Ut.parentNode.removeChild(Ut),Me.parentNode.removeChild(Me)}async localExport(Ut,be){let Ee=this.chart,_e,Me,Le=null,gi;if(uo&&Ee.styledMode&&!Ji.inlineAllowlist.length&&Ji.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),uo&&(Ut.type==="application/pdf"||Ee.container.getElementsByTagName("image").length&&Ut.type!=="image/svg+xml")||Ut.type==="application/pdf"&&[].some.call(Ee.container.getElementsByTagName("image"),function($e){let ji=$e.getAttribute("href");return ji!==""&&typeof ji=="string"&&ji.indexOf("data:")!==0}))return void await this.fallbackToServer(Ut,Error("Image type not supported for this chart/browser."));let Li=ro(Ee,"getSVG",$e=>{Me=$e.chartCopy.options,gi=(_e=$e.chartCopy.container.cloneNode(!0))&&_e.getElementsByTagName("image")||[]});try{let $e;for(let os of(this.getSVGForExport(Ut,be),gi?Array.from(gi):[]))if(Le=os.getAttributeNS("http://www.w3.org/1999/xlink","href")){Ji.objectURLRevoke=!1;let Ni=await Ji.imageToDataURL(Le,(Ut==null?void 0:Ut.scale)||1,(Ut==null?void 0:Ut.type)||"image/png");os.setAttributeNS("http://www.w3.org/1999/xlink","href",Ni)}else os.parentNode.removeChild(os);let ji=($e=_e==null?void 0:_e.innerHTML,Ji.sanitizeSVG($e||"",Me));if(ji.indexOf("<foreignObject")>-1&&Ut.type!=="image/svg+xml"&&(uo||Ut.type==="application/pdf"))throw Error("Image type not supported for charts with embedded HTML");return await this.downloadSVG(ji,go({filename:this.getFilename()},Ut)),ji}catch($e){await this.fallbackToServer(Ut,$e)}finally{Li()}}moveContainers(Ut){let be=this.chart,{scrollablePlotArea:Ee}=be;(Ee?[Ee.fixedDiv,Ee.scrollingContainer]:[be.container]).forEach(function(_e){Ut.appendChild(_e)})}print(){let Ut=this.chart;this.isPrinting||(Ji.printingChart=Ut,zr||this.beforePrint(),setTimeout(()=>{Ks.focus(),Ks.print(),zr||setTimeout(()=>{var be;(be=Ut.exporting)==null||be.afterPrint()},1e3)},1))}render(){let Ut=this,{chart:be,options:Ee}=Ut,_e=(Ut==null?void 0:Ut.isDirty)||!(Ut!=null&&Ut.svgElements.length);Ut.buttonOffset=0,Ut.isDirty&&Ut.destroy(),_e&&Ee.enabled!==!1&&(Ut.events=[],Ut.group||(Ut.group=be.renderer.g("exporting-group").attr({zIndex:3}).add()),ti(Ee==null?void 0:Ee.buttons,function(Me){Ut.addButton(Me)}),Ut.isDirty=!1)}resolveCSSVariables(){Array.from(this.chart.container.querySelectorAll("*")).forEach(Ut=>{["color","fill","stop-color","stroke"].forEach(be=>{var Me;let Ee=Ut.getAttribute(be);Ee!=null&&Ee.includes("var(")&&Ut.setAttribute(be,getComputedStyle(Ut).getPropertyValue(be));let _e=(Me=Ut.style)==null?void 0:Me[be];_e!=null&&_e.includes("var(")&&(Ut.style[be]=getComputedStyle(Ut).getPropertyValue(be))})})}update(Ut,be){this.isDirty=!0,mo(!0,this.options,Ut),fr(be,!0)&&this.chart.redraw()}}Ji.inlineAllowlist=[],Ji.inlineDenylist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/^(cssRules|ownerRules)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^\d+$/],Ji.inlineToAttributes=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"],Ji.loadEventDeferDelay=150*!!uo,Ji.unstyledElements=["clipPath","defs","desc"],function(He){function Ut(_e){let Me=_e.exporting;Me&&(Me.render(),ro(_e,"redraw",function(){var Le;(Le=this.exporting)==null||Le.render()}),ro(_e,"destroy",function(){var Le;(Le=this.exporting)==null||Le.destroy()}))}function be(){let _e=this;_e.options.exporting&&(_e.exporting=new He(_e,_e.options.exporting),Ve.compose(_e).navigation.addUpdate((Me,Le)=>{_e.exporting&&(_e.exporting.isDirty=!0,mo(!0,_e.options.navigation,Me),fr(Le,!0)&&_e.redraw())}))}function Ee({alignTo:_e,key:Me,textPxLength:Le}){var ns,Ii,Di;let gi=this.options.exporting,{align:Li,buttonSpacing:$e=0,verticalAlign:ji,width:os=0}=mo((ns=this.options.navigation)==null?void 0:ns.buttonOptions,(Ii=gi==null?void 0:gi.buttons)==null?void 0:Ii.contextButton),Ni=_e.width-Le,Js=os+$e;((gi==null?void 0:gi.enabled)??!0)&&Me==="title"&&Li==="right"&&ji==="top"&&Ni<2*Js&&(Ni<Js?_e.width-=Js:((Di=this.title)==null?void 0:Di.alignValue)!=="left"&&(_e.x-=Js-Ni/2))}He.compose=function(_e,Me){co.compose(Me),zs.compose(_e),Co(ms,"Exporting")&&(go(di().prototype,{exportChart:async function(Le,gi){var Li;await((Li=this.exporting)==null?void 0:Li.exportChart(Le,gi))},getChartHTML:function(Le){var gi;return(gi=this.exporting)==null?void 0:gi.getChartHTML(Le)},getFilename:function(){var Le;return(Le=this.exporting)==null?void 0:Le.getFilename()},getSVG:function(Le){var gi;return(gi=this.exporting)==null?void 0:gi.getSVG(Le)},print:function(){var Le;return(Le=this.exporting)==null?void 0:Le.print()}}),_e.prototype.callbacks.push(Ut),ro(_e,"afterInit",be),ro(_e,"layOutTitle",Ee),zr&&Ks.matchMedia("print").addListener(function(Le){var gi,Li;He.printingChart&&(Le.matches?(gi=He.printingChart.exporting)==null||gi.beforePrint():(Li=He.printingChart.exporting)==null||Li.afterPrint())}),rr(Kr))}}(Ji||(Ji={}));let En=Ji,_o=oe();_o.Exporting=En,_o.HttpUtilities=_o.HttpUtilities||ri,_o.ajax=_o.HttpUtilities.ajax,_o.getJSON=_o.HttpUtilities.getJSON,_o.post=_o.HttpUtilities.post,En.compose(_o.Chart,_o.Renderer);let gr=oe();return ue.default})())}(yy)),yy.exports}zw();var wx={exports:{}};wx.exports;var av;function Rw(){return av||(av=1,function(tt,dt){var at=200,It="__lodash_hash_undefined__",Et=9007199254740991,jt="[object Arguments]",te="[object Array]",me="[object Boolean]",ee="[object Date]",ae="[object Error]",ue="[object Function]",le="[object GeneratorFunction]",oe="[object Map]",Ce="[object Number]",Be="[object Object]",We="[object Promise]",di="[object RegExp]",Ve="[object Set]",xi="[object String]",si="[object Symbol]",zi="[object WeakMap]",Gi="[object ArrayBuffer]",Ds="[object DataView]",qr="[object Float32Array]",ke="[object Float64Array]",Kr="[object Int8Array]",co="[object Int16Array]",ii="[object Int32Array]",Xs="[object Uint8Array]",Wn="[object Uint8ClampedArray]",ge="[object Uint16Array]",On="[object Uint32Array]",zs=/[\\^$.*+?()[\]{}|]/g,so=/\w*$/,Zt=/^\[object .+?Constructor\]$/,Jo=/^(?:0|[1-9]\d*)$/,ri={};ri[jt]=ri[te]=ri[Gi]=ri[Ds]=ri[me]=ri[ee]=ri[qr]=ri[ke]=ri[Kr]=ri[co]=ri[ii]=ri[oe]=ri[Ce]=ri[Be]=ri[di]=ri[Ve]=ri[xi]=ri[si]=ri[Xs]=ri[Wn]=ri[ge]=ri[On]=!0,ri[ae]=ri[ue]=ri[zi]=!1;var ks=typeof fy=="object"&&fy&&fy.Object===Object&&fy,rr=typeof self=="object"&&self&&self.Object===Object&&self,Ts=ks||rr||Function("return this")(),_s=dt&&!dt.nodeType&&dt,ms=_s&&!0&&tt&&!tt.nodeType&&tt,Xi=ms&&ms.exports===_s;function po(Bt,we){return Bt.set(we[0],we[1]),Bt}function uo(Bt,we){return Bt.add(we),Bt}function zr(Bt,we){for(var Ne=-1,Mi=Bt?Bt.length:0;++Ne<Mi&&we(Bt[Ne],Ne,Bt)!==!1;);return Bt}function fo(Bt,we){for(var Ne=-1,Mi=we.length,wr=Bt.length;++Ne<Mi;)Bt[wr+Ne]=we[Ne];return Bt}function Ks(Bt,we,Ne,Mi){for(var wr=-1,er=Bt?Bt.length:0;++wr<er;)Ne=we(Ne,Bt[wr],wr,Bt);return Ne}function ro(Bt,we){for(var Ne=-1,Mi=Array(Bt);++Ne<Bt;)Mi[Ne]=we(Ne);return Mi}function wi(Bt,we){return Bt==null?void 0:Bt[we]}function Go(Bt){var we=!1;if(Bt!=null&&typeof Bt.toString!="function")try{we=!!(Bt+"")}catch{}return we}function or(Bt){var we=-1,Ne=Array(Bt.size);return Bt.forEach(function(Mi,wr){Ne[++we]=[wr,Mi]}),Ne}function Qo(Bt,we){return function(Ne){return Bt(we(Ne))}}function Fn(Bt){var we=-1,Ne=Array(Bt.size);return Bt.forEach(function(Mi){Ne[++we]=Mi}),Ne}var go=Array.prototype,Ke=Function.prototype,oo=Object.prototype,Po=Ts["__core-js_shared__"],mo=function(){var Bt=/[^.]+$/.exec(Po&&Po.keys&&Po.keys.IE_PROTO||"");return Bt?"Symbol(src)_1."+Bt:""}(),ti=Ke.toString,fr=oo.hasOwnProperty,Co=oo.toString,un=RegExp("^"+ti.call(fr).replace(zs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tn=Xi?Ts.Buffer:void 0,Na=Ts.Symbol,ol=Ts.Uint8Array,Ji=Qo(Object.getPrototypeOf,Object),En=Object.create,_o=oo.propertyIsEnumerable,gr=go.splice,He=Object.getOwnPropertySymbols,Ut=tn?tn.isBuffer:void 0,be=Qo(Object.keys,Object),Ee=Os(Ts,"DataView"),_e=Os(Ts,"Map"),Me=Os(Ts,"Promise"),Le=Os(Ts,"Set"),gi=Os(Ts,"WeakMap"),Li=Os(Object,"create"),$e=Ws(Ee),ji=Ws(_e),os=Ws(Me),Ni=Ws(Le),Js=Ws(gi),ns=Na?Na.prototype:void 0,Ii=ns?ns.valueOf:void 0;function Di(Bt){var we=-1,Ne=Bt?Bt.length:0;for(this.clear();++we<Ne;){var Mi=Bt[we];this.set(Mi[0],Mi[1])}}function Ui(){this.__data__=Li?Li(null):{}}function Ns(Bt){return this.has(Bt)&&delete this.__data__[Bt]}function ar(Bt){var we=this.__data__;if(Li){var Ne=we[Bt];return Ne===It?void 0:Ne}return fr.call(we,Bt)?we[Bt]:void 0}function Ls(Bt){var we=this.__data__;return Li?we[Bt]!==void 0:fr.call(we,Bt)}function De(Bt,we){var Ne=this.__data__;return Ne[Bt]=Li&&we===void 0?It:we,this}Di.prototype.clear=Ui,Di.prototype.delete=Ns,Di.prototype.get=ar,Di.prototype.has=Ls,Di.prototype.set=De;function Ar(Bt){var we=-1,Ne=Bt?Bt.length:0;for(this.clear();++we<Ne;){var Mi=Bt[we];this.set(Mi[0],Mi[1])}}function fn(){this.__data__=[]}function Hn(Bt){var we=this.__data__,Ne=Xn(we,Bt);if(Ne<0)return!1;var Mi=we.length-1;return Ne==Mi?we.pop():gr.call(we,Ne,1),!0}function Ys(Bt){var we=this.__data__,Ne=Xn(we,Bt);return Ne<0?void 0:we[Ne][1]}function Fr(Bt){return Xn(this.__data__,Bt)>-1}function mh(Bt,we){var Ne=this.__data__,Mi=Xn(Ne,Bt);return Mi<0?Ne.push([Bt,we]):Ne[Mi][1]=we,this}Ar.prototype.clear=fn,Ar.prototype.delete=Hn,Ar.prototype.get=Ys,Ar.prototype.has=Fr,Ar.prototype.set=mh;function Xo(Bt){var we=-1,Ne=Bt?Bt.length:0;for(this.clear();++we<Ne;){var Mi=Bt[we];this.set(Mi[0],Mi[1])}}function Hl(){this.__data__={hash:new Di,map:new(_e||Ar),string:new Di}}function xo(Bt){return br(this,Bt).delete(Bt)}function Hr(Bt){return br(this,Bt).get(Bt)}function xh(Bt){return br(this,Bt).has(Bt)}function Xh(Bt,we){return br(this,Bt).set(Bt,we),this}Xo.prototype.clear=Hl,Xo.prototype.delete=xo,Xo.prototype.get=Hr,Xo.prototype.has=xh,Xo.prototype.set=Xh;function Wa(Bt){this.__data__=new Ar(Bt)}function bl(){this.__data__=new Ar}function nl(Bt){return this.__data__.delete(Bt)}function Gr(Bt){return this.__data__.get(Bt)}function wl(Bt){return this.__data__.has(Bt)}function Gn(Bt,we){var Ne=this.__data__;if(Ne instanceof Ar){var Mi=Ne.__data__;if(!_e||Mi.length<at-1)return Mi.push([Bt,we]),this;Ne=this.__data__=new Xo(Mi)}return Ne.set(Bt,we),this}Wa.prototype.clear=bl,Wa.prototype.delete=nl,Wa.prototype.get=Gr,Wa.prototype.has=wl,Wa.prototype.set=Gn;function al(Bt,we){var Ne=yo(Bt)||ts(Bt)?ro(Bt.length,String):[],Mi=Ne.length,wr=!!Mi;for(var er in Bt)fr.call(Bt,er)&&!(wr&&(er=="length"||Un(er,Mi)))&&Ne.push(er);return Ne}function Jr(Bt,we,Ne){var Mi=Bt[we];(!(fr.call(Bt,we)&&no(Mi,Ne))||Ne===void 0&&!(we in Bt))&&(Bt[we]=Ne)}function Xn(Bt,we){for(var Ne=Bt.length;Ne--;)if(no(Bt[Ne][0],we))return Ne;return-1}function gn(Bt,we){return Bt&&ll(we,ao(we),Bt)}function kl(Bt,we,Ne,Mi,wr,er,vo){var Ci;if(Mi&&(Ci=er?Mi(Bt,wr,er,vo):Mi(Bt)),Ci!==void 0)return Ci;if(!Fs(Bt))return Bt;var Xa=yo(Bt);if(Xa){if(Ci=jo(Bt),!we)return yh(Bt,Ci)}else{var Qr=Yo(Bt),fa=Qr==ue||Qr==le;if(Gl(Bt))return Ha(Bt,we);if(Qr==Be||Qr==jt||fa&&!er){if(Go(Bt))return er?Bt:{};if(Ci=jn(fa?{}:Bt),!we)return en(Bt,gn(Ci,Bt))}else{if(!ri[Qr])return er?Bt:{};Ci=hr(Bt,Qr,kl,we)}}vo||(vo=new Wa);var dl=vo.get(Bt);if(dl)return dl;if(vo.set(Bt,Ci),!Xa)var ga=Ne?_r(Bt):ao(Bt);return zr(ga||Bt,function(Rs,lo){ga&&(lo=Rs,Rs=Bt[lo]),Jr(Ci,lo,kl(Rs,we,Ne,Mi,lo,Bt,vo))}),Ci}function Qs(Bt){return Fs(Bt)?En(Bt):{}}function Fa(Bt,we,Ne){var Mi=we(Bt);return yo(Bt)?Mi:fo(Mi,Ne(Bt))}function hs(Bt){return Co.call(Bt)}function js(Bt){if(!Fs(Bt)||Ga(Bt))return!1;var we=rn(Bt)||Go(Bt)?un:Zt;return we.test(Ws(Bt))}function Yn(Bt){if(!Lr(Bt))return be(Bt);var we=[];for(var Ne in Object(Bt))fr.call(Bt,Ne)&&Ne!="constructor"&&we.push(Ne);return we}function Ha(Bt,we){if(we)return Bt.slice();var Ne=new Bt.constructor(Bt.length);return Bt.copy(Ne),Ne}function Es(Bt){var we=new Bt.constructor(Bt.byteLength);return new ol(we).set(new ol(Bt)),we}function mn(Bt,we){var Ne=we?Es(Bt.buffer):Bt.buffer;return new Bt.constructor(Ne,Bt.byteOffset,Bt.byteLength)}function Qi(Bt,we,Ne){var Mi=we?Ne(or(Bt),!0):or(Bt);return Ks(Mi,po,new Bt.constructor)}function lr(Bt){var we=new Bt.constructor(Bt.source,so.exec(Bt));return we.lastIndex=Bt.lastIndex,we}function tr(Bt,we,Ne){var Mi=we?Ne(Fn(Bt),!0):Fn(Bt);return Ks(Mi,uo,new Bt.constructor)}function Ml(Bt){return Ii?Object(Ii.call(Bt)):{}}function Pr(Bt,we){var Ne=we?Es(Bt.buffer):Bt.buffer;return new Bt.constructor(Ne,Bt.byteOffset,Bt.length)}function yh(Bt,we){var Ne=-1,Mi=Bt.length;for(we||(we=Array(Mi));++Ne<Mi;)we[Ne]=Bt[Ne];return we}function ll(Bt,we,Ne,Mi){Ne||(Ne={});for(var wr=-1,er=we.length;++wr<er;){var vo=we[wr],Ci=void 0;Jr(Ne,vo,Ci===void 0?Bt[vo]:Ci)}return Ne}function en(Bt,we){return ll(Bt,ua(Bt),we)}function _r(Bt){return Fa(Bt,ao,ua)}function br(Bt,we){var Ne=Bt.__data__;return hl(we)?Ne[typeof we=="string"?"string":"hash"]:Ne.map}function Os(Bt,we){var Ne=wi(Bt,we);return js(Ne)?Ne:void 0}var ua=He?Qo(He,Object):mr,Yo=hs;(Ee&&Yo(new Ee(new ArrayBuffer(1)))!=Ds||_e&&Yo(new _e)!=oe||Me&&Yo(Me.resolve())!=We||Le&&Yo(new Le)!=Ve||gi&&Yo(new gi)!=zi)&&(Yo=function(Bt){var we=Co.call(Bt),Ne=we==Be?Bt.constructor:void 0,Mi=Ne?Ws(Ne):void 0;if(Mi)switch(Mi){case $e:return Ds;case ji:return oe;case os:return We;case Ni:return Ve;case Js:return zi}return we});function jo(Bt){var we=Bt.length,Ne=Bt.constructor(we);return we&&typeof Bt[0]=="string"&&fr.call(Bt,"index")&&(Ne.index=Bt.index,Ne.input=Bt.input),Ne}function jn(Bt){return typeof Bt.constructor=="function"&&!Lr(Bt)?Qs(Ji(Bt)):{}}function hr(Bt,we,Ne,Mi){var wr=Bt.constructor;switch(we){case Gi:return Es(Bt);case me:case ee:return new wr(+Bt);case Ds:return mn(Bt,Mi);case qr:case ke:case Kr:case co:case ii:case Xs:case Wn:case ge:case On:return Pr(Bt,Mi);case oe:return Qi(Bt,Mi,Ne);case Ce:case xi:return new wr(Bt);case di:return lr(Bt);case Ve:return tr(Bt,Mi,Ne);case si:return Ml(Bt)}}function Un(Bt,we){return we=we??Et,!!we&&(typeof Bt=="number"||Jo.test(Bt))&&Bt>-1&&Bt%1==0&&Bt<we}function hl(Bt){var we=typeof Bt;return we=="string"||we=="number"||we=="symbol"||we=="boolean"?Bt!=="__proto__":Bt===null}function Ga(Bt){return!!mo&&mo in Bt}function Lr(Bt){var we=Bt&&Bt.constructor,Ne=typeof we=="function"&&we.prototype||oo;return Bt===Ne}function Ws(Bt){if(Bt!=null){try{return ti.call(Bt)}catch{}try{return Bt+""}catch{}}return""}function xn(Bt){return kl(Bt,!0,!0)}function no(Bt,we){return Bt===we||Bt!==Bt&&we!==we}function ts(Bt){return sn(Bt)&&fr.call(Bt,"callee")&&(!_o.call(Bt,"callee")||Co.call(Bt)==jt)}var yo=Array.isArray;function Ms(Bt){return Bt!=null&&Sl(Bt.length)&&!rn(Bt)}function sn(Bt){return vh(Bt)&&Ms(Bt)}var Gl=Ut||on;function rn(Bt){var we=Fs(Bt)?Co.call(Bt):"";return we==ue||we==le}function Sl(Bt){return typeof Bt=="number"&&Bt>-1&&Bt%1==0&&Bt<=Et}function Fs(Bt){var we=typeof Bt;return!!Bt&&(we=="object"||we=="function")}function vh(Bt){return!!Bt&&typeof Bt=="object"}function ao(Bt){return Ms(Bt)?al(Bt):Yn(Bt)}function mr(){return[]}function on(){return!1}tt.exports=xn}(wx,wx.exports)),wx.exports}var Nw=Rw();const Ww=X0(Nw);var Fw=Oi("<div></div>");function Am(tt,dt){Ax(dt,!1);let at=vx(dt,"options",8),It=vx(dt,"updateArgs",8,!0),Et=vx(dt,"highcharts",8,ig),jt=vx(dt,"callback",8,()=>{}),te=vx(dt,"chart",12,null),me=My();_x(()=>{if(!Ho(me)){console.error("[highcharts-svelte] Could not find the chart's container.");return}if(!at()){console.error("[highcharts-svelte] No options provided to the HighchartsSvelte component.");return}te(Et().chart(Ho(me),at(),jt()))}),_w(()=>{te()&&te().destroy()}),jb(()=>(my(te()),my(at()),my(It())),()=>{te()&&te().update&&at()&&te().update(Ww(at()),!0,!0,It())}),Ub(),$v();var ee=Fw();Pw(ee,ae=>il(me,ae),()=>Ho(me)),li(tt,ee),Px()}var vy={exports:{}},Hw=vy.exports,lv;function Gw(){return lv||(lv=1,function(tt,dt){(function(at,It){at._Highcharts=It(),tt.exports=at._Highcharts})(typeof window>"u"?Hw:window,()=>(()=>{var Rn;let at,It,Et,jt,te,me;var ee,ae,ue,le,oe,Ce,Be,We,di,Ve,xi,si,zi,Gi,Ds,qr,ke,Kr,co,ii,Xs,Wn,ge,On,zs={};zs.d=(T,t)=>{for(var r in t)zs.o(t,r)&&!zs.o(T,r)&&Object.defineProperty(T,r,{enumerable:!0,get:t[r]})},zs.o=(T,t)=>Object.prototype.hasOwnProperty.call(T,t);var so={};zs.d(so,{default:()=>fh}),function(T){var t,r,a,d,u,m,v;T.SVG_NS="http://www.w3.org/2000/svg",T.product="Highcharts",T.version="12.3.0",T.win=typeof window<"u"?window:{},T.doc=T.win.document,T.svg=!!((a=(r=(t=T.doc)==null?void 0:t.createElementNS)==null?void 0:r.call(t,T.SVG_NS,"svg"))!=null&&a.createSVGRect),T.pageLang=(m=(u=(d=T.doc)==null?void 0:d.documentElement)==null?void 0:u.closest("[lang]"))==null?void 0:m.lang,T.userAgent=((v=T.win.navigator)==null?void 0:v.userAgent)||"",T.isChrome=T.win.chrome,T.isFirefox=T.userAgent.indexOf("Firefox")!==-1,T.isMS=/(edge|msie|trident)/i.test(T.userAgent)&&!T.win.opera,T.isSafari=!T.isChrome&&T.userAgent.indexOf("Safari")!==-1,T.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(T.userAgent),T.isWebKit=T.userAgent.indexOf("AppleWebKit")!==-1,T.deg2rad=2*Math.PI/360,T.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],T.noop=function(){},T.supportsPassiveEvents=function(){let k=!1;if(!T.isMS){let P=Object.defineProperty({},"passive",{get:function(){k=!0}});T.win.addEventListener&&T.win.removeEventListener&&(T.win.addEventListener("testPassive",T.noop,P),T.win.removeEventListener("testPassive",T.noop,P))}return k}(),T.charts=[],T.composed=[],T.dateFormats={},T.seriesTypes={},T.symbolSizes={},T.chartCount=0}(ee||(ee={}));let Zt=ee,{charts:Jo,doc:ri,win:ks}=Zt;function rr(T,t,r,a){let d=t?"Highcharts error":"Highcharts warning";T===32&&(T=`${d}: Deprecated member`);let u=zr(T),m=u?`${d} #${T}: www.highcharts.com/errors/${T}/`:T.toString();if(a!==void 0){let v="";u&&(m+="?"),Ke(a,function(k,P){v+=`
 - ${P}: ${k}`,u&&(m+=encodeURI(P)+"="+encodeURI(k))}),m+=v}Po(Zt,"displayError",{chart:r,code:T,message:m,params:a},function(){if(t)throw Error(m);ks.console&&rr.messages.indexOf(m)===-1&&console.warn(m)}),rr.messages.push(m)}function Ts(T,t){return parseInt(T,t||10)}function _s(T){return typeof T=="string"}function ms(T){let t=Object.prototype.toString.call(T);return t==="[object Array]"||t==="[object Array Iterator]"}function Xi(T,t){return!!T&&typeof T=="object"&&(!t||!ms(T))}function po(T){return Xi(T)&&typeof T.nodeType=="number"}function uo(T){let t=T==null?void 0:T.constructor;return!!(Xi(T,!0)&&!po(T)&&(t!=null&&t.name)&&t.name!=="Object")}function zr(T){return typeof T=="number"&&!isNaN(T)&&T<1/0&&T>-1/0}function fo(T){return T!=null}function Ks(T,t,r){let a,d=_s(t)&&!fo(r),u=(m,v)=>{fo(m)?T.setAttribute(v,m):d?(a=T.getAttribute(v))||v!=="class"||(a=T.getAttribute(v+"Name")):T.removeAttribute(v)};return _s(t)?u(r,t):Ke(t,u),a}function ro(T){return ms(T)?T:[T]}function wi(T,t){let r;for(r in T||(T={}),t)T[r]=t[r];return T}function Go(){let T=arguments,t=T.length;for(let r=0;r<t;r++){let a=T[r];if(a!=null)return a}}function or(T,t){wi(T.style,t)}function Qo(T){return Math.pow(10,Math.floor(Math.log(T)/Math.LN10))}function Fn(T,t){return T>1e14?T:parseFloat(T.toPrecision(t||14))}(rr||(rr={})).messages=[],Math.easeInOutSine=function(T){return-.5*(Math.cos(Math.PI*T)-1)};let go=Array.prototype.find?function(T,t){return T.find(t)}:function(T,t){let r,a=T.length;for(r=0;r<a;r++)if(t(T[r],r))return T[r]};function Ke(T,t,r){for(let a in T)Object.hasOwnProperty.call(T,a)&&t.call(r||T[a],T[a],a,T)}function oo(T,t,r){function a(m,v){let k=T.removeEventListener;k&&k.call(T,m,v,!1)}function d(m){let v,k;T.nodeName&&(t?(v={})[t]=!0:v=m,Ke(v,function(P,z){if(m[z])for(k=m[z].length;k--;)a(z,m[z][k].fn)}))}let u=typeof T=="function"&&T.prototype||T;if(Object.hasOwnProperty.call(u,"hcEvents")){let m=u.hcEvents;if(t){let v=m[t]||[];r?(m[t]=v.filter(function(k){return r!==k.fn}),a(t,r)):(d(m),m[t]=[])}else d(m),delete u.hcEvents}}function Po(T,t,r,a){if(r=r||{},(ri==null?void 0:ri.createEvent)&&(T.dispatchEvent||T.fireEvent&&T!==Zt)){let d=ri.createEvent("Events");d.initEvent(t,!0,!0),r=wi(d,r),T.dispatchEvent?T.dispatchEvent(r):T.fireEvent(t,r)}else if(T.hcEvents){r.target||wi(r,{preventDefault:function(){r.defaultPrevented=!0},target:T,type:t});let d=[],u=T,m=!1;for(;u.hcEvents;)Object.hasOwnProperty.call(u,"hcEvents")&&u.hcEvents[t]&&(d.length&&(m=!0),d.unshift.apply(d,u.hcEvents[t])),u=Object.getPrototypeOf(u);m&&d.sort((v,k)=>v.order-k.order),d.forEach(v=>{v.fn.call(T,r)===!1&&r.preventDefault()})}a&&!r.defaultPrevented&&a.call(T,r)}let mo=function(){let T=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(at?"":T)+t++}}();ks.jQuery&&(ks.jQuery.fn.highcharts=function(){let T=[].slice.call(arguments);if(this[0])return T[0]?(new Zt[_s(T[0])?T.shift():"Chart"](this[0],T[0],T[1]),this):Jo[Ks(this[0],"data-highcharts-chart")]});let ti={addEvent:function(T,t,r,a={}){let d=typeof T=="function"&&T.prototype||T;Object.hasOwnProperty.call(d,"hcEvents")||(d.hcEvents={});let u=d.hcEvents;Zt.Point&&T instanceof Zt.Point&&T.series&&T.series.chart&&(T.series.chart.runTrackerClick=!0);let m=T.addEventListener;m&&m.call(T,t,r,!!Zt.supportsPassiveEvents&&{passive:a.passive===void 0?t.indexOf("touch")!==-1:a.passive,capture:!1}),u[t]||(u[t]=[]);let v={fn:r,order:typeof a.order=="number"?a.order:1/0};return u[t].push(v),u[t].sort((k,P)=>k.order-P.order),function(){oo(T,t,r)}},arrayMax:function(T){let t=T.length,r=T[0];for(;t--;)T[t]>r&&(r=T[t]);return r},arrayMin:function(T){let t=T.length,r=T[0];for(;t--;)T[t]<r&&(r=T[t]);return r},attr:Ks,clamp:function(T,t,r){return T>t?T<r?T:r:t},clearTimeout:function(T){fo(T)&&clearTimeout(T)},correctFloat:Fn,createElement:function(T,t,r,a,d){let u=ri.createElement(T);return t&&wi(u,t),d&&or(u,{padding:"0",border:"none",margin:"0"}),r&&or(u,r),a&&a.appendChild(u),u},crisp:function(T,t=0,r){let a=t%2/2,d=r?-1:1;return(Math.round(T*d-a)+a)*d},css:or,defined:fo,destroyObjectProperties:function(T,t,r){Ke(T,function(a,d){a!==t&&(a!=null&&a.destroy)&&a.destroy(),(a!=null&&a.destroy||!r)&&delete T[d]})},diffObjects:function(T,t,r,a){let d={};return function u(m,v,k,P){let z=r?v:m;Ke(m,function(C,B){if(!P&&a&&a.indexOf(B)>-1&&v[B]){C=ro(C),k[B]=[];for(let N=0;N<Math.max(C.length,v[B].length);N++)v[B][N]&&(C[N]===void 0?k[B][N]=v[B][N]:(k[B][N]={},u(C[N],v[B][N],k[B][N],P+1)))}else Xi(C,!0)&&!C.nodeType?(k[B]=ms(C)?[]:{},u(C,v[B]||{},k[B],P+1),Object.keys(k[B]).length===0&&(B!=="colorAxis"||P!==0)&&delete k[B]):(m[B]!==v[B]||B in m&&!(B in v))&&B!=="__proto__"&&B!=="constructor"&&(k[B]=z[B])})}(T,t,d,0),d},discardElement:function(T){var t;(t=T==null?void 0:T.parentElement)==null||t.removeChild(T)},erase:function(T,t){let r=T.length;for(;r--;)if(T[r]===t){T.splice(r,1);break}},error:rr,extend:wi,extendClass:function(T,t){let r=function(){};return r.prototype=new T,wi(r.prototype,t),r},find:go,fireEvent:Po,getAlignFactor:(T="")=>({center:.5,right:1,middle:.5,bottom:1})[T]||0,getClosestDistance:function(T,t){let r,a,d,u=!t;return T.forEach(m=>{if(m.length>1)for(d=m.length-1;d>0;d--)(a=m[d]-m[d-1])<0&&!u?(t==null||t(),t=void 0):a&&(r===void 0||a<r)&&(r=a)}),r},getMagnitude:Qo,getNestedProperty:function(T,t){let r=T.split(".");for(;r.length&&fo(t);){let a=r.shift();if(a===void 0||a==="__proto__")return;if(a==="this"){let u;return Xi(t)&&(u=t["@this"]),u??t}let d=t[a.replace(/[\\'"]/g,"")];if(!fo(d)||typeof d=="function"||typeof d.nodeType=="number"||d===ks)return;t=d}return t},getStyle:function T(t,r,a){var m;let d;if(r==="width"){let v=Math.min(t.offsetWidth,t.scrollWidth),k=(m=t.getBoundingClientRect)==null?void 0:m.call(t).width;return k<v&&k>=v-1&&(v=Math.floor(k)),Math.max(0,v-(T(t,"padding-left",!0)||0)-(T(t,"padding-right",!0)||0))}if(r==="height")return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(T(t,"padding-top",!0)||0)-(T(t,"padding-bottom",!0)||0));let u=ks.getComputedStyle(t,void 0);return u&&(d=u.getPropertyValue(r),Go(a,r!=="opacity")&&(d=Ts(d))),d},insertItem:function(T,t){let r,a=T.options.index,d=t.length;for(r=T.options.isInternal?d:0;r<d+1;r++)if(!t[r]||zr(a)&&a<Go(t[r].options.index,t[r]._i)||t[r].options.isInternal){t.splice(r,0,T);break}return r},isArray:ms,isClass:uo,isDOMElement:po,isFunction:function(T){return typeof T=="function"},isNumber:zr,isObject:Xi,isString:_s,merge:function(T,...t){let r,a=[T,...t],d={},u=function(v,k){return typeof v!="object"&&(v={}),Ke(k,function(P,z){z!=="__proto__"&&z!=="constructor"&&(!Xi(P,!0)||uo(P)||po(P)?v[z]=k[z]:v[z]=u(v[z]||{},P))}),v};T===!0&&(d=a[1],a=Array.prototype.slice.call(a,2));let m=a.length;for(r=0;r<m;r++)d=u(d,a[r]);return d},normalizeTickInterval:function(T,t,r,a,d){let u,m=T;r=Go(r,Qo(T));let v=T/r;for(!t&&(t=d?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],a===!1&&(r===1?t=t.filter(function(k){return k%1==0}):r<=.1&&(t=[1/r]))),u=0;u<t.length&&(m=t[u],(!d||!(m*r>=T))&&(d||!(v<=(t[u]+(t[u+1]||t[u]))/2)));u++);return Fn(m*r,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Ke,offset:function(T){let t=ri.documentElement,r=T.parentElement||T.parentNode?T.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:r.top+(ks.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(ks.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:r.width,height:r.height}},pad:function(T,t,r){return Array((t||2)+1-String(T).replace("-","").length).join(r||"0")+T},pick:Go,pInt:Ts,pushUnique:function(T,t){return 0>T.indexOf(t)&&!!T.push(t)},relativeLength:function(T,t,r){return/%$/.test(T)?t*parseFloat(T)/100+(r||0):parseFloat(T)},removeEvent:oo,replaceNested:function(T,...t){let r,a;do for(a of(r=T,t))T=T.replace(a[0],a[1]);while(T!==r);return T},splat:ro,stableSort:function(T,t){let r,a,d=T.length;for(a=0;a<d;a++)T[a].safeI=a;for(T.sort(function(u,m){return(r=t(u,m))===0?u.safeI-m.safeI:r}),a=0;a<d;a++)delete T[a].safeI},syncTimeout:function(T,t,r){return t>0?setTimeout(T,t,r):(T.call(0,r),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(T){return _s(T)?T.substring(0,1).toUpperCase()+T.substring(1):String(T)},uniqueKey:mo,useSerialIds:function(T){return at=Go(T,at)},wrap:function(T,t,r){let a=T[t];T[t]=function(){let d=arguments,u=this;return r.apply(this,[function(){return a.apply(u,arguments.length?arguments:d)}].concat([].slice.call(arguments)))}}},{pageLang:fr,win:Co}=Zt,{defined:un,error:tn,extend:Na,isNumber:ol,isObject:Ji,isString:En,merge:_o,objectEach:gr,pad:He,splat:Ut,timeUnits:be,ucfirst:Ee}=ti,_e=Zt.isSafari&&Co.Intl&&!Co.Intl.DateTimeFormat.prototype.formatRange,Me=T=>T.main===void 0,Le=class{constructor(T,t){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Co.Date,this.update(T),this.lang=t}update(T={}){this.dTLCache={},this.options=T=_o(!0,this.options,T);let{timezoneOffset:t,useUTC:r,locale:a}=T;this.Date=T.Date||Co.Date||Date;let d=T.timezone;un(r)&&(d=r?"UTC":void 0),t&&t%60==0&&(d="Etc/GMT"+(t>0?"+":"")+t/60),this.variableTimezone=d!=="UTC"&&(d==null?void 0:d.indexOf("Etc/GMT"))!==0,this.timezone=d,this.lang&&a&&(this.lang.locale=a),["months","shortMonths","weekdays","shortWeekdays"].forEach(u=>{let m=/months/i.test(u),v=/short/.test(u),k={timeZone:"UTC"};k[m?"month":"weekday"]=v?"short":"long",this[u]=(m?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(P=>this.dateFormat(k,(m?31:1)*24*36e5*P))})}toParts(T){let[t,r,a,d,u,m,v]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},T,"es").split(/(?:, | |\/|:)/g);return[d,a-1,r,u,m,v,Math.floor(Number(T)||0)%1e3,"DLMXJVS".indexOf(t)].map(Number)}dateTimeFormat(T,t,r=this.options.locale||fr){let a=JSON.stringify(T)+r;En(T)&&(T=this.str2dtf(T));let d=this.dTLCache[a];if(!d){T.timeZone??(T.timeZone=this.timezone);try{d=new Intl.DateTimeFormat(r,T)}catch(u){/Invalid time zone/i.test(u.message)?(tn(34),T.timeZone="UTC",d=new Intl.DateTimeFormat(r,T)):tn(u.message,!1)}}return this.dTLCache[a]=d,(d==null?void 0:d.format(t))||""}str2dtf(T,t={}){let r={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(r).forEach(a=>{T.indexOf(a)!==-1&&Na(t,r[a])}),t}makeTime(T,t,r=1,a=0,d,u,m){let v=this.Date.UTC(T,t,r,a,d||0,u||0,m||0);if(this.timezone!=="UTC"){let k=this.getTimezoneOffset(v);if(v+=k,[2,3,8,9,10,11].indexOf(t)!==-1&&(a<5||a>20)){let P=this.getTimezoneOffset(v);k!==P?v+=P-k:k-36e5!==this.getTimezoneOffset(v-36e5)||_e||(v-=36e5)}}return v}parse(T){if(!En(T))return T??void 0;let t=(T=T.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(T),r=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(T);t||r||(T+="Z");let a=Date.parse(T);if(ol(a))return a+(!t||r?this.getTimezoneOffset(a):0)}getTimezoneOffset(T){if(this.timezone!=="UTC"){let[t,r,a,d,u=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},T,"en").split(/(GMT|:)/).map(Number),m=-(60*(a+u/60)*6e4);if(ol(m))return m}return 0}dateFormat(T,t,r){let a=this.lang;if(!un(t)||isNaN(t))return(a==null?void 0:a.invalidDate)||"";if(En(T=T??"%Y-%m-%d %H:%M:%S")){let d,u=/%\[([a-zA-Z]+)\]/g;for(;d=u.exec(T);)T=T.replace(d[0],this.dateTimeFormat(d[1],t,a==null?void 0:a.locale))}if(En(T)&&T.indexOf("%")!==-1){let d=this,[u,m,v,k,P,z,C,B]=this.toParts(t),N=(a==null?void 0:a.weekdays)||this.weekdays,X=(a==null?void 0:a.shortWeekdays)||this.shortWeekdays,$=(a==null?void 0:a.months)||this.months,K=(a==null?void 0:a.shortMonths)||this.shortMonths;gr(Na({a:X?X[B]:N[B].substr(0,3),A:N[B],d:He(v),e:He(v,2," "),w:B,v:(a==null?void 0:a.weekFrom)??"",b:K[m],B:$[m],m:He(m+1),o:m+1,y:u.toString().substr(2,2),Y:u,H:He(k),k,I:He(k%12||12),l:k%12||12,M:He(P),p:k<12?"AM":"PM",P:k<12?"am":"pm",S:He(z),L:He(C,3)},Zt.dateFormats),function(J,lt){if(En(T))for(;T.indexOf("%"+lt)!==-1;)T=T.replace("%"+lt,typeof J=="function"?J.call(d,t):J)})}else if(Ji(T)){let d=(this.getTimezoneOffset(t)||0)/36e5,u=this.timezone||"Etc/GMT"+(d>=0?"+":"")+d,{prefix:m="",suffix:v=""}=T;T=m+this.dateTimeFormat(Na({timeZone:u},T),t)+v}return r?Ee(T):T}resolveDTLFormat(T){return Ji(T,!0)?Ji(T,!0)&&Me(T)?{main:T}:T:{main:(T=Ut(T))[0],from:T[1],to:T[2]}}getDateFormat(T,t,r,a){let d=this.dateFormat("%m-%d %H:%M:%S.%L",t),u="01-01 00:00:00.000",m={millisecond:15,second:12,minute:9,hour:6,day:3},v="millisecond",k=v;for(v in be){if(T&&T===be.week&&+this.dateFormat("%w",t)===r&&d.substr(6)===u.substr(6)){v="week";break}if(T&&be[v]>T){v=k;break}if(m[v]&&d.substr(m[v])!==u.substr(m[v]))break;v!=="week"&&(k=v)}return this.resolveDTLFormat(a[v]).main}},{defined:gi,extend:Li,timeUnits:$e}=ti,ji=class extends Le{getTimeTicks(T,t,r,a){let d=this,u=[],m={},{count:v=1,unitRange:k}=T,[P,z,C,B,N,X]=d.toParts(t),$=(t||0)%1e3,K;if(a??(a=1),gi(t)){if($=k>=$e.second?0:v*Math.floor($/v),k>=$e.second&&(X=k>=$e.minute?0:v*Math.floor(X/v)),k>=$e.minute&&(N=k>=$e.hour?0:v*Math.floor(N/v)),k>=$e.hour&&(B=k>=$e.day?0:v*Math.floor(B/v)),k>=$e.day&&(C=k>=$e.month?1:Math.max(1,v*Math.floor(C/v))),k>=$e.month&&(z=k>=$e.year?0:v*Math.floor(z/v)),k>=$e.year&&(P-=P%v),k===$e.week){v&&(t=d.makeTime(P,z,C,B,N,X,$));let mt=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},t,"es"),_t="DLMXJVS".indexOf(mt);C+=-_t+a+(_t<a?-7:0)}t=d.makeTime(P,z,C,B,N,X,$),d.variableTimezone&&gi(r)&&(K=r-t>4*$e.month||d.getTimezoneOffset(t)!==d.getTimezoneOffset(r));let J=t,lt=1;for(;J<r;)u.push(J),k===$e.year?J=d.makeTime(P+lt*v,0):k===$e.month?J=d.makeTime(P,z+lt*v):K&&(k===$e.day||k===$e.week)?J=d.makeTime(P,z,C+lt*v*(k===$e.day?1:7)):K&&k===$e.hour&&v>1?J=d.makeTime(P,z,C,B+lt*v):J+=k*v,lt++;u.push(J),k<=$e.hour&&u.length<1e4&&u.forEach(mt=>{mt%18e5==0&&d.dateFormat("%H%M%S%L",mt)==="000000000"&&(m[mt]="day")})}return u.info=Li(T,{higherRanks:m,totalRange:k*v}),u}},{isTouchDevice:os}=Zt,{fireEvent:Ni,merge:Js}=ti,ns={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:T=>Math.sqrt(1-Math.pow(T-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:os?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Ii=new ji(ns.time,ns.lang),Di={defaultOptions:ns,defaultTime:Ii,getOptions:function(){return ns},setOptions:function(T){var t;return Ni(Zt,"setOptions",{options:T}),Js(!0,ns,T),T.time&&Ii.update(ns.time),T.lang&&"locale"in T.lang&&Ii.update({locale:T.lang.locale}),(t=T.lang)!=null&&t.chartTitle&&(ns.title={...ns.title,text:T.lang.chartTitle}),ns}},{win:Ui}=Zt,{isNumber:Ns,isString:ar,merge:Ls,pInt:De,defined:Ar}=ti,fn=(T,t,r)=>`color-mix(in srgb,${T},${t} ${100*r}%)`,Hn=T=>ar(T)&&!!T&&T!=="none";class Ys{static parse(t){return t?new Ys(t):Ys.None}constructor(t){let r,a,d,u;this.rgba=[NaN,NaN,NaN,NaN],this.input=t;let m=Zt.Color;if(m&&m!==Ys)return new m(t);if(typeof t=="object"&&t.stops!==void 0)this.stops=t.stops.map(v=>new Ys(v[1]));else if(typeof t=="string")for(this.input=t=Ys.names[t.toLowerCase()]||t,d=Ys.parsers.length;d--&&!a;)(r=(u=Ys.parsers[d]).regex.exec(t))&&(a=u.parse(r));a&&(this.rgba=a)}get(t){let r=this.input,a=this.rgba;if(this.output)return this.output;if(typeof r=="object"&&this.stops!==void 0){let d=Ls(r);return d.stops=[].slice.call(d.stops),this.stops.forEach((u,m)=>{d.stops[m]=[d.stops[m][0],u.get(t)]}),d}return a&&Ns(a[0])?t!=="rgb"&&(t||a[3]!==1)?t==="a"?`${a[3]}`:"rgba("+a.join(",")+")":"rgb("+a[0]+","+a[1]+","+a[2]+")":r}brighten(t){let r=this.rgba;if(this.stops)this.stops.forEach(function(a){a.brighten(t)});else if(Ns(t)&&t!==0)if(Ns(r[0]))for(let a=0;a<3;a++)r[a]+=De(255*t),r[a]<0&&(r[a]=0),r[a]>255&&(r[a]=255);else Ys.useColorMix&&Hn(this.input)&&(this.output=fn(this.input,t>0?"white":"black",Math.abs(t)));return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,r){let a=this.rgba,d=t.rgba;if(!Ns(a[0])||!Ns(d[0]))return Ys.useColorMix&&Hn(this.input)&&Hn(t.input)&&r<.99?fn(this.input,t.input,r):t.input||"none";let u=d[3]!==1||a[3]!==1,m=(k,P)=>k+(a[P]-k)*(1-r),v=d.slice(0,3).map(m).map(Math.round);return u&&v.push(m(d[3],3)),(u?"rgba(":"rgb(")+v.join(",")+")"}}Ys.names={white:"#ffffff",black:"#000000"},Ys.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(T){return[De(T[1]),De(T[2]),De(T[3]),parseFloat(T[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(T){return[De(T[1]),De(T[2]),De(T[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(T){return[De(T[1]+T[1],16),De(T[2]+T[2],16),De(T[3]+T[3],16),Ar(T[4])?De(T[4]+T[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(T){return[De(T[1],16),De(T[2],16),De(T[3],16),Ar(T[4])?De(T[4],16)/255:1]}}],Ys.useColorMix=(Rn=Ui.CSS)==null?void 0:Rn.supports("color","color-mix(in srgb,red,blue 9%)"),Ys.None=new Ys("");let{parse:Fr}=Ys,{win:mh}=Zt,{isNumber:Xo,objectEach:Hl}=ti;class xo{constructor(t,r,a){this.pos=NaN,this.options=r,this.elem=t,this.prop=a}dSetter(){let t=this.paths,r=t==null?void 0:t[0],a=t==null?void 0:t[1],d=this.now||0,u=[];if(d!==1&&r&&a)if(r.length===a.length&&d<1)for(let m=0;m<a.length;m++){let v=r[m],k=a[m],P=[];for(let z=0;z<k.length;z++){let C=v[z],B=k[z];Xo(C)&&Xo(B)&&(k[0]!=="A"||z!==4&&z!==5)?P[z]=C+d*(B-C):P[z]=B}u.push(P)}else u=a;else u=this.toD||[];this.elem.attr("d",u,void 0,!0)}update(){let t=this.elem,r=this.prop,a=this.now,d=this.options.step;this[r+"Setter"]?this[r+"Setter"]():t.attr?t.element&&t.attr(r,a,null,!0):t.style[r]=a+this.unit,d&&d.call(t,a,this)}run(t,r,a){let d=this,u=d.options,m=function(P){return!m.stopped&&d.step(P)},v=mh.requestAnimationFrame||function(P){setTimeout(P,13)},k=function(){for(let P=0;P<xo.timers.length;P++)xo.timers[P]()||xo.timers.splice(P--,1);xo.timers.length&&v(k)};t!==r||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=r,this.unit=a,this.now=this.start,this.pos=0,m.elem=this.elem,m.prop=this.prop,m()&&xo.timers.push(m)===1&&v(k)):(delete u.curAnim[this.prop],u.complete&&Object.keys(u.curAnim).length===0&&u.complete.call(this.elem))}step(t){let r,a,d=+new Date,u=this.options,m=this.elem,v=u.complete,k=u.duration,P=u.curAnim;return m.attr&&!m.element?r=!1:t||d>=k+this.startTime?(this.now=this.end,this.pos=1,this.update(),P[this.prop]=!0,a=!0,Hl(P,function(z){z!==!0&&(a=!1)}),a&&v&&v.call(m),r=!1):(this.pos=u.easing((d-this.startTime)/k),this.now=this.start+(this.end-this.start)*this.pos,this.update(),r=!0),r}initPath(t,r,a){let d=t.startX,u=t.endX,m=a.slice(),v=t.isArea,k=v?2:1,P=r&&a.length>r.length&&a.hasStackedCliffs,z,C,B,N,X=r==null?void 0:r.slice();if(!X||P)return[m,m];function $(J,lt){for(;J.length<C;){let mt=J[0],_t=lt[C-J.length];if(_t&&mt[0]==="M"&&(_t[0]==="C"?J[0]=["C",mt[1],mt[2],mt[1],mt[2],mt[1],mt[2]]:J[0]=["L",mt[1],mt[2]]),J.unshift(mt),v){let Lt=J.pop();J.push(J[J.length-1],Lt)}}}function K(J){for(;J.length<C;){let lt=J[Math.floor(J.length/k)-1].slice();if(lt[0]==="C"&&(lt[1]=lt[5],lt[2]=lt[6]),v){let mt=J[Math.floor(J.length/k)].slice();J.splice(J.length/2,0,lt,mt)}else J.push(lt)}}if(d&&u&&u.length){for(B=0;B<d.length;B++)if(d[B]===u[0]){z=B;break}else if(d[0]===u[u.length-d.length+B]){z=B,N=!0;break}else if(d[d.length-1]===u[u.length-d.length+B]){z=d.length-B;break}z===void 0&&(X=[])}return X.length&&Xo(z)&&(C=m.length+z*k,N?($(X,m),K(m)):($(m,X),K(X))),[X,m]}fillSetter(){xo.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Fr(this.start).tweenTo(Fr(this.end),this.pos),void 0,!0)}}xo.timers=[];let{defined:Hr,getStyle:xh,isArray:Xh,isNumber:Wa,isObject:bl,merge:nl,objectEach:Gr,pick:wl}=ti;function Gn(T){return bl(T)?nl({duration:500,defer:0},T):{duration:500*!!T,defer:0}}function al(T,t){let r=xo.timers.length;for(;r--;)xo.timers[r].elem!==T||t&&t!==xo.timers[r].prop||(xo.timers[r].stopped=!0)}let Jr={animate:function(T,t,r){let a,d="",u,m,v;bl(r)||(v=arguments,r={duration:v[2],easing:v[3],complete:v[4]}),Wa(r.duration)||(r.duration=400),r.easing=typeof r.easing=="function"?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=nl(t),Gr(t,function(k,P){al(T,P),m=new xo(T,r,P),u=void 0,P==="d"&&Xh(t.d)?(m.paths=m.initPath(T,T.pathArray,t.d),m.toD=t.d,a=0,u=1):T.attr?a=T.attr(P):(a=parseFloat(xh(T,P))||0,P!=="opacity"&&(d="px")),u||(u=k),typeof u=="string"&&u.match("px")&&(u=u.replace(/px/g,"")),m.run(a,u,d)})},animObject:Gn,getDeferredAnimation:function(T,t,r){let a=Gn(t),d=r?[r]:T.series,u=0,m=0;return d.forEach(v=>{let k=Gn(v.options.animation);u=bl(t)&&Hr(t.defer)?a.defer:Math.max(u,k.duration+k.defer),m=Math.min(a.duration,k.duration)}),T.renderer.forExport&&(u=0),{defer:Math.max(0,u-m),duration:Math.min(u,m)}},setAnimation:function(T,t){t.renderer.globalAnimation=wl(T,t.options.chart.animation,!0)},stop:al},{SVG_NS:Xn,win:gn}=Zt,{attr:kl,createElement:Qs,css:Fa,error:hs,isFunction:js,isString:Yn,objectEach:Ha,splat:Es}=ti,{trustedTypes:mn}=gn,Qi=mn&&js(mn.createPolicy)&&mn.createPolicy("highcharts",{createHTML:T=>T}),lr=Qi?Qi.createHTML(""):"";class tr{static filterUserAttributes(t){return Ha(t,(r,a)=>{let d=!0;tr.allowedAttributes.indexOf(a)===-1&&(d=!1),["background","dynsrc","href","lowsrc","src"].indexOf(a)!==-1&&(d=Yn(r)&&tr.allowedReferences.some(u=>r.indexOf(u)===0)),d||(hs(33,!1,void 0,{"Invalid attribute in config":`${a}`}),delete t[a]),Yn(r)&&t[a]&&(t[a]=r.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((r,a)=>{let d=a.split(":").map(m=>m.trim()),u=d.shift();return u&&d.length&&(r[u.replace(/-([a-z])/g,m=>m[1].toUpperCase())]=d.join(":")),r},{})}static setElementHTML(t,r){t.innerHTML=tr.emptyHTML,r&&new tr(r).addToDOM(t)}constructor(t){this.nodes=typeof t=="string"?this.parseMarkup(t):t}addToDOM(t){return function r(a,d){let u;return Es(a).forEach(function(m){let v,k=m.tagName,P=m.textContent?Zt.doc.createTextNode(m.textContent):void 0,z=tr.bypassHTMLFiltering;if(k)if(k==="#text")v=P;else if(tr.allowedTags.indexOf(k)!==-1||z){let C=k==="svg"?Xn:d.namespaceURI||Xn,B=Zt.doc.createElementNS(C,k),N=m.attributes||{};Ha(m,function(X,$){$!=="tagName"&&$!=="attributes"&&$!=="children"&&$!=="style"&&$!=="textContent"&&(N[$]=X)}),kl(B,z?N:tr.filterUserAttributes(N)),m.style&&Fa(B,m.style),P&&B.appendChild(P),r(m.children||[],B),v=B}else hs(33,!1,void 0,{"Invalid tagName in config":k});v&&d.appendChild(v),u=v}),u}(this.nodes,t)}parseMarkup(t){let r,a=[];t=t.trim().replace(/ style=(["'])/g," data-style=$1");try{r=new DOMParser().parseFromString(Qi?Qi.createHTML(t):t,"text/html")}catch{}if(!r){let u=Qs("div");u.innerHTML=t,r={body:u}}let d=(u,m)=>{let v=u.nodeName.toLowerCase(),k={tagName:v};v==="#text"&&(k.textContent=u.textContent||"");let P=u.attributes;if(P){let z={};[].forEach.call(P,C=>{C.name==="data-style"?k.style=tr.parseStyle(C.value):z[C.name]=C.value}),k.attributes=z}if(u.childNodes.length){let z=[];[].forEach.call(u.childNodes,C=>{d(C,z)}),z.length&&(k.children=z)}m.push(k)};return[].forEach.call(r.body.childNodes,u=>d(u,a)),a}}tr.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],tr.allowedReferences=["https://","http://","mailto:","/","../","./","#"],tr.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],tr.emptyHTML=lr,tr.bypassHTMLFiltering=!1;let{defaultOptions:Ml,defaultTime:Pr}=Di,{pageLang:yh}=Zt,{extend:ll,getNestedProperty:en,isArray:_r,isNumber:br,isObject:Os,isString:ua,pick:Yo,ucfirst:jo}=ti,jn={add:(T,t)=>T+t,divide:(T,t)=>t!==0?T/t:"",eq:(T,t)=>T==t,each:function(T){let t=arguments[arguments.length-1];return!!_r(T)&&T.map((r,a)=>hl(t.body,ll(Os(r)?r:{"@this":r},{"@index":a,"@first":a===0,"@last":a===T.length-1}))).join("")},ge:(T,t)=>T>=t,gt:(T,t)=>T>t,if:T=>!!T,le:(T,t)=>T<=t,lt:(T,t)=>T<t,multiply:(T,t)=>T*t,ne:(T,t)=>T!=t,subtract:(T,t)=>T-t,ucfirst:jo,unless:T=>!T},hr={},Un=T=>/^["'].+["']$/.test(T);function hl(T="",t,r){var K;let a=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,d=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,u=[],m=/f$/,v=/\.(\d)/,k=((K=r==null?void 0:r.options)==null?void 0:K.lang)||Ml.lang,P=(r==null?void 0:r.time)||Pr,z=(r==null?void 0:r.numberFormatter)||Ga.bind(r),C=(J="")=>{let lt;return J==="true"||J!=="false"&&((lt=Number(J)).toString()===J?lt:Un(J)?J.slice(1,-1):en(J,t))},B,N,X=0,$;for(;(B=a.exec(T))!==null;){let J=B,lt=d.exec(B[1]);lt&&(B=lt,$=!0),N!=null&&N.isBlock||(N={ctx:t,expression:B[1],find:B[0],isBlock:B[1].charAt(0)==="#",start:B.index,startInner:B.index+B[0].length,length:B[0].length});let mt=(N.isBlock?J:B)[1].split(" ")[0].replace("#","");jn[mt]&&(N.isBlock&&mt===N.fn&&X++,N.fn||(N.fn=mt));let _t=B[1]==="else";if(N.isBlock&&N.fn&&(B[1]===`/${N.fn}`||_t))if(X)!_t&&X--;else{let Lt=N.startInner,Ot=T.substr(Lt,B.index-Lt);N.body===void 0?(N.body=Ot,N.startInner=B.index+B[0].length):N.elseBody=Ot,N.find+=Ot+B[0],_t||(u.push(N),N=void 0)}else N.isBlock||u.push(N);if(lt&&!(N!=null&&N.isBlock))break}return u.forEach(J=>{let lt,mt,{body:_t,elseBody:Lt,expression:Ot,fn:Nt}=J;if(Nt){let zt=[J],Xt=[],se=Ot.length,Qt=0,ne;for(mt=0;mt<=se;mt++){let Ae=Ot.charAt(mt);ne||Ae!=='"'&&Ae!=="'"?ne===Ae&&(ne=""):ne=Ae,ne||Ae!==" "&&mt!==se||(Xt.push(Ot.substr(Qt,mt-Qt)),Qt=mt+1)}for(mt=jn[Nt].length;mt--;)zt.unshift(C(Xt[mt+1]));lt=jn[Nt].apply(t,zt),J.isBlock&&typeof lt=="boolean"&&(lt=hl(lt?_t:Lt,t,r))}else{let zt=Un(Ot)?[Ot]:Ot.split(":"),Xt=(lt=C(zt.shift()||""))%1!=0;if(typeof lt=="number"&&(zt.length||Xt)){let se=zt.join(":");if(m.test(se)||Xt){let Qt=parseInt((se.match(v)||["","-1"])[1],10);lt!==null&&(lt=z(lt,Qt,k.decimalPoint,se.indexOf(",")>-1?k.thousandsSep:""))}else lt=P.dateFormat(se,lt)}d.lastIndex=0,d.test(J.find)&&ua(lt)&&(lt=`"${lt}"`)}T=T.replace(J.find,Yo(lt,""))}),$?hl(T,t,r):T}function Ga(T,t,r,a){var $;t*=1;let d,u,[m,v]=(T=+T||0).toString().split("e").map(Number),k=(($=this==null?void 0:this.options)==null?void 0:$.lang)||Ml.lang,P=(T.toString().split(".")[1]||"").split("e")[0].length,z=t,C={};r??(r=k.decimalPoint),a??(a=k.thousandsSep),t===-1?t=Math.min(P,20):br(t)?t&&v<0&&((u=t+v)>=0?(m=+m.toExponential(u).split("e")[0],t=u):(m=Math.floor(m),T=t<20?+(m*Math.pow(10,v)).toFixed(t):0,v=0)):t=2,v&&(t??(t=2),T=m),br(t)&&t>=0&&(C.minimumFractionDigits=t,C.maximumFractionDigits=t),a===""&&(C.useGrouping=!1);let B=a||r,N=B?"en":(this==null?void 0:this.locale)||k.locale||yh,X=JSON.stringify(C)+N;return d=(hr[X]??(hr[X]=new Intl.NumberFormat(N,C))).format(T),B&&(d=d.replace(/([,\.])/g,"_$1").replace(/_\,/g,a??",").replace("_.",r??".")),(t||+d!=0)&&(!(v<0)||z)||(d="0"),v&&+d!=0&&(d+="e"+(v<0?"":"+")+v),d}let Lr={dateFormat:function(T,t,r){return Pr.dateFormat(T,t,r)},format:hl,helpers:jn,numberFormat:Ga};(function(T){let t;T.rendererTypes={},T.getRendererType=function(r=t){return T.rendererTypes[r]||T.rendererTypes[t]},T.registerRendererType=function(r,a,d){T.rendererTypes[r]=a,(!t||d)&&(t=r,Zt.Renderer=a)}})(ae||(ae={}));let Ws=ae,{clamp:xn,pick:no,pushUnique:ts,stableSort:yo}=ti;(ue||(ue={})).distribute=function T(t,r,a){let d=t,u=d.reducedLen||r,m=(mt,_t)=>mt.target-_t.target,v=[],k=t.length,P=[],z=v.push,C,B,N,X=!0,$,K,J=0,lt;for(C=k;C--;)J+=t[C].size;if(J>u){for(yo(t,(mt,_t)=>(_t.rank||0)-(mt.rank||0)),N=(lt=t[0].rank===t[t.length-1].rank)?k/2:-1,B=lt?N:k-1;N&&J>u;)$=t[C=Math.floor(B)],ts(P,C)&&(J-=$.size),B+=N,lt&&B>=t.length&&(N/=2,B=N);P.sort((mt,_t)=>_t-mt).forEach(mt=>z.apply(v,t.splice(mt,1)))}for(yo(t,m),t=t.map(mt=>({size:mt.size,targets:[mt.target],align:no(mt.align,.5)}));X;){for(C=t.length;C--;)$=t[C],K=(Math.min.apply(0,$.targets)+Math.max.apply(0,$.targets))/2,$.pos=xn(K-$.size*$.align,0,r-$.size);for(C=t.length,X=!1;C--;)C>0&&t[C-1].pos+t[C-1].size>t[C].pos&&(t[C-1].size+=t[C].size,t[C-1].targets=t[C-1].targets.concat(t[C].targets),t[C-1].align=.5,t[C-1].pos+t[C-1].size>r&&(t[C-1].pos=r-t[C-1].size),t.splice(C,1),X=!0)}return z.apply(d,v),C=0,t.some(mt=>{let _t=0;return(mt.targets||[]).some(()=>(d[C].pos=mt.pos+_t,a!==void 0&&Math.abs(d[C].pos-d[C].target)>a?(d.slice(0,C+1).forEach(Lt=>delete Lt.pos),d.reducedLen=(d.reducedLen||r)-.1*r,d.reducedLen>.1*r&&T(d,r,a),!0):(_t+=d[C].size,C++,!1)))}),yo(d,m),d};let Ms=ue,{animate:sn,animObject:Gl,stop:rn}=Jr,{deg2rad:Sl,doc:Fs,svg:vh,SVG_NS:ao,win:mr,isFirefox:on}=Zt,{addEvent:Bt,attr:we,createElement:Ne,crisp:Mi,css:wr,defined:er,erase:vo,extend:Ci,fireEvent:Xa,getAlignFactor:Qr,isArray:fa,isFunction:dl,isNumber:ga,isObject:Rs,isString:lo,merge:bh,objectEach:Xl,pick:Vn,pInt:yn,pushUnique:Or,replaceNested:dr,syncTimeout:Pd,uniqueKey:Uo}=ti;class Gs{_defaultGetter(t){let r=Vn(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0);return/^-?[\d\.]+$/.test(r)&&(r=parseFloat(r)),r}_defaultSetter(t,r,a){a.setAttribute(r,t)}add(t){let r,a=this.renderer,d=this.element;return t&&(this.parentGroup=t),this.textStr!==void 0&&this.element.nodeName==="text"&&a.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(r=this.zIndexSetter()),r||(t?t.element:a.box).appendChild(d),this.onAdd&&this.onAdd(),this}addClass(t,r){let a=r?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce(function(d,u){return a.indexOf(u)===-1&&d.push(u),d},a?[a]:[]).join(" "))!==a&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,r,a,d=!0){let u=this.renderer,m=u.alignedObjects,v=!!t;t?(this.alignOptions=t,this.alignByTranslate=r,this.alignTo=a):(t=this.alignOptions||{},r=this.alignByTranslate,a=this.alignTo);let k=!a||lo(a)?a||"renderer":void 0;k&&(v&&Or(m,this),a=void 0);let P=Vn(a,u[k],u),z=(P.x||0)+(t.x||0)+((P.width||0)-(t.width||0))*Qr(t.align),C=(P.y||0)+(t.y||0)+((P.height||0)-(t.height||0))*Qr(t.verticalAlign),B={"text-align":t==null?void 0:t.align};return B[r?"translateX":"x"]=Math.round(z),B[r?"translateY":"y"]=Math.round(C),d&&(this[this.placed?"animate":"attr"](B),this.placed=!0),this.alignAttr=B,this}alignSetter(t){let r={left:"start",center:"middle",right:"end"};r[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",r[t]))}animate(t,r,a){let d=Gl(Vn(r,this.renderer.globalAnimation,!0)),u=d.defer;return Fs.hidden&&(d.duration=0),d.duration!==0?(a&&(d.complete=a),Pd(()=>{this.element&&sn(this,t,d)},u)):(this.attr(t,void 0,a||d.complete),Xl(t,function(m,v){d.step&&d.step.call(this,m,{prop:v,pos:1,elem:this})},this)),this}applyTextOutline(t){let r=this.element;t.indexOf("contrast")!==-1&&(t=t.replace(/contrast/g,this.renderer.getContrast(r.style.fill)));let a=t.indexOf(" "),d=t.substring(a+1),u=t.substring(0,a);if(u&&u!=="none"&&Zt.svg){this.fakeTS=!0,u=u.replace(/(^[\d\.]+)(.*?)$/g,function(z,C,B){return 2*Number(C)+B}),this.removeTextOutline();let m=Fs.createElementNS(ao,"tspan");we(m,{class:"highcharts-text-outline",fill:d,stroke:d,"stroke-width":u,"stroke-linejoin":"round"});let v=r.querySelector("textPath")||r;[].forEach.call(v.childNodes,z=>{let C=z.cloneNode(!0);C.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(B=>C.removeAttribute(B)),m.appendChild(C)});let k=0;[].forEach.call(v.querySelectorAll("text tspan"),z=>{k+=Number(z.getAttribute("dy"))});let P=Fs.createElementNS(ao,"tspan");P.textContent="​",we(P,{x:Number(r.getAttribute("x")),dy:-k}),m.appendChild(P),v.insertBefore(m,v.firstChild)}}attr(t,r,a,d){let{element:u}=this,m=Gs.symbolCustomAttribs,v,k,P=this,z;return typeof t=="string"&&r!==void 0&&(v=t,(t={})[v]=r),typeof t=="string"?P=(this[t+"Getter"]||this._defaultGetter).call(this,t,u):(Xl(t,function(C,B){z=!1,d||rn(this,B),this.symbolName&&m.indexOf(B)!==-1&&(k||(this.symbolAttr(t),k=!0),z=!0),this.rotation&&(B==="x"||B==="y")&&(this.doTransform=!0),z||(this[B+"Setter"]||this._defaultSetter).call(this,C,B,u)},this),this.afterSetters()),a&&a.call(this),P}clip(t){if(t&&!t.clipPath){let r=Uo()+"-",a=this.renderer.createElement("clipPath").attr({id:r}).add(this.renderer.defs);Ci(t,{clipPath:a,id:r,count:0}),t.add(a)}return this.attr("clip-path",t?`url(${this.renderer.url}#${t.id})`:"none")}crisp(t,r){r=Math.round(r||t.strokeWidth||0);let a=t.x||this.x||0,d=t.y||this.y||0,u=(t.width||this.width||0)+a,m=(t.height||this.height||0)+d,v=Mi(a,r),k=Mi(d,r);return Ci(t,{x:v,y:k,width:Mi(u,r)-v,height:Mi(m,r)-k}),er(t.strokeWidth)&&(t.strokeWidth=r),t}complexColor(t,r,a){let d=this.renderer,u,m,v,k,P,z,C,B,N,X,$=[],K;Xa(this.renderer,"complexColor",{args:arguments},function(){if(t.radialGradient?m="radialGradient":t.linearGradient&&(m="linearGradient"),m){if(v=t[m],P=d.gradients,z=t.stops,N=a.radialReference,fa(v)&&(t[m]=v={x1:v[0],y1:v[1],x2:v[2],y2:v[3],gradientUnits:"userSpaceOnUse"}),m==="radialGradient"&&N&&!er(v.gradientUnits)&&(k=v,v=bh(v,d.getRadialAttr(N,k),{gradientUnits:"userSpaceOnUse"})),Xl(v,function(J,lt){lt!=="id"&&$.push(lt,J)}),Xl(z,function(J){$.push(J)}),P[$=$.join(",")])X=P[$].attr("id");else{v.id=X=Uo();let J=P[$]=d.createElement(m).attr(v).add(d.defs);J.radAttr=k,J.stops=[],z.forEach(function(lt){lt[1].indexOf("rgba")===0?(C=(u=Ys.parse(lt[1])).get("rgb"),B=u.get("a")):(C=lt[1],B=1);let mt=d.createElement("stop").attr({offset:lt[0],"stop-color":C,"stop-opacity":B}).add(J);J.stops.push(mt)})}K="url("+d.url+"#"+X+")",a.setAttribute(r,K),a.gradient=$,t.toString=function(){return K}}})}css(t){let r=this.styles,a={},d=this.element,u,m=!r;if(r&&Xl(t,function(v,k){r&&r[k]!==v&&(a[k]=v,m=!0)}),m){r&&(t=Ci(r,a)),t.width===null||t.width==="auto"?delete this.textWidth:d.nodeName.toLowerCase()==="text"&&t.width&&(u=this.textWidth=yn(t.width)),Ci(this.styles,t),u&&!vh&&this.renderer.forExport&&delete t.width;let v=on&&t.fontSize||null;v&&(ga(v)||/^\d+$/.test(v))&&(t.fontSize+="px");let k=bh(t);d.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(P=>k&&delete k[P]),k.color&&(k.fill=k.color,delete k.color)),wr(d,k)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let r,a=this["stroke-width"];if(a==="inherit"&&(a=1),t){let d=(t=t.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(r=d.length;r--;)d[r]=""+yn(d[r])*Vn(a,NaN);t=d.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){let t=this,r=t.element||{},a=t.renderer,d=r.ownerSVGElement,u=r.nodeName==="SPAN"&&t.parentGroup||void 0,m,v;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,rn(t),t.clipPath&&d){let k=t.clipPath;[].forEach.call(d.querySelectorAll("[clip-path],[CLIP-PATH]"),function(P){P.getAttribute("clip-path").indexOf(k.element.id)>-1&&P.removeAttribute("clip-path")}),t.clipPath=k.destroy()}if(t.stops){for(v=0;v<t.stops.length;v++)t.stops[v].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(r);u!=null&&u.div&&u.div.childNodes.length===0;)m=u.parentGroup,t.safeRemoveChild(u.div),delete u.div,u=m;t.alignOptions&&vo(a.alignedObjects,t),Xl(t,(k,P)=>{var z,C,B;(((z=t[P])==null?void 0:z.parentGroup)===t||["connector","foreignObject"].indexOf(P)!==-1)&&((B=(C=t[P])==null?void 0:C.destroy)==null||B.call(C)),delete t[P]})}dSetter(t,r,a){fa(t)&&(typeof t[0]=="string"&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((d,u,m)=>u!=null&&u.join?(m?d+" ":"")+u.join(" "):(u||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[r]!==t&&(a.setAttribute(r,t),this[r]=t)}fillSetter(t,r,a){typeof t=="string"?a.setAttribute(r,t):t&&this.complexColor(t,r,a)}hrefSetter(t,r,a){a.setAttributeNS("http://www.w3.org/1999/xlink",r,t)}getBBox(t,r){let a,d,u,m,{alignValue:v,element:k,renderer:P,styles:z,textStr:C}=this,{cache:B,cacheKeys:N}=P,X=k.namespaceURI===this.SVG_NS,$=Vn(r,this.rotation,0),K=P.styledMode?k&&Gs.prototype.getStyle.call(k,"font-size"):z.fontSize;if(er(C)&&((m=C.toString()).indexOf("<")===-1&&(m=m.replace(/\d/g,"0")),m+=["",P.rootFontSize,K,$,this.textWidth,v,z.lineClamp,z.textOverflow,z.fontWeight].join(",")),m&&!t&&(a=B[m]),!a||a.polygon){if(X||P.forExport){try{u=this.fakeTS&&function(lt){let mt=k.querySelector(".highcharts-text-outline");mt&&wr(mt,{display:lt})},dl(u)&&u("none"),a=k.getBBox?Ci({},k.getBBox()):{width:k.offsetWidth,height:k.offsetHeight,x:0,y:0},dl(u)&&u("")}catch{}(!a||a.width<0)&&(a={x:0,y:0,width:0,height:0})}else a=this.htmlGetBBox();d=a.height,X&&(a.height=d={"11px,17":14,"13px,20":16}[`${K||""},${Math.round(d)}`]||d),$&&(a=this.getRotatedBox(a,$));let J={bBox:a};Xa(this,"afterGetBBox",J),a=J.bBox}if(m&&(C===""||a.height>0)){for(;N.length>250;)delete B[N.shift()];B[m]||N.push(m),B[m]=a}return a}getRotatedBox(t,r){let{x:a,y:d,width:u,height:m}=t,{alignValue:v,translateY:k,rotationOriginX:P=0,rotationOriginY:z=0}=this,C=Qr(v),B=Number(this.element.getAttribute("y")||0)-(k?0:d),N=r*Sl,X=(r-90)*Sl,$=Math.cos(N),K=Math.sin(N),J=u*$,lt=u*K,mt=Math.cos(X),_t=Math.sin(X),[[Lt,Ot],[Nt,zt]]=[P,z].map(Hi=>[Hi-Hi*$,Hi*K]),Xt=a+C*(u-J)+Lt+zt+B*mt,se=Xt+J,Qt=se-m*mt,ne=Qt-J,Ae=d+B-C*lt-Ot+Nt+B*_t,ai=Ae+lt,Xe=ai-m*_t,qe=Xe-lt,Qe=Math.min(Xt,se,Qt,ne),fi=Math.min(Ae,ai,Xe,qe),mi=Math.max(Xt,se,Qt,ne)-Qe,vi=Math.max(Ae,ai,Xe,qe)-fi;return{x:Qe,y:fi,width:mi,height:vi,polygon:[[Xt,Ae],[se,ai],[Qt,Xe],[ne,qe]]}}getStyle(t){return mr.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return(""+this.attr("class")).split(" ").indexOf(t)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(t,r){this.onEvents={},this.opacity=1,this.SVG_NS=ao,this.element=r==="span"||r==="body"?Ne(r):Fs.createElementNS(this.SVG_NS,r),this.renderer=t,this.styles={},Xa(this,"afterInit")}on(t,r){let{onEvents:a}=this;return a[t]&&a[t](),a[t]=Bt(this.element,t,r),this}opacitySetter(t,r,a){let d=Number(Number(t).toFixed(3));this.opacity=d,a.setAttribute(r,d)}reAlign(){var t;(t=this.alignOptions)!=null&&t.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(lo(t)?RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){let t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){let r=t.parentNode;r&&r.removeChild(t)}setRadialReference(t){let r=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=t,r!=null&&r.radAttr&&r.animate(this.renderer.getRadialAttr(t,r.radAttr)),this}shadow(t){var u;let{renderer:r}=this,a=bh(((u=this.parentGroup)==null?void 0:u.rotation)===90?{offsetX:-1,offsetY:-1}:{},Rs(t)?t:{}),d=r.shadowDefinition(a);return this.attr({filter:t?`url(${r.url}#${d})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,r,a){this[r]=t,a.setAttribute(r,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let t=this.getStyle("stroke-width"),r=0,a;return/px$/.test(t)?r=yn(t):t!==""&&(we(a=Fs.createElementNS(ao,"rect"),{width:t,"stroke-width":0}),this.element.parentNode.appendChild(a),r=a.getBBox().width,a.parentNode.removeChild(a)),r}symbolAttr(t){let r=this;Gs.symbolCustomAttribs.forEach(function(a){r[a]=Vn(t[a],r[a])}),r.attr({d:r.renderer.symbols[r.symbolName](r.x,r.y,r.width,r.height,r)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(t){let r=this.element,a=r.getElementsByTagName("title")[0]||Fs.createElementNS(this.SVG_NS,"title");r.insertBefore?r.insertBefore(a,r.firstChild):r.appendChild(a),a.textContent=dr(Vn(t,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let t=this.element;return t.parentNode.appendChild(t),this}translate(t,r){return this.attr({translateX:t,translateY:r})}updateTransform(t="transform"){let{element:r,foreignObject:a,matrix:d,padding:u,rotation:m=0,rotationOriginX:v,rotationOriginY:k,scaleX:P,scaleY:z,text:C,translateX:B=0,translateY:N=0}=this,X=["translate("+B+","+N+")"];er(d)&&X.push("matrix("+d.join(",")+")"),m&&(X.push("rotate("+m+" "+(v??r.getAttribute("x")??this.x??0)+" "+(k??r.getAttribute("y")??this.y??0)+")"),(C==null?void 0:C.element.tagName)!=="SPAN"||C!=null&&C.foreignObject||C.attr({rotation:m,rotationOriginX:(v||0)-u,rotationOriginY:(k||0)-u})),(er(P)||er(z))&&X.push("scale("+Vn(P,1)+" "+Vn(z,1)+")"),X.length&&!(C||this).textPath&&((a==null?void 0:a.element)||r).setAttribute(t,X.join(" "))}visibilitySetter(t,r,a){t==="inherit"?a.removeAttribute(r):this[r]!==t&&a.setAttribute(r,t),this[r]=t}xGetter(t){return this.element.nodeName==="circle"&&(t==="x"?t="cx":t==="y"&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,r){let a=this.renderer,d=this.parentGroup,u=(d||a).element||a.box,m=this.element,v=u===a.box,k,P,z,C=!1,B,N=this.added,X;if(er(t)?(m.setAttribute("data-z-index",t),t*=1,this[r]===t&&(N=!1)):er(this[r])&&m.removeAttribute("data-z-index"),this[r]=t,N){for((t=this.zIndex)&&d&&(d.handleZ=!0),X=(k=u.childNodes).length-1;X>=0&&!C;X--)B=!er(z=(P=k[X]).getAttribute("data-z-index")),P!==m&&(t<0&&B&&!v&&!X?(u.insertBefore(m,k[X]),C=!0):(yn(z)<=t||B&&(!er(t)||t>=0))&&(u.insertBefore(m,k[X+1]),C=!0));C||(u.insertBefore(m,k[3*!!v]),C=!0)}return C}}Gs.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Gs.prototype.strokeSetter=Gs.prototype.fillSetter,Gs.prototype.yGetter=Gs.prototype.xGetter,Gs.prototype.matrixSetter=Gs.prototype.rotationOriginXSetter=Gs.prototype.rotationOriginYSetter=Gs.prototype.rotationSetter=Gs.prototype.scaleXSetter=Gs.prototype.scaleYSetter=Gs.prototype.translateXSetter=Gs.prototype.translateYSetter=Gs.prototype.verticalAlignSetter=function(T,t){this[t]=T,this.doTransform=!0};let Lo=Gs,{defined:zo,extend:Tl,getAlignFactor:Yl,isNumber:Ro,merge:Yh,pick:jl,removeEvent:Al}=ti;class vn extends Lo{constructor(t,r,a,d,u,m,v,k,P,z){let C;super(t,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=r,this.x=a,this.y=d,this.anchorX=m,this.anchorY=v,this.baseline=P,this.className=z,this.addClass(z==="button"?"highcharts-no-tooltip":"highcharts-label"),z&&this.addClass("highcharts-"+z),this.text=t.text(void 0,0,0,k).attr({zIndex:1}),typeof u=="string"&&((C=/^url\((.*?)\)$/.test(u))||this.renderer.symbols[u])&&(this.symbolKey=u),this.bBox=vn.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||C,this.deferredAttr={},this.alignFactor=0}alignSetter(t){let r=Yl(t);this.textAlign=t,r!==this.alignFactor&&(this.alignFactor=r,this.bBox&&Ro(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,r){this.anchorX=t,this.boxAttr(r,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,r){this.anchorY=t,this.boxAttr(r,t-this.ySetting)}boxAttr(t,r){this.box?this.box.attr(t,r):this.deferredAttr[t]=r}css(t){if(t){let r={};t=Yh(t),vn.textProps.forEach(a=>{t[a]!==void 0&&(r[a]=t[a],delete t[a])}),this.text.css(r),"fontSize"in r||"fontWeight"in r?this.updateTextPadding():("width"in r||"textOverflow"in r)&&this.updateBoxSize()}return Lo.prototype.css.call(this,t)}destroy(){Al(this.element,"mouseenter"),Al(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Lo.prototype.destroy.call(this)}fillSetter(t,r){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(r,t)}getBBox(t,r){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:a,height:d=0,translateX:u=0,translateY:m=0,width:v=0}=this,k=jl(this.paddingLeft,a),P=r??(this.rotation||0),z={width:v,height:d,x:u+this.bBox.x-k,y:m+this.bBox.y-a+this.baselineOffset};return P&&(z=this.getRotatedBox(z,P)),z}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:jl(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&zo(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,r){Ro(t)?t!==this[r]&&(this[r]=t,this.updateTextPadding()):this[r]=void 0}rSetter(t,r){this.boxAttr(r,t)}strokeSetter(t,r){this.stroke=t,this.boxAttr(r,t)}"stroke-widthSetter"(t,r){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(r,t)}"text-alignSetter"(t){this.textAlign=this["text-align"]=t,this.updateTextPadding()}textSetter(t){t!==void 0&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let t,r=this.text,a={},d=this.padding,u=this.bBox=(!Ro(this.widthSetting)||!Ro(this.heightSetting)||this.textAlign)&&zo(r.textStr)?r.getBBox(void 0,0):vn.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||u.height||0)+2*d;let m=this.renderer.fontMetrics(r);if(this.baselineOffset=d+Math.min((this.text.firstLineMetrics||m).b,u.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-m.h)/2),this.needsBox&&!r.textPath){if(!this.box){let v=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();v.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),v.add(this)}a.x=t=this.getCrispAdjust(),a.y=(this.baseline?-this.baselineOffset:0)+t,a.width=Math.round(this.width),a.height=Math.round(this.height),this.box.attr(Tl(a,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let t=this.text,r=t.styles.textAlign||this.textAlign;if(!t.textPath){this.updateBoxSize();let a=this.baseline?0:this.baselineOffset,d=(this.paddingLeft??this.padding)+Yl(r)*(this.widthSetting??this.bBox.width);(d!==t.x||a!==t.y)&&(t.attr({align:r,x:d}),a!==void 0&&t.attr("y",a)),t.x=d,t.y=a}}widthSetter(t){this.widthSetting=Ro(t)?t:void 0,this.doUpdate=!0}getPaddedWidth(){let t=this.padding,r=jl(this.paddingLeft,t),a=jl(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+r+a}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}vn.emptyBBox={width:0,height:0,x:0,y:0},vn.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Ul,isNumber:bn,pick:Zn}=ti;function Vo(T,t,r,a,d){let u=[];if(d){let m=d.start||0,v=d.end||0,k=Zn(d.r,r),P=Zn(d.r,a||r),z=2e-4/(d.borderRadius?1:Math.max(k,1)),C=Math.abs(v-m-2*Math.PI)<z;C&&(m=Math.PI/2,v=2.5*Math.PI-z);let B=d.innerR,N=Zn(d.open,C),X=Math.cos(m),$=Math.sin(m),K=Math.cos(v),J=Math.sin(v),lt=Zn(d.longArc,v-m-Math.PI<z?0:1),mt=["A",k,P,0,lt,Zn(d.clockwise,1),T+k*K,t+P*J];mt.params={start:m,end:v,cx:T,cy:t},u.push(["M",T+k*X,t+P*$],mt),Ul(B)&&((mt=["A",B,B,0,lt,Ul(d.clockwise)?1-d.clockwise:0,T+B*X,t+B*$]).params={start:v,end:m,cx:T,cy:t},u.push(N?["M",T+B*K,t+B*J]:["L",T+B*K,t+B*J],mt)),N||u.push(["Z"])}return u}function No(T,t,r,a,d){return d!=null&&d.r?jh(T,t,r,a,d):[["M",T,t],["L",T+r,t],["L",T+r,t+a],["L",T,t+a],["Z"]]}function jh(T,t,r,a,d){let u=(d==null?void 0:d.r)||0;return[["M",T+u,t],["L",T+r-u,t],["A",u,u,0,0,1,T+r,t+u],["L",T+r,t+a-u],["A",u,u,0,0,1,T+r-u,t+a],["L",T+u,t+a],["A",u,u,0,0,1,T,t+a-u],["L",T,t+u],["A",u,u,0,0,1,T+u,t],["Z"]]}let $n={arc:Vo,callout:function(T,t,r,a,d){let u=Math.min((d==null?void 0:d.r)||0,r,a),m=u+6,v=d==null?void 0:d.anchorX,k=(d==null?void 0:d.anchorY)||0,P=jh(T,t,r,a,{r:u});if(!bn(v)||v<r&&v>0&&k<a&&k>0)return P;if(T+v>r-m)if(k>t+m&&k<t+a-m)P.splice(3,1,["L",T+r,k-6],["L",T+r+6,k],["L",T+r,k+6],["L",T+r,t+a-u]);else if(v<r){let z=k<t+m,C=z?t:t+a;P.splice(z?2:5,0,["L",v,k],["L",T+r-u,C])}else P.splice(3,1,["L",T+r,a/2],["L",v,k],["L",T+r,a/2],["L",T+r,t+a-u]);else if(T+v<m)if(k>t+m&&k<t+a-m)P.splice(7,1,["L",T,k+6],["L",T-6,k],["L",T,k-6],["L",T,t+u]);else if(v>0){let z=k<t+m,C=z?t:t+a;P.splice(z?1:6,0,["L",v,k],["L",T+u,C])}else P.splice(7,1,["L",T,a/2],["L",v,k],["L",T,a/2],["L",T,t+u]);else k>a&&v<r-m?P.splice(5,1,["L",v+6,t+a],["L",v,t+a+6],["L",v-6,t+a],["L",T+u,t+a]):k<0&&v>m&&P.splice(1,1,["L",v-6,t],["L",v,t-6],["L",v+6,t],["L",r-u,t]);return P},circle:function(T,t,r,a){return Vo(T+r/2,t+a/2,r/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(T,t,r,a){return[["M",T+r/2,t],["L",T+r,t+a/2],["L",T+r/2,t+a],["L",T,t+a/2],["Z"]]},rect:No,roundedRect:jh,square:No,triangle:function(T,t,r,a){return[["M",T+r/2,t],["L",T+r,t+a],["L",T,t+a],["Z"]]},"triangle-down":function(T,t,r,a){return[["M",T,t],["L",T+r,t],["L",T+r/2,t+a],["Z"]]}},{doc:nn,SVG_NS:Cd,win:cl}=Zt,{attr:bo,extend:ma,fireEvent:wn,isString:cc,objectEach:xa,pick:pc}=ti,wh=(T,t)=>T.substring(0,t)+"…",Rr=class{constructor(T){let t=T.styles;this.renderer=T.renderer,this.svgElement=T,this.width=T.textWidth,this.textLineHeight=t==null?void 0:t.lineHeight,this.textOutline=t==null?void 0:t.textOutline,this.ellipsis=(t==null?void 0:t.textOverflow)==="ellipsis",this.lineClamp=t==null?void 0:t.lineClamp,this.noWrap=(t==null?void 0:t.whiteSpace)==="nowrap"}buildSVG(){let T=this.svgElement,t=T.element,r=T.renderer,a=pc(T.textStr,"").toString(),d=a.indexOf("<")!==-1,u=t.childNodes,m=!T.added&&r.box,v=[a,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,T.getStyle("font-size"),T.styles.lineClamp,this.width].join(",");if(v!==T.textCache){T.textCache=v,delete T.actualWidth;for(let k=u.length;k--;)t.removeChild(u[k]);if(d||this.ellipsis||this.width||T.textPath||a.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(a))){if(a!==""){m&&m.appendChild(t);let k=new tr(a);this.modifyTree(k.nodes),k.addToDOM(t),this.modifyDOM(),this.ellipsis&&(t.textContent||"").indexOf("…")!==-1&&T.attr("title",this.unescapeEntities(T.textStr||"",["&lt;","&gt;"])),m&&m.removeChild(t)}}else t.appendChild(nn.createTextNode(this.unescapeEntities(a)));cc(this.textOutline)&&T.applyTextOutline&&T.applyTextOutline(this.textOutline)}}modifyDOM(){let T,t=this.svgElement,r=bo(t.element,"x");for(t.firstLineMetrics=void 0;(T=t.element.firstChild)&&/^[\s\u200B]*$/.test(T.textContent||" ");)t.element.removeChild(T);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(m,v)=>{m.nextSibling&&m.previousSibling&&(v===0&&m.previousSibling.nodeType===1&&(t.firstLineMetrics=t.renderer.fontMetrics(m.previousSibling)),bo(m,{dy:this.getLineHeight(m.nextSibling),x:r}))});let a=this.width||0;if(!a)return;let d=(m,v)=>{var $;let k=m.textContent||"",P=k.replace(/([^\^])-/g,"$1- ").split(" "),z=!this.noWrap&&(P.length>1||t.element.childNodes.length>1),C=this.getLineHeight(v),B=Math.max(0,a-.8*C),N=0,X=t.actualWidth;if(z){let K=[],J=[];for(;v.firstChild&&v.firstChild!==m;)J.push(v.firstChild),v.removeChild(v.firstChild);for(;P.length;)if(P.length&&!this.noWrap&&N>0&&(K.push(m.textContent||""),m.textContent=P.join(" ").replace(/- /g,"-")),this.truncate(m,void 0,P,N===0&&X||0,a,B,(lt,mt)=>P.slice(0,mt).join(" ").replace(/- /g,"-")),X=t.actualWidth,N++,this.lineClamp&&N>=this.lineClamp){P.length&&(this.truncate(m,m.textContent||"",void 0,0,a,B,wh),m.textContent=(($=m.textContent)==null?void 0:$.replace("…",""))+"…");break}J.forEach(lt=>{v.insertBefore(lt,m)}),K.forEach(lt=>{v.insertBefore(nn.createTextNode(lt),m);let mt=nn.createElementNS(Cd,"tspan");mt.textContent="​",bo(mt,{dy:C,x:r}),v.insertBefore(mt,m)})}else this.ellipsis&&k&&this.truncate(m,k,void 0,0,a,B,wh)},u=m=>{[].slice.call(m.childNodes).forEach(v=>{v.nodeType===cl.Node.TEXT_NODE?d(v,m):(v.className.baseVal.indexOf("highcharts-br")!==-1&&(t.actualWidth=0),u(v))})};u(t.element)}getLineHeight(T){let t=T.nodeType===cl.Node.TEXT_NODE?T.parentElement:T;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(T){let t=(r,a)=>{let{attributes:d={},children:u,style:m={},tagName:v}=r,k=this.renderer.styledMode;if(v==="b"||v==="strong"?k?d.class="highcharts-strong":m.fontWeight="bold":(v==="i"||v==="em")&&(k?d.class="highcharts-emphasized":m.fontStyle="italic"),m!=null&&m.color&&(m.fill=m.color),v==="br"){d.class="highcharts-br",r.textContent="​";let P=T[a+1];P!=null&&P.textContent&&(P.textContent=P.textContent.replace(/^ +/gm,""))}else v==="a"&&u&&u.some(P=>P.tagName==="#text")&&(r.children=[{children:u,tagName:"tspan"}]);v!=="#text"&&v!=="a"&&(r.tagName="tspan"),ma(r,{attributes:d,style:m}),u&&u.filter(P=>P.tagName!=="#text").forEach(t)};T.forEach(t),wn(this.svgElement,"afterModifyTree",{nodes:T})}truncate(T,t,r,a,d,u,m){let v,k,P=this.svgElement,{rotation:z}=P,C=[],B=r&&!a?1:0,N=(t||r||"").length,X=N;r||(d=u);let $=function(K,J){let lt=J||K,mt=T.parentNode;if(mt&&C[lt]===void 0&&mt.getSubStringLength)try{C[lt]=a+mt.getSubStringLength(0,r?lt+1:lt)}catch{}return C[lt]};if(P.rotation=0,a+(k=$(T.textContent.length))>d){for(;B<=N;)X=Math.ceil((B+N)/2),r&&(v=m(r,X)),k=$(X,v&&v.length-1),B===N?B=N+1:k>d?N=X-1:B=X;N===0?T.textContent="":t&&N===t.length-1||(T.textContent=v||m(t||r,X)),this.ellipsis&&k>d&&this.truncate(T,T.textContent||"",void 0,0,d,u,wh)}r&&r.splice(0,X),P.actualWidth=k,P.rotation=z}unescapeEntities(T,t){return xa(this.renderer.escapes,function(r,a){t&&t.indexOf(r)!==-1||(T=T.toString().replace(RegExp(r,"g"),a))}),T}},{defaultOptions:Ya}=Di,{charts:Vl,deg2rad:Xr,doc:qn,isFirefox:Wo,isMS:ya,isWebKit:wo,noop:Zl,SVG_NS:Zo,symbolSizes:Uh,win:Oo}=Zt,{addEvent:an,attr:va,createElement:kh,crisp:ba,css:kn,defined:ln,destroyObjectProperties:wa,extend:ka,isArray:Kn,isNumber:In,isObject:$l,isString:Jn,merge:ql,pick:Bn,pInt:Vh,replaceNested:Ma,uniqueKey:Dn}=ti;class $o{constructor(t,r,a,d,u,m,v){let k,P;this.x=0,this.y=0;let z=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),C=z.element;v||z.css(this.getStyle(d||{})),t.appendChild(C),va(t,"dir","ltr"),t.innerHTML.indexOf("xmlns")===-1&&va(C,"xmlns",this.SVG_NS),this.box=C,this.boxWrapper=z,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(qn.createTextNode("Created with Highcharts 12.3.0")),this.defs=this.createElement("defs").add(),this.allowHTML=m,this.forExport=u,this.styledMode=v,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=z.getStyle("font-size"),this.setSize(r,a,!1),Wo&&t.getBoundingClientRect&&((k=function(){kn(t,{left:0,top:0}),P=t.getBoundingClientRect(),kn(t,{left:Math.ceil(P.left)-P.left+"px",top:Math.ceil(P.top)-P.top+"px"})})(),this.unSubPixelFix=an(Oo,"resize",k))}definition(t){return new tr([t]).addToDOM(this.defs.element)}getReferenceURL(){if((Wo||wo)&&qn.getElementsByTagName("base").length){if(!ln(It)){let t=Dn(),r=new tr([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${t})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(qn.body);kn(r,{position:"fixed",top:0,left:0,zIndex:9e5});let a=qn.elementFromPoint(6,6);It=(a==null?void 0:a.id)==="hitme",qn.body.removeChild(r)}if(It)return Ma(Oo.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(t){return this.style=ka({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),wa(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(t){return new this.Element(this,t)}getRadialAttr(t,r){return{cx:t[0]-t[2]/2+(r.cx||0)*t[2],cy:t[1]-t[2]/2+(r.cy||0)*t[2],r:(r.r||0)*t[2]}}shadowDefinition(t){let r=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map(d=>`${d}-${t[d]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),a=ql({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${r}`)||this.definition({tagName:"filter",attributes:{id:r,filterUnits:a.filterUnits},children:this.getShadowFilterContent(a)}),r}getShadowFilterContent(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]}buildText(t){new Rr(t).buildSVG()}getContrast(t){if(t==="transparent")return"#000000";let r=Ys.parse(t).rgba,a=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(In(r[0])||!Ys.useColorMix){let d=r.map(m=>{let v=m/255;return v<=.04?v/12.92:Math.pow((v+.055)/1.055,2.4)}),u=.2126*d[0]+.7152*d[1]+.0722*d[2];return 1.05/(u+.05)>(u+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+t+" srgb"+a+a+a+")"}button(t,r,a,d,u={},m,v,k,P,z){let C=this.label(t,r,a,P,void 0,void 0,z,void 0,"button"),B=this.styledMode,N=arguments,X=0;u=ql(Ya.global.buttonTheme,u),B&&(delete u.fill,delete u.stroke,delete u["stroke-width"]);let $=u.states||{},K=u.style||{};delete u.states,delete u.style;let J=[tr.filterUserAttributes(u)],lt=[K];return B||["hover","select","disabled"].forEach((mt,_t)=>{J.push(ql(J[0],tr.filterUserAttributes(N[_t+5]||$[mt]||{}))),lt.push(J[_t+1].style),delete J[_t+1].style}),an(C.element,ya?"mouseover":"mouseenter",function(){X!==3&&C.setState(1)}),an(C.element,ya?"mouseout":"mouseleave",function(){X!==3&&C.setState(X)}),C.setState=(mt=0)=>{if(mt!==1&&(C.state=X=mt),C.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][mt]),!B){C.attr(J[mt]);let _t=lt[mt];$l(_t)&&C.css(_t)}},C.attr(J[0]),!B&&(C.css(ka({cursor:"default"},K)),z&&C.text.css({pointerEvents:"none"})),C.on("touchstart",mt=>mt.stopPropagation()).on("click",function(mt){X!==3&&(d==null||d.call(C,mt))})}crispLine(t,r){let[a,d]=t;return ln(a[1])&&a[1]===d[1]&&(a[1]=d[1]=ba(a[1],r)),ln(a[2])&&a[2]===d[2]&&(a[2]=d[2]=ba(a[2],r)),t}path(t){let r=this.styledMode?{}:{fill:"none"};return Kn(t)?r.d=t:$l(t)&&ka(r,t),this.createElement("path").attr(r)}circle(t,r,a){let d=$l(t)?t:t===void 0?{}:{x:t,y:r,r:a},u=this.createElement("circle");return u.xSetter=u.ySetter=function(m,v,k){k.setAttribute("c"+v,m)},u.attr(d)}arc(t,r,a,d,u,m){let v;$l(t)?(r=(v=t).y,a=v.r,d=v.innerR,u=v.start,m=v.end,t=v.x):v={innerR:d,start:u,end:m};let k=this.symbol("arc",t,r,a,a,v);return k.r=a,k}rect(t,r,a,d,u,m){let v=$l(t)?t:t===void 0?{}:{x:t,y:r,r:u,width:Math.max(a||0,0),height:Math.max(d||0,0)},k=this.createElement("rect");return this.styledMode||(m!==void 0&&(v["stroke-width"]=m,ka(v,k.crisp(v))),v.fill="none"),k.rSetter=function(P,z,C){k.r=P,va(C,{rx:P,ry:P})},k.rGetter=function(){return k.r||0},k.attr(v)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,r,a){this.width=t,this.height=r,this.boxWrapper.animate({width:t,height:r},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Bn(a,!0)?void 0:0}),this.alignElements()}g(t){let r=this.createElement("g");return t?r.attr({class:"highcharts-"+t}):r}image(t,r,a,d,u,m){let v={preserveAspectRatio:"none"};In(r)&&(v.x=r),In(a)&&(v.y=a),In(d)&&(v.width=d),In(u)&&(v.height=u);let k=this.createElement("image").attr(v),P=function(z){k.attr({href:t}),m.call(k,z)};if(m){k.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let z=new Oo.Image;an(z,"load",P),z.src=t,z.complete&&P({})}else k.attr({href:t});return k}symbol(t,r,a,d,u,m){var K,J;let v,k,P,z,C=this,B=/^url\((.*?)\)$/,N=B.test(t),X=!N&&(this.symbols[t]?t:"circle"),$=X&&this.symbols[X];if($)typeof r=="number"&&(k=$.call(this.symbols,r||0,a||0,d||0,u||0,m)),v=this.path(k),C.styledMode||v.attr("fill","none"),ka(v,{symbolName:X||void 0,x:r,y:a,width:d,height:u}),m&&ka(v,m);else if(N){P=t.match(B)[1];let lt=v=this.image(P);lt.imgwidth=Bn(m==null?void 0:m.width,(K=Uh[P])==null?void 0:K.width),lt.imgheight=Bn(m==null?void 0:m.height,(J=Uh[P])==null?void 0:J.height),z=mt=>mt.attr({width:mt.width,height:mt.height}),["width","height"].forEach(mt=>{lt[`${mt}Setter`]=function(_t,Lt){this[Lt]=_t;let{alignByTranslate:Ot,element:Nt,width:zt,height:Xt,imgwidth:se,imgheight:Qt}=this,ne=Lt==="width"?se:Qt,Ae=1;m&&m.backgroundSize==="within"&&zt&&Xt&&se&&Qt?(Ae=Math.min(zt/se,Xt/Qt),va(Nt,{width:Math.round(se*Ae),height:Math.round(Qt*Ae)})):Nt&&ne&&Nt.setAttribute(Lt,ne),!Ot&&se&&Qt&&this.translate(((zt||0)-se*Ae)/2,((Xt||0)-Qt*Ae)/2)}}),ln(r)&&lt.attr({x:r,y:a}),lt.isImg=!0,lt.symbolUrl=t,ln(lt.imgwidth)&&ln(lt.imgheight)?z(lt):(lt.attr({width:0,height:0}),kh("img",{onload:function(){let mt=Vl[C.chartIndex];this.width===0&&(kn(this,{position:"absolute",top:"-999em"}),qn.body.appendChild(this)),Uh[P]={width:this.width,height:this.height},lt.imgwidth=this.width,lt.imgheight=this.height,lt.element&&z(lt),this.parentNode&&this.parentNode.removeChild(this),C.imgCount--,C.imgCount||!mt||mt.hasLoaded||mt.onload()},src:P}),this.imgCount++)}return v}clipRect(t,r,a,d){return this.rect(t,r,a,d,0)}text(t,r,a,d){let u={};if(d&&(this.allowHTML||!this.forExport))return this.html(t,r,a);u.x=Math.round(r||0),a&&(u.y=Math.round(a)),ln(t)&&(u.text=t);let m=this.createElement("text").attr(u);return d&&(!this.forExport||this.allowHTML)||(m.xSetter=function(v,k,P){let z=P.getElementsByTagName("tspan"),C=P.getAttribute(k);for(let B=0,N;B<z.length;B++)(N=z[B]).getAttribute(k)===C&&N.setAttribute(k,v);P.setAttribute(k,v)}),m}fontMetrics(t){let r=Vh(Lo.prototype.getStyle.call(t,"font-size")||0),a=r<24?r+3:Math.round(1.2*r),d=Math.round(.8*a);return{h:a,b:d,f:r}}rotCorr(t,r,a){let d=t;return r&&a&&(d=Math.max(d*Math.cos(r*Xr),4)),{x:-t/3*Math.sin(r*Xr),y:d}}pathToSegments(t){let r=[],a=[],d={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let u=0;u<t.length;u++)Jn(a[0])&&In(t[u])&&a.length===d[a[0].toUpperCase()]&&t.splice(u,0,a[0].replace("M","L").replace("m","l")),typeof t[u]=="string"&&(a.length&&r.push(a.slice(0)),a.length=0),a.push(t[u]);return r.push(a.slice(0)),r}label(t,r,a,d,u,m,v,k,P){return new vn(this,t,r,a,d,u,m,v,k,P)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}ka($o.prototype,{Element:Lo,SVG_NS:Zo,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:$n,draw:Zl}),Ws.registerRendererType("svg",$o,!0);let{composed:uc,isFirefox:_d}=Zt,{attr:Zh,css:Mn,createElement:Qn,defined:Ld,extend:Od,getAlignFactor:fc,isNumber:Sn,pInt:ja,pushUnique:Sa}=ti;function Pl(T,t,r){var d;let a=(d=this.div)==null?void 0:d.style;Lo.prototype[`${t}Setter`].call(this,T,t,r),a&&(r.style[t]=a[t]=T)}let $h=(T,t)=>{var r;if(!T.div){let a=Zh(T.element,"class"),d=T.css,u=Qn("div",a?{className:a}:void 0,{position:"absolute",left:`${T.translateX||0}px`,top:`${T.translateY||0}px`,...T.styles,display:T.display,opacity:T.opacity,visibility:T.visibility},((r=T.parentGroup)==null?void 0:r.div)||t);T.classSetter=(m,v,k)=>{k.setAttribute("class",m),u.className=m},T.translateXSetter=T.translateYSetter=(m,v)=>{T[v]=m,u.style[v==="translateX"?"left":"top"]=`${m}px`,T.doTransform=!0},T.scaleXSetter=T.scaleYSetter=(m,v)=>{T[v]=m,T.doTransform=!0},T.opacitySetter=T.visibilitySetter=Pl,T.css=m=>(d.call(T,m),m.cursor&&(u.style.cursor=m.cursor),m.pointerEvents&&(u.style.pointerEvents=m.pointerEvents),T),T.on=function(){return Lo.prototype.on.apply({element:u,onEvents:T.onEvents},arguments),T},T.div=u}return T.div};class Ta extends Lo{static compose(t){Sa(uc,this.compose)&&(t.prototype.html=function(r,a,d){return new Ta(this,"span").attr({text:r,x:Math.round(a),y:Math.round(d)})})}constructor(t,r){super(t,r),Ta.useForeignObject?this.foreignObject=t.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...t.styledMode?{}:{fontFamily:t.style.fontFamily,fontSize:t.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(t,r,a){this.xCorr=-t*a,this.yCorr=-r}css(t){let r,{element:a}=this,d=a.tagName==="SPAN"&&t&&"width"in t,u=d&&t.width;return d&&(delete t.width,this.textWidth=ja(u)||void 0,r=!0),(t==null?void 0:t.textOverflow)==="ellipsis"&&(t.overflow="hidden",t.whiteSpace="nowrap"),t!=null&&t.lineClamp&&(t.display="-webkit-box",t.WebkitLineClamp=t.lineClamp,t.WebkitBoxOrient="vertical",t.overflow="hidden"),Sn(Number(t==null?void 0:t.fontSize))&&(t.fontSize+="px"),Od(this.styles,t),Mn(a,t),r&&this.updateTransform(),this}htmlGetBBox(){let{element:t}=this;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}updateTransform(){var lt;if(!this.added){this.alignOnAdd=!0;return}let{element:t,foreignObject:r,oldTextWidth:a,renderer:d,rotation:u,rotationOriginX:m,rotationOriginY:v,scaleX:k,scaleY:P,styles:{display:z="inline-block",whiteSpace:C},textAlign:B="left",textWidth:N,translateX:X=0,translateY:$=0,x:K=0,y:J=0}=this;if(r||Mn(t,{marginLeft:`${X}px`,marginTop:`${$}px`}),t.tagName==="SPAN"){let mt,_t=[u,B,t.innerHTML,N,this.textAlign].join(","),Lt=-(((lt=this.parentGroup)==null?void 0:lt.padding)*1)||0;if(N!==a){let Xt=this.textPxLength?this.textPxLength:(Mn(t,{width:"",whiteSpace:C||"nowrap"}),t.offsetWidth),se=N||0,Qt=t.style.textOverflow===""&&t.style.webkitLineClamp;(se>a||Xt>se||Qt)&&(/[\-\s\u00AD]/.test(t.textContent||t.innerText)||t.style.textOverflow==="ellipsis")&&(Mn(t,{width:(u||k||Xt>se||Qt)&&Sn(N)?N+"px":"auto",display:z,whiteSpace:C||"normal"}),this.oldTextWidth=N)}r&&(Mn(t,{display:"inline-block",verticalAlign:"top"}),r.attr({width:d.width,height:d.height})),_t!==this.cTT&&(mt=d.fontMetrics(t).b,Ld(u)&&!r&&(u!==(this.oldRotation||0)||B!==this.oldAlign)&&Mn(t,{transform:`rotate(${u}deg)`,transformOrigin:`${Lt}% ${Lt}px`}),this.getSpanCorrection(!Ld(u)&&!this.textWidth&&this.textPxLength||t.offsetWidth,mt,fc(B)));let{xCorr:Ot=0,yCorr:Nt=0}=this,zt={left:`${K+Ot}px`,top:`${J+Nt}px`,textAlign:B,transformOrigin:`${(m??K)-Ot-K-Lt}px ${(v??J)-Nt-J-Lt}px`};(k||P)&&(zt.transform=`scale(${k??1},${P??1})`),r?(super.updateTransform(),Sn(K)&&Sn(J)?(r.attr({x:K+Ot,y:J+Nt,width:t.offsetWidth+3,height:t.offsetHeight,"transform-origin":t.getAttribute("transform-origin")||"0 0"}),Mn(t,{display:z,textAlign:B})):_d&&r.attr({width:0,height:0})):Mn(t,zt),this.cTT=_t,this.oldRotation=u,this.oldAlign=B}}add(t){let{foreignObject:r,renderer:a}=this,d=a.box.parentNode,u=[];if(r)r.add(t),super.add(a.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(r));else{let m;if(this.parentGroup=t,t&&!(m=t.div)){let v=t;for(;v;)u.push(v),v=v.parentGroup;for(let k of u.reverse())m=$h(k,d)}(m||d).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(t){t!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,tr.setElementHTML(this.element,t??""),this.textStr=t,this.doTransform=!0)}alignSetter(t){this.alignValue=this.textAlign=t,this.doTransform=!0}xSetter(t,r){this[r]=t,this.doTransform=!0}}let Aa=Ta.prototype;Aa.visibilitySetter=Aa.opacitySetter=Pl,Aa.ySetter=Aa.rotationSetter=Aa.rotationOriginXSetter=Aa.rotationOriginYSetter=Aa.xSetter,function(T){T.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},T.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(le||(le={}));let Kl=le,{addEvent:Jl,isFunction:zn,objectEach:Ql,removeEvent:Pa}=ti;(oe||(oe={})).registerEventOptions=function(T,t){T.eventOptions=T.eventOptions||{},Ql(t.events,function(r,a){T.eventOptions[a]!==r&&(T.eventOptions[a]&&(Pa(T,a,T.eventOptions[a]),delete T.eventOptions[a]),zn(r)&&(T.eventOptions[a]=r,Jl(T,a,r,{order:0})))})};let th=oe,{deg2rad:ta}=Zt,{clamp:Tn,correctFloat:ko,defined:Ua,destroyObjectProperties:ea,extend:Va,fireEvent:ia,getAlignFactor:sa,isNumber:Ca,merge:Mh,objectEach:Ed,pick:An}=ti,Er=class{constructor(T,t,r,a,d){this.isNew=!0,this.isNewLabel=!0,this.axis=T,this.pos=t,this.type=r||"",this.parameters=d||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ia(this,"init"),r||a||this.addLabel()}addLabel(){var Nt,zt;let T=this,t=T.axis,r=t.options,a=t.chart,d=t.categories,u=t.logarithmic,m=t.names,v=T.pos,k=An((Nt=T.options)==null?void 0:Nt.labels,r.labels),P=t.tickPositions,z=v===P[0],C=v===P[P.length-1],B=(!k.step||k.step===1)&&t.tickInterval===1,N=P.info,X=T.label,$,K,J,lt=this.parameters.category||(d?An(d[v],m[v],v):v);u&&Ca(lt)&&(lt=ko(u.lin2log(lt))),t.dateTime&&(N?$=(K=a.time.resolveDTLFormat(r.dateTimeLabelFormats[!((zt=r.grid)!=null&&zt.enabled)&&N.higherRanks[v]||N.unitName])).main:Ca(lt)&&($=t.dateTime.getXDateFormat(lt,r.dateTimeLabelFormats||{}))),T.isFirst=z,T.isLast=C;let mt={axis:t,chart:a,dateTimeLabelFormat:$,isFirst:z,isLast:C,pos:v,tick:T,tickPositionInfo:N,value:lt};ia(this,"labelFormat",mt);let _t=Xt=>k.formatter?k.formatter.call(Xt,Xt):k.format?(Xt.text=t.defaultLabelFormatter.call(Xt),Lr.format(k.format,Xt,a)):t.defaultLabelFormatter.call(Xt),Lt=_t.call(mt,mt),Ot=K==null?void 0:K.list;Ot?T.shortenLabel=function(){for(J=0;J<Ot.length;J++)if(Va(mt,{dateTimeLabelFormat:Ot[J]}),X.attr({text:_t.call(mt,mt)}),X.getBBox().width<t.getSlotWidth(T)-2*(k.padding||0))return;X.attr({text:""})}:T.shortenLabel=void 0,B&&t._addedPlotLB&&T.moveLabel(Lt,k),Ua(X)||T.movedLabel?X&&X.textStr!==Lt&&!B&&(!X.textWidth||k.style.width||X.styles.width||X.css({width:null}),X.attr({text:Lt}),X.textPxLength=X.getBBox().width):(T.label=X=T.createLabel(Lt,k),T.rotation=0)}createLabel(T,t,r){let a=this.axis,{renderer:d,styledMode:u}=a.chart,m=t.style.whiteSpace,v=Ua(T)&&t.enabled?d.text(T,r==null?void 0:r.x,r==null?void 0:r.y,t.useHTML).add(a.labelGroup):void 0;return v&&(u||v.css(Mh(t.style)),v.textPxLength=v.getBBox().width,!u&&m&&v.css({whiteSpace:m})),v}destroy(){ea(this,this.axis)}getPosition(T,t,r,a){let d=this.axis,u=d.chart,m=a&&u.oldChartHeight||u.chartHeight,v={x:T?ko(d.translate(t+r,void 0,void 0,a)+d.transB):d.left+d.offset+(d.opposite?(a&&u.oldChartWidth||u.chartWidth)-d.right-d.left:0),y:T?m-d.bottom+d.offset-(d.opposite?d.height:0):ko(m-d.translate(t+r,void 0,void 0,a)-d.transB)};return v.y=Tn(v.y,-1e9,1e9),ia(this,"afterGetPosition",{pos:v}),v}getLabelPosition(T,t,r,a,d,u,m,v){let k,P,z=this.axis,C=z.transA,B=z.isLinked&&z.linkedParent?z.linkedParent.reversed:z.reversed,N=z.staggerLines,X=z.tickRotCorr||{x:0,y:0},$=a||z.reserveSpaceDefault?0:-z.labelOffset*(z.labelAlign==="center"?.5:1),K=d.distance,J={};return k=z.side===0?r.rotation?-K:-r.getBBox().height:z.side===2?X.y+K:Math.cos(r.rotation*ta)*(X.y-r.getBBox(!1,0).height/2),Ua(d.y)&&(k=z.side===0&&z.horiz?d.y+k:d.y),T=T+An(d.x,[0,1,0,-1][z.side]*K)+$+X.x-(u&&a?u*C*(B?-1:1):0),t=t+k-(u&&!a?u*C*(B?1:-1):0),N&&(P=m/(v||1)%N,z.opposite&&(P=N-P-1),t+=P*(z.labelOffset/N)),J.x=T,J.y=Math.round(t),ia(this,"afterGetLabelPosition",{pos:J,tickmarkOffset:u,index:m}),J}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(T,t,r,a,d=!1,u){return u.crispLine([["M",T,t],["L",T+(d?0:-r),t+(d?r:0)]],a)}handleOverflow(T){var K;let t=this.axis,r=t.options.labels,a=T.x,d=t.chart.chartWidth,u=t.chart.spacing,m=An(t.labelLeft,Math.min(t.pos,u[3])),v=An(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,d-u[1])),k=this.label,P=this.rotation,z=sa(t.labelAlign||k.attr("align")),C=k.getBBox().width,B=t.getSlotWidth(this),N=B,X=1,$;P||r.overflow!=="justify"?P<0&&a-z*C<m?$=Math.round(a/Math.cos(P*ta)-m):P>0&&a+z*C>v&&($=Math.round((d-a)/Math.cos(P*ta))):(a-z*C<m?N=T.x+N*(1-z)-m:a+(1-z)*C>v&&(N=v-T.x+N*z,X=-1),(N=Math.min(B,N))<B&&t.labelAlign==="center"&&(T.x+=X*(B-N-z*(B-Math.min(C,N)))),(C>N||t.autoRotation&&((K=k==null?void 0:k.styles)!=null&&K.width))&&($=N)),$&&k&&(this.shortenLabel?this.shortenLabel():k.css(Va({},{width:Math.floor($)+"px",lineClamp:+!t.isRadial})))}moveLabel(T,t){let r=this,a=r.label,d=r.axis,u=!1,m;a&&a.textStr===T?(r.movedLabel=a,u=!0,delete r.label):Ed(d.ticks,function(v){u||v.isNew||v===r||!v.label||v.label.textStr!==T||(r.movedLabel=v.label,u=!0,v.labelPos=r.movedLabel.xy,delete v.label)}),!u&&(r.labelPos||a)&&(m=r.labelPos||a.xy,r.movedLabel=r.createLabel(T,t,m),r.movedLabel&&r.movedLabel.attr({opacity:0}))}render(T,t,r){var X;let a=this.axis,d=a.horiz,u=this.pos,m=An(this.tickmarkOffset,a.tickmarkOffset),v=this.getPosition(d,u,m,t),k=v.x,P=v.y,z=a.pos,C=z+a.len,B=d?k:P,N=An(r,(X=this.label)==null?void 0:X.newOpacity,1);!a.chart.polar&&(ko(B)<z||B>C)&&(r=0),r??(r=1),this.isActive=!0,this.renderGridLine(t,r),this.renderMark(v,r),this.renderLabel(v,t,N,T),this.isNew=!1,ia(this,"afterRender")}renderGridLine(T,t){let r=this.axis,a=r.options,d={},u=this.pos,m=this.type,v=An(this.tickmarkOffset,r.tickmarkOffset),k=r.chart.renderer,P=this.gridLine,z,C=a.gridLineWidth,B=a.gridLineColor,N=a.gridLineDashStyle;this.type==="minor"&&(C=a.minorGridLineWidth,B=a.minorGridLineColor,N=a.minorGridLineDashStyle),P||(r.chart.styledMode||(d.stroke=B,d["stroke-width"]=C||0,d.dashstyle=N),m||(d.zIndex=1),T&&(t=0),this.gridLine=P=k.path().attr(d).addClass("highcharts-"+(m?m+"-":"")+"grid-line").add(r.gridGroup)),P&&(z=r.getPlotLinePath({value:u+v,lineWidth:P.strokeWidth(),force:"pass",old:T,acrossPanes:!1}))&&P[T||this.isNew?"attr":"animate"]({d:z,opacity:t})}renderMark(T,t){let r=this.axis,a=r.options,d=r.chart.renderer,u=this.type,m=r.tickSize(u?u+"Tick":"tick"),v=T.x,k=T.y,P=An(a[u!=="minor"?"tickWidth":"minorTickWidth"],!u&&r.isXAxis?1:0),z=a[u!=="minor"?"tickColor":"minorTickColor"],C=this.mark,B=!C;m&&(r.opposite&&(m[0]=-m[0]),!C&&(this.mark=C=d.path().addClass("highcharts-"+(u?u+"-":"")+"tick").add(r.axisGroup),r.chart.styledMode||C.attr({stroke:z,"stroke-width":P})),C[B?"attr":"animate"]({d:this.getMarkPath(v,k,m[0],C.strokeWidth(),r.horiz,d),opacity:t}))}renderLabel(T,t,r,a){let d=this.axis,u=d.horiz,m=d.options,v=this.label,k=m.labels,P=k.step,z=An(this.tickmarkOffset,d.tickmarkOffset),C=T.x,B=T.y,N=!0;v&&Ca(C)&&(v.xy=T=this.getLabelPosition(C,B,v,u,k,z,a,P),(!this.isFirst||this.isLast||m.showFirstLabel)&&(!this.isLast||this.isFirst||m.showLastLabel)?!u||k.step||k.rotation||t||r===0||this.handleOverflow(T):N=!1,P&&a%P&&(N=!1),N&&Ca(T.y)?(T.opacity=r,v[this.isNewLabel?"attr":"animate"](T).show(!0),this.isNewLabel=!1):(v.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let T=this.label,t=this.axis;T&&!this.isNew&&(T.animate({opacity:0},void 0,T.destroy),delete this.label),t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:ir}=Jr,{xAxis:Id,yAxis:Bd}=Kl,{defaultOptions:ra}=Di,{registerEventOptions:Cl}=th,{deg2rad:bs}=Zt,{arrayMax:o,arrayMin:x,clamp:I,correctFloat:j,defined:nt,destroyObjectProperties:bt,erase:$t,error:ye,extend:de,fireEvent:pe,getClosestDistance:ci,insertItem:Wi,isArray:ds,isNumber:bi,isString:Ai,merge:to,normalizeTickInterval:hn,objectEach:Za,pick:rs,relativeLength:Sh,removeEvent:Th,splat:eh,syncTimeout:qc}=ti,Dd=(T,t)=>hn(t,void 0,void 0,rs(T.options.allowDecimals,t<.5||T.tickAmount!==void 0),!!T.tickAmount);de(ra,{xAxis:Id,yAxis:to(Id,Bd)});class nr{constructor(t,r,a){this.init(t,r,a)}init(t,r,a=this.coll){let d=a==="xAxis",u=this.isZAxis||(t.inverted?!d:d);this.chart=t,this.horiz=u,this.isXAxis=d,this.coll=a,pe(this,"init",{userOptions:r}),this.opposite=rs(r.opposite,this.opposite),this.side=rs(r.side,this.side,u?2*!this.opposite:this.opposite?1:3),this.setOptions(r);let m=this.options,v=m.labels;this.type??(this.type=m.type||"linear"),this.uniqueNames??(this.uniqueNames=m.uniqueNames??!0),pe(this,"afterSetType"),this.userOptions=r,this.minPixelPadding=0,this.reversed=rs(m.reversed,this.reversed),this.visible=m.visible,this.zoomEnabled=m.zoomEnabled,this.hasNames=this.type==="category"||m.categories===!0,this.categories=ds(m.categories)&&m.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=nt(m.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=m.minRange||m.maxZoom,this.range=m.range,this.offset=m.offset||0,this.max=void 0,this.min=void 0;let k=rs(m.crosshair,eh(t.options.tooltip.crosshairs)[+!d]);this.crosshair=k===!0?{}:k,t.axes.indexOf(this)===-1&&(d?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),Wi(this,t[this.coll])),t.orderItems(this.coll),this.series=this.series||[],t.inverted&&!this.isZAxis&&d&&!nt(this.reversed)&&(this.reversed=!0),this.labelRotation=bi(v.rotation)?v.rotation:void 0,Cl(this,m),pe(this,"afterInit")}setOptions(t){let r=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=to(r,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},ra[this.coll],t),pe(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(){let t=this.axis,{numberFormatter:r}=this.chart,a=bi(this.value)?this.value:NaN,d=t.chart.time,u=t.categories,m=this.dateTimeLabelFormat,v=ra.lang,k=v.numericSymbols,P=v.numericSymbolMagnitude||1e3,z=t.logarithmic?Math.abs(a):t.tickInterval,C=k==null?void 0:k.length,B,N;if(u)N=`${this.value}`;else if(m)N=d.dateFormat(m,a,!0);else if(C&&k&&z>=1e3)for(;C--&&N===void 0;)z>=(B=Math.pow(P,C+1))&&10*a%B==0&&k[C]!==null&&a!==0&&(N=r(a/B,-1)+k[C]);return N===void 0&&(N=Math.abs(a)>=1e4?r(a,-1):r(a,-1,void 0,"")),N}getSeriesExtremes(){let t,r=this;pe(this,"getSeriesExtremes",null,function(){r.hasVisibleSeries=!1,r.dataMin=r.dataMax=r.threshold=void 0,r.softThreshold=!r.isXAxis,r.series.forEach(a=>{if(a.reserveSpace()){let d=a.options,u,m=d.threshold,v,k;if(r.hasVisibleSeries=!0,r.positiveValuesOnly&&0>=(m||0)&&(m=void 0),r.isXAxis)(u=a.getColumn("x")).length&&(u=r.logarithmic?u.filter(P=>P>0):u,v=(t=a.getXExtremes(u)).min,k=t.max,bi(v)||v instanceof Date||(u=u.filter(bi),v=(t=a.getXExtremes(u)).min,k=t.max),u.length&&(r.dataMin=Math.min(rs(r.dataMin,v),v),r.dataMax=Math.max(rs(r.dataMax,k),k)));else{let P=a.applyExtremes();bi(P.dataMin)&&(v=P.dataMin,r.dataMin=Math.min(rs(r.dataMin,v),v)),bi(P.dataMax)&&(k=P.dataMax,r.dataMax=Math.max(rs(r.dataMax,k),k)),nt(m)&&(r.threshold=m),(!d.softThreshold||r.positiveValuesOnly)&&(r.softThreshold=!1)}}})}),pe(this,"afterGetSeriesExtremes")}translate(t,r,a,d,u,m){var $;let v=this.linkedParent||this,k=d&&v.old?v.old.min:v.min;if(!bi(k))return NaN;let P=v.minPixelPadding,z=(v.isOrdinal||(($=v.brokenAxis)==null?void 0:$.hasBreaks)||v.logarithmic&&u)&&v.lin2val,C=1,B=0,N=d&&v.old?v.old.transA:v.transA,X=0;return N||(N=v.transA),a&&(C*=-1,B=v.len),v.reversed&&(C*=-1,B-=C*(v.sector||v.len)),r?(X=(t=t*C+B-P)/N+k,z&&(X=v.lin2val(X))):(z&&(t=v.val2lin(t)),X=C*(t-k)*N+B+C*P+(bi(m)?N*m:0),v.isRadial||(X=j(X))),X}toPixels(t,r){var a;return this.translate(((a=this.chart)==null?void 0:a.time.parse(t))??NaN,!1,!this.horiz,void 0,!0)+(r?0:this.pos)}toValue(t,r){return this.translate(t-(r?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){let r=this,a=r.chart,d=r.left,u=r.top,m=t.old,v=t.value,k=t.lineWidth,P=m&&a.oldChartHeight||a.chartHeight,z=m&&a.oldChartWidth||a.chartWidth,C=r.transB,B=t.translatedValue,N=t.force,X,$,K,J,lt;function mt(Lt,Ot,Nt){return N!=="pass"&&(Lt<Ot||Lt>Nt)&&(N?Lt=I(Lt,Ot,Nt):lt=!0),Lt}let _t={value:v,lineWidth:k,old:m,force:N,acrossPanes:t.acrossPanes,translatedValue:B};return pe(this,"getPlotLinePath",_t,function(Lt){X=K=(B=I(B=rs(B,r.translate(v,void 0,void 0,m)),-1e9,1e9))+C,$=J=P-B-C,bi(B)?r.horiz?($=u,J=P-r.bottom+(r.options.isInternal?0:a.scrollablePixelsY||0),X=K=mt(X,d,d+r.width)):(X=d,K=z-r.right+(a.scrollablePixelsX||0),$=J=mt($,u,u+r.height)):(lt=!0,N=!1),Lt.path=lt&&!N?void 0:a.renderer.crispLine([["M",X,$],["L",K,J]],k||1)}),_t.path}getLinearTickPositions(t,r,a){let d,u,m,v=j(Math.floor(r/t)*t),k=j(Math.ceil(a/t)*t),P=[];if(j(v+t)===v&&(m=20),this.single)return[r];for(d=v;d<=k&&(P.push(d),(d=j(d+t,m))!==u);)u=d;return P}getMinorTickInterval(){let{minorTicks:t,minorTickInterval:r}=this.options;return t===!0?rs(r,"auto"):t!==!1?r:void 0}getMinorTickPositions(){var z;let t=this.options,r=this.tickPositions,a=this.minorTickInterval,d=this.pointRangePadding||0,u=(this.min||0)-d,m=(this.max||0)+d,v=(z=this.brokenAxis)!=null&&z.hasBreaks?this.brokenAxis.unitLength:m-u,k=[],P;if(v&&v/a<this.len/3){let C=this.logarithmic;if(C)this.paddedTicks.forEach(function(B,N,X){N&&k.push.apply(k,C.getLogTickPositions(a,X[N-1],X[N],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")k=k.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(a),u,m,t.startOfWeek));else for(P=u+(r[0]-u)%a;P<=m&&P!==k[0];P+=a)k.push(P)}return k.length!==0&&this.trimTicks(k),k}adjustForMinRange(){let t=this.options,r=this.logarithmic,a=this.chart.time,{max:d,min:u,minRange:m}=this,v,k,P,z;this.isXAxis&&m===void 0&&!r&&(m=nt(t.min)||nt(t.max)||nt(t.floor)||nt(t.ceiling)?null:Math.min(5*(ci(this.series.map(C=>{let B=C.getColumn("x");return C.xIncrement?B.slice(0,2):B}))||0),this.dataMax-this.dataMin)),bi(d)&&bi(u)&&bi(m)&&d-u<m&&(k=this.dataMax-this.dataMin>=m,v=(m-d+u)/2,P=[u-v,a.parse(t.min)??u-v],k&&(P[2]=r?r.log2lin(this.dataMin):this.dataMin),z=[(u=o(P))+m,a.parse(t.max)??u+m],k&&(z[2]=r?r.log2lin(this.dataMax):this.dataMax),(d=x(z))-u<m&&(P[0]=d-m,P[1]=a.parse(t.min)??d-m,u=o(P))),this.minRange=m,this.min=u,this.max=d}getClosest(){let t,r;if(this.categories)r=1;else{let a=[];this.series.forEach(function(d){let u=d.closestPointRange,m=d.getColumn("x");m.length===1?a.push(m[0]):d.sorted&&nt(u)&&d.reserveSpace()&&(r=nt(r)?Math.min(r,u):u)}),a.length&&(a.sort((d,u)=>d-u),t=ci([a]))}return t&&r?Math.min(t,r):t||r}nameToX(t){let r=ds(this.options.categories),a=r?this.categories:this.names,d=t.options.x,u;return t.series.requireSorting=!1,nt(d)||(d=this.uniqueNames&&a?r?a.indexOf(t.name):rs(a.keys[t.name],-1):t.series.autoIncrement()),d===-1?!r&&a&&(u=a.length):bi(d)&&(u=d),u!==void 0?(this.names[u]=t.name,this.names.keys[t.name]=u):t.x&&(u=t.x),u}updateNames(){let t=this,r=this.names;r.length>0&&(Object.keys(r.keys).forEach(function(a){delete r.keys[a]}),r.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(a=>{a.xIncrement=null,(!a.points||a.isDirtyData)&&(t.max=Math.max(t.max||0,a.dataTable.rowCount-1),a.processData(),a.generatePoints());let d=a.getColumn("x").slice();a.data.forEach((u,m)=>{let v=d[m];u!=null&&u.options&&u.name!==void 0&&(v=t.nameToX(u))!==void 0&&v!==u.x&&(d[m]=u.x=v)}),a.dataTable.setColumn("x",d)}))}setAxisTranslation(){var B;let t=this,r=t.max-t.min,a=t.linkedParent,d=!!t.categories,u=t.isXAxis,m=t.axisPointRange||0,v,k=0,P=0,z,C=t.transA;(u||d||m)&&(v=t.getClosest(),a?(k=a.minPointOffset,P=a.pointRangePadding):t.series.forEach(function(N){let X=d?1:u?rs(N.options.pointRange,v,0):t.axisPointRange||0,$=N.options.pointPlacement;if(m=Math.max(m,X),!t.single||d){let K=N.is("xrange")?!u:u;k=Math.max(k,K&&Ai($)?0:X/2),P=Math.max(P,K&&$==="on"?0:X)}}),z=(B=t.ordinal)!=null&&B.slope&&v?t.ordinal.slope/v:1,t.minPointOffset=k*=z,t.pointRangePadding=P*=z,t.pointRange=Math.min(m,t.single&&d?1:r),u&&(t.closestPointRange=v)),t.translationSlope=t.transA=C=t.staticScale||t.len/(r+P||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=C*k,pe(this,"afterSetAxisTranslation")}minFromRange(){let{max:t,min:r}=this;return bi(t)&&bi(r)&&t-r||void 0}setTickInterval(t){var Xe,qe,Qe,fi;let{categories:r,chart:a,dataMax:d,dataMin:u,dateTime:m,isXAxis:v,logarithmic:k,options:P,softThreshold:z}=this,C=a.time,B=bi(this.threshold)?this.threshold:void 0,N=this.minRange||0,{ceiling:X,floor:$,linkedTo:K,softMax:J,softMin:lt}=P,mt=bi(K)&&((Xe=a[this.coll])==null?void 0:Xe[K]),_t=P.tickPixelInterval,Lt=P.maxPadding,Ot=P.minPadding,Nt=0,zt,Xt=bi(P.tickInterval)&&P.tickInterval>=0?P.tickInterval:void 0,se,Qt,ne,Ae;if(m||r||mt||this.getTickAmount(),ne=rs(this.userMin,C.parse(P.min)),Ae=rs(this.userMax,C.parse(P.max)),mt?(this.linkedParent=mt,zt=mt.getExtremes(),this.min=rs(zt.min,zt.dataMin),this.max=rs(zt.max,zt.dataMax),this.type!==mt.type&&ye(11,!0,a)):(z&&nt(B)&&bi(d)&&bi(u)&&(u>=B?(se=B,Ot=0):d<=B&&(Qt=B,Lt=0)),this.min=rs(ne,se,u),this.max=rs(Ae,Qt,d)),bi(this.max)&&bi(this.min)&&(k&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,rs(u,this.min))&&ye(10,!0,a),this.min=j(k.log2lin(this.min),16),this.max=j(k.log2lin(this.max),16)),this.range&&bi(u)&&(this.userMin=this.min=ne=Math.max(u,this.minFromRange()||0),this.userMax=Ae=this.max,this.range=void 0)),pe(this,"foundExtremes"),this.adjustForMinRange(),bi(this.min)&&bi(this.max)){if(!bi(this.userMin)&&bi(lt)&&lt<this.min&&(this.min=ne=lt),!bi(this.userMax)&&bi(J)&&J>this.max&&(this.max=Ae=J),r||this.axisPointRange||(qe=this.stacking)!=null&&qe.usePercentage||mt||(Nt=this.max-this.min)&&(!nt(ne)&&Ot&&(this.min-=Nt*Ot),!nt(Ae)&&Lt&&(this.max+=Nt*Lt)),!bi(this.userMin)&&bi($)&&(this.min=Math.max(this.min,$)),!bi(this.userMax)&&bi(X)&&(this.max=Math.min(this.max,X)),z&&bi(u)&&bi(d)){let mi=B||0;!nt(ne)&&this.min<mi&&u>=mi?this.min=P.minRange?Math.min(mi,this.max-N):mi:!nt(Ae)&&this.max>mi&&d<=mi&&(this.max=P.minRange?Math.max(mi,this.min+N):mi)}!a.polar&&this.min>this.max&&(nt(P.min)?this.max=this.min:nt(P.max)&&(this.min=this.max)),Nt=this.max-this.min}if(this.min!==this.max&&bi(this.min)&&bi(this.max)?mt&&!Xt&&_t===mt.options.tickPixelInterval?this.tickInterval=Xt=mt.tickInterval:this.tickInterval=rs(Xt,this.tickAmount?Nt/Math.max(this.tickAmount-1,1):void 0,r?1:Nt*_t/Math.max(this.len,_t)):this.tickInterval=1,v&&!t){let mi=this.min!==((Qe=this.old)==null?void 0:Qe.min)||this.max!==((fi=this.old)==null?void 0:fi.max);this.series.forEach(function(vi){var Hi;vi.forceCrop=(Hi=vi.forceCropping)==null?void 0:Hi.call(vi),vi.processData(mi)}),pe(this,"postProcessData",{hasExtremesChanged:mi})}this.setAxisTranslation(),pe(this,"initialAxisTranslation"),this.pointRange&&!Xt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let ai=rs(P.minTickInterval,m&&!this.series.some(mi=>!mi.sorted)?this.closestPointRange:0);!Xt&&ai&&this.tickInterval<ai&&(this.tickInterval=ai),m||k||Xt||(this.tickInterval=Dd(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var z,C;let t=this.options,r=t.tickPositions,a=t.tickPositioner,d=this.getMinorTickInterval(),u=!this.isPanning,m=u&&t.startOnTick,v=u&&t.endOnTick,k=[],P;if(this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&nt(this.min)&&!this.tickAmount&&(this.min%1==0||t.allowDecimals!==!1),r)k=r.slice();else if(bi(this.min)&&bi(this.max)){if(!((z=this.ordinal)!=null&&z.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))k=[this.min,this.max],ye(19,!1,this.chart);else if(this.dateTime)k=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,(C=this.ordinal)==null?void 0:C.positions,this.closestPointRange,!0);else if(this.logarithmic)k=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let B=this.tickInterval,N=B;for(;N<=2*B&&(k=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&k.length>this.tickAmount);)this.tickInterval=Dd(this,N*=1.1)}k.length>this.len&&(k=[k[0],k[k.length-1]])[0]===k[1]&&(k.length=1),a&&(this.tickPositions=k,(P=a.apply(this,[this.min,this.max]))&&(k=P))}this.tickPositions=k,this.minorTickInterval=d==="auto"&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:d,this.paddedTicks=k.slice(0),this.trimTicks(k,m,v),!this.isLinked&&bi(this.min)&&bi(this.max)&&(this.single&&k.length<2&&!this.categories&&!this.series.some(B=>B.is("heatmap")&&B.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),r||P||this.adjustTickAmount()),pe(this,"afterSetTickPositions")}trimTicks(t,r,a){let d=t[0],u=t[t.length-1],m=!this.isOrdinal&&this.minPointOffset||0;if(pe(this,"trimTicks"),!this.isLinked||!this.grid){if(r&&d!==-1/0)this.min=d;else for(;this.min-m>t[0];)t.shift();if(a)this.max=u;else for(;this.max+m<t[t.length-1];)t.pop();t.length===0&&nt(d)&&!this.options.tickPositions&&t.push((u+d)/2)}}alignToOthers(){let t,r=this,a=r.chart,d=[this],u=r.options,m=a.options.chart,v=this.coll==="yAxis"&&m.alignThresholds,k=[];if(r.thresholdAlignment=void 0,(m.alignTicks!==!1&&u.alignTicks||v)&&u.startOnTick!==!1&&u.endOnTick!==!1&&!r.logarithmic){let P=C=>{let{horiz:B,options:N}=C;return[B?N.left:N.top,N.width,N.height,N.pane].join(",")},z=P(this);a[this.coll].forEach(function(C){let{series:B}=C;B.length&&B.some(N=>N.visible)&&C!==r&&P(C)===z&&(t=!0,d.push(C))})}if(t&&v){d.forEach(z=>{let C=z.getThresholdAlignment(r);bi(C)&&k.push(C)});let P=k.length>1?k.reduce((z,C)=>z+=C,0)/k.length:void 0;d.forEach(z=>{z.thresholdAlignment=P})}return t}getThresholdAlignment(t){if((!bi(this.dataMin)||this!==t&&this.series.some(r=>r.isDirty||r.isDirtyData))&&this.getSeriesExtremes(),bi(this.threshold)){let r=I((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(r=1-r),r}}getTickAmount(){let t=this.options,r=t.tickPixelInterval,a=t.tickAmount;nt(t.tickInterval)||a||!(this.len<r)||this.isRadial||this.logarithmic||!t.startOnTick||!t.endOnTick||(a=2),!a&&this.alignToOthers()&&(a=Math.ceil(this.len/r)+1),a<4&&(this.finalTickAmt=a,a=5),this.tickAmount=a}adjustTickAmount(){let t=this,{finalTickAmt:r,max:a,min:d,options:u,tickPositions:m,tickAmount:v,thresholdAlignment:k}=t,P=m==null?void 0:m.length,z=rs(t.threshold,t.softThreshold?0:null),C,B,N=t.tickInterval,X,$=()=>m.push(j(m[m.length-1]+N)),K=()=>m.unshift(j(m[0]-N));if(bi(k)&&(X=k<.5?Math.ceil(k*(v-1)):Math.floor(k*(v-1)),u.reversed&&(X=v-1-X)),t.hasData()&&bi(d)&&bi(a)){let J=()=>{t.transA*=(P-1)/(v-1),t.min=u.startOnTick?m[0]:Math.min(d,m[0]),t.max=u.endOnTick?m[m.length-1]:Math.max(a,m[m.length-1])};if(bi(X)&&bi(t.threshold)){for(;m[X]!==z||m.length!==v||m[0]>d||m[m.length-1]<a;){for(m.length=0,m.push(t.threshold);m.length<v;)m[X]===void 0||m[X]>t.threshold?K():$();if(N>8*t.tickInterval)break;N*=2}J()}else if(P<v){for(;m.length<v;)m.length%2||d===z?$():K();J()}if(nt(r)){for(B=C=m.length;B--;)(r===3&&B%2==1||r<=2&&B>0&&B<C-1)&&m.splice(B,1);t.finalTickAmt=void 0}}}setScale(){var m,v,k,P,z;let{coll:t,stacking:r}=this,a=!1,d=!1;this.series.forEach(C=>{var B;a=a||C.isDirtyData||C.isDirty,d=d||((B=C.xAxis)==null?void 0:B.isDirty)||!1}),this.setAxisSize();let u=this.len!==((m=this.old)==null?void 0:m.len);u||a||d||this.isLinked||this.forceRedraw||this.userMin!==((v=this.old)==null?void 0:v.userMin)||this.userMax!==((k=this.old)==null?void 0:k.userMax)||this.alignToOthers()?(r&&t==="yAxis"&&r.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),r&&t==="xAxis"&&r.buildStacks(),this.isDirty||(this.isDirty=u||this.min!==((P=this.old)==null?void 0:P.min)||this.max!==((z=this.old)==null?void 0:z.max))):r&&r.cleanStacks(),a&&delete this.allExtremes,pe(this,"afterSetScale")}setExtremes(t,r,a=!0,d,u){let m=this.chart;this.series.forEach(v=>{delete v.kdTree}),t=m.time.parse(t),r=m.time.parse(r),pe(this,"setExtremes",u=de(u,{min:t,max:r}),v=>{this.userMin=v.min,this.userMax=v.max,this.eventArgs=v,a&&m.redraw(d)})}setAxisSize(){let t=this.chart,r=this.options,a=r.offsets||[0,0,0,0],d=this.horiz,u=this.width=Math.round(Sh(rs(r.width,t.plotWidth-a[3]+a[1]),t.plotWidth)),m=this.height=Math.round(Sh(rs(r.height,t.plotHeight-a[0]+a[2]),t.plotHeight)),v=this.top=Math.round(Sh(rs(r.top,t.plotTop+a[0]),t.plotHeight,t.plotTop)),k=this.left=Math.round(Sh(rs(r.left,t.plotLeft+a[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-m-v,this.right=t.chartWidth-u-k,this.len=Math.max(d?u:m,0),this.pos=d?k:v}getExtremes(){let t=this.logarithmic;return{min:t?j(t.lin2log(this.min)):this.min,max:t?j(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){let r=this.logarithmic,a=r?r.lin2log(this.min):this.min,d=r?r.lin2log(this.max):this.max;return t===null||t===-1/0?t=a:t===1/0?t=d:a>t?t=a:d<t&&(t=d),this.translate(t,0,1,0,1)}autoLabelAlign(t){let r=(rs(t,0)-90*this.side+720)%360,a={align:"center"};return pe(this,"autoLabelAlign",a,function(d){r>15&&r<165?d.align="right":r>195&&r<345&&(d.align="left")}),a.align}tickSize(t){let r=this.options,a=rs(r[t==="tick"?"tickWidth":"minorTickWidth"],t==="tick"&&this.isXAxis&&!this.categories?1:0),d=r[t==="tick"?"tickLength":"minorTickLength"],u;a&&d&&(r[t+"Position"]==="inside"&&(d=-d),u=[d,a]);let m={tickSize:u};return pe(this,"afterTickSize",m),m.tickSize}labelMetrics(){let t=this.chart.renderer,r=this.ticks,a=r[Object.keys(r)[0]]||{};return this.chart.renderer.fontMetrics(a.label||a.movedLabel||t.box)}unsquish(){let t=this.options.labels,r=t.padding||0,a=this.horiz,d=this.tickInterval,u=this.len/((+!!this.categories+this.max-this.min)/d),m=t.rotation,v=j(.8*this.labelMetrics().h),k=Math.max(this.max-this.min,0),P=function(X){let $=(X+2*r)/(u||1);return($=$>1?Math.ceil($):1)*d>k&&X!==1/0&&u!==1/0&&k&&($=Math.ceil(k/d)),j($*d)},z=d,C,B=Number.MAX_VALUE,N;if(a){if(!t.staggerLines&&(bi(m)?N=[m]:u<t.autoRotationLimit&&(N=t.autoRotation)),N){let X,$;for(let K of N)(K===m||K&&K>=-90&&K<=90)&&($=(X=P(Math.abs(v/Math.sin(bs*K))))+Math.abs(K/360))<B&&(B=$,C=K,z=X)}}else z=P(.75*v);return this.autoRotation=N,this.labelRotation=rs(C,bi(m)?m:0),t.step?d:z}getSlotWidth(t){let r=this.chart,a=this.horiz,d=this.options.labels,u=Math.max(this.tickPositions.length-!this.categories,1),m=r.margin[3];if(t&&bi(t.slotWidth))return t.slotWidth;if(a&&d.step<2&&!this.isRadial)return d.rotation?0:(this.staggerLines||1)*this.len/u;if(!a){let v=d.style.width;if(v!==void 0)return parseInt(String(v),10);if(m)return m-r.spacing[3]}return .33*r.chartWidth}renderUnsquish(){let t=this.chart,r=t.renderer,a=this.tickPositions,d=this.ticks,u=this.options.labels,m=u.style,v=this.horiz,k=this.getSlotWidth(),P=Math.max(1,Math.round(k-(v?2*(u.padding||0):u.distance||0))),z={},C=this.labelMetrics(),B=m.lineClamp,N,X=B??(Math.floor(this.len/(a.length*C.h))||1),$=0;Ai(u.rotation)||(z.rotation=u.rotation||0),a.forEach(function(K){var mt;let J=d[K];J.movedLabel&&J.replaceMovedLabel();let lt=((mt=J.label)==null?void 0:mt.textPxLength)||0;lt>$&&($=lt)}),this.maxLabelLength=$,this.autoRotation?$>P&&$>C.h?z.rotation=this.labelRotation:this.labelRotation=0:k&&(N=P),z.rotation&&(N=$>.5*t.chartHeight?.33*t.chartHeight:$,B||(X=1)),this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(z.align=this.labelAlign),a.forEach(function(K){let J=d[K],lt=J==null?void 0:J.label,mt=m.width,_t={};lt&&(lt.attr(z),J.shortenLabel?J.shortenLabel():N&&!mt&&m.whiteSpace!=="nowrap"&&(N<(lt.textPxLength||0)||lt.element.tagName==="SPAN")?lt.css(de(_t,{width:`${N}px`,lineClamp:X})):!lt.styles.width||_t.width||mt||lt.css({width:"auto"}),J.rotation=z.rotation)},this),this.tickRotCorr=r.rotCorr(C.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(t){return t.hasData()})||this.options.showEmpty&&nt(this.min)&&nt(this.max)}addTitle(t){let r,a=this.chart.renderer,d=this.horiz,u=this.opposite,m=this.options.title,v=this.chart.styledMode;this.axisTitle||((r=m.textAlign)||(r=(d?{low:"left",middle:"center",high:"right"}:{low:u?"right":"left",middle:"center",high:u?"left":"right"})[m.align]),this.axisTitle=a.text(m.text||"",0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:r}).addClass("highcharts-axis-title"),v||this.axisTitle.css(to(m.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),v||m.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){let r=this.ticks;r[t]?r[t].addLabel():r[t]=new Er(this,t)}createGroups(){let{axisParent:t,chart:r,coll:a,options:d}=this,u=r.renderer,m=(v,k,P)=>u.g(v).attr({zIndex:P}).addClass(`highcharts-${a.toLowerCase()}${k} `+(this.isRadial?`highcharts-radial-axis${k} `:"")+(d.className||"")).add(t);this.axisGroup||(this.gridGroup=m("grid","-grid",d.gridZIndex),this.axisGroup=m("axis","",d.zIndex),this.labelGroup=m("axis-labels","-labels",d.labels.zIndex))}getOffset(){let t=this,{chart:r,horiz:a,options:d,side:u,ticks:m,tickPositions:v,coll:k}=t,P=r.inverted&&!t.isZAxis?[1,0,3,2][u]:u,z=t.hasData(),C=d.title,B=d.labels,N=bi(d.crossing),X=r.axisOffset,$=r.clipOffset,K=[-1,1,1,-1][u],J,lt=0,mt,_t=0,Lt=0,Ot,Nt;if(t.showAxis=J=z||d.showEmpty,t.staggerLines=t.horiz&&B.staggerLines||void 0,t.createGroups(),z||t.isLinked?(v.forEach(function(zt){t.generateTick(zt)}),t.renderUnsquish(),t.reserveSpaceDefault=u===0||u===2||{1:"left",3:"right"}[u]===t.labelAlign,rs(B.reserveSpace,!N&&null,t.labelAlign==="center"||null,t.reserveSpaceDefault)&&v.forEach(function(zt){Lt=Math.max(m[zt].getLabelSize(),Lt)}),t.staggerLines&&(Lt*=t.staggerLines),t.labelOffset=Lt*(t.opposite?-1:1)):Za(m,function(zt,Xt){zt.destroy(),delete m[Xt]}),C!=null&&C.text&&C.enabled!==!1&&(t.addTitle(J),J&&!N&&C.reserveSpace!==!1&&(t.titleOffset=lt=t.axisTitle.getBBox()[a?"height":"width"],_t=nt(mt=C.offset)?0:rs(C.margin,a?5:10))),t.renderLine(),t.offset=K*rs(d.offset,X[u]?X[u]+(d.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},Nt=u===0?-t.labelMetrics().h:u===2?t.tickRotCorr.y:0,Ot=Math.abs(Lt)+_t,Lt&&(Ot-=Nt,Ot+=K*(a?rs(B.y,t.tickRotCorr.y+K*B.distance):rs(B.x,K*B.distance))),t.axisTitleMargin=rs(mt,Ot),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(m,v)),k!=="colorAxis"&&$){let zt=this.tickSize("tick");X[u]=Math.max(X[u],(t.axisTitleMargin||0)+lt+K*t.offset,Ot,v!=null&&v.length&&zt?zt[0]+K*t.offset:0);let Xt=!t.axisLine||d.offset?0:t.axisLine.strokeWidth()/2;$[P]=Math.max($[P],Xt)}pe(this,"afterGetOffset")}getLinePath(t){let r=this.chart,a=this.opposite,d=this.offset,u=this.horiz,m=this.left+(a?this.width:0)+d,v=r.chartHeight-this.bottom-(a?this.height:0)+d;return a&&(t*=-1),r.renderer.crispLine([["M",u?this.left:m,u?v:this.top],["L",u?r.chartWidth-this.right:m,u?v:r.chartHeight-this.bottom]],t)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){let r=this.horiz,a=this.left,d=this.top,u=this.len,m=this.options.title,v=r?a:d,k=this.opposite,P=this.offset,z=m.x,C=m.y,B=this.chart.renderer.fontMetrics(t),N=t?Math.max(t.getBBox(!1,0).height-B.h-1,0):0,X={low:v+(r?0:u),middle:v+u/2,high:v+(r?u:0)}[m.align],$=(r?d+this.height:a)+(r?1:-1)*(k?-1:1)*(this.axisTitleMargin||0)+[-N,N,B.f,-N][this.side],K={x:r?X+z:$+(k?this.width:0)+P+z,y:r?$+C-(k?this.height:0)+P:X+C};return pe(this,"afterGetTitlePosition",{titlePosition:K}),K}renderMinorTick(t,r){let a=this.minorTicks;a[t]||(a[t]=new Er(this,t,"minor")),r&&a[t].isNew&&a[t].render(null,!0),a[t].render(null,!1,1)}renderTick(t,r,a){var m;let d=this.isLinked,u=this.ticks;(!d||t>=this.min&&t<=this.max||(m=this.grid)!=null&&m.isColumn)&&(u[t]||(u[t]=new Er(this,t)),a&&u[t].isNew&&u[t].render(r,!0,-1),u[t].render(r))}render(){let t,r,a=this,d=a.chart,u=a.logarithmic,m=d.renderer,v=a.options,k=a.isLinked,P=a.tickPositions,z=a.axisTitle,C=a.ticks,B=a.minorTicks,N=a.alternateBands,X=v.stackLabels,$=v.alternateGridColor,K=v.crossing,J=a.tickmarkOffset,lt=a.axisLine,mt=a.showAxis,_t=ir(m.globalAnimation);if(a.labelEdge.length=0,a.overlap=!1,[C,B,N].forEach(function(Lt){Za(Lt,function(Ot){Ot.isActive=!1})}),bi(K)){let Lt=this.isXAxis?d.yAxis[0]:d.xAxis[0],Ot=[1,-1,-1,1][this.side];if(Lt){let Nt=Lt.toPixels(K,!0);a.horiz&&(Nt=Lt.len-Nt),a.offset=Ot*Nt}}if(a.hasData()||k){let Lt=a.chart.hasRendered&&a.old&&bi(a.old.min);a.minorTickInterval&&!a.categories&&a.getMinorTickPositions().forEach(function(Ot){a.renderMinorTick(Ot,Lt)}),P.length&&(P.forEach(function(Ot,Nt){a.renderTick(Ot,Nt,Lt)}),J&&(a.min===0||a.single)&&(C[-1]||(C[-1]=new Er(a,-1,null,!0)),C[-1].render(-1))),$&&P.forEach(function(Ot,Nt){r=P[Nt+1]!==void 0?P[Nt+1]+J:a.max-J,Nt%2==0&&Ot<a.max&&r<=a.max+(d.polar?-J:J)&&(N[Ot]||(N[Ot]=new Zt.PlotLineOrBand(a,{})),t=Ot+J,N[Ot].options={from:u?u.lin2log(t):t,to:u?u.lin2log(r):r,color:$,className:"highcharts-alternate-grid"},N[Ot].render(),N[Ot].isActive=!0)}),a._addedPlotLB||(a._addedPlotLB=!0,(v.plotLines||[]).concat(v.plotBands||[]).forEach(function(Ot){a.addPlotBandOrLine(Ot)}))}[C,B,N].forEach(function(Lt){let Ot=[],Nt=_t.duration;Za(Lt,function(zt,Xt){zt.isActive||(zt.render(Xt,!1,0),zt.isActive=!1,Ot.push(Xt))}),qc(function(){let zt=Ot.length;for(;zt--;)Lt[Ot[zt]]&&!Lt[Ot[zt]].isActive&&(Lt[Ot[zt]].destroy(),delete Lt[Ot[zt]])},Lt!==N&&d.hasRendered&&Nt?Nt:0)}),lt&&(lt[lt.isPlaced?"animate":"attr"]({d:this.getLinePath(lt.strokeWidth())}),lt.isPlaced=!0,lt[mt?"show":"hide"](mt)),z&&mt&&(z[z.isNew?"attr":"animate"](a.getTitlePosition(z)),z.isNew=!1),X!=null&&X.enabled&&a.stacking&&a.stacking.renderStackTotals(),a.old={len:a.len,max:a.max,min:a.min,transA:a.transA,userMax:a.userMax,userMin:a.userMin},a.isDirty=!1,pe(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(t){t.render()})),this.series.forEach(function(t){t.isDirty=!0})}getKeepProps(){return this.keepProps||nr.keepProps}destroy(t){let r=this,a=r.plotLinesAndBands,d=this.eventOptions;if(pe(this,"destroy",{keepEvents:t}),t||Th(r),[r.ticks,r.minorTicks,r.alternateBands].forEach(function(u){bt(u)}),a){let u=a.length;for(;u--;)a[u].destroy()}for(let u in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(m){r[m]&&(r[m]=r[m].destroy())}),r.plotLinesAndBandsGroups)r.plotLinesAndBandsGroups[u]=r.plotLinesAndBandsGroups[u].destroy();Za(r,function(u,m){r.getKeepProps().indexOf(m)===-1&&delete r[m]}),this.eventOptions=d}drawCrosshair(t,r){var C;let a=this.crosshair,d=(a==null?void 0:a.snap)??!0,u=this.chart,m,v,k,P=this.cross,z;if(pe(this,"drawCrosshair",{e:t,point:r}),t||(t=(C=this.cross)==null?void 0:C.e),a&&(nt(r)||!d)!==!1){if(d?nt(r)&&(v=rs(this.coll!=="colorAxis"?r.crosshairPos:null,this.isXAxis?r.plotX:this.len-r.plotY)):v=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),nt(v)&&(z={value:r&&(this.isXAxis?r.x:rs(r.stackY,r.y)),translatedValue:v},u.polar&&de(z,{isCrosshair:!0,chartX:t==null?void 0:t.chartX,chartY:t==null?void 0:t.chartY,point:r}),m=this.getPlotLinePath(z)||null),!nt(m))return void this.hideCrosshair();k=this.categories&&!this.isRadial,P||(this.cross=P=u.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(k?"category ":"thin ")+(a.className||"")).attr({zIndex:rs(a.zIndex,2)}).add(),!u.styledMode&&(P.attr({stroke:a.color||(k?Ys.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":rs(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&P.attr({dashstyle:a.dashStyle}))),P.show().attr({d:m}),k&&!a.width&&P.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();pe(this,"afterDrawCrosshair",{e:t,point:r})}hideCrosshair(){this.cross&&this.cross.hide(),pe(this,"afterHideCrosshair")}update(t,r){let a=this.chart;t=to(this.userOptions,t),this.destroy(!0),this.init(a,t),a.isDirtyBox=!0,rs(r,!0)&&a.redraw()}remove(t){let r=this.chart,a=this.coll,d=this.series,u=d.length;for(;u--;)d[u]&&d[u].remove(!1);$t(r.axes,this),$t(r[a]||[],this),r.orderItems(a),this.destroy(),r.isDirtyBox=!0,rs(t,!0)&&r.redraw()}setTitle(t,r){this.update({title:t},r)}setCategories(t,r){this.update({categories:t},r)}}nr.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:_l,getMagnitude:gc,normalizeTickInterval:mc,timeUnits:qh}=ti;(function(T){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function r(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new a(this))}T.compose=function(d){return d.keepProps.includes("dateTime")||(d.keepProps.push("dateTime"),d.prototype.getTimeTicks=t,_l(d,"afterSetType",r)),d};class a{constructor(u){this.axis=u}normalizeTimeTickInterval(u,m){let v=m||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],k=v[v.length-1],P=qh[k[0]],z=k[1],C;for(C=0;C<v.length&&(P=qh[(k=v[C])[0]],z=k[1],!v[C+1]||!(u<=(P*z[z.length-1]+qh[v[C+1][0]])/2));C++);P===qh.year&&u<5*P&&(z=[1,2,5]);let B=mc(u/P,z,k[0]==="year"?Math.max(gc(u/P),1):1);return{unitRange:P,count:B,unitName:k[0]}}getXDateFormat(u,m){let{axis:v}=this,k=v.chart.time;return v.closestPointRange?k.getDateFormat(v.closestPointRange,u,v.options.startOfWeek,m)||k.resolveDTLFormat(m.year).main:k.resolveDTLFormat(m.day).main}}T.Additions=a})(Ce||(Ce={}));let Ah=Ce,{addEvent:Kh,normalizeTickInterval:_a,pick:of}=ti;(function(T){function t(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new a(this))}function r(){let d=this.logarithmic;d&&(this.lin2val=function(u){return d.lin2log(u)},this.val2lin=function(u){return d.log2lin(u)})}T.compose=function(d){return d.keepProps.includes("logarithmic")||(d.keepProps.push("logarithmic"),Kh(d,"afterSetType",t),Kh(d,"afterInit",r)),d};class a{constructor(u){this.axis=u}getLogTickPositions(u,m,v,k){let P=this.axis,z=P.len,C=P.options,B=[];if(k||(this.minorAutoInterval=void 0),u>=.5)u=Math.round(u),B=P.getLinearTickPositions(u,m,v);else if(u>=.08){let N,X,$,K,J,lt,mt,_t=Math.floor(m);for(N=u>.3?[1,2,4]:u>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],X=_t;X<v+1&&!mt;X++)for($=0,K=N.length;$<K&&!mt;$++)(J=this.log2lin(this.lin2log(X)*N[$]))>m&&(!k||lt<=v)&&lt!==void 0&&B.push(lt),lt>v&&(mt=!0),lt=J}else{let N=this.lin2log(m),X=this.lin2log(v),$=k?P.getMinorTickInterval():C.tickInterval,K=C.tickPixelInterval/(k?5:1),J=k?z/P.tickPositions.length:z;u=_a(u=of($==="auto"?null:$,this.minorAutoInterval,(X-N)*K/(J||1))),B=P.getLinearTickPositions(u,N,X).map(this.log2lin),k||(this.minorAutoInterval=u/5)}return k||(P.tickInterval=u),B}lin2log(u){return Math.pow(10,u)}log2lin(u){return Math.log(u)/Math.LN10}}T.Additions=a})(Be||(Be={}));let Xp=Be,{erase:nf,extend:Yp,isNumber:xc}=ti;(function(T){let t;function r(P){return this.addPlotBandOrLine(P,"plotBands")}function a(P,z){let C=this.userOptions,B=new t(this,P);if(this.visible&&(B=B.render()),B){if(this._addedPlotLB||(this._addedPlotLB=!0,(C.plotLines||[]).concat(C.plotBands||[]).forEach(N=>{this.addPlotBandOrLine(N)})),z){let N=C[z]||[];N.push(P),C[z]=N}this.plotLinesAndBands.push(B)}return B}function d(P){return this.addPlotBandOrLine(P,"plotLines")}function u(P,z,C){C=C||this.options;let B=this.getPlotLinePath({value:z,force:!0,acrossPanes:C.acrossPanes}),N=[],X=this.horiz,$=!xc(this.min)||!xc(this.max)||P<this.min&&z<this.min||P>this.max&&z>this.max,K=this.getPlotLinePath({value:P,force:!0,acrossPanes:C.acrossPanes}),J,lt=1,mt;if(K&&B)for($&&(mt=K.toString()===B.toString(),lt=0),J=0;J<K.length;J+=2){let _t=K[J],Lt=K[J+1],Ot=B[J],Nt=B[J+1];(_t[0]==="M"||_t[0]==="L")&&(Lt[0]==="M"||Lt[0]==="L")&&(Ot[0]==="M"||Ot[0]==="L")&&(Nt[0]==="M"||Nt[0]==="L")&&(X&&Ot[1]===_t[1]?(Ot[1]+=lt,Nt[1]+=lt):X||Ot[2]!==_t[2]||(Ot[2]+=lt,Nt[2]+=lt),N.push(["M",_t[1],_t[2]],["L",Lt[1],Lt[2]],["L",Nt[1],Nt[2]],["L",Ot[1],Ot[2]],["Z"])),N.isFlat=mt}return N}function m(P){this.removePlotBandOrLine(P)}function v(P){let z=this.plotLinesAndBands,C=this.options,B=this.userOptions;if(z){let N=z.length;for(;N--;)z[N].id===P&&z[N].destroy();[C.plotLines||[],B.plotLines||[],C.plotBands||[],B.plotBands||[]].forEach(function(X){var $;for(N=X.length;N--;)(($=X[N])==null?void 0:$.id)===P&&nf(X,X[N])})}}function k(P){this.removePlotBandOrLine(P)}T.compose=function(P,z){let C=z.prototype;return C.addPlotBand||(t=P,Yp(C,{addPlotBand:r,addPlotLine:d,addPlotBandOrLine:a,getPlotBandPath:u,removePlotBand:m,removePlotLine:k,removePlotBandOrLine:v})),z}})(We||(We={}));let Kc=We,{addEvent:Pn,arrayMax:Jc,arrayMin:Jh,defined:pl,destroyObjectProperties:yc,erase:Qc,fireEvent:Qh,merge:td,objectEach:af,pick:Ph}=ti;class zd{static compose(t,r){return Pn(t,"afterInit",function(){this.labelCollectors.push(()=>{var d;let a=[];for(let u of this.axes)for(let{label:m,options:v}of u.plotLinesAndBands)m&&!((d=v==null?void 0:v.label)!=null&&d.allowOverlap)&&a.push(m);return a})}),Kc.compose(zd,r)}constructor(t,r){this.axis=t,this.options=r,this.id=r.id}render(){Qh(this,"render");let{axis:t,options:r}=this,{horiz:a,logarithmic:d}=t,{color:u,events:m,zIndex:v=0}=r,{renderer:k,time:P}=t.chart,z={},C=P.parse(r.to),B=P.parse(r.from),N=P.parse(r.value),X=r.borderWidth,$=r.label,{label:K,svgElem:J}=this,lt=[],mt,_t=pl(B)&&pl(C),Lt=pl(N),Ot=!J,Nt={class:"highcharts-plot-"+(_t?"band ":"line ")+(r.className||"")},zt=_t?"bands":"lines";if(!t.chart.styledMode&&(Lt?(Nt.stroke=u||"#999999",Nt["stroke-width"]=Ph(r.width,1),r.dashStyle&&(Nt.dashstyle=r.dashStyle)):_t&&(Nt.fill=u||"#e6e9ff",X&&(Nt.stroke=r.borderColor,Nt["stroke-width"]=X))),z.zIndex=v,zt+="-"+v,(mt=t.plotLinesAndBandsGroups[zt])||(t.plotLinesAndBandsGroups[zt]=mt=k.g("plot-"+zt).attr(z).add()),J||(this.svgElem=J=k.path().attr(Nt).add(mt)),pl(N))lt=t.getPlotLinePath({value:(d==null?void 0:d.log2lin(N))??N,lineWidth:J.strokeWidth(),acrossPanes:r.acrossPanes});else{if(!(pl(B)&&pl(C)))return;lt=t.getPlotBandPath((d==null?void 0:d.log2lin(B))??B,(d==null?void 0:d.log2lin(C))??C,r)}return!this.eventsAdded&&m&&(af(m,(Xt,se)=>{J==null||J.on(se,Qt=>{m[se].apply(this,[Qt])})}),this.eventsAdded=!0),(Ot||!J.d)&&(lt!=null&&lt.length)?J.attr({d:lt}):J&&(lt?(J.show(),J.animate({d:lt})):J.d&&(J.hide(),K&&(this.label=K=K.destroy()))),$&&(pl($.text)||pl($.formatter))&&(lt!=null&&lt.length)&&t.width>0&&t.height>0&&!lt.isFlat?($=td({align:a&&_t?"center":void 0,x:a?!_t&&4:10,verticalAlign:!a&&_t?"middle":void 0,y:a?_t?16:10:_t?6:-4,rotation:a&&!_t?90:0,..._t?{inside:!0}:{}},$),this.renderLabel($,lt,_t,v)):K&&K.hide(),this}renderLabel(t,r,a,d){var X,$;let u=this.axis,m=u.chart.renderer,v=t.inside,k=this.label;k||(this.label=k=m.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(t.className||""),zIndex:d}),u.chart.styledMode||k.css(td({color:(X=u.chart.options.title)==null?void 0:X.style.color,fontSize:"0.8em",textOverflow:a&&!v?"":"ellipsis"},t.style)),k.add());let P=r.xBounds||[r[0][1],r[1][1],a?r[2][1]:r[0][1]],z=r.yBounds||[r[0][2],r[1][2],a?r[2][2]:r[0][2]],C=Jh(P),B=Jh(z),N=Jc(P)-C;k.align(t,!1,{x:C,y:B,width:N,height:Jc(z)-B}),k.alignAttr.y-=m.fontMetrics(k).b,(!k.alignValue||k.alignValue==="left"||pl(v))&&k.css({width:((($=t.style)==null?void 0:$.width)||(a&&v?N:k.rotation===90?u.height-(k.alignAttr.y-u.top):(t.clip?u.width:u.chart.chartWidth)-(k.alignAttr.x-u.left)))+"px"}),k.show(!0)}getLabelText(t){return pl(t.formatter)?t.formatter.call(this):t.text}destroy(){Qc(this.axis.plotLinesAndBands,this),delete this.axis,yc(this)}}let{animObject:jp}=Jr,{format:Up}=Lr,{composed:tp,dateFormats:vc,doc:ed,isSafari:ih}=Zt,{distribute:Vp}=Ms,{addEvent:Zp,clamp:id,css:oa,discardElement:$p,extend:ep,fireEvent:ip,getAlignFactor:bc,isArray:ul,isNumber:qp,isObject:Ch,isString:wc,merge:sp,pick:Ll,pushUnique:Rd,splat:sh,syncTimeout:kc}=ti;class rp{constructor(t,r,a){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=t,this.init(t,r),this.pointer=a}bodyFormatter(t){return t.map(r=>{let a=r.series.tooltipOptions,d=r.formatPrefix||"point";return(a[d+"Formatter"]||r.tooltipFormatter).call(r,a[d+"Format"]||"")})}cleanSplit(t){this.chart.series.forEach(function(r){let a=r==null?void 0:r.tt;a&&(!a.isActive||t?r.tt=a.destroy():a.isActive=!1)})}defaultFormatter(t){let r,a=this.points||sh(this);return(r=(r=[t.headerFooterFormatter(a[0])]).concat(t.bodyFormatter(a))).push(t.headerFooterFormatter(a[0],!0)),r}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),$p(this.container)),ti.clearTimeout(this.hideTimer)}getAnchor(t,r){var z;let a,{chart:d,pointer:u}=this,m=d.inverted,v=d.plotTop,k=d.plotLeft;if(t=sh(t),(z=t[0].series)!=null&&z.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&r)r.chartX===void 0&&(r=u.normalize(r)),a=[r.chartX-k,r.chartY-v];else if(t[0].tooltipPos)a=t[0].tooltipPos;else{let C=0,B=0;t.forEach(function(N){let X=N.pos(!0);X&&(C+=X[0],B+=X[1])}),C/=t.length,B/=t.length,this.shared&&t.length>1&&r&&(m?C=r.chartX:B=r.chartY),a=[C-k,B-v]}let P={point:t[0],ret:a};return ip(this,"getAnchor",P),P.ret.map(Math.round)}getClassName(t,r,a){let d=this.options,u=t.series,m=u.options;return[d.className,"highcharts-label",a&&"highcharts-tooltip-header",r?"highcharts-tooltip-box":"highcharts-tooltip",!a&&"highcharts-color-"+Ll(t.colorIndex,u.colorIndex),m==null?void 0:m.className].filter(wc).join(" ")}getLabel({anchorX:t,anchorY:r}={anchorX:0,anchorY:0}){let a=this,d=this.chart.styledMode,u=this.options,m=this.split&&this.allowShared,v=this.container,k=this.chart.renderer;if(this.label){let P=!this.label.hasClass("highcharts-label");(!m&&P||m&&!P)&&this.destroy()}if(!this.label){if(this.outside){let P=this.chart,z=P.options.chart.style,C=Ws.getRendererType();this.container=v=Zt.doc.createElement("div"),v.className="highcharts-tooltip-container "+(P.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),oa(v,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((z==null?void 0:z.zIndex)||0)+3)}),this.renderer=k=new C(v,0,0,z,void 0,void 0,k.styledMode)}if(m?this.label=k.g("tooltip"):(this.label=k.label("",t,r,u.shape||"callout",void 0,void 0,u.useHTML,void 0,"tooltip").attr({padding:u.padding,r:u.borderRadius}),d||this.label.attr({fill:u.backgroundColor,"stroke-width":u.borderWidth||0}).css(u.style).css({pointerEvents:u.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),a.outside){let P=this.label;[P.xSetter,P.ySetter].forEach((z,C)=>{P[C?"ySetter":"xSetter"]=B=>{z.call(P,a.distance),P[C?"y":"x"]=B,v&&(v.style[C?"top":"left"]=`${B}px`)}})}this.label.attr({zIndex:8}).shadow(u.shadow??!u.fixed).add()}return v&&!v.parentElement&&Zt.doc.body.appendChild(v),this.label}getPlayingField(){let{body:t,documentElement:r}=ed,{chart:a,distance:d,outside:u}=this;return{width:u?Math.max(t.scrollWidth,r.scrollWidth,t.offsetWidth,r.offsetWidth,r.clientWidth)-2*d-2:a.chartWidth,height:u?Math.max(t.scrollHeight,r.scrollHeight,t.offsetHeight,r.offsetHeight,r.clientHeight):a.chartHeight}}getPosition(t,r,a){var Xe,qe;let{distance:d,chart:u,outside:m,pointer:v}=this,{inverted:k,plotLeft:P,plotTop:z,polar:C}=u,{plotX:B=0,plotY:N=0}=a,X={},$=k&&a.h||0,{height:K,width:J}=this.getPlayingField(),lt=v.getChartPosition(),mt=Qe=>Qe*lt.scaleX,_t=Qe=>Qe*lt.scaleY,Lt=Qe=>{let fi=Qe==="x";return[Qe,fi?J:K,fi?t:r].concat(m?[fi?mt(t):_t(r),fi?lt.left-d+mt(B+P):lt.top-d+_t(N+z),0,fi?J:K]:[fi?t:r,fi?B+P:N+z,fi?P:z,fi?P+u.plotWidth:z+u.plotHeight])},Ot=Lt("y"),Nt=Lt("x"),zt,Xt=!!a.negative;!C&&((qe=(Xe=u.hoverSeries)==null?void 0:Xe.yAxis)!=null&&qe.reversed)&&(Xt=!Xt);let se=!this.followPointer&&Ll(a.ttBelow,!C&&!k===Xt),Qt=function(Qe,fi,mi,vi,Hi,Sr,ls){let us=m?Qe==="y"?_t(d):mt(d):d,es=(mi-vi)/2,Zi=vi<Hi-d,Br=Hi+d+vi<fi,ur=Hi-us-mi+es,Wr=Hi+us-es;if(se&&Br)X[Qe]=Wr;else if(!se&&Zi)X[Qe]=ur;else if(Zi)X[Qe]=Math.min(ls-vi,ur-$<0?ur:ur-$);else{if(!Br)return X[Qe]=0,!1;X[Qe]=Math.max(Sr,Wr+$+mi>fi?Wr:Wr+$)}},ne=function(Qe,fi,mi,vi,Hi){if(Hi<d||Hi>fi-d)return!1;Hi<mi/2?X[Qe]=1:Hi>fi-vi/2?X[Qe]=fi-vi-2:X[Qe]=Hi-mi/2},Ae=function(Qe){[Ot,Nt]=[Nt,Ot],zt=Qe},ai=()=>{Qt.apply(0,Ot)!==!1?ne.apply(0,Nt)!==!1||zt||(Ae(!0),ai()):zt?X.x=X.y=0:(Ae(!0),ai())};return(k&&!C||this.len>1)&&Ae(),ai(),X}getFixedPosition(t,r,a){var B;let d=a.series,{chart:u,options:m,split:v}=this,k=m.position,P=k.relativeTo,z=m.shared||(B=d==null?void 0:d.yAxis)!=null&&B.isRadial&&(P==="pane"||!P)?"plotBox":P,C=z==="chart"?u.renderer:u[z]||u.getClipBox(d,!0);return{x:C.x+(C.width-t)*bc(k.align)+k.x,y:C.y+(C.height-r)*bc(k.verticalAlign)+(!v&&k.y||0)}}hide(t){let r=this;ti.clearTimeout(this.hideTimer),t=Ll(t,this.options.hideDelay),this.isHidden||(this.hideTimer=kc(function(){let a=r.getLabel();r.getLabel().animate({opacity:0},{duration:t&&150,complete:()=>{a.hide(),r.container&&r.container.remove()}}),r.isHidden=!0},t))}init(t,r){this.chart=t,this.options=r,this.crosshairs=[],this.isHidden=!0,this.split=r.split&&!t.inverted&&!t.polar,this.shared=r.shared||this.split,this.outside=Ll(r.outside,!!(t.scrollablePixelsX||t.scrollablePixelsY))}shouldStickOnContact(t){return!!(!this.followPointer&&this.options.stickOnContact&&(!t||this.pointer.inClass(t.target,"highcharts-tooltip")))}move(t,r,a,d){let{followPointer:u,options:m}=this,v=jp(!u&&!this.isHidden&&!m.fixed&&m.animation),k=u||(this.len||0)>1,P={x:t,y:r};k?P.anchorX=P.anchorY=NaN:(P.anchorX=a,P.anchorY=d),v.step=()=>this.drawTracker(),this.getLabel().animate(P,v)}refresh(t,r){let{chart:a,options:d,pointer:u,shared:m}=this,v=sh(t),k=v[0],P=d.format,z=d.formatter||this.defaultFormatter,C=a.styledMode,B=this.allowShared;if(!d.enabled||!k.series)return;ti.clearTimeout(this.hideTimer),this.allowShared=!(!ul(t)&&t.series&&t.series.noSharedTooltip),B=B&&!this.allowShared,this.followPointer=!this.split&&k.series.tooltipOptions.followPointer;let N=this.getAnchor(t,r),X=N[0],$=N[1];m&&this.allowShared&&(u.applyInactiveState(v),v.forEach(lt=>lt.setState("hover")),k.points=v),this.len=v.length;let K=wc(P)?Up(P,k,a):z.call(k,this);k.points=void 0;let J=k.series;if(this.distance=Ll(J.tooltipOptions.distance,16),K===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,v);else{let lt=X,mt=$;if(r&&u.isDirectTouch&&(lt=r.chartX-a.plotLeft,mt=r.chartY-a.plotTop),!(a.polar||J.options.clip===!1||v.some(_t=>u.isDirectTouch||_t.series.shouldShowTooltip(lt,mt))))return void this.hide();{let _t=this.getLabel(B&&this.tt||{});(!d.style.width||C)&&_t.css({width:(this.outside?this.getPlayingField():a.spacingBox).width+"px"}),_t.attr({class:this.getClassName(k),text:K&&K.join?K.join(""):K}),this.outside&&_t.attr({x:id(_t.x||0,0,this.getPlayingField().width-(_t.width||0)-1)}),C||_t.attr({stroke:d.borderColor||k.color||J.color||"#666666"}),this.updatePosition({plotX:X,plotY:$,negative:k.negative,ttBelow:k.ttBelow,series:J,h:N[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}ip(this,"refresh")}renderSplit(t,r){var Hi,Sr;let a=this,{chart:d,chart:{chartWidth:u,chartHeight:m,plotHeight:v,plotLeft:k,plotTop:P,scrollablePixelsY:z=0,scrollablePixelsX:C,styledMode:B},distance:N,options:X,options:{fixed:$,position:K,positioner:J},pointer:lt}=a,{scrollLeft:mt=0,scrollTop:_t=0}=((Hi=d.scrollablePlotArea)==null?void 0:Hi.scrollingContainer)||{},Lt=a.outside&&typeof C!="number"?ed.documentElement.getBoundingClientRect():{left:mt,right:mt+u},Ot=a.getLabel(),Nt=this.renderer||d.renderer,zt=!!((Sr=d.xAxis[0])!=null&&Sr.opposite),{left:Xt,top:se}=lt.getChartPosition(),Qt=J||$,ne=P+_t,Ae=0,ai=v-z,Xe=function(ls,us,es,Zi=[0,0],Br=!0){let ur,Wr;if(es.isHeader)Wr=zt?0:ai,ur=id(Zi[0]-ls/2,Lt.left,Lt.right-ls-(a.outside?Xt:0));else if($&&es){let ca=a.getFixedPosition(ls,us,es);ur=ca.x,Wr=ca.y-ne}else Wr=Zi[1]-ne,ur=id(ur=Br?Zi[0]-ls-N:Zi[0]+N,Br?ur:Lt.left,Lt.right);return{x:ur,y:Wr}};wc(t)&&(t=[!1,t]);let qe=t.slice(0,r.length+1).reduce(function(ls,us,es){if(us!==!1&&us!==""){let Zi=r[es-1]||{isHeader:!0,plotX:r[0].plotX,plotY:v,series:{}},Br=Zi.isHeader,ur=Br?a:Zi.series,Wr=ur.tt=function(Ra,Ao,xx){let Ku=Ra,{isHeader:qf,series:yx}=Ao,hc=yx.tooltipOptions||X;if(!Ku){let ym={padding:hc.padding,r:hc.borderRadius};B||(ym.fill=hc.backgroundColor,ym["stroke-width"]=hc.borderWidth??($&&!qf?0:1)),Ku=Nt.label("",0,0,hc[qf?"headerShape":"shape"]||($&&!qf?"rect":"callout"),void 0,void 0,hc.useHTML).addClass(a.getClassName(Ao,!0,qf)).attr(ym).add(Ot)}return Ku.isActive=!0,Ku.attr({text:xx}),B||Ku.css(hc.style).attr({stroke:hc.borderColor||Ao.color||yx.color||"#333333"}),Ku}(ur.tt,Zi,us.toString()),ca=Wr.getBBox(),zp=ca.width+Wr.strokeWidth();Br&&(Ae=ca.height,ai+=Ae,zt&&(ne-=Ae));let{anchorX:Md,anchorY:el}=function(Ra){let Ao,xx,{isHeader:Ku,plotX:qf=0,plotY:yx=0,series:hc}=Ra;if(Ku)Ao=Math.max(k+qf,k),xx=P+v/2;else{let{xAxis:ym,yAxis:Y0}=hc;Ao=ym.pos+id(qf,-N,ym.len+N),hc.shouldShowTooltip(0,Y0.pos-P+yx,{ignoreX:!0})&&(xx=Y0.pos+yx)}return{anchorX:Ao=id(Ao,Lt.left-N,Lt.right+N),anchorY:xx}}(Zi);if(typeof el=="number"){let Ra=ca.height+1,Ao=(J||Xe).call(a,zp,Ra,Zi,[Md,el]);ls.push({align:Qt?0:void 0,anchorX:Md,anchorY:el,boxWidth:zp,point:Zi,rank:Ll(Ao.rank,+!!Br),size:Ra,target:Ao.y,tt:Wr,x:Ao.x})}else Wr.isActive=!1}return ls},[]);!Qt&&qe.some(ls=>{let{outside:us}=a,es=(us?Xt:0)+ls.anchorX;return es<Lt.left&&es+ls.boxWidth<Lt.right||es<Xt-Lt.left+ls.boxWidth&&Lt.right-es>es})&&(qe=qe.map(ls=>{let{x:us,y:es}=Xe.call(this,ls.boxWidth,ls.size,ls.point,[ls.anchorX,ls.anchorY],!1);return ep(ls,{target:es,x:us})})),a.cleanSplit(),Vp(qe,ai);let Qe={left:Xt,right:Xt};qe.forEach(function(ls){let{x:us,boxWidth:es,isHeader:Zi}=ls;!Zi&&(a.outside&&Xt+us<Qe.left&&(Qe.left=Xt+us),!Zi&&a.outside&&Qe.left+es>Qe.right&&(Qe.right=Xt+us))}),qe.forEach(function(ls){let{x:us,anchorX:es,anchorY:Zi,pos:Br,point:{isHeader:ur}}=ls,Wr={visibility:Br===void 0?"hidden":"inherit",x:us,y:(Br||0)+ne+($&&K.y||0),anchorX:es,anchorY:Zi};if(a.outside&&us<es){let ca=Xt-Qe.left;ca>0&&(ur||(Wr.x=us+ca,Wr.anchorX=es+ca),ur&&(Wr.x=(Qe.right-Qe.left)/2,Wr.anchorX=es+ca))}ls.tt.attr(Wr)});let{container:fi,outside:mi,renderer:vi}=a;if(mi&&fi&&vi){let{width:ls,height:us,x:es,y:Zi}=Ot.getBBox();vi.setSize(ls+es,us+Zi,!1),fi.style.left=Qe.left+"px",fi.style.top=se+"px"}ih&&Ot.attr({opacity:Ot.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let t=this.chart,r=this.label,a=this.shared?t.hoverPoints:t.hoverPoint;if(!r||!a)return;let d={x:0,y:0,width:0,height:0},u=this.getAnchor(a),m=r.getBBox();u[0]+=t.plotLeft-(r.translateX||0),u[1]+=t.plotTop-(r.translateY||0),d.x=Math.min(0,u[0]),d.y=Math.min(0,u[1]),d.width=u[0]<0?Math.max(Math.abs(u[0]),m.width-u[0]):Math.max(Math.abs(u[0]),m.width),d.height=u[1]<0?Math.max(Math.abs(u[1]),m.height-Math.abs(u[1])):Math.max(Math.abs(u[1]),m.height),this.tracker?this.tracker.attr(d):(this.tracker=r.renderer.rect(d).addClass("highcharts-tracker").add(r),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(t,r){let a=t.series,d=a.tooltipOptions,u=a.xAxis,m=u==null?void 0:u.dateTime,v={isFooter:r,point:t},k=d.xDateFormat||"",P=d[r?"footerFormat":"headerFormat"];return ip(this,"headerFormatter",v,function(z){if(m&&!k&&qp(t.key)&&(k=m.getXDateFormat(t.key,d.dateTimeLabelFormats)),m&&k){if(Ch(k)){let C=k;vc[0]=B=>a.chart.time.dateFormat(C,B),k="%0"}(t.tooltipDateKeys||["key"]).forEach(C=>{P=P.replace(RegExp("point\\."+C+"([ \\)}])"),`(point.${C}:${k})$1`)})}a.chart.styledMode&&(P=this.styledModeFormat(P)),z.text=Up(P,t,this.chart)}),v.text||""}update(t){this.destroy(),this.init(this.chart,sp(!0,this.options,t))}updatePosition(t){var Lt;let{chart:r,container:a,distance:d,options:u,pointer:m,renderer:v}=this,{height:k=0,width:P=0}=this.getLabel(),{fixed:z,positioner:C}=u,{left:B,top:N,scaleX:X,scaleY:$}=m.getChartPosition(),K=(C||z&&this.getFixedPosition||this.getPosition).call(this,P,k,t),J=Zt.doc,lt=(t.plotX||0)+r.plotLeft,mt=(t.plotY||0)+r.plotTop,_t;if(v&&a){if(C||z){let{scrollLeft:Ot=0,scrollTop:Nt=0}=((Lt=r.scrollablePlotArea)==null?void 0:Lt.scrollingContainer)||{};K.x+=Ot+B-d,K.y+=Nt+N-d}_t=(u.borderWidth||0)+2*d+2,v.setSize(id(P+_t,0,J.documentElement.clientWidth)-1,k+_t,!1),(X!==1||$!==1)&&(oa(a,{transform:`scale(${X}, ${$})`}),lt*=X,mt*=$),lt+=B-K.x,mt+=N-K.y}this.move(Math.round(K.x),Math.round(K.y||0),lt,mt)}}(function(T){T.compose=function(t){Rd(tp,"Core.Tooltip")&&Zp(t,"afterInit",function(){let r=this.chart;r.options.tooltip&&(r.tooltip=new T(r,r.options.tooltip,this))})}})(rp||(rp={}));let Kp=rp,{animObject:lf}=Jr,{defaultOptions:rh}=Di,{format:Nd}=Lr,{addEvent:Wd,crisp:La,erase:hf,extend:Fd,fireEvent:op,getNestedProperty:Cn,isArray:As,isFunction:Jp,isNumber:ct,isObject:O,merge:Y,pick:V,syncTimeout:et,removeEvent:pt,uniqueKey:ft}=ti;class kt{animateBeforeDestroy(){let t=this,r={x:t.startXPos,opacity:0},a=t.getGraphicalProps();a.singular.forEach(function(d){t[d]=t[d].animate(d==="dataLabel"?{x:t[d].startXPos,y:t[d].startYPos,opacity:0}:r)}),a.plural.forEach(function(d){t[d].forEach(function(u){u.element&&u.animate(Fd({x:t.startXPos},u.startYPos?{x:u.startXPos,y:u.startYPos}:{}))})})}applyOptions(t,r){let a=this.series,d=a.options.pointValKey||a.pointValKey;return Fd(this,t=kt.prototype.optionsToObject.call(this,t)),this.options=this.options?Fd(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,d&&(this.y=kt.prototype.getNestedProperty.call(this,d)),this.selected&&(this.state="select"),"name"in this&&r===void 0&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),this.x===void 0&&a?this.x=r??a.autoIncrement():ct(t.x)&&a.options.relativeXValue?this.x=a.autoIncrement(t.x):typeof this.x=="string"&&(r??(r=a.chart.time.parse(this.x)),ct(r)&&(this.x=r)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let t=this,r=t.series,a=r.chart,d=r.options.dataSorting,u=a.hoverPoints,m=lf(t.series.chart.renderer.globalAnimation),v=()=>{for(let k in(t.graphic||t.graphics||t.dataLabel||t.dataLabels)&&(pt(t),t.destroyElements()),t)delete t[k]};t.legendItem&&a.legend.destroyItem(t),u&&(t.setState(),hf(u,t),u.length||(a.hoverPoints=null)),t===a.hoverPoint&&t.onMouseOut(),d!=null&&d.enabled?(this.animateBeforeDestroy(),et(v,m.duration)):v(),a.pointCount--}this.destroyed=!0}destroyElements(t){let r=this,a=r.getGraphicalProps(t);a.singular.forEach(function(d){r[d]=r[d].destroy()}),a.plural.forEach(function(d){r[d].forEach(function(u){u!=null&&u.element&&u.destroy()}),delete r[d]})}firePointEvent(t,r,a){let d=this,u=this.series.options;d.manageEvent(t),t==="click"&&u.allowPointSelect&&(a=function(m){!d.destroyed&&d.select&&d.select(null,m.ctrlKey||m.metaKey||m.shiftKey)}),op(d,t,r,a)}getClassName(){var t;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((t=this.zone)!=null&&t.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){let r,a,d=this,u=[],m={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&u.push("graphic","connector"),t.dataLabel&&u.push("dataLabel","dataLabelPath","dataLabelUpper"),a=u.length;a--;)d[r=u[a]]&&m.singular.push(r);return["graphic","dataLabel"].forEach(function(v){let k=v+"s";t[v]&&d[k]&&m.plural.push(k)}),m}getNestedProperty(t){if(t)return t.indexOf("custom.")===0?Cn(t,this.options):this[t]}getZone(){let t=this.series,r=t.zones,a=t.zoneAxis||"y",d,u=0;for(d=r[0];this[a]>=d.value;)d=r[++u];return this.nonZonedColor||(this.nonZonedColor=this.color),d!=null&&d.color&&!this.options.color?this.color=d.color:this.color=this.nonZonedColor,d}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(t,r,a){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=t,this.applyOptions(r,a),this.id??(this.id=ft()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=t.options.nullInteraction),t.chart.pointCount++,op(this,"afterInit")}isValid(){return(ct(this.x)||this.x instanceof Date)&&ct(this.y)}optionsToObject(t){var z;let r=this.series,a=r.options.keys,d=a||r.pointArrayMap||["y"],u=d.length,m={},v,k=0,P=0;if(ct(t)||t===null)m[d[0]]=t;else if(As(t))for(!a&&t.length>u&&((v=typeof t[0])=="string"?(z=r.xAxis)!=null&&z.dateTime?m.x=r.chart.time.parse(t[0]):m.name=t[0]:v==="number"&&(m.x=t[0]),k++);P<u;)a&&t[k]===void 0||(d[P].indexOf(".")>0?kt.prototype.setNestedProperty(m,t[k],d[P]):m[d[P]]=t[k]),k++,P++;else typeof t=="object"&&(m=t,t.dataLabels&&(r.hasDataLabels=()=>!0),t.marker&&(r._hasPointMarkers=!0));return m}pos(t,r=this.plotY){if(!this.destroyed){let{plotX:a,series:d}=this,{chart:u,xAxis:m,yAxis:v}=d,k=0,P=0;if(ct(a)&&ct(r))return t&&(k=m?m.pos:u.plotLeft,P=v?v.pos:u.plotTop),u.inverted&&m&&v?[v.len-r+P,m.len-a+k]:[a+k,r+P]}}resolveColor(){let t=this.series,r=t.chart.options.chart,a=t.chart.styledMode,d,u,m=r.colorCount,v;delete this.nonZonedColor,t.options.colorByPoint?(a||(d=(u=t.options.colors||t.chart.options.colors)[t.colorCounter],m=u.length),v=t.colorCounter,t.colorCounter++,t.colorCounter===m&&(t.colorCounter=0)):(a||(d=t.color),v=t.colorIndex),this.colorIndex=V(this.options.colorIndex,v),this.color=V(this.options.color,d)}setNestedProperty(t,r,a){return a.split(".").reduce(function(d,u,m,v){let k=v.length-1===m;return d[u]=k?r:O(d[u],!0)?d[u]:{},d[u]},t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){var k;let{chart:r,pointArrayMap:a=["y"],tooltipOptions:d}=this.series,{valueDecimals:u="",valuePrefix:m="",valueSuffix:v=""}=d;return r.styledMode&&(t=((k=r.tooltip)==null?void 0:k.styledModeFormat(t))||t),a.forEach(P=>{P="{point."+P,(m||v)&&(t=t.replace(RegExp(P+"}","g"),m+P+"}"+v)),t=t.replace(RegExp(P+"}","g"),P+":,."+u+"f}")}),Nd(t,this,r)}update(t,r,a,d){let u,m=this,v=m.series,k=m.graphic,P=v.chart,z=v.options;function C(){m.applyOptions(t);let B=k&&m.hasMockGraphic,N=m.y===null?!B:B;k&&N&&(m.graphic=k.destroy(),delete m.hasMockGraphic),O(t,!0)&&(k!=null&&k.element&&t&&t.marker&&t.marker.symbol!==void 0&&(m.graphic=k.destroy()),t!=null&&t.dataLabels&&m.dataLabel&&(m.dataLabel=m.dataLabel.destroy())),u=m.index;let X={};for(let $ of v.dataColumnKeys())X[$]=m[$];v.dataTable.setRow(X,u),z.data[u]=O(z.data[u],!0)||O(t,!0)?m.options:V(t,z.data[u]),v.isDirty=v.isDirtyData=!0,!v.fixedBox&&v.hasCartesianSeries&&(P.isDirtyBox=!0),z.legendType==="point"&&(P.isDirtyLegend=!0),r&&P.redraw(a)}r=V(r,!0),d===!1?C():m.firePointEvent("update",{options:t},C)}remove(t,r){this.series.removePoint(this.series.data.indexOf(this),t,r)}select(t,r){let a=this,d=a.series,u=d.chart;t=V(t,!a.selected),this.selectedStaging=t,a.firePointEvent(t?"select":"unselect",{accumulate:r},function(){a.selected=a.options.selected=t,d.options.data[d.data.indexOf(a)]=a.options,a.setState(t&&"select"),r||u.getSelectedPoints().forEach(function(m){let v=m.series;m.selected&&m!==a&&(m.selected=m.options.selected=!1,v.options.data[v.data.indexOf(m)]=m.options,m.setState(u.hoverPoints&&v.options.inactiveOtherPoints?"inactive":""),m.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(t){let{inverted:r,pointer:a}=this.series.chart;a&&(t=t?a.normalize(t):a.getChartCoordinatesFromPoint(this,r),a.runPointActions(t,this))}onMouseOut(){let t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(r){r.setState()}),t.hoverPoints=t.hoverPoint=null}manageEvent(t){var d,u,m,v,k,P,z;let r=Y(this.series.options.point,this.options),a=(d=r.events)==null?void 0:d[t];Jp(a)&&(!((u=this.hcEvents)!=null&&u[t])||((v=(m=this.hcEvents)==null?void 0:m[t])==null?void 0:v.map(C=>C.fn).indexOf(a))===-1)?((k=this.importedUserEvent)==null||k.call(this),this.importedUserEvent=Wd(this,t,a),this.hcEvents&&(this.hcEvents[t].userEvent=!0)):this.importedUserEvent&&!a&&((P=this.hcEvents)!=null&&P[t])&&((z=this.hcEvents)!=null&&z[t].userEvent)&&(pt(this,t),delete this.hcEvents[t],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(t,r){var Ot,Nt;let a=this.series,d=this.state,u=a.options.states[t||"normal"]||{},m=rh.plotOptions[a.type].marker&&a.options.marker,v=m&&m.enabled===!1,k=((Ot=m==null?void 0:m.states)==null?void 0:Ot[t||"normal"])||{},P=k.enabled===!1,z=this.marker||{},C=a.chart,B=m&&a.markerAttribs,N=a.halo,X,$,K,J=a.stateMarkerGraphic,lt;if((t=t||"")===this.state&&!r||this.selected&&t!=="select"||u.enabled===!1||t&&(P||v&&k.enabled===!1)||t&&z.states&&z.states[t]&&z.states[t].enabled===!1)return;if(this.state=t,B&&(X=a.markerAttribs(this,t)),this.graphic&&!this.hasMockGraphic){if(d&&this.graphic.removeClass("highcharts-point-"+d),t&&this.graphic.addClass("highcharts-point-"+t),!C.styledMode){$=a.pointAttribs(this,t),K=V(C.options.chart.animation,u.animation);let zt=$.opacity;a.options.inactiveOtherPoints&&ct(zt)&&(this.dataLabels||[]).forEach(function(Xt){Xt&&!Xt.hasClass("highcharts-data-label-hidden")&&(Xt.animate({opacity:zt},K),Xt.connector&&Xt.connector.animate({opacity:zt},K))}),this.graphic.animate($,K)}X&&this.graphic.animate(X,V(C.options.chart.animation,k.animation,m.animation)),J&&J.hide()}else t&&k&&(lt=z.symbol||a.symbol,J&&J.currentSymbol!==lt&&(J=J.destroy()),X&&(J?J[r?"animate":"attr"]({x:X.x,y:X.y}):lt&&(a.stateMarkerGraphic=J=C.renderer.symbol(lt,X.x,X.y,X.width,X.height,Y(m,k)).add(a.markerGroup),J.currentSymbol=lt)),!C.styledMode&&J&&this.state!=="inactive"&&J.attr(a.pointAttribs(this,t))),J&&(J[t&&this.isInside?"show":"hide"](),J.element.point=this,J.addClass(this.getClassName(),!0));let mt=u.halo,_t=this.graphic||J,Lt=(_t==null?void 0:_t.visibility)||"inherit";mt!=null&&mt.size&&_t&&Lt!=="hidden"&&!this.isCluster?(N||(a.halo=N=C.renderer.path().add(_t.parentGroup)),N.show()[r?"animate":"attr"]({d:this.haloPath(mt.size)}),N.attr({class:"highcharts-halo highcharts-color-"+V(this.colorIndex,a.colorIndex)+(this.className?" "+this.className:""),visibility:Lt,zIndex:-1}),N.point=this,C.styledMode||N.attr(Fd({fill:this.color||a.color,"fill-opacity":mt.opacity},tr.filterUserAttributes(mt.attributes||{})))):(Nt=N==null?void 0:N.point)!=null&&Nt.haloPath&&!N.point.destroyed&&N.animate({d:N.point.haloPath(0)},null,N.hide),op(this,"afterSetState",{state:t})}haloPath(t){let r=this.pos();return r?this.series.chart.renderer.symbols.circle(La(r[0],1)-t,r[1]-t,2*t,2*t):[]}}let Pt=kt,{parse:Rt}=Ys,{charts:St,composed:Dt,isTouchDevice:Ct}=Zt,{addEvent:At,attr:Tt,css:Yt,extend:Gt,find:re,fireEvent:Se,isNumber:Fe,isObject:xe,objectEach:Oe,offset:Ze,pick:Te,pushUnique:Ge,splat:Ue}=ti;class hi{applyInactiveState(t=[]){let r=[];t.forEach(a=>{let d=a.series;r.push(d),d.linkedParent&&r.push(d.linkedParent),d.linkedSeries&&r.push.apply(r,d.linkedSeries),d.navigatorSeries&&r.push(d.navigatorSeries),d.boosted&&d.markerGroup&&r.push.apply(r,this.chart.series.filter(u=>u.markerGroup===d.markerGroup))}),this.chart.series.forEach(a=>{r.indexOf(a)===-1?a.setState("inactive",!0):a.options.inactiveOtherPoints&&a.setAllPointsToState("inactive")})}destroy(){let t=this;this.eventsToUnbind.forEach(r=>r()),this.eventsToUnbind=[],!Zt.chartCount&&(hi.unbindDocumentMouseUp.forEach(r=>r.unbind()),hi.unbindDocumentMouseUp.length=0,hi.unbindDocumentTouchEnd&&(hi.unbindDocumentTouchEnd=hi.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),Oe(t,function(r,a){t[a]=void 0})}getSelectionMarkerAttrs(t,r){let a={args:{chartX:t,chartY:r},attrs:{},shapeType:"rect"};return Se(this,"getSelectionMarkerAttrs",a,d=>{let u,{chart:m,zoomHor:v,zoomVert:k}=this,{mouseDownX:P=0,mouseDownY:z=0}=m,C=d.attrs;C.x=m.plotLeft,C.y=m.plotTop,C.width=v?1:m.plotWidth,C.height=k?1:m.plotHeight,v&&(C.width=Math.max(1,Math.abs(u=t-P)),C.x=(u>0?0:u)+P),k&&(C.height=Math.max(1,Math.abs(u=r-z)),C.y=(u>0?0:u)+z)}),a}drag(t){let{chart:r}=this,{mouseDownX:a=0,mouseDownY:d=0}=r,{panning:u,panKey:m,selectionMarkerFill:v}=r.options.chart,k=r.plotLeft,P=r.plotTop,z=r.plotWidth,C=r.plotHeight,B=xe(u)?u.enabled:u,N=m&&t[`${m}Key`],X=t.chartX,$=t.chartY,K,J=this.selectionMarker;if((!J||!J.touch)&&(X<k?X=k:X>k+z&&(X=k+z),$<P?$=P:$>P+C&&($=P+C),this.hasDragged=Math.sqrt(Math.pow(a-X,2)+Math.pow(d-$,2)),this.hasDragged>10)){K=r.isInsidePlot(a-k,d-P,{visiblePlotOnly:!0});let{shapeType:lt,attrs:mt}=this.getSelectionMarkerAttrs(X,$);this.hasZoom&&K&&!N&&!J&&(this.selectionMarker=J=r.renderer[lt](),J.attr({class:"highcharts-selection-marker",zIndex:7}).add(),r.styledMode||J.attr({fill:v||Rt("#334eff").setOpacity(.25).get()})),J&&J.attr(mt),K&&!J&&B&&r.pan(t,u)}}dragStart(t){let r=this.chart;r.mouseIsDown=t.type,r.cancelClick=!1,r.mouseDownX=t.chartX,r.mouseDownY=t.chartY}getSelectionBox(t){let r={args:{marker:t},result:t.getBBox()};return Se(this,"getSelectionBox",r),r.result}drop(t){let r,{chart:a,selectionMarker:d}=this;for(let u of a.axes)u.isPanning&&(u.isPanning=!1,(u.options.startOnTick||u.options.endOnTick||u.series.some(m=>m.boosted))&&(u.forceRedraw=!0,u.setExtremes(u.userMin,u.userMax,!1),r=!0));if(r&&a.redraw(),d&&t){if(this.hasDragged){let u=this.getSelectionBox(d);a.transform({axes:a.axes.filter(m=>m.zoomEnabled&&(m.coll==="xAxis"&&this.zoomX||m.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:t,xAxis:[],yAxis:[],...u},from:u})}Fe(a.index)&&(this.selectionMarker=d.destroy())}a&&Fe(a.index)&&(Yt(a.container,{cursor:a._cursor}),a.cancelClick=this.hasDragged>10,a.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(t,r,a){let d;return t.forEach(function(u){let m=!(u.noSharedTooltip&&r)&&0>u.options.findNearestPointBy.indexOf("y"),v=u.searchPoint(a,m);xe(v,!0)&&v.series&&(!xe(d,!0)||function(k,P){var N,X;let z=k.distX-P.distX,C=k.dist-P.dist,B=((N=P.series.group)==null?void 0:N.zIndex)-((X=k.series.group)==null?void 0:X.zIndex);return z!==0&&r?z:C!==0?C:B!==0?B:k.series.index>P.series.index?-1:1}(d,v)>0)&&(d=v)}),d}getChartCoordinatesFromPoint(t,r){let{xAxis:a,yAxis:d}=t.series,u=t.shapeArgs;if(a&&d){let m=t.clientX??t.plotX??0,v=t.plotY||0;return t.isNode&&u&&Fe(u.x)&&Fe(u.y)&&(m=u.x,v=u.y),r?{chartX:d.len+d.pos-v,chartY:a.len+a.pos-m}:{chartX:m+a.pos,chartY:v+d.pos}}if(u!=null&&u.x&&u.y)return{chartX:u.x,chartY:u.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:t}=this.chart,r=Ze(t);this.chartPosition={left:r.left,top:r.top,scaleX:1,scaleY:1};let{offsetHeight:a,offsetWidth:d}=t;return d>2&&a>2&&(this.chartPosition.scaleX=r.width/d,this.chartPosition.scaleY=r.height/a),this.chartPosition}getCoordinates(t){let r={xAxis:[],yAxis:[]};for(let a of this.chart.axes)r[a.isXAxis?"xAxis":"yAxis"].push({axis:a,value:a.toValue(t[a.horiz?"chartX":"chartY"])});return r}getHoverData(t,r,a,d,u,m){let v=[],k=function(N){return N.visible&&!(!u&&N.directTouch)&&Te(N.options.enableMouseTracking,!0)},P=r,z,C={chartX:m?m.chartX:void 0,chartY:m?m.chartY:void 0,shared:u};Se(this,"beforeGetHoverData",C),z=P&&!P.stickyTracking?[P]:a.filter(N=>N.stickyTracking&&(C.filter||k)(N));let B=d&&t||!m?t:this.findNearestKDPoint(z,u,m);return P=B==null?void 0:B.series,B&&(u&&!P.noSharedTooltip?(z=a.filter(function(N){return C.filter?C.filter(N):k(N)&&!N.noSharedTooltip})).forEach(function(N){var K;let X=(K=N.options)==null?void 0:K.nullInteraction,$=re(N.points,function(J){return J.x===B.x&&(!J.isNull||!!X)});xe($)&&(N.boosted&&N.boost&&($=N.boost.getPoint($)),v.push($))}):v.push(B)),Se(this,"afterGetHoverData",C={hoverPoint:B}),{hoverPoint:C.hoverPoint,hoverSeries:P,hoverPoints:v}}getPointFromEvent(t){let r=t.target,a;for(;r&&!a;)a=r.point,r=r.parentNode;return a}onTrackerMouseOut(t){let r=this.chart,a=t.relatedTarget,d=r.hoverSeries;this.isDirectTouch=!1,!d||!a||d.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+d.index)&&this.inClass(a,"highcharts-tracker")||d.onMouseOut()}inClass(t,r){let a=t,d;for(;a;){if(d=Tt(a,"class")){if(d.indexOf(r)!==-1)return!0;if(d.indexOf("highcharts-container")!==-1)return!1}a=a.parentElement}}constructor(t,r){var a;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=r,this.chart=t,this.runChartClick=!!((a=r.chart.events)!=null&&a.click),this.pinchDown=[],this.setDOMEvents(),Se(this,"afterInit")}normalize(t,r){let a=t.touches,d=a?a.length?a.item(0):Te(a.changedTouches,t.changedTouches)[0]:t;r||(r=this.getChartPosition());let u=d.pageX-r.left,m=d.pageY-r.top;return Gt(t,{chartX:Math.round(u/=r.scaleX),chartY:Math.round(m/=r.scaleY)})}onContainerClick(t){let r=this.chart,a=r.hoverPoint,d=this.normalize(t),u=r.plotLeft,m=r.plotTop;!r.cancelClick&&(a&&this.inClass(d.target,"highcharts-tracker")?(Se(a.series,"click",Gt(d,{point:a})),r.hoverPoint&&a.firePointEvent("click",d)):(Gt(d,this.getCoordinates(d)),r.isInsidePlot(d.chartX-u,d.chartY-m,{visiblePlotOnly:!0})&&Se(r,"click",d)))}onContainerMouseDown(t){var a;let r=(1&(t.buttons||t.button))==1;t=this.normalize(t),Zt.isFirefox&&t.button!==0&&this.onContainerMouseMove(t),(t.button===void 0||r)&&(this.zoomOption(t),r&&((a=t.preventDefault)==null||a.call(t)),this.dragStart(t))}onContainerMouseLeave(t){let{pointer:r}=St[Te(hi.hoverChartIndex,-1)]||{};t=this.normalize(t),this.onContainerMouseMove(t),r&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(r.reset(),r.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(t){var u;let r=this.chart,a=r.tooltip,d=this.normalize(t);this.setHoverChartIndex(t),(r.mouseIsDown==="mousedown"||this.touchSelect(d))&&this.drag(d),!((u=r.exporting)!=null&&u.openMenu)&&(this.inClass(d.target,"highcharts-tracker")||r.isInsidePlot(d.chartX-r.plotLeft,d.chartY-r.plotTop,{visiblePlotOnly:!0}))&&!(a!=null&&a.shouldStickOnContact(d))&&(this.inClass(d.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(d))}onDocumentTouchEnd(t){this.onDocumentMouseUp(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){let r=this.chart,a=r.tooltip,d=this.chartPosition,u=this.normalize(t,d);!d||r.isInsidePlot(u.chartX-r.plotLeft,u.chartY-r.plotTop,{visiblePlotOnly:!0})||a!=null&&a.shouldStickOnContact(u)||u.target!==r.container.ownerDocument&&this.inClass(u.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){var r,a;(a=(r=St[Te(hi.hoverChartIndex,-1)])==null?void 0:r.pointer)==null||a.drop(t)}pinch(t){let r=this,{chart:a,hasZoom:d,lastTouches:u}=r,m=[].map.call(t.touches||[],C=>r.normalize(C)),v=m.length,k=v===1&&(r.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||r.runChartClick),P=a.tooltip,z=v===1&&Te(P==null?void 0:P.options.followTouchMove,!0);v>1?r.initiated=!0:z&&(r.initiated=!1),d&&r.initiated&&!k&&t.cancelable!==!1&&t.preventDefault(),t.type==="touchstart"?(r.pinchDown=m,r.res=!0,a.mouseDownX=t.chartX):z?this.runPointActions(r.normalize(t)):u&&(Se(a,"touchpan",{originalEvent:t,touches:m},()=>{let C=B=>{let N=B[0],X=B[1]||N;return{x:N.chartX,y:N.chartY,width:X.chartX-N.chartX,height:X.chartY-N.chartY}};a.transform({axes:a.axes.filter(B=>B.zoomEnabled&&(this.zoomHor&&B.horiz||this.zoomVert&&!B.horiz)),to:C(m),from:C(u),trigger:t.type})}),r.res&&(r.res=!1,this.reset(!1,0))),r.lastTouches=m}reset(t,r){let a=this.chart,d=a.hoverSeries,u=a.hoverPoint,m=a.hoverPoints,v=a.tooltip,k=v!=null&&v.shared?m:u;t&&k&&Ue(k).forEach(function(P){P.series.isCartesian&&P.plotX===void 0&&(t=!1)}),t?v&&k&&Ue(k).length&&(v.refresh(k),v.shared&&m?m.forEach(function(P){P.setState(P.state,!0),P.series.isCartesian&&(P.series.xAxis.crosshair&&P.series.xAxis.drawCrosshair(null,P),P.series.yAxis.crosshair&&P.series.yAxis.drawCrosshair(null,P))}):u&&(u.setState(u.state,!0),a.axes.forEach(function(P){P.crosshair&&u.series[P.coll]===P&&P.drawCrosshair(null,u)}))):(u&&u.onMouseOut(),m&&m.forEach(function(P){P.setState()}),d&&d.onMouseOut(),v&&v.hide(r),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),a.axes.forEach(function(P){P.hideCrosshair()}),a.hoverPoints=a.hoverPoint=void 0)}runPointActions(t,r,a){var $;let d=this.chart,u=d.series,m=($=d.tooltip)!=null&&$.options.enabled?d.tooltip:void 0,v=!!m&&m.shared,k=r||d.hoverPoint,P=(k==null?void 0:k.series)||d.hoverSeries,z=(!t||t.type!=="touchmove")&&(!!r||(P==null?void 0:P.directTouch)&&this.isDirectTouch),C=this.getHoverData(k,P,u,z,v,t);k=C.hoverPoint,P=C.hoverSeries;let B=C.hoverPoints,N=(P==null?void 0:P.tooltipOptions.followPointer)&&!P.tooltipOptions.split,X=v&&P&&!P.noSharedTooltip;if(k&&(a||k!==d.hoverPoint||m!=null&&m.isHidden)){if((d.hoverPoints||[]).forEach(function(K){B.indexOf(K)===-1&&K.setState()}),d.hoverSeries!==P&&P.onMouseOver(),this.applyInactiveState(B),(B||[]).forEach(function(K){K.setState("hover")}),d.hoverPoint&&d.hoverPoint.firePointEvent("mouseOut"),!k.series)return;d.hoverPoints=B,d.hoverPoint=k,k.firePointEvent("mouseOver",void 0,()=>{m&&k&&m.refresh(X?B:k,t)})}else if(N&&m&&!m.isHidden){let K=m.getAnchor([{}],t);d.isInsidePlot(K[0],K[1],{visiblePlotOnly:!0})&&m.updatePosition({plotX:K[0],plotY:K[1]})}this.unDocMouseMove||(this.unDocMouseMove=At(d.container.ownerDocument,"mousemove",K=>{var J,lt;return(lt=(J=St[hi.hoverChartIndex??-1])==null?void 0:J.pointer)==null?void 0:lt.onDocumentMouseMove(K)}),this.eventsToUnbind.push(this.unDocMouseMove)),d.axes.forEach(function(K){var mt;let J,lt=((mt=K.crosshair)==null?void 0:mt.snap)??!0;lt&&((J=d.hoverPoint)&&J.series[K.coll]===K||(J=re(B,_t=>{var Lt;return((Lt=_t.series)==null?void 0:Lt[K.coll])===K}))),J||!lt?K.drawCrosshair(t,J):K.hideCrosshair()})}setDOMEvents(){let t=this.chart.container,r=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(At(t,"mouseenter",this.onContainerMouseEnter.bind(this)),At(t,"mouseleave",this.onContainerMouseLeave.bind(this))),hi.unbindDocumentMouseUp.some(d=>d.doc===r)||hi.unbindDocumentMouseUp.push({doc:r,unbind:At(r,"mouseup",this.onDocumentMouseUp.bind(this))});let a=this.chart.renderTo.parentElement;for(;a&&a.tagName!=="BODY";)this.eventsToUnbind.push(At(a,"scroll",()=>{delete this.chartPosition})),a=a.parentElement;this.eventsToUnbind.push(At(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),At(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),hi.unbindDocumentTouchEnd||(hi.unbindDocumentTouchEnd=At(r,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),At(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var u,m;if(!Ct)return;let t=this.pointerCaptureEventsToUnbind,r=this.chart,a=r.container,d=Te((u=r.options.tooltip)==null?void 0:u.followTouchMove,!0)&&r.series.some(v=>v.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&d?(t.push(At(a,"pointerdown",v=>{var k,P;(k=v.target)!=null&&k.hasPointerCapture(v.pointerId)&&((P=v.target)==null||P.releasePointerCapture(v.pointerId))}),At(a,"pointermove",v=>{var k,P;(P=(k=r.pointer)==null?void 0:k.getPointFromEvent(v))==null||P.onMouseOver(v)})),r.styledMode||Yt(a,{"touch-action":"none"}),a.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!d&&(t.forEach(v=>v()),t.length=0,r.styledMode||Yt(a,{"touch-action":Te((m=r.options.chart.style)==null?void 0:m["touch-action"],"manipulation")}),a.className=a.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(t){var d;let r=this.chart,a=Zt.charts[Te(hi.hoverChartIndex,-1)];if(a&&a!==r){let u={relatedTarget:r.container};t&&!(t!=null&&t.relatedTarget)&&Object.assign({},t,u),(d=a.pointer)==null||d.onContainerMouseLeave(t||u)}a!=null&&a.mouseIsDown||(hi.hoverChartIndex=r.index)}touch(t,r){var m;let a,{chart:d,pinchDown:u=[]}=this;this.setHoverChartIndex(),(t=this.normalize(t)).touches.length===1?d.isInsidePlot(t.chartX-d.plotLeft,t.chartY-d.plotTop,{visiblePlotOnly:!0})&&!((m=d.exporting)!=null&&m.openMenu)?(r&&this.runPointActions(t),t.type==="touchmove"&&(a=!!u[0]&&Math.pow(u[0].chartX-t.chartX,2)+Math.pow(u[0].chartY-t.chartY,2)>=16),Te(a,!0)&&this.pinch(t)):r&&this.reset():t.touches.length===2&&this.pinch(t)}touchSelect(t){return!!(this.chart.zooming.singleTouch&&t.touches&&t.touches.length===1)}zoomOption(t){let r=this.chart,a=r.inverted,d=r.zooming.type||"",u,m;/touch/.test(t.type)&&(d=Te(r.zooming.pinchType,d)),this.zoomX=u=/x/.test(d),this.zoomY=m=/y/.test(d),this.zoomHor=u&&!a||m&&a,this.zoomVert=m&&!a||u&&a,this.hasZoom=u||m}}hi.unbindDocumentMouseUp=[],function(T){T.compose=function(t){Ge(Dt,"Core.Pointer")&&At(t,"beforeRender",function(){this.pointer=new T(this,this.options)})}}(hi||(hi={}));let je=hi;(function(T){T.setLength=function(t,r,a){return Array.isArray(t)?(t.length=r,t):t[a?"subarray":"slice"](0,r)},T.splice=function(t,r,a,d,u=[]){if(Array.isArray(t))return Array.isArray(u)||(u=Array.from(u)),{removed:t.splice(r,a,...u),array:t};let m=Object.getPrototypeOf(t).constructor,v=t[d?"subarray":"slice"](r,r+a),k=new m(t.length-a+u.length);return k.set(t.subarray(0,r),0),k.set(u,r),k.set(t.subarray(r+a),r+u.length),{removed:v,array:k}}})(di||(di={}));let{setLength:oi,splice:Ti}=di,{fireEvent:Is,objectEach:is,uniqueKey:Vi}=ti,kr=class{constructor(T={}){this.autoId=!T.id,this.columns={},this.id=T.id||Vi(),this.modified=this,this.rowCount=0,this.versionTag=Vi();let t=0;is(T.columns||{},(r,a)=>{this.columns[a]=r.slice(),t=Math.max(t,r.length)}),this.applyRowCount(t)}applyRowCount(T){this.rowCount=T,is(this.columns,(t,r)=>{t.length!==T&&(this.columns[r]=oi(t,T))})}deleteRows(T,t=1){if(t>0&&T<this.rowCount){let r=0;is(this.columns,(a,d)=>{this.columns[d]=Ti(a,T,t).array,r=a.length}),this.rowCount=r}Is(this,"afterDeleteRows",{rowIndex:T,rowCount:t}),this.versionTag=Vi()}getColumn(T,t){return this.columns[T]}getColumns(T,t){return(T||Object.keys(this.columns)).reduce((r,a)=>(r[a]=this.columns[a],r),{})}getRow(T,t){return(t||Object.keys(this.columns)).map(r=>{var a;return(a=this.columns[r])==null?void 0:a[T]})}setColumn(T,t=[],r=0,a){this.setColumns({[T]:t},r,a)}setColumns(T,t,r){let a=this.rowCount;is(T,(d,u)=>{this.columns[u]=d.slice(),a=d.length}),this.applyRowCount(a),r!=null&&r.silent||(Is(this,"afterSetColumns"),this.versionTag=Vi())}setRow(T,t=this.rowCount,r,a){let{columns:d}=this,u=r?this.rowCount+1:t+1;is(T,(m,v)=>{let k=d[v]||(a==null?void 0:a.addColumns)!==!1&&Array(u);k&&(r?k=Ti(k,t,0,!0,[m]).array:k[t]=m,d[v]=k)}),u>this.rowCount&&this.applyRowCount(u),a!=null&&a.silent||(Is(this,"afterSetRows"),this.versionTag=Vi())}},{extend:Cr,merge:xr,pick:Us}=ti;(function(T){function t(r,a,d){var _t,Lt;let u=this.legendItem=this.legendItem||{},{chart:m,options:v}=this,{baseline:k=0,symbolWidth:P,symbolHeight:z}=r,C=this.symbol||"circle",B=z/2,N=m.renderer,X=u.group,$=k-Math.round((((_t=r.fontMetrics)==null?void 0:_t.b)||z)*(d?.4:.3)),K={},J,lt=v.marker,mt=0;if(m.styledMode||(K["stroke-width"]=Math.min(v.lineWidth||0,24),v.dashStyle?K.dashstyle=v.dashStyle:v.linecap!=="square"&&(K["stroke-linecap"]="round")),u.line=N.path().addClass("highcharts-graph").attr(K).add(X),d&&(u.area=N.path().addClass("highcharts-area").add(X)),K["stroke-linecap"]&&(mt=Math.min(u.line.strokeWidth(),P)/2),P){let Ot=[["M",mt,$],["L",P-mt,$]];u.line.attr({d:Ot}),(Lt=u.area)==null||Lt.attr({d:[...Ot,["L",P-mt,k],["L",mt,k]]})}if(lt&&lt.enabled!==!1&&P){let Ot=Math.min(Us(lt.radius,B),B);C.indexOf("url")===0&&(lt=xr(lt,{width:z,height:z}),Ot=0),u.symbol=J=N.symbol(C,P/2-Ot,$-Ot,2*Ot,2*Ot,Cr({context:"legend"},lt)).addClass("highcharts-point").add(X),J.isMarker=!0}}T.areaMarker=function(r,a){t.call(this,r,a,!0)},T.lineMarker=t,T.rectangle=function(r,a){let d=a.legendItem||{},u=r.options,m=r.symbolHeight,v=u.squareSymbol,k=v?m:r.symbolWidth;d.symbol=this.chart.renderer.rect(v?(r.symbolWidth-m)/2:0,r.baseline-m+1,k,m,Us(r.options.symbolRadius,m/2)).addClass("highcharts-point").attr({zIndex:3}).add(d.group)}})(Ve||(Ve={}));let qo=Ve,{defaultOptions:Fo}=Di,{extend:ss,extendClass:Oa,merge:np}=ti;(function(T){function t(r,a){let d=Fo.plotOptions||{},u=a.defaultOptions,m=a.prototype;return m.type=r,m.pointClass||(m.pointClass=Pt),!T.seriesTypes[r]&&(u&&(d[r]=u),T.seriesTypes[r]=a,!0)}T.seriesTypes=Zt.seriesTypes,T.registerSeriesType=t,T.seriesType=function(r,a,d,u,m){let v=Fo.plotOptions||{};if(a=a||"",v[r]=np(v[a],d),delete T.seriesTypes[r],t(r,Oa(T.seriesTypes[a]||function(){},u)),T.seriesTypes[r].prototype.type=r,m){class k extends Pt{}ss(k.prototype,m),T.seriesTypes[r].prototype.pointClass=k}return T.seriesTypes[r]}})(xi||(xi={}));let ws=xi,{animObject:df,setAnimation:sg}=Jr,{defaultOptions:Qp}=Di,{registerEventOptions:Yr}=th,{svg:Pm,win:cf}=Zt,{seriesTypes:sd}=ws,{format:ap}=Lr,{arrayMax:_h,arrayMin:rg,clamp:xs,correctFloat:og,crisp:ng,defined:Mo,destroyObjectProperties:lp,diffObjects:eo,erase:ag,error:cr,extend:rd,find:jr,fireEvent:Ur,getClosestDistance:pf,getNestedProperty:yr,insertItem:Ea,isArray:Mc,isNumber:Eo,isString:Vr,merge:hp,objectEach:dp,pick:Vs,removeEvent:$a,syncTimeout:cp}=ti;class Ol{constructor(){this.zoneAxis="y"}init(t,r){var k,P,z;let a;Ur(this,"init",{options:r}),this.dataTable??(this.dataTable=new kr);let d=t.series;this.eventsToUnbind=[],this.chart=t,this.options=this.setOptions(r);let u=this.options,m=u.visible!==!1;this.linkedSeries=[],this.bindAxes(),rd(this,{name:u.name,state:"",visible:m,selected:u.selected===!0}),Yr(this,u);let v=u.events;(v!=null&&v.click||(P=(k=u.point)==null?void 0:k.events)!=null&&P.click||u.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(t.hasCartesianSeries=!0),d.length&&(a=d[d.length-1]),this._i=Vs(a==null?void 0:a._i,-1)+1,this.opacity=this.options.opacity,t.orderItems("series",Ea(this,d)),(z=u.dataSorting)!=null&&z.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(u.data,!1),Ur(this,"afterInit")}is(t){return sd[t]&&this instanceof sd[t]}bindAxes(){let t,r=this,a=r.options,d=r.chart;Ur(this,"bindAxes",null,function(){(r.axisTypes||[]).forEach(function(u){(d[u]||[]).forEach(function(m){t=m.options,(Vs(a[u],0)===m.index||a[u]!==void 0&&a[u]===t.id)&&(Ea(r,m.series),r[u]=m,m.isDirty=!0)}),r[u]||r.optionalAxis===u||cr(18,!0,d)})}),Ur(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(t,r){let a=t.marker,d=r.marker||{};return a&&(d.enabled&&!a.enabled||d.symbol!==a.symbol||d.height!==a.height||d.width!==a.width)}autoIncrement(t){let r,a=this.options,{pointIntervalUnit:d,relativeXValue:u}=this.options,m=this.chart.time,v=this.xIncrement??m.parse(a.pointStart)??0;if(this.pointInterval=r=Vs(this.pointInterval,a.pointInterval,1),u&&Eo(t)&&(r*=t),d){let k=m.toParts(v);d==="day"?k[2]+=r:d==="month"?k[1]+=r:d==="year"&&(k[0]+=r),r=m.makeTime.apply(m,k)-v}return u&&Eo(t)?v+r:(this.xIncrement=v+r,v)}setDataSortingOptions(){let t=this.options;rd(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Mo(t.pointRange)||(t.pointRange=1)}setOptions(t){var K,J;let r,a=this.chart,d=a.options.plotOptions,u=a.userOptions||{},m=hp(t),v=a.styledMode,k={plotOptions:d,userOptions:m};Ur(this,"setOptions",k);let P=k.plotOptions[this.type],z=u.plotOptions||{},C=z.series||{},B=Qp.plotOptions[this.type]||{},N=z[this.type]||{};P.dataLabels=this.mergeArrays(B.dataLabels,P.dataLabels),this.userOptions=k.userOptions;let X=hp(P,d.series,N,m);this.tooltipOptions=hp(Qp.tooltip,(K=Qp.plotOptions.series)==null?void 0:K.tooltip,B==null?void 0:B.tooltip,a.userOptions.tooltip,(J=z.series)==null?void 0:J.tooltip,N.tooltip,m.tooltip),this.stickyTracking=Vs(m.stickyTracking,N.stickyTracking,C.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||X.stickyTracking),P.marker===null&&delete X.marker,this.zoneAxis=X.zoneAxis||"y";let $=this.zones=(X.zones||[]).map(lt=>({...lt}));return(X.negativeColor||X.negativeFillColor)&&!X.zones&&(r={value:X[this.zoneAxis+"Threshold"]||X.threshold||0,className:"highcharts-negative"},v||(r.color=X.negativeColor,r.fillColor=X.negativeFillColor),$.push(r)),$.length&&Mo($[$.length-1].value)&&$.push(v?{}:{color:this.color,fillColor:this.fillColor}),Ur(this,"afterSetOptions",{options:X}),X}getName(){return this.options.name??ap(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(t,r,a){let d,u,m=this.chart,v=`${t}Index`,k=`${t}Counter`,P=(a==null?void 0:a.length)||m.options.chart.colorCount;!r&&(Mo(u=Vs(t==="color"?this.options.colorIndex:void 0,this[v]))?d=u:(m.series.length||(m[k]=0),d=m[k]%P,m[k]+=1),a&&(r=a[d])),d!==void 0&&(this[v]=d),this[t]=r}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Qp.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)}getColumn(t,r){return(r?this.dataTable.modified:this.dataTable).getColumn(t,!0)||[]}findPointIndex(t,r){var C;let a,d,u,{id:m,x:v}=t,k=this.points,P=this.options.dataSorting,z=this.cropStart||0;if(m){let B=this.chart.get(m);B instanceof Pt&&(a=B)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let B=N=>!N.touched&&N.index===t.index;if(P!=null&&P.matchByName?B=N=>!N.touched&&N.name===t.name:this.options.relativeXValue&&(B=N=>!N.touched&&N.options.x===t.x),!(a=jr(k,B)))return}return a&&(u=a==null?void 0:a.index)!==void 0&&(d=!0),u===void 0&&Eo(v)&&(u=this.getColumn("x").indexOf(v,r)),u!==-1&&u!==void 0&&this.cropped&&(u=u>=z?u-z:u),!d&&Eo(u)&&((C=k[u])!=null&&C.touched)&&(u=void 0),u}updateData(t,r){var $;let{options:a,requireSorting:d}=this,u=a.dataSorting,m=this.points,v=[],k=t.length===m.length,P,z,C,B,N=!0;if(this.xIncrement=null,t.forEach((K,J)=>{var Ot;let lt,mt=Mo(K)&&this.pointClass.prototype.optionsToObject.call({series:this},K)||{},{id:_t,x:Lt}=mt;_t||Eo(Lt)?((lt=this.findPointIndex(mt,B))===-1||lt===void 0?v.push(K):m[lt]&&K!==((Ot=a.data)==null?void 0:Ot[lt])?(m[lt].update(K,!1,void 0,!1),m[lt].touched=!0,d&&(B=lt+1)):m[lt]&&(m[lt].touched=!0),(!k||J!==lt||u!=null&&u.enabled||this.hasDerivedData)&&(P=!0)):v.push(K)},this),P)for(z=m.length;z--;)(C=m[z])&&!C.touched&&(($=C.remove)==null||$.call(C,!1,r));else k&&!(u!=null&&u.enabled)?(t.forEach((K,J)=>{K===m[J].y||m[J].destroyed||m[J].update(K,!1,void 0,!1)}),v.length=0):N=!1;if(m.forEach(K=>{K&&(K.touched=!1)}),!N)return!1;v.forEach(K=>{this.addPoint(K,!1,void 0,void 0,!1)},this);let X=this.getColumn("x");return this.xIncrement===null&&X.length&&(this.xIncrement=_h(X),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(t,r=!0,a,d){var Nt,zt;let u=this.points,m=(u==null?void 0:u.length)||0,v=this.options,k=this.chart,P=v.dataSorting,z=this.xAxis,C=v.turboThreshold,B=this.dataTable,N=this.dataColumnKeys(),X=this.pointValKey||"y",$=(this.pointArrayMap||[]).length,K=v.keys,J,lt,mt=0,_t=1,Lt;k.options.chart.allowMutatingData||(v.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Lt=hp(!0,t));let Ot=(t=Lt||t||[]).length;if(P!=null&&P.enabled&&(t=this.sortData(t)),k.options.chart.allowMutatingData&&d!==!1&&Ot&&m&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(lt=this.updateData(t,a)),!lt){this.xIncrement=null,this.colorCounter=0;let Xt=C&&!v.relativeXValue&&Ot>C;if(Xt){let se=this.getFirstValidPoint(t),Qt=this.getFirstValidPoint(t,Ot-1,-1),ne=Ae=>!!(Mc(Ae)&&(K||Eo(Ae[0])));if(Eo(se)&&Eo(Qt)){let Ae=[],ai=[];for(let Xe of t)Ae.push(this.autoIncrement()),ai.push(Xe);B.setColumns({x:Ae,[X]:ai})}else if(ne(se)&&ne(Qt))if($){let Ae=+(se.length===$),ai=Array(N.length).fill(0).map(()=>[]);for(let Xe of t){Ae&&ai[0].push(this.autoIncrement());for(let qe=Ae;qe<=$;qe++)(Nt=ai[qe])==null||Nt.push(Xe[qe-Ae])}B.setColumns(N.reduce((Xe,qe,Qe)=>(Xe[qe]=ai[Qe],Xe),{}))}else{K&&(mt=K.indexOf("x"),_t=K.indexOf("y"),mt=mt>=0?mt:0,_t=_t>=0?_t:1),se.length===1&&(_t=0);let Ae=[],ai=[];if(mt===_t)for(let Xe of t)Ae.push(this.autoIncrement()),ai.push(Xe[_t]);else for(let Xe of t)Ae.push(Xe[mt]),ai.push(Xe[_t]);B.setColumns({x:Ae,[X]:ai})}else Xt=!1}if(!Xt){let se=N.reduce((Qt,ne)=>(Qt[ne]=[],Qt),{});for(J=0;J<Ot;J++){let Qt=this.pointClass.prototype.applyOptions.apply({series:this},[t[J]]);for(let ne of N)se[ne][J]=Qt[ne]}B.setColumns(se)}for(Vr(this.getColumn("y")[0])&&cr(14,!0,k),this.data=[],this.options.data=this.userOptions.data=t,J=m;J--;)(zt=u[J])==null||zt.destroy();z&&(z.minRange=z.userMinRange),this.isDirty=k.isDirtyBox=!0,this.isDirtyData=!!u,a=!1}v.legendType==="point"&&(this.processData(),this.generatePoints()),r&&k.redraw(a)}sortData(t){let r=this,a=r.options.dataSorting.sortKey||"y",d=function(u,m){return Mo(m)&&u.pointClass.prototype.optionsToObject.call({series:u},m)||{}};return t.forEach(function(u,m){t[m]=d(r,u),t[m].index=m},this),t.concat().sort((u,m)=>{let v=yr(a,u),k=yr(a,m);return k<v?-1:+(k>v)}).forEach(function(u,m){u.x=m},this),r.linkedSeries&&r.linkedSeries.forEach(function(u){var k;let m=u.options,v=m.data;!((k=m.dataSorting)!=null&&k.enabled)&&v&&(v.forEach(function(P,z){v[z]=d(u,P),t[z]&&(v[z].x=t[z].x,v[z].index=z)}),u.setData(v,!1))}),t}getProcessedData(t){let r=this,{dataTable:a,isCartesian:d,options:u,xAxis:m}=r,v=u.cropThreshold,k=t||r.getExtremesFromAll,P=m==null?void 0:m.logarithmic,z=a.rowCount,C,B,N=0,X,$,K,J=r.getColumn("x"),lt=a,mt=!1;return m&&($=(X=m.getExtremes()).min,K=X.max,mt=!!(m.categories&&!m.names.length),d&&r.sorted&&!k&&(!v||z>v||r.forceCrop)&&(J[z-1]<$||J[0]>K?lt=new kr:r.getColumn(r.pointValKey||"y").length&&(J[0]<$||J[z-1]>K)&&(lt=(C=this.cropData(a,$,K)).modified,N=C.start,B=!0))),J=lt.getColumn("x")||[],{modified:lt,cropped:B,cropStart:N,closestPointRange:pf([P?J.map(P.log2lin):J],()=>r.requireSorting&&!mt&&cr(15,!1,r.chart))}}processData(t){let r=this.xAxis,a=this.dataTable;if(this.isCartesian&&!this.isDirty&&!r.isDirty&&!this.yAxis.isDirty&&!t)return!1;let d=this.getProcessedData();a.modified=d.modified,this.cropped=d.cropped,this.cropStart=d.cropStart,this.closestPointRange=this.basePointRange=d.closestPointRange,Ur(this,"afterProcessData")}cropData(t,r,a){let d=t.getColumn("x",!0)||[],u=d.length,m={},v,k,P=0,z=u;for(v=0;v<u;v++)if(d[v]>=r){P=Math.max(0,v-1);break}for(k=v;k<u;k++)if(d[k]>a){z=k+1;break}for(let C of this.dataColumnKeys()){let B=t.getColumn(C,!0);B&&(m[C]=B.slice(P,z))}return{modified:new kr({columns:m}),start:P,end:z}}generatePoints(){var Lt,Ot,Nt;let t=this.options,r=this.processedData||t.data,a=this.dataTable.modified,d=this.getColumn("x",!0),u=this.pointClass,m=a.rowCount,v=this.cropStart||0,k=this.hasGroupedData,P=t.keys,z=[],C=(Lt=t.dataGrouping)!=null&&Lt.groupAll?v:0,B=(Ot=this.xAxis)==null?void 0:Ot.categories,N=this.pointArrayMap||["y"],X=this.dataColumnKeys(),$,K,J,lt,mt=this.data,_t;if(!mt&&!k){let zt=[];zt.length=(r==null?void 0:r.length)||0,mt=this.data=zt}for(P&&k&&(this.options.keys=!1),lt=0;lt<m;lt++)K=v+lt,k?((J=new u(this,a.getRow(lt,X)||[])).dataGroup=this.groupMap[C+lt],(Nt=J.dataGroup)!=null&&Nt.options&&(J.options=J.dataGroup.options,rd(J,J.dataGroup.options),delete J.dataLabels)):(J=mt[K],_t=r?r[K]:a.getRow(lt,N),J||_t===void 0||(mt[K]=J=new u(this,_t,d[lt]))),J&&(J.index=k?C+lt:K,z[lt]=J,J.category=(B==null?void 0:B[J.x])??J.x,J.key=J.name??J.category);if(this.options.keys=P,mt&&(m!==($=mt.length)||k))for(lt=0;lt<$;lt++)lt!==v||k||(lt+=m),mt[lt]&&(mt[lt].destroyElements(),mt[lt].plotX=void 0);this.data=mt,this.points=z,Ur(this,"afterGeneratePoints")}getXExtremes(t){return{min:rg(t),max:_h(t)}}getExtremes(t,r){var Lt;let{xAxis:a,yAxis:d}=this,u=r||this.getExtremesFromAll||this.options.getExtremesFromAll,m=u&&this.cropped?this.dataTable:this.dataTable.modified,v=m.rowCount,k=t||this.stackedYData,P=k?[k]:((Lt=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:Lt.map(Ot=>m.getColumn(Ot,!0)||[]))||[],z=this.getColumn("x",!0),C=[],B=this.requireSorting&&!this.is("column")?1:0,N=!!d&&d.positiveValuesOnly,X=u||this.cropped||!a,$,K,J,lt=0,mt=0;for(a&&(lt=($=a.getExtremes()).min,mt=$.max),J=0;J<v;J++)if(K=z[J],X||(z[J+B]||K)>=lt&&(z[J-B]||K)<=mt)for(let Ot of P){let Nt=Ot[J];Eo(Nt)&&(Nt>0||!N)&&C.push(Nt)}let _t={activeYData:C,dataMin:rg(C),dataMax:_h(C)};return Ur(this,"afterGetExtremes",{dataExtremes:_t}),_t}applyExtremes(){let t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t,r=0,a=1){let d=t.length,u=r;for(;u>=0&&u<d;){if(Mo(t[u]))return t[u];u+=a}}translate(){var mt;this.generatePoints();let t=this.options,r=t.stacking,a=this.xAxis,d=this.enabledDataSorting,u=this.yAxis,m=this.points,v=m.length,k=this.pointPlacementToXValue(),P=!!k,z=t.threshold,C=t.startFromThreshold?z:0,B=(t==null?void 0:t.nullInteraction)&&u.len,N,X,$,K,J=Number.MAX_VALUE;function lt(_t){return xs(_t,-1e9,1e9)}for(N=0;N<v;N++){let _t,Lt=m[N],Ot=Lt.x,Nt,zt,Xt=Lt.y,se=Lt.low,Qt=r&&((mt=u.stacking)==null?void 0:mt.stacks[(this.negStacks&&Xt<(C?0:z)?"-":"")+this.stackKey]);Lt.plotX=Eo(X=a.translate(Ot,!1,!1,!1,!0,k))?og(lt(X)):void 0,r&&this.visible&&Qt&&Qt[Ot]&&(K=this.getStackIndicator(K,Ot,this.index),!Lt.isNull&&K.key&&(zt=(Nt=Qt[Ot]).points[K.key]),Nt&&Mc(zt)&&(se=zt[0],Xt=zt[1],se===C&&K.key===Qt[Ot].base&&(se=Vs(Eo(z)?z:u.min)),u.positiveValuesOnly&&Mo(se)&&se<=0&&(se=void 0),Lt.total=Lt.stackTotal=Vs(Nt.total),Lt.percentage=Mo(Lt.y)&&Nt.total?Lt.y/Nt.total*100:void 0,Lt.stackY=Xt,this.irregularWidths||Nt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Lt.yBottom=Mo(se)?lt(u.translate(se,!1,!0,!1,!0)):void 0,this.dataModify&&(Xt=this.dataModify.modifyValue(Xt,N)),Eo(Xt)&&Lt.plotX!==void 0?_t=Eo(_t=u.translate(Xt,!1,!0,!1,!0))?lt(_t):void 0:!Eo(Xt)&&B&&(_t=B),Lt.plotY=_t,Lt.isInside=this.isPointInside(Lt),Lt.clientX=P?og(a.translate(Ot,!1,!1,!1,!0,k)):X,Lt.negative=(Lt.y||0)<(z||0),Lt.isNull||Lt.visible===!1||($!==void 0&&(J=Math.min(J,Math.abs(X-$))),$=X),Lt.zone=this.zones.length?Lt.getZone():void 0,!Lt.graphic&&this.group&&d&&(Lt.isNew=!0)}this.closestPointRangePx=J,Ur(this,"afterTranslate")}getValidPoints(t,r,a){let d=this.chart;return(t||this.points||[]).filter(function(u){let{plotX:m,plotY:v}=u;return(!!a||!u.isNull&&!!Eo(v))&&(!r||!!d.isInsidePlot(m,v,{inverted:d.inverted}))&&u.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:t,group:r,markerGroup:a}=this,d=t.sharedClips,u=t.renderer,m=t.getClipBox(this),v=this.getSharedClipKey(),k=d[v];k?k.animate(m):d[v]=k=u.clipRect(m),r&&r.clip(this.options.clip===!1?void 0:k),a&&a.clip()}animate(t){let{chart:r,group:a,markerGroup:d}=this,u=r.inverted,m=df(this.options.animation),v=[this.getSharedClipKey(),m.duration,m.easing,m.defer].join(","),k=r.sharedClips[v],P=r.sharedClips[v+"m"];if(t&&a){let z=r.getClipBox(this);if(k)k.attr("height",z.height);else{z.width=0,u&&(z.x=r.plotHeight),k=r.renderer.clipRect(z),r.sharedClips[v]=k;let C={x:-99,y:-99,width:u?r.plotWidth+199:99,height:u?99:r.plotHeight+199};P=r.renderer.clipRect(C),r.sharedClips[v+"m"]=P}a.clip(k),d==null||d.clip(P)}else if(k&&!k.hasClass("highcharts-animating")){let z=r.getClipBox(this),C=m.step;(d!=null&&d.element.childNodes.length||r.series.length>1)&&(m.step=function(B,N){C&&C.apply(N,arguments),N.prop==="width"&&(P!=null&&P.element)&&P.attr(u?"height":"width",B+99)}),k.addClass("highcharts-animating").animate(z,m)}}afterAnimate(){this.setClip(),dp(this.chart.sharedClips,(t,r,a)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete a[r])}),this.finishedAnimating=!0,Ur(this,"afterAnimate")}drawPoints(t=this.points){let r,a,d,u,m,v,k,P=this.chart,z=P.styledMode,{colorAxis:C,options:B}=this,N=B.marker,X=B.nullInteraction,$=this[this.specialGroup||"markerGroup"],K=this.xAxis,J=Vs(N.enabled,!K||!!K.isRadial||null,this.closestPointRangePx>=N.enabledThreshold*N.radius);if(N.enabled!==!1||this._hasPointMarkers)for(r=0;r<t.length;r++){u=(d=(a=t[r]).graphic)?"animate":"attr",m=a.marker||{},v=!!a.marker;let lt=a.isNull;if((J&&!Mo(m.enabled)||m.enabled)&&(!lt||X)&&a.visible!==!1){let mt=Vs(m.symbol,this.symbol,"rect");k=this.markerAttribs(a,a.selected&&"select"),this.enabledDataSorting&&(a.startXPos=K.reversed?-(k.width||0):K.width);let _t=a.isInside!==!1;if(!d&&_t&&((k.width||0)>0||a.hasImage)&&(a.graphic=d=P.renderer.symbol(mt,k.x,k.y,k.width,k.height,v?m:N).add($),this.enabledDataSorting&&P.hasRendered&&(d.attr({x:a.startXPos}),u="animate")),d&&u==="animate"&&d[_t?"show":"hide"](_t).animate(k),d){let Lt=this.pointAttribs(a,z||!a.selected?void 0:"select");z?C&&d.css({fill:Lt.fill}):d[u](Lt)}d&&d.addClass(a.getClassName(),!0)}else d&&(a.graphic=d.destroy())}}markerAttribs(t,r){let a=this.options,d=a.marker,u=t.marker||{},m=u.symbol||d.symbol,v={},k,P,z=Vs(u.radius,d==null?void 0:d.radius);r&&(k=d.states[r],P=u.states&&u.states[r],z=Vs(P==null?void 0:P.radius,k==null?void 0:k.radius,z&&z+((k==null?void 0:k.radiusPlus)||0))),t.hasImage=m&&m.indexOf("url")===0,t.hasImage&&(z=0);let C=t.pos();return Eo(z)&&C&&(a.crisp&&(C[0]=ng(C[0],t.hasImage?0:m==="rect"?(d==null?void 0:d.lineWidth)||0:1)),v.x=C[0]-z,v.y=C[1]-z),z&&(v.width=v.height=2*z),v}pointAttribs(t,r){var J;let a=this.options,d=a.marker,u=t==null?void 0:t.options,m=(u==null?void 0:u.marker)||{},v=u==null?void 0:u.color,k=t==null?void 0:t.color,P=(J=t==null?void 0:t.zone)==null?void 0:J.color,z,C,B=this.color,N,X,$=Vs(m.lineWidth,d.lineWidth),K=t!=null&&t.isNull&&a.nullInteraction?0:1;return B=v||P||k||B,N=m.fillColor||d.fillColor||B,X=m.lineColor||d.lineColor||B,r=r||"normal",z=d.states[r]||{},$=Vs((C=m.states&&m.states[r]||{}).lineWidth,z.lineWidth,$+Vs(C.lineWidthPlus,z.lineWidthPlus,0)),N=C.fillColor||z.fillColor||N,X=C.lineColor||z.lineColor||X,{stroke:X,"stroke-width":$,fill:N,opacity:K=Vs(C.opacity,z.opacity,K)}}destroy(t){var k,P;let r,a,d=this,u=d.chart,m=/AppleWebKit\/533/.test(cf.navigator.userAgent),v=d.data||[];for(Ur(d,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(d.axisTypes||[]).forEach(function(z){a=d[z],a!=null&&a.series&&(ag(a.series,d),a.isDirty=a.forceRedraw=!0)}),d.legendItem&&d.chart.legend.destroyItem(d),r=v.length;r--;)(P=(k=v[r])==null?void 0:k.destroy)==null||P.call(k);for(let z of d.zones)lp(z,void 0,!0);ti.clearTimeout(d.animationTimeout),dp(d,function(z,C){z instanceof Lo&&!z.survive&&z[m&&C==="group"?"hide":"destroy"]()}),u.hoverSeries===d&&(u.hoverSeries=void 0),ag(u.series,d),u.orderItems("series"),dp(d,function(z,C){t&&C==="hcEvents"||delete d[C]})}applyZones(){let{area:t,chart:r,graph:a,zones:d,points:u,xAxis:m,yAxis:v,zoneAxis:k}=this,{inverted:P,renderer:z}=r,C=this[`${k}Axis`],{isXAxis:B,len:N=0,minPointOffset:X=0}=C||{},$=((a==null?void 0:a.strokeWidth())||0)/2+1,K=(J,lt=0,mt=0)=>{P&&(mt=N-mt);let{translated:_t=0,lineClip:Lt}=J,Ot=mt-_t;Lt==null||Lt.push(["L",lt,Math.abs(Ot)<$?mt-$*(Ot<=0?-1:1):_t])};if(d.length&&(a||t)&&C&&Eo(C.min)){let J=C.getExtremes().max+X,lt=Lt=>{Lt.forEach((Ot,Nt)=>{(Ot[0]==="M"||Ot[0]==="L")&&(Lt[Nt]=[Ot[0],B?N-Ot[1]:Ot[1],B?Ot[2]:N-Ot[2]])})};if(d.forEach(Lt=>{Lt.lineClip=[],Lt.translated=xs(C.toPixels(Vs(Lt.value,J),!0)||0,0,N)}),a&&!this.showLine&&a.hide(),t&&t.hide(),k==="y"&&u.length<m.len)for(let Lt of u){let{plotX:Ot,plotY:Nt,zone:zt}=Lt,Xt=zt&&d[d.indexOf(zt)-1];zt&&K(zt,Ot,Nt),Xt&&K(Xt,Ot,Nt)}let mt=[],_t=C.toPixels(C.getExtremes().min-X,!0);d.forEach(Lt=>{var qe,Qe;let Ot=Lt.lineClip||[],Nt=Math.round(Lt.translated||0);m.reversed&&Ot.reverse();let{clip:zt,simpleClip:Xt}=Lt,se=0,Qt=0,ne=m.len,Ae=v.len;B?(se=Nt,ne=_t):(Qt=Nt,Ae=_t);let ai=[["M",se,Qt],["L",ne,Qt],["L",ne,Ae],["L",se,Ae],["Z"]],Xe=[ai[0],...Ot,ai[1],ai[2],...mt,ai[3],ai[4]];mt=Ot.reverse(),_t=Nt,P&&(lt(Xe),t&&lt(ai)),zt?(zt.animate({d:Xe}),Xt==null||Xt.animate({d:ai})):(zt=Lt.clip=z.path(Xe),t&&(Xt=Lt.simpleClip=z.path(ai))),a&&((qe=Lt.graph)==null||qe.clip(zt)),t&&((Qe=Lt.area)==null||Qe.clip(Xt))})}else this.visible&&(a&&a.show(),t&&t.show())}plotGroup(t,r,a,d,u){let m=this[t],v=!m,k={visibility:a,zIndex:d||.1};return Mo(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(k.opacity=this.opacity),m||(this[t]=m=this.chart.renderer.g().add(u)),m.addClass("highcharts-"+r+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Mo(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(m.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),m.attr(k)[v?"attr":"animate"](this.getPlotBox(r)),m}getPlotBox(t){let r=this.xAxis,a=this.yAxis,d=this.chart,u=d.inverted&&!d.polar&&r&&this.invertible&&t==="series";d.inverted&&(r=a,a=this.xAxis);let m={scale:1,translateX:r?r.left:d.plotLeft,translateY:a?a.top:d.plotTop,name:t};Ur(this,"getPlotBox",m);let{scale:v,translateX:k,translateY:P}=m;return{translateX:k,translateY:P,rotation:90*!!u,rotationOriginX:u?v*(r.len-a.len)/2:0,rotationOriginY:u?v*(r.len+a.len)/2:0,scaleX:u?-v:v,scaleY:v}}removeEvents(t){let{eventsToUnbind:r}=this;t||$a(this),r.length&&(r.forEach(a=>{a()}),r.length=0)}render(){var z,C,B,N,X;let t=this,{chart:r,options:a,hasRendered:d}=t,u=df(a.animation),m=t.visible?"inherit":"hidden",v=a.zIndex,k=r.seriesGroup,P=t.finishedAnimating?0:u.duration;Ur(this,"render"),t.plotGroup("group","series",m,v,k),t.markerGroup=t.plotGroup("markerGroup","markers",m,v,k),a.clip!==!1&&t.setClip(),P&&((z=t.animate)==null||z.call(t,!0)),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),(C=t.drawDataLabels)==null||C.call(t),(B=t.redrawPoints)==null||B.call(t),a.enableMouseTracking&&((N=t.drawTracker)==null||N.call(t)),P&&((X=t.animate)==null||X.call(t)),d||(P&&u.defer&&(P+=u.defer),t.animationTimeout=cp(()=>{t.afterAnimate()},P||0)),t.isDirty=!1,t.hasRendered=!0,Ur(t,"afterRender")}redraw(){let t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,r){let{xAxis:a,yAxis:d}=this,u=this.chart.inverted;return this.searchKDTree({clientX:u?a.len-t.chartY+a.pos:t.chartX-a.pos,plotY:u?d.len-t.chartX+d.pos:t.chartY-d.pos},r,t)}buildKDTree(t){this.buildingKdTree=!0;let r=this,a=r.options,d=a.findNearestPointBy.indexOf("y")>-1?2:1;delete r.kdTree,cp(function(){r.kdTree=function u(m,v,k){let P,z,C=m==null?void 0:m.length;if(C)return P=r.kdAxisArray[v%k],m.sort((B,N)=>(B[P]||0)-(N[P]||0)),{point:m[z=Math.floor(C/2)],left:u(m.slice(0,z),v+1,k),right:u(m.slice(z+1),v+1,k)}}(r.getValidPoints(void 0,!r.directTouch,a==null?void 0:a.nullInteraction),d,d),r.buildingKdTree=!1},a.kdNow||(t==null?void 0:t.type)==="touchstart"?0:1)}searchKDTree(t,r,a,d,u){let m=this,[v,k]=this.kdAxisArray,P=r?"distX":"dist",z=(m.options.findNearestPointBy||"").indexOf("y")>-1?2:1,C=!!m.isBubble,B=d||((X,$,K)=>{let J=X[K]||0,lt=$[K]||0;return[J===lt&&X.index>$.index||J<lt?X:$,!1]}),N=u||((X,$)=>X<$);if(this.kdTree||this.buildingKdTree||this.buildKDTree(a),this.kdTree)return function X($,K,J,lt){var se;let mt=K.point,_t=m.kdAxisArray[J%lt],Lt=mt,Ot=!1;(function(Qt,ne){var vi;let Ae=Qt[v],ai=ne[v],Xe=Mo(Ae)&&Mo(ai)?Ae-ai:null,qe=Qt[k],Qe=ne[k],fi=Mo(qe)&&Mo(Qe)?qe-Qe:0,mi=C&&((vi=ne.marker)==null?void 0:vi.radius)||0;ne.dist=Math.sqrt((Xe&&Xe*Xe||0)+fi*fi)-mi,ne.distX=Mo(Xe)?Math.abs(Xe)-mi:Number.MAX_VALUE})($,mt);let Nt=($[_t]||0)-(mt[_t]||0)+(C&&((se=mt.marker)==null?void 0:se.radius)||0),zt=Nt<0?"left":"right",Xt=Nt<0?"right":"left";return K[zt]&&([Lt,Ot]=B(mt,X($,K[zt],J+1,lt),P)),K[Xt]&&N(Math.sqrt(Nt*Nt),Lt[P],Ot)&&(Lt=B(Lt,X($,K[Xt],J+1,lt),P)[0]),Lt}(t,this.kdTree,z,z)}pointPlacementToXValue(){let{options:t,xAxis:r}=this,a=t.pointPlacement;return a==="between"&&(a=r.reversed?-.5:.5),Eo(a)?a*(t.pointRange||r.pointRange):0}isPointInside(t){let{chart:r,xAxis:a,yAxis:d}=this,{plotX:u=-1,plotY:m=-1}=t;return m>=0&&m<=(d?d.len:r.plotHeight)&&u>=0&&u<=(a?a.len:r.plotWidth)}drawTracker(){var B;let t=this,r=t.options,a=r.trackByArea,d=[].concat((a?t.areaPath:t.graphPath)||[]),u=t.chart,m=u.pointer,v=u.renderer,k=((B=u.options.tooltip)==null?void 0:B.snap)||0,P=()=>{r.enableMouseTracking&&u.hoverSeries!==t&&t.onMouseOver()},z="rgba(192,192,192,"+(Pm?1e-4:.002)+")",C=t.tracker;C?C.attr({d}):t.graph&&(t.tracker=C=v.path(d).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(a?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),u.styledMode||C.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:z,fill:a?z:"none","stroke-width":t.graph.strokeWidth()+(a?0:2*k)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach(N=>{N&&(N.addClass("highcharts-tracker").on("mouseover",P).on("mouseout",X=>{m==null||m.onTrackerMouseOut(X)}),r.cursor&&!u.styledMode&&N.css({cursor:r.cursor}),N.on("touchstart",P))})),Ur(this,"afterDrawTracker")}addPoint(t,r,a,d,u){let m,v,k=this.options,{chart:P,data:z,dataTable:C,xAxis:B}=this,N=(B==null?void 0:B.hasNames)&&B.names,X=k.data,$=this.getColumn("x");r=Vs(r,!0);let K={series:this};this.pointClass.prototype.applyOptions.apply(K,[t]);let J=K.x;if(v=$.length,this.requireSorting&&J<$[v-1])for(m=!0;v&&$[v-1]>J;)v--;C.setRow(K,v,!0,{addColumns:!1}),N&&K.name&&(N[J]=K.name),X==null||X.splice(v,0,t),(m||this.processedData)&&(this.data.splice(v,0,null),this.processData()),k.legendType==="point"&&this.generatePoints(),a&&(z[0]&&z[0].remove?z[0].remove(!1):([z,X].filter(Mo).forEach(lt=>{lt.shift()}),C.deleteRows(0))),u!==!1&&Ur(this,"addPoint",{point:K}),this.isDirty=!0,this.isDirtyData=!0,r&&P.redraw(d)}removePoint(t,r,a){let d=this,{chart:u,data:m,points:v,dataTable:k}=d,P=m[t],z=function(){[(v==null?void 0:v.length)===m.length?v:void 0,m,d.options.data].filter(Mo).forEach(C=>{C.splice(t,1)}),k.deleteRows(t),P==null||P.destroy(),d.isDirty=!0,d.isDirtyData=!0,r&&u.redraw()};sg(a,u),r=Vs(r,!0),P?P.firePointEvent("remove",null,z):z()}remove(t,r,a,d){let u=this,m=u.chart;function v(){u.destroy(d),m.isDirtyLegend=m.isDirtyBox=!0,m.linkSeries(d),Vs(t,!0)&&m.redraw(r)}a!==!1?Ur(u,"remove",null,v):v()}update(t,r){var J,lt;Ur(this,"update",{options:t=eo(t,this.userOptions)});let a=this,d=a.chart,u=a.userOptions,m=a.initialType||a.type,v=d.options.plotOptions,k=sd[m].prototype,P=a.finishedAnimating&&{animation:!1},z={},C,B,N=Ol.keepProps.slice(),X=t.type||u.type||d.options.chart.type,$=!(this.hasDerivedData||X&&X!==this.type||t.keys!==void 0||t.pointStart!==void 0||t.pointInterval!==void 0||t.relativeXValue!==void 0||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(mt=>a.hasOptionChanged(mt)));X=X||m,$?(N.push.apply(N,Ol.keepPropsForPoints),t.visible!==!1&&N.push("area","graph"),a.parallelArrays.forEach(function(mt){N.push(mt+"Data")}),t.data&&(t.dataSorting&&rd(a.options.dataSorting,t.dataSorting),this.setData(t.data,!1))):this.dataTable.modified=this.dataTable,t=hp(u,{index:u.index===void 0?a.index:u.index,pointStart:((J=v==null?void 0:v.series)==null?void 0:J.pointStart)??u.pointStart??a.getColumn("x")[0]},!$&&{data:a.options.data},t,P),$&&t.data&&(t.data=a.options.data),(N=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(N)).forEach(function(mt){N[mt]=a[mt],delete a[mt]});let K=!1;if(sd[X]){if(K=X!==a.type,a.remove(!1,!1,!1,!0),K)if(d.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(a,sd[X].prototype);else{let mt=Object.hasOwnProperty.call(a,"hcEvents")&&a.hcEvents;for(B in k)a[B]=void 0;rd(a,sd[X].prototype),mt?a.hcEvents=mt:delete a.hcEvents}}else cr(17,!0,d,{missingModuleFor:X});if(N.forEach(function(mt){a[mt]=N[mt]}),a.init(d,t),$&&this.points)for(let mt of((C=a.options).visible===!1?(z.graphic=1,z.dataLabel=1):(this.hasMarkerChanged(C,u)&&(z.graphic=1),(lt=a.hasDataLabels)!=null&&lt.call(a)||(z.dataLabel=1)),this.points))mt!=null&&mt.series&&(mt.resolveColor(),Object.keys(z).length&&mt.destroyElements(z),C.showInLegend===!1&&mt.legendItem&&d.legend.destroyItem(mt));a.initialType=m,d.linkSeries(),d.setSortedData(),K&&a.linkedSeries.length&&(a.isDirtyData=!0),Ur(this,"afterUpdate"),Vs(r,!0)&&d.redraw(!!$&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){var v,k;let r=this.chart,a=this.options[t],d=r.options.plotOptions,u=this.userOptions[t],m=Vs((v=d==null?void 0:d[this.type])==null?void 0:v[t],(k=d==null?void 0:d.series)==null?void 0:k[t]);return u&&!Mo(m)?a!==u:a!==Vs(m,a)}onMouseOver(){let t=this.chart,r=t.hoverSeries,a=t.pointer;a==null||a.setHoverChartIndex(),r&&r!==this&&r.onMouseOut(),this.options.events.mouseOver&&Ur(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){let t=this.options,r=this.chart,a=r.tooltip,d=r.hoverPoint;r.hoverSeries=null,d&&d.onMouseOut(),this&&t.events.mouseOut&&Ur(this,"mouseOut"),a&&!this.stickyTracking&&(!a.shared||this.noSharedTooltip)&&a.hide(),r.series.forEach(function(u){u.setState("",!0)})}setState(t,r){let a=this,d=a.options,u=a.graph,m=d.inactiveOtherPoints,v=d.states,k=Vs(v[t||"normal"]&&v[t||"normal"].animation,a.chart.options.chart.animation),P=d.lineWidth,z=d.opacity;if(t=t||"",a.state!==t&&([a.group,a.markerGroup,a.dataLabelsGroup].forEach(function(C){C&&(a.state&&C.removeClass("highcharts-series-"+a.state),t&&C.addClass("highcharts-series-"+t))}),a.state=t,!a.chart.styledMode)){if(v[t]&&v[t].enabled===!1)return;if(t&&(P=v[t].lineWidth||P+(v[t].lineWidthPlus||0),z=Vs(v[t].opacity,z)),u&&!u.dashstyle&&Eo(P))for(let C of[u,...this.zones.map(B=>B.graph)])C==null||C.animate({"stroke-width":P},k);m||[a.group,a.markerGroup,a.dataLabelsGroup,a.labelBySeries].forEach(function(C){C&&C.animate({opacity:z},k)})}r&&m&&a.points&&a.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach(function(r){r.setState&&r.setState(t)})}setVisible(t,r){var k;let a=this,d=a.chart,u=d.options.chart.ignoreHiddenSeries,m=a.visible;a.visible=t=a.options.visible=a.userOptions.visible=t===void 0?!m:t;let v=t?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(P=>{var z;(z=a[P])==null||z[v]()}),(d.hoverSeries===a||((k=d.hoverPoint)==null?void 0:k.series)===a)&&a.onMouseOut(),a.legendItem&&d.legend.colorizeItem(a,t),a.isDirty=!0,a.options.stacking&&d.series.forEach(P=>{P.options.stacking&&P.visible&&(P.isDirty=!0)}),a.linkedSeries.forEach(P=>{P.setVisible(t,!1)}),u&&(d.isDirtyBox=!0),Ur(a,v),r!==!1&&d.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=t===void 0?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Ur(this,t?"select":"unselect")}shouldShowTooltip(t,r,a={}){return a.series=this,a.visiblePlotOnly=!0,this.chart.isInsidePlot(t,r,a)}drawLegendSymbol(t,r){var a;(a=qo[this.options.legendSymbol||"rectangle"])==null||a.call(this,t,r)}}Ol.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:T}=this.series.chart;return typeof this.y!="number"?"":T(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Ol.types=ws.seriesTypes,Ol.registerType=ws.registerSeriesType,Ol.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Ol.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],rd(Ol.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Pt,requireSorting:!0,sorted:!0}),ws.series=Ol;let na=Ol,{animObject:uf,setAnimation:lg}=Jr,{registerEventOptions:hg}=th,{composed:Lh,marginNames:Sc}=Zt,{distribute:Hd}=Ms,{format:fl}=Lr,{addEvent:Tc,createElement:Cm,css:_m,defined:El,discardElement:tu,find:od,fireEvent:So,isNumber:dg,merge:Oh,pick:Ia,pushUnique:Lm,relativeLength:eu,stableSort:nd,syncTimeout:Gd}=ti;class iu{constructor(t,r){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=t,this.setOptions(r),r.enabled&&(this.render(),hg(this,r),Tc(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Tc(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(t){let r=Ia(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=Oh(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=r,this.initialItemY=r-5,this.symbolWidth=Ia(t.symbolWidth,16),this.pages=[],this.proximate=t.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(t,r){let a=this.chart;this.setOptions(Oh(!0,this.options,t)),"events"in this.options&&hg(this,this.options),this.destroy(),a.isDirtyLegend=a.isDirtyBox=!0,Ia(r,!0)&&a.redraw(),So(this,"afterUpdate",{redraw:r})}colorizeItem(t,r){var P;let a=t.color,{area:d,group:u,label:m,line:v,symbol:k}=t.legendItem||{};if((t instanceof na||t instanceof Pt)&&(t.color=((P=t.options)==null?void 0:P.legendSymbolColor)||a),u==null||u[r?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:z={}}=this,C=z.color,{fillColor:B,fillOpacity:N,lineColor:X,marker:$}=t.options,K=J=>(!r&&(J.fill&&(J.fill=C),J.stroke&&(J.stroke=C)),J);m==null||m.css(Oh(r?this.itemStyle:z)),v==null||v.attr(K({stroke:X||t.color})),k&&k.attr(K($&&k.isMarker?t.pointAttribs():{fill:t.color})),d==null||d.attr(K({fill:B||t.color,"fill-opacity":B?1:N??.75}))}t.color=a,So(this,"afterColorizeItem",{item:t,visible:r})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){let{group:r,x:a=0,y:d=0}=t.legendItem||{},u=this.options,m=u.symbolPadding,v=!u.rtl,k=t.checkbox;if(r!=null&&r.element){let P={translateX:v?a:this.legendWidth-a-2*m-4,translateY:d};r[El(r.translateY)?"animate":"attr"](P,void 0,()=>{So(this,"afterPositionItem",{item:t})})}k&&(k.x=a,k.y=d)}destroyItem(t){let r=t.checkbox,a=t.legendItem||{};for(let d of["group","label","line","symbol"])a[d]&&(a[d]=a[d].destroy());r&&tu(r),t.legendItem=void 0}destroy(){for(let t of this.getAllItems())this.destroyItem(t);for(let t of["clipRect","up","down","pager","nav","box","title","group"])this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){var u;let t,r=(u=this.group)==null?void 0:u.alignAttr,a=this.clipHeight||this.legendHeight,d=this.titleHeight;r&&(t=r.translateY,this.allItems.forEach(function(m){let v,k=m.checkbox;k&&(v=t+d+k.y+(this.scrollOffset||0)+3,_m(k,{left:r.translateX+m.checkboxOffset+k.x-20+"px",top:v+"px",display:this.proximate||v>t-6&&v<t+a-6?"":"none"}))},this))}renderTitle(){let t=this.options,r=this.padding,a=t.title,d,u=0;a.text&&(this.title||(this.title=this.chart.renderer.label(a.text,r-3,r-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(a.style),this.title.add(this.group)),a.width||this.title.css({width:this.maxLegendWidth+"px"}),u=(d=this.title.getBBox()).height,this.offsetWidth=d.width,this.contentGroup.attr({translateY:u})),this.titleHeight=u}setText(t){let r=this.options;t.legendItem.label.attr({text:r.labelFormat?fl(r.labelFormat,t,this.chart):r.labelFormatter.call(t)})}renderItem(t){var Nt;let r=t.legendItem=t.legendItem||{},a=this.chart,d=a.renderer,u=this.options,m=u.layout==="horizontal",v=this.symbolWidth,k=u.symbolPadding||0,P=this.itemStyle,z=this.itemHiddenStyle,C=m?Ia(u.itemDistance,20):0,B=!u.rtl,N=!t.series,X=!N&&t.series.drawLegendSymbol?t.series:t,$=X.options,K=!!this.createCheckboxForItem&&$&&$.showCheckbox,J=u.useHTML,lt=t.options.className,mt=r.label,_t=v+k+C+20*!!K;!mt&&(r.group=d.g("legend-item").addClass("highcharts-"+X.type+"-series highcharts-color-"+t.colorIndex+(lt?" "+lt:"")+(N?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),r.label=mt=d.text("",B?v+k:-k,this.baseline||0,J),a.styledMode||mt.css(Oh(t.visible?P:z)),mt.attr({align:B?"left":"right",zIndex:2}).add(r.group),!this.baseline&&(this.fontMetrics=d.fontMetrics(mt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,mt.attr("y",this.baseline),this.symbolHeight=Ia(u.symbolHeight,this.fontMetrics.f),u.squareSymbol&&(this.symbolWidth=Ia(u.symbolWidth,Math.max(this.symbolHeight,16)),_t=this.symbolWidth+k+C+20*!!K,B&&mt.attr("x",this.symbolWidth+k))),X.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,mt,J)),K&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),(a.styledMode||!P.width)&&mt.css({width:(u.itemWidth||this.widthOption||a.spacingBox.width)-_t+"px"}),this.setText(t);let Lt=mt.getBBox(),Ot=((Nt=this.fontMetrics)==null?void 0:Nt.h)||0;t.itemWidth=t.checkboxOffset=u.itemWidth||r.labelWidth||Lt.width+_t,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(r.labelHeight||(Lt.height>1.5*Ot?Lt.height:Ot))}layoutItem(t){let r=this.options,a=this.padding,d=r.layout==="horizontal",u=t.itemHeight,m=this.itemMarginBottom,v=this.itemMarginTop,k=d?Ia(r.itemDistance,20):0,P=this.maxLegendWidth,z=r.alignColumns&&this.totalItemWidth>P?this.maxItemWidth:t.itemWidth,C=t.legendItem||{};d&&this.itemX-a+z>P&&(this.itemX=a,this.lastLineHeight&&(this.itemY+=v+this.lastLineHeight+m),this.lastLineHeight=0),this.lastItemY=v+this.itemY+m,this.lastLineHeight=Math.max(u,this.lastLineHeight),C.x=this.itemX,C.y=this.itemY,d?this.itemX+=z:(this.itemY+=v+u+m,this.lastLineHeight=u),this.offsetWidth=this.widthOption||Math.max((d?this.itemX-a-(t.checkbox?0:k):z)+a,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach(function(r){var d;let a=r==null?void 0:r.options;r&&Ia(a.showInLegend,!El(a.linkedTo)&&void 0,!0)&&(t=t.concat(((d=r.legendItem)==null?void 0:d.labels)||(a.legendType==="point"?r.data:r)))}),So(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){let t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,r){let a=this.chart,d=this.options,u=this.getAlignment();u&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(m,v){m.test(u)&&!El(t[v])&&(a[Sc[v]]=Math.max(a[Sc[v]],a.legend[(v+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][v]*d[v%2?"x":"y"]+Ia(d.margin,12)+r[v]+(a.titleOffset[v]||0)))})}proximatePositions(){let t,r=this.chart,a=[],d=this.options.align==="left";for(let u of(this.allItems.forEach(function(m){let v,k,P=d,z,C;m.yAxis&&(m.xAxis.options.reversed&&(P=!P),m.points&&(v=od(P?m.points:m.points.slice(0).reverse(),function(B){return dg(B.plotY)})),k=this.itemMarginTop+m.legendItem.label.getBBox().height+this.itemMarginBottom,C=m.yAxis.top-r.plotTop,z=m.visible?(v?v.plotY:m.yAxis.height)+(C-.3*k):C+m.yAxis.height,a.push({target:z,size:k,item:m}))},this),Hd(a,r.plotHeight)))t=u.item.legendItem||{},dg(u.pos)&&(t.y=r.plotTop-r.spacing[0]+u.pos)}render(){let t=this.chart,r=t.renderer,a=this.options,d=this.padding,u=this.getAllItems(),m,v,k,P=this.group,z,C=this.box;this.itemX=d,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=eu(a.width,t.spacingBox.width-d),z=t.spacingBox.width-2*d-a.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(z/=2),this.maxLegendWidth=this.widthOption||z,P||(this.group=P=r.g("legend").addClass(a.className||"").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(P),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),nd(u,(B,N)=>{var X,$;return(((X=B.options)==null?void 0:X.legendIndex)||0)-((($=N.options)==null?void 0:$.legendIndex)||0)}),a.reversed&&u.reverse(),this.allItems=u,this.display=m=!!u.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,u.forEach(this.renderItem,this),u.forEach(this.layoutItem,this),v=(this.widthOption||this.offsetWidth)+d,k=this.lastItemY+this.lastLineHeight+this.titleHeight,k=this.handleOverflow(k)+d,C||(this.box=C=r.rect().addClass("highcharts-legend-box").attr({r:a.borderRadius}).add(P)),t.styledMode||C.attr({stroke:a.borderColor,"stroke-width":a.borderWidth||0,fill:a.backgroundColor||"none"}).shadow(a.shadow),v>0&&k>0&&C[C.placed?"animate":"attr"](C.crisp.call({},{x:0,y:0,width:v,height:k},C.strokeWidth())),P[m?"show":"hide"](),t.styledMode&&P.getStyle("display")==="none"&&(v=k=0),this.legendWidth=v,this.legendHeight=k,m&&this.align(),this.proximate||this.positionItems(),So(this,"afterRender")}align(t=this.chart.spacingBox){let r=this.chart,a=this.options,d=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&r.titleOffset[0]>0?d+=r.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&r.titleOffset[2]>0&&(d-=r.titleOffset[2]),d!==t.y&&(t=Oh(t,{y:d})),r.hasRendered||(this.group.placed=!1),this.group.align(Oh(a,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":a.verticalAlign}),!0,t)}handleOverflow(t){let r=this,a=this.chart,d=a.renderer,u=this.options,m=u.y,v=u.verticalAlign==="top",k=this.padding,P=u.maxHeight,z=u.navigation,C=Ia(z.animation,!0),B=z.arrowSize||12,N=this.pages,X=this.allItems,$=function(zt){typeof zt=="number"?Nt.attr({height:zt}):Nt&&(r.clipRect=Nt.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=zt?"rect("+k+"px,9999px,"+(k+zt)+"px,0)":"auto")},K=function(zt){return r[zt]=d.circle(0,0,1.3*B).translate(B/2,B/2).add(Ot),a.styledMode||r[zt].attr("fill","rgba(0,0,0,0.0001)"),r[zt]},J,lt,mt,_t,Lt=a.spacingBox.height+(v?-m:m)-k,Ot=this.nav,Nt=this.clipRect;return u.layout!=="horizontal"||u.verticalAlign==="middle"||u.floating||(Lt/=2),P&&(Lt=Math.min(Lt,P)),N.length=0,t&&Lt>0&&t>Lt&&z.enabled!==!1?(this.clipHeight=J=Math.max(Lt-20-this.titleHeight-k,0),this.currentPage=Ia(this.currentPage,1),this.fullHeight=t,X.forEach((zt,Xt)=>{let se=(mt=zt.legendItem||{}).y||0,Qt=Math.round(mt.label.getBBox().height),ne=N.length;(!ne||se-N[ne-1]>J&&(lt||se)!==N[ne-1])&&(N.push(lt||se),ne++),mt.pageIx=ne-1,lt&&_t&&(_t.pageIx=ne-1),Xt===X.length-1&&se+Qt-N[ne-1]>J&&se>N[ne-1]&&(N.push(se),mt.pageIx=ne),se!==lt&&(lt=se),_t=mt}),Nt||(Nt=r.clipRect=d.clipRect(0,k-2,9999,0),r.contentGroup.clip(Nt)),$(J),Ot||(this.nav=Ot=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,B,B).add(Ot),K("upTracker").on("click",function(){r.scroll(-1,C)}),this.pager=d.text("",15,10).addClass("highcharts-legend-navigation"),!a.styledMode&&z.style&&this.pager.css(z.style),this.pager.add(Ot),this.down=d.symbol("triangle-down",0,0,B,B).add(Ot),K("downTracker").on("click",function(){r.scroll(1,C)})),r.scroll(0),t=Lt):Ot&&($(),this.nav=Ot.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,r){let a=this.chart,d=this.pages,u=d.length,m=this.clipHeight,v=this.options.navigation,k=this.pager,P=this.padding,z=this.currentPage+t;z>u&&(z=u),z>0&&(r!==void 0&&lg(r,a),this.nav.attr({translateX:P,translateY:m+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(C){C.attr({class:z===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),k.attr({text:z+"/"+u}),[this.down,this.downTracker].forEach(function(C){C.attr({x:18+this.pager.getBBox().width,class:z===u?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),a.styledMode||(this.up.attr({fill:z===1?v.inactiveColor:v.activeColor}),this.upTracker.css({cursor:z===1?"default":"pointer"}),this.down.attr({fill:z===u?v.inactiveColor:v.activeColor}),this.downTracker.css({cursor:z===u?"default":"pointer"})),this.scrollOffset=-d[z-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=z,this.positionCheckboxes(),Gd(()=>{So(this,"afterScroll",{currentPage:z})},uf(Ia(r,a.renderer.globalAnimation,!0)).duration))}setItemEvents(t,r,a){let d=this,u=t.legendItem||{},m=d.chart.renderer.boxWrapper,v=t instanceof Pt,k=t instanceof na,P="highcharts-legend-"+(v?"point":"series")+"-active",z=d.chart.styledMode,C=a?[r,u.symbol]:[u.group],B=N=>{d.allItems.forEach(X=>{t!==X&&[X].concat(X.linkedSeries||[]).forEach($=>{$.setState(N,!v)})})};for(let N of C)N&&N.on("mouseover",function(){t.visible&&B("inactive"),t.setState("hover"),t.visible&&m.addClass(P),z||r.css(d.options.itemHoverStyle)}).on("mouseout",function(){d.chart.styledMode||r.css(Oh(t.visible?d.itemStyle:d.itemHiddenStyle)),B(""),m.removeClass(P),t.setState()}).on("click",function(X){let $=function(){t.setVisible&&t.setVisible(),B(t.visible?"inactive":"")};m.removeClass(P),So(d,"itemClick",{browserEvent:X,legendItem:t},$),v?t.firePointEvent("legendItemClick",{browserEvent:X}):k&&So(t,"legendItemClick",{browserEvent:X})})}createCheckboxForItem(t){t.checkbox=Cm("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Tc(t.checkbox,"click",function(r){let a=r.target;So(t.series||t,"checkboxClick",{checked:a.checked,item:t},function(){t.select()})})}}(function(T){T.compose=function(t){Lm(Lh,"Core.Legend")&&Tc(t,"beforeMargins",function(){this.legend=new T(this,this.options.legend)})}})(iu||(iu={}));let su=iu,{animate:Ac,animObject:ff,setAnimation:Pc}=Jr,{defaultOptions:oh}=Di,{numberFormat:Xd}=Lr,{registerEventOptions:qa}=th,{charts:Ba,doc:Yd,marginNames:ru,svg:gf,win:pp}=Zt,{seriesTypes:gl}=ws,{addEvent:aa,attr:ys,createElement:ou,css:Ka,defined:ad,diffObjects:Eh,discardElement:ld,erase:Cc,error:as,extend:nh,find:Io,fireEvent:Hs,getAlignFactor:jd,getStyle:nu,isArray:Ud,isNumber:la,isObject:mf,isString:Ir,merge:ah,objectEach:au,pick:Zr,pInt:Vd,relativeLength:lu,removeEvent:hu,splat:lh,syncTimeout:du,uniqueKey:cg}=ti;class Zd{static chart(t,r,a){return new Zd(t,r,a)}constructor(t,r,a){this.sharedClips={};let d=[...arguments];(Ir(t)||t.nodeName)&&(this.renderTo=d.shift()),this.init(d[0],d[1])}setZoomOptions(){let t=this.options.chart,r=t.zooming;this.zooming={...r,type:Zr(t.zoomType,r.type),key:Zr(t.zoomKey,r.key),pinchType:Zr(t.pinchType,r.pinchType),singleTouch:Zr(t.zoomBySingleTouch,r.singleTouch,!1),resetButton:ah(r.resetButton,t.resetZoomButton)}}init(t,r){Hs(this,"init",{args:arguments},function(){var m;let a=ah(oh,t),d=a.chart,u=this.renderTo||d.renderTo;this.userOptions=nh({},t),(this.renderTo=Ir(u)?Yd.getElementById(u):u)||as(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=r,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.locale=a.lang.locale??((m=this.renderTo.closest("[lang]"))==null?void 0:m.lang),this.time=new ji(nh(a.time||{},{locale:this.locale}),a.lang),a.time=this.time.options,this.numberFormatter=(d.numberFormatter||Xd).bind(this),this.styledMode=d.styledMode,this.hasCartesianSeries=d.showAxes,this.index=Ba.length,Ba.push(this),Zt.chartCount++,qa(this,d),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Hs(this,"afterInit"),this.firstRender()})}initSeries(t){let r=this.options.chart,a=t.type||r.type,d=gl[a];d||as(17,!0,this,{missingModuleFor:a});let u=new d;return typeof u.init=="function"&&u.init(this,t),u}setSortedData(){this.getSeriesOrderByLinks().forEach(function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(t,r){return t.linkedSeries.length||r.linkedSeries.length?r.linkedSeries.length-t.linkedSeries.length:0})}orderItems(t,r=0){let a=this[t],d=this.options[t]=lh(this.options[t]).slice(),u=this.userOptions[t]=this.userOptions[t]?lh(this.userOptions[t]).slice():[];if(this.hasRendered&&(d.splice(r),u.splice(r)),a)for(let m=r,v=a.length;m<v;++m){let k=a[m];k&&(k.index=m,k instanceof na&&(k.name=k.getName()),k.options.isInternal||(d[m]=k.options,u[m]=k.userOptions))}}getClipBox(t,r){var z,C;let a=this.inverted,{xAxis:d,yAxis:u}=t||{},{x:m,y:v,width:k,height:P}=ah(this.clipBox);return t&&(d&&d.len!==this.plotSizeX&&(k=d.len),u&&u.len!==this.plotSizeY&&(P=u.len),a&&!t.invertible&&([k,P]=[P,k])),r&&(m+=((z=a?u:d)==null?void 0:z.pos)??this.plotLeft,v+=((C=a?d:u)==null?void 0:C.pos)??this.plotTop),{x:m,y:v,width:k,height:P}}isInsidePlot(t,r,a={}){var K;let{inverted:d,plotBox:u,plotLeft:m,plotTop:v,scrollablePlotBox:k}=this,{scrollLeft:P=0,scrollTop:z=0}=a.visiblePlotOnly&&((K=this.scrollablePlotArea)==null?void 0:K.scrollingContainer)||{},C=a.series,B=a.visiblePlotOnly&&k||u,N=a.inverted?r:t,X=a.inverted?t:r,$={x:N,y:X,isInsidePlot:!0,options:a};if(!a.ignoreX){let J=C&&(d&&!this.polar?C.yAxis:C.xAxis)||{pos:m,len:1/0},lt=a.paneCoordinates?J.pos+N:m+N;lt>=Math.max(P+m,J.pos)&&lt<=Math.min(P+m+B.width,J.pos+J.len)||($.isInsidePlot=!1)}if(!a.ignoreY&&$.isInsidePlot){let J=!d&&a.axis&&!a.axis.isXAxis&&a.axis||C&&(d?C.xAxis:C.yAxis)||{pos:v,len:1/0},lt=a.paneCoordinates?J.pos+X:v+X;lt>=Math.max(z+v,J.pos)&&lt<=Math.min(z+v+B.height,J.pos+J.len)||($.isInsidePlot=!1)}return Hs(this,"afterIsInsidePlot",$),$.isInsidePlot}redraw(t){Hs(this,"beforeRedraw");let r=this.hasCartesianSeries?this.axes:this.colorAxis||[],a=this.series,d=this.pointer,u=this.legend,m=this.userOptions.legend,v=this.renderer,k=v.isHidden(),P=[],z,C,B,N=this.isDirtyBox,X=this.isDirtyLegend,$;for(v.rootFontSize=v.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Pc(!!this.hasRendered&&t,this),k&&this.temporaryDisplay(),this.layOutTitles(!1),B=a.length;B--;)if((($=a[B]).options.stacking||$.options.centerInCategory)&&(C=!0,$.isDirty)){z=!0;break}if(z)for(B=a.length;B--;)($=a[B]).options.stacking&&($.isDirty=!0);a.forEach(function(K){K.isDirty&&(K.options.legendType==="point"?(typeof K.updateTotals=="function"&&K.updateTotals(),X=!0):m&&(m.labelFormatter||m.labelFormat)&&(X=!0)),K.isDirtyData&&Hs(K,"updatedData")}),X&&u&&u.options.enabled&&(u.render(),this.isDirtyLegend=!1),C&&this.getStacks(),r.forEach(function(K){K.updateNames(),K.setScale()}),this.getMargins(),r.forEach(function(K){K.isDirty&&(N=!0)}),r.forEach(function(K){let J=K.min+","+K.max;K.extKey!==J&&(K.extKey=J,P.push(function(){Hs(K,"afterSetExtremes",nh(K.eventArgs,K.getExtremes())),delete K.eventArgs})),(N||C)&&K.redraw()}),N&&this.drawChartBox(),Hs(this,"predraw"),a.forEach(function(K){(N||K.isDirty)&&K.visible&&K.redraw(),K.isDirtyData=!1}),d&&d.reset(!0),v.draw(),Hs(this,"redraw"),Hs(this,"render"),k&&this.temporaryDisplay(!0),P.forEach(function(K){K.call()})}get(t){let r=this.series;function a(u){return u.id===t||u.options&&u.options.id===t}let d=Io(this.axes,a)||Io(this.series,a);for(let u=0;!d&&u<r.length;u++)d=Io(r[u].points||[],a);return d}createAxes(){let t=this.userOptions;for(let r of(Hs(this,"createAxes"),["xAxis","yAxis"]))for(let a of t[r]=lh(t[r]||{}))new nr(this,a,r);Hs(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((t,r)=>(r.getPointsCollection().forEach(a=>{Zr(a.selectedStaging,a.selected)&&t.push(a)}),t),[])}getSelectedSeries(){return this.series.filter(t=>t.selected)}setTitle(t,r,a){this.applyDescription("title",t),this.applyDescription("subtitle",r),this.applyDescription("caption",void 0),this.layOutTitles(a)}applyDescription(t,r){var m;let a=this,d=this.options[t]=ah(this.options[t],r),u=this[t];u&&r&&(this[t]=u=u.destroy()),d&&!u&&((u=this.renderer.text(d.text,0,0,d.useHTML).attr({align:d.align,class:"highcharts-"+t,zIndex:d.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(v,k){a.applyDescription(t,v),a.layOutTitles(k)},this.styledMode||u.css(nh(t==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},d.style)),u.textPxLength=u.getBBox().width,u.css({whiteSpace:(m=d.style)==null?void 0:m.whiteSpace}),this[t]=u)}layOutTitles(t=!0){var v,k,P,z;let r=[0,0,0],{options:a,renderer:d,spacingBox:u}=this;["title","subtitle","caption"].forEach(C=>{var K;let B=this[C],N=this.options[C],X=ah(u),$=(B==null?void 0:B.textPxLength)||0;if(B&&N){Hs(this,"layOutTitle",{alignTo:X,key:C,textPxLength:$});let J=d.fontMetrics(B),lt=J.b,mt=J.h,_t=N.verticalAlign||"top",Lt=_t==="top",Ot=Lt&&N.minScale||1,Nt=C==="title"?Lt?-3:0:Lt?r[0]+2:0,zt=Math.min(X.width/$,1),Xt=Math.max(Ot,zt),se=ah({y:_t==="bottom"?lt:Nt+lt},{align:C==="title"?zt<Ot?"left":"center":(K=this.title)==null?void 0:K.alignValue},N),Qt=(N.width||(zt>Ot?this.chartWidth:X.width)/Xt)+"px";B.alignValue!==se.align&&(B.placed=!1);let ne=Math.round(B.css({width:Qt}).getBBox(N.useHTML).height);if(se.height=ne,B.align(se,!1,X).attr({align:se.align,scaleX:Xt,scaleY:Xt,"transform-origin":`${X.x+$*Xt*jd(se.align)} ${mt}`}),!N.floating){let Ae=ne*(ne<1.2*mt?1:Xt);_t==="top"?r[0]=Math.ceil(r[0]+Ae):_t==="bottom"&&(r[2]=Math.ceil(r[2]+Ae))}}},this),r[0]&&(((v=a.title)==null?void 0:v.verticalAlign)||"top")==="top"&&(r[0]+=((k=a.title)==null?void 0:k.margin)||0),r[2]&&((P=a.caption)==null?void 0:P.verticalAlign)==="bottom"&&(r[2]+=((z=a.caption)==null?void 0:z.margin)||0);let m=!this.titleOffset||this.titleOffset.join(",")!==r.join(",");this.titleOffset=r,Hs(this,"afterLayOutTitles"),!this.isDirtyBox&&m&&(this.isDirtyBox=this.isDirtyLegend=m,this.hasRendered&&t&&this.isDirtyBox&&this.redraw())}getContainerBox(){let t=[].map.call(this.renderTo.children,a=>{if(a!==this.container){let d=a.style.display;return a.style.display="none",[a,d]}}),r={width:nu(this.renderTo,"width",!0)||0,height:nu(this.renderTo,"height",!0)||0};return t.filter(Boolean).forEach(([a,d])=>{a.style.display=d}),r}getChartSize(){var m;let t=this.options.chart,r=t.width,a=t.height,d=this.getContainerBox(),u=d.height<=1||!((m=this.renderTo.parentElement)!=null&&m.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,r||d.width||600),this.chartHeight=Math.max(0,lu(a,this.chartWidth)||(u?400:d.height)),this.containerBox=d}temporaryDisplay(t){let r=this.renderTo,a;if(t)for(;r!=null&&r.style;)r.hcOrigStyle&&(Ka(r,r.hcOrigStyle),delete r.hcOrigStyle),r.hcOrigDetached&&(Yd.body.removeChild(r),r.hcOrigDetached=!1),r=r.parentNode;else for(;r!=null&&r.style&&(Yd.body.contains(r)||r.parentNode||(r.hcOrigDetached=!0,Yd.body.appendChild(r)),(nu(r,"display",!1)==="none"||r.hcOricDetached)&&(r.hcOrigStyle={display:r.style.display,height:r.style.height,overflow:r.style.overflow},a={display:"block",overflow:"hidden"},r!==this.renderTo&&(a.height=0),Ka(r,a),r.offsetWidth||r.style.setProperty("display","block","important")),(r=r.parentNode)!==Yd.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){var B,N;let t,r=this.options,a=r.chart,d="data-highcharts-chart",u=cg(),m=this.renderTo,v=Vd(ys(m,d));la(v)&&Ba[v]&&Ba[v].hasRendered&&Ba[v].destroy(),ys(m,d,this.index),m.innerHTML=tr.emptyHTML,a.skipClone||m.offsetWidth||this.temporaryDisplay(),this.getChartSize();let k=this.chartHeight,P=this.chartWidth;Ka(m,{overflow:"hidden"}),this.styledMode||(t=nh({position:"relative",overflow:"hidden",width:P+"px",height:k+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},a.style||{}));let z=ou("div",{id:u},t,m);this.container=z,this.getChartSize(),P!==this.chartWidth&&(P=this.chartWidth,this.styledMode||Ka(z,{width:Zr((B=a.style)==null?void 0:B.width,P+"px")})),this.containerBox=this.getContainerBox(),this._cursor=z.style.cursor;let C=a.renderer||!gf?Ws.getRendererType(a.renderer):$o;if(this.renderer=new C(z,P,k,void 0,a.forExport,(N=r.exporting)==null?void 0:N.allowHTML,this.styledMode),Pc(void 0,this),this.setClassName(a.className),this.styledMode)for(let X in r.defs)this.renderer.definition(r.defs[X]);else this.renderer.setStyle(a.style);this.renderer.chartIndex=this.index,Hs(this,"afterGetContainer")}getMargins(t){var u;let{spacing:r,margin:a,titleOffset:d}=this;this.resetMargins(),d[0]&&!ad(a[0])&&(this.plotTop=Math.max(this.plotTop,d[0]+r[0])),d[2]&&!ad(a[2])&&(this.marginBottom=Math.max(this.marginBottom,d[2]+r[2])),(u=this.legend)!=null&&u.display&&this.legend.adjustMargins(a,r),Hs(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){let t=this,r=t.axisOffset=[0,0,0,0],a=t.colorAxis,d=t.margin,u=function(m){m.forEach(function(v){v.visible&&v.getOffset()})};t.hasCartesianSeries?u(t.axes):a!=null&&a.length&&u(a),ru.forEach(function(m,v){ad(d[v])||(t[m]+=r[v])}),t.setChartSize()}getOptions(){return Eh(this.userOptions,oh)}reflow(t){var u,m;let r=this,a=r.containerBox,d=r.getContainerBox();(u=r.pointer)==null||delete u.chartPosition,!((m=r.exporting)!=null&&m.isPrinting)&&!r.isResizing&&a&&d.width&&((d.width!==a.width||d.height!==a.height)&&(ti.clearTimeout(r.reflowTimeout),r.reflowTimeout=du(function(){r.container&&r.setSize(void 0,void 0,!1)},100*!!t)),r.containerBox=d)}setReflow(){let t=this,r=a=>{var d;(d=t.options)!=null&&d.chart.reflow&&t.hasLoaded&&t.reflow(a)};if(typeof ResizeObserver=="function")new ResizeObserver(r).observe(t.renderTo);else{let a=aa(pp,"resize",r);aa(this,"destroy",a)}}setSize(t,r,a){let d=this,u=d.renderer;d.isResizing+=1,Pc(a,d);let m=u.globalAnimation;d.oldChartHeight=d.chartHeight,d.oldChartWidth=d.chartWidth,t!==void 0&&(d.options.chart.width=t),r!==void 0&&(d.options.chart.height=r),d.getChartSize();let{chartWidth:v,chartHeight:k,scrollablePixelsX:P=0,scrollablePixelsY:z=0}=d;(d.isDirtyBox||v!==d.oldChartWidth||k!==d.oldChartHeight)&&(d.styledMode||(m?Ac:Ka)(d.container,{width:`${v+P}px`,height:`${k+z}px`},m),d.setChartSize(!0),u.setSize(v,k,m),d.axes.forEach(function(C){C.isDirty=!0,C.setScale()}),d.isDirtyLegend=!0,d.isDirtyBox=!0,d.layOutTitles(),d.getMargins(),d.redraw(m),d.oldChartHeight=void 0,Hs(d,"resize"),setTimeout(()=>{d&&Hs(d,"endResize")},ff(m).duration)),d.isResizing-=1}setChartSize(t){let r,a,d,u,{chartHeight:m,chartWidth:v,inverted:k,spacing:P,renderer:z}=this,C=this.clipOffset,B=Math[k?"floor":"round"];this.plotLeft=r=Math.round(this.plotLeft),this.plotTop=a=Math.round(this.plotTop),this.plotWidth=d=Math.max(0,Math.round(v-r-(this.marginRight??0))),this.plotHeight=u=Math.max(0,Math.round(m-a-(this.marginBottom??0))),this.plotSizeX=k?u:d,this.plotSizeY=k?d:u,this.spacingBox=z.spacingBox={x:P[3],y:P[0],width:v-P[3]-P[1],height:m-P[0]-P[2]},this.plotBox=z.plotBox={x:r,y:a,width:d,height:u},C&&(this.clipBox={x:B(C[3]),y:B(C[0]),width:B(this.plotSizeX-C[1]-C[3]),height:B(this.plotSizeY-C[0]-C[2])}),t||(this.axes.forEach(function(N){N.setAxisSize(),N.setAxisTranslation()}),z.alignElements()),Hs(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){Hs(this,"resetMargins");let t=this,r=t.options.chart,a=r.plotBorderWidth||0,d=Math.round(a)/2;["margin","spacing"].forEach(function(u){let m=r[u],v=mf(m)?m:[m,m,m,m];["Top","Right","Bottom","Left"].forEach(function(k,P){t[u][P]=Zr(r[u+k],v[P])})}),ru.forEach(function(u,m){t[u]=Zr(t.margin[m],t.spacing[m])}),t.axisOffset=[0,0,0,0],t.clipOffset=[d,d,d,d],t.plotBorderWidth=a}drawChartBox(){let t=this.options.chart,r=this.renderer,a=this.chartWidth,d=this.chartHeight,u=this.styledMode,m=this.plotBGImage,v=t.backgroundColor,k=t.plotBackgroundColor,P=t.plotBackgroundImage,z=this.plotLeft,C=this.plotTop,B=this.plotWidth,N=this.plotHeight,X=this.plotBox,$=this.clipRect,K=this.clipBox,J=this.chartBackground,lt=this.plotBackground,mt=this.plotBorder,_t,Lt,Ot,Nt="animate";J||(this.chartBackground=J=r.rect().addClass("highcharts-background").add(),Nt="attr"),u?_t=Lt=J.strokeWidth():(Lt=(_t=t.borderWidth||0)+8*!!t.shadow,Ot={fill:v||"none"},(_t||J["stroke-width"])&&(Ot.stroke=t.borderColor,Ot["stroke-width"]=_t),J.attr(Ot).shadow(t.shadow)),J[Nt]({x:Lt/2,y:Lt/2,width:a-Lt-_t%2,height:d-Lt-_t%2,r:t.borderRadius}),Nt="animate",lt||(Nt="attr",this.plotBackground=lt=r.rect().addClass("highcharts-plot-background").add()),lt[Nt](X),!u&&(lt.attr({fill:k||"none"}).shadow(t.plotShadow),P&&(m?(P!==m.attr("href")&&m.attr("href",P),m.animate(X)):this.plotBGImage=r.image(P,z,C,B,N).add())),$?$.animate({width:K.width,height:K.height}):this.clipRect=r.clipRect(K),Nt="animate",mt||(Nt="attr",this.plotBorder=mt=r.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u||mt.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),mt[Nt](mt.crisp(X,-mt.strokeWidth())),this.isDirtyBox=!1,Hs(this,"afterDrawChartBox")}propFromSeries(){let t,r,a,d=this,u=d.options.chart,m=d.options.series;["inverted","angular","polar"].forEach(function(v){for(r=gl[u.type],a=u[v]||r&&r.prototype[v],t=m==null?void 0:m.length;!a&&t--;)(r=gl[m[t].type])&&r.prototype[v]&&(a=!0);d[v]=a})}linkSeries(t){let r=this,a=r.series;a.forEach(function(d){d.linkedSeries.length=0}),a.forEach(function(d){let{linkedTo:u}=d.options;if(Ir(u)){let m;(m=u===":previous"?r.series[d.index-1]:r.get(u))&&m.linkedParent!==d&&(m.linkedSeries.push(d),d.linkedParent=m,m.enabledDataSorting&&d.setDataSortingOptions(),d.visible=Zr(d.options.visible,m.options.visible,d.visible))}}),Hs(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach(function(t){t.translate(),t.render()})}render(){var z;let t=this.axes,r=this.colorAxis,a=this.renderer,d=this.options.chart.axisLayoutRuns||2,u=C=>{C.forEach(B=>{B.visible&&B.render()})},m=0,v=!0,k,P=0;for(let C of(this.setTitle(),Hs(this,"beforeMargins"),(z=this.getStacks)==null||z.call(this),this.getMargins(!0),this.setChartSize(),t)){let{options:B}=C,{labels:N}=B;if(this.hasCartesianSeries&&C.horiz&&C.visible&&N.enabled&&C.series.length&&C.coll!=="colorAxis"&&!this.polar){m=B.tickLength,C.createGroups();let X=new Er(C,0,"",!0),$=X.createLabel("x",N);if(X.destroy(),$&&Zr(N.reserveSpace,!la(B.crossing))&&(m=$.getBBox().height+N.distance+Math.max(B.offset||0,0)),m){$==null||$.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-m,0);(v||k||d>1)&&P<d;){let C=this.plotWidth,B=this.plotHeight;for(let N of t)P===0?N.setScale():(N.horiz&&v||!N.horiz&&k)&&N.setTickInterval(!0);P===0?this.getAxisMargins():this.getMargins(),v=C/this.plotWidth>(P?1:1.1),k=B/this.plotHeight>(P?1:1.05),P++}this.drawChartBox(),this.hasCartesianSeries?u(t):r!=null&&r.length&&u(r),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=a.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){let r=this,a=ah(!0,this.options.credits,t);a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(pp.location.href=a.href)}).attr({align:a.position.align,zIndex:8}),r.styledMode||this.credits.css(a.style),this.credits.add().align(a.position),this.credits.update=function(d){r.credits=r.credits.destroy(),r.addCredits(d)})}destroy(){var v,k;let t,r=this,a=r.axes,d=r.series,u=r.container,m=u==null?void 0:u.parentNode;for(Hs(r,"destroy"),r.renderer.forExport?Cc(Ba,r):Ba[r.index]=void 0,Zt.chartCount--,r.renderTo.removeAttribute("data-highcharts-chart"),hu(r),t=a.length;t--;)a[t]=a[t].destroy();for((k=(v=this.scroller)==null?void 0:v.destroy)==null||k.call(v),t=d.length;t--;)d[t]=d[t].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(P=>{var z,C;r[P]=(C=(z=r[P])==null?void 0:z.destroy)==null?void 0:C.call(z)}),u&&(u.innerHTML=tr.emptyHTML,hu(u),m&&ld(u)),au(r,function(P,z){delete r[z]})}firstRender(){var d;let t=this,r=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.createAxes();let a=Ud(r.series)?r.series:[];r.series=[],a.forEach(function(u){t.initSeries(u)}),t.linkSeries(),t.setSortedData(),Hs(t,"beforeRender"),t.render(),(d=t.pointer)==null||d.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(t){t&&this.index!==void 0&&t.apply(this,[this])},this),Hs(this,"load"),Hs(this,"render"),ad(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:t,title:r}=this;t&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((r==null?void 0:r.element.textContent)||"").replace(/</g,"&lt;")}),t.accessibility&&t.accessibility.enabled===!1||as('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,r,a){let d,u=this;return t&&(r=Zr(r,!0),Hs(u,"addSeries",{options:t},function(){d=u.initSeries(t),u.isDirtyLegend=!0,u.linkSeries(),d.enabledDataSorting&&d.setData(t.data,!1),Hs(u,"afterAddSeries",{series:d}),r&&u.redraw(a)})),d}addAxis(t,r,a,d){return this.createAxis(r?"xAxis":"yAxis",{axis:t,redraw:a,animation:d})}addColorAxis(t,r,a){return this.createAxis("colorAxis",{axis:t,redraw:r,animation:a})}createAxis(t,r){let a=new nr(this,r.axis,t);return Zr(r.redraw,!0)&&this.redraw(r.animation),a}showLoading(t){let r=this,a=r.options,d=a.loading,u=function(){m&&Ka(m,{left:r.plotLeft+"px",top:r.plotTop+"px",width:r.plotWidth+"px",height:r.plotHeight+"px"})},m=r.loadingDiv,v=r.loadingSpan;m||(r.loadingDiv=m=ou("div",{className:"highcharts-loading highcharts-loading-hidden"},null,r.container)),v||(r.loadingSpan=v=ou("span",{className:"highcharts-loading-inner"},null,m),aa(r,"redraw",u)),m.className="highcharts-loading",tr.setElementHTML(v,Zr(t,a.lang.loading,"")),!r.styledMode&&(Ka(m,nh(d.style,{zIndex:10})),Ka(v,d.labelStyle),r.loadingShown||(Ka(m,{opacity:0,display:""}),Ac(m,{opacity:d.style.opacity||.5},{duration:d.showDuration||0}))),r.loadingShown=!0,u()}hideLoading(){let t=this.options,r=this.loadingDiv;r&&(r.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Ac(r,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){Ka(r,{display:"none"})}})),this.loadingShown=!1}update(t,r,a,d){let u,m,v,k=this,P={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},z=t.isResponsiveOptions,C=[];Hs(k,"update",{options:t}),z||k.setResponsive(!1,!0),t=Eh(t,k.options),k.userOptions=ah(k.userOptions,t);let B=t.chart;B&&(ah(!0,k.options.chart,B),this.setZoomOptions(),"className"in B&&k.setClassName(B.className),("inverted"in B||"polar"in B||"type"in B)&&(k.propFromSeries(),u=!0),"alignTicks"in B&&(u=!0),"events"in B&&qa(this,B),au(B,function($,K){k.propsRequireUpdateSeries.indexOf("chart."+K)!==-1&&(m=!0),k.propsRequireDirtyBox.indexOf(K)!==-1&&(k.isDirtyBox=!0),k.propsRequireReflow.indexOf(K)!==-1&&(k.isDirtyBox=!0,z||(v=!0))}),!k.styledMode&&B.style&&k.renderer.setStyle(k.options.chart.style||{})),!k.styledMode&&t.colors&&(this.options.colors=t.colors),au(t,function($,K){k[K]&&typeof k[K].update=="function"?k[K].update($,!1):typeof k[P[K]]=="function"?k[P[K]]($):K!=="colors"&&k.collectionsWithUpdate.indexOf(K)===-1&&ah(!0,k.options[K],t[K]),K!=="chart"&&k.propsRequireUpdateSeries.indexOf(K)!==-1&&(m=!0)}),this.collectionsWithUpdate.forEach(function($){t[$]&&(lh(t[$]).forEach(function(K,J){let lt,mt=ad(K.id);mt&&(lt=k.get(K.id)),!lt&&k[$]&&(lt=k[$][Zr(K.index,J)])&&(mt&&ad(lt.options.id)||lt.options.isInternal)&&(lt=void 0),lt&&lt.coll===$&&(lt.update(K,!1),a&&(lt.touched=!0)),!lt&&a&&k.collectionsWithInit[$]&&(k.collectionsWithInit[$][0].apply(k,[K].concat(k.collectionsWithInit[$][1]||[]).concat([!1])).touched=!0)}),a&&k[$].forEach(function(K){K.touched||K.options.isInternal?delete K.touched:C.push(K)}))}),C.forEach(function($){$.chart&&$.remove&&$.remove(!1)}),u&&k.axes.forEach(function($){$.update({},!1)}),m&&k.getSeriesOrderByLinks().forEach(function($){$.chart&&$.update({},!1)},this);let N=B==null?void 0:B.width,X=B&&(Ir(B.height)?lu(B.height,N||k.chartWidth):B.height);v||la(N)&&N!==k.chartWidth||la(X)&&X!==k.chartHeight?k.setSize(N,X,d):Zr(r,!0)&&k.redraw(d),Hs(k,"afterUpdate",{options:t,redraw:r,animation:d})}setSubtitle(t,r){this.applyDescription("subtitle",t),this.layOutTitles(r)}setCaption(t,r){this.applyDescription("caption",t),this.layOutTitles(r)}showResetZoom(){let t=this,r=oh.lang,a=t.zooming.resetButton,d=a.theme,u=a.relativeTo==="chart"||a.relativeTo==="spacingBox"?null:"plotBox";function m(){t.zoomOut()}Hs(this,"beforeShowResetZoom",null,function(){t.resetZoomButton=t.renderer.button(r.resetZoom,null,null,m,d).attr({align:a.position.align,title:r.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(a.position,!1,u)}),Hs(this,"afterShowResetZoom")}zoomOut(){Hs(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(t,r){let a=this,d=typeof r=="object"?r:{enabled:r,type:"x"},u=d.type,m=u&&a[{x:"xAxis",xy:"axes",y:"yAxis"}[u]].filter(k=>k.options.panningEnabled&&!k.options.isInternal),v=a.options.chart;v!=null&&v.panning&&(v.panning=d),Hs(this,"pan",{originalEvent:t},()=>{a.transform({axes:m,event:t,to:{x:t.chartX-(a.mouseDownX||0),y:t.chartY-(a.mouseDownY||0)},trigger:"pan"}),Ka(a.container,{cursor:"move"})})}transform(t){var X;let{axes:r=this.axes,event:a,from:d={},reset:u,selection:m,to:v={},trigger:k}=t,{inverted:P,time:z}=this;(X=this.hoverPoints)==null||X.forEach($=>$.setState()),Hs(this,"transform",t);let C=t.hasZoomed||!1,B,N;for(let $ of r){let{horiz:K,len:J,minPointOffset:lt=0,options:mt,reversed:_t}=$,Lt=K?"width":"height",Ot=K?"x":"y",Nt=Zr(v[Lt],$.len),zt=Zr(d[Lt],$.len),Xt=10>Math.abs(Nt)?1:Nt/zt,se=(d[Ot]||0)+zt/2-$.pos,Qt=se-((v[Ot]??$.pos)+Nt/2-$.pos)/Xt,ne=_t&&!P||!_t&&P?-1:1;if(!u&&(se<0||se>$.len))continue;let Ae=$.chart.polar||$.isOrdinal?0:lt*ne||0,ai=$.toValue(Qt,!0),Xe=$.toValue(Qt+J/Xt,!0),qe=ai+Ae,Qe=Xe-Ae,fi=$.allExtremes;if(m&&m[$.coll].push({axis:$,min:Math.min(ai,Xe),max:Math.max(ai,Xe)}),qe>Qe&&([qe,Qe]=[Qe,qe]),Xt===1&&!u&&$.coll==="yAxis"&&!fi){for(let Ra of $.series){let Ao=Ra.getExtremes(Ra.getProcessedData(!0).modified.getColumn("y")||[],!0);fi??(fi={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),la(Ao.dataMin)&&la(Ao.dataMax)&&(fi.dataMin=Math.min(Ao.dataMin,fi.dataMin),fi.dataMax=Math.max(Ao.dataMax,fi.dataMax))}$.allExtremes=fi}let{dataMin:mi,dataMax:vi,min:Hi,max:Sr}=nh($.getExtremes(),fi||{}),ls=z.parse(mt.min),us=z.parse(mt.max),es=mi??ls,Zi=vi??us,Br=Qe-qe,ur=$.categories?0:Math.min(Br,Zi-es),Wr=es-ur*(ad(ls)?0:mt.minPadding),ca=Zi+ur*(ad(us)?0:mt.maxPadding),zp=$.allowZoomOutside||Xt===1||k!=="zoom"&&Xt>1,Md=Math.min(ls??Wr,Wr,zp?Hi:Wr),el=Math.max(us??ca,ca,zp?Sr:ca);(!$.isOrdinal||Xt!==1||u)&&(qe<Md&&(qe=Md,Xt>=1&&(Qe=qe+Br)),Qe>el&&(Qe=el,Xt>=1&&(qe=Qe-Br)),(u||$.series.length&&(qe!==Hi||Qe!==Sr)&&qe>=Md&&Qe<=el)&&(m?m[$.coll].push({axis:$,min:qe,max:Qe}):($.isPanning=k!=="zoom",$.isPanning&&(N=!0),$.setExtremes(u?void 0:qe,u?void 0:Qe,!1,!1,{move:Qt,trigger:k,scale:Xt}),!u&&(qe>Md||Qe<el)&&k!=="mousewheel"&&(B=!0)),C=!0),this.hasCartesianSeries||u||k==="mousewheel"||(B=!0),a&&(this[K?"mouseDownX":"mouseDownY"]=a[K?"chartX":"chartY"]))}return C&&(m?Hs(this,"selection",m,()=>{delete t.selection,t.trigger="zoom",this.transform(t)}):(!B||N||this.resetZoomButton?!B&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(k==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),C}}nh(Zd.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Zd.prototype.addAxis,[!0]],yAxis:[Zd.prototype.addAxis,[!1]],series:[Zd.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let ml=Zd,{stop:hd}=Jr,{composed:xf}=Zt,{addEvent:hh,createElement:cu,css:up,defined:_c,erase:yf,merge:$d,pushUnique:qd}=ti;function Om(){let T=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!T&&(this.scrollablePlotArea=T=new Lc(this)),T==null||T.applyFixed()}function pg(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class Lc{static compose(t,r,a){qd(xf,this.compose)&&(hh(t,"afterInit",pg),hh(r,"afterSetChartSize",d=>this.afterSetSize(d.target,d)),hh(r,"render",Om),hh(a,"show",pg))}static afterSetSize(t,r){let a,d,u,{minWidth:m,minHeight:v}=t.options.chart.scrollablePlotArea||{},{clipBox:k,plotBox:P,inverted:z,renderer:C}=t;if(!C.forExport&&(m?(t.scrollablePixelsX=a=Math.max(0,m-t.chartWidth),a&&(t.scrollablePlotBox=$d(t.plotBox),P.width=t.plotWidth+=a,k[z?"height":"width"]+=a,u=!0)):v&&(t.scrollablePixelsY=d=Math.max(0,v-t.chartHeight),_c(d)&&(t.scrollablePlotBox=$d(t.plotBox),P.height=t.plotHeight+=d,k[z?"width":"height"]+=d,u=!1)),_c(u)&&!r.skipAxes))for(let B of t.axes)(B.horiz===u||t.hasParallelCoordinates&&B.coll==="yAxis")&&(B.setAxisSize(),B.setAxisTranslation())}constructor(t){var N;let r,a=t.options.chart,d=Ws.getRendererType(),u=a.scrollablePlotArea||{},m=this.moveFixedElements.bind(this),v={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};t.scrollablePixelsX&&(v.overflowX="auto"),t.scrollablePixelsY&&(v.overflowY="auto"),this.chart=t;let k=this.parentDiv=cu("div",{className:"highcharts-scrolling-parent"},{position:"relative"},t.renderTo),P=this.scrollingContainer=cu("div",{className:"highcharts-scrolling"},v,k),z=this.innerContainer=cu("div",{className:"highcharts-inner-container"},void 0,P),C=this.fixedDiv=cu("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((N=a.style)==null?void 0:N.zIndex)||0)+2,top:0},void 0,!0),B=this.fixedRenderer=new d(C,t.chartWidth,t.chartHeight,a.style);this.mask=B.path().attr({fill:a.backgroundColor||"#fff","fill-opacity":u.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),P.parentNode.insertBefore(C,P),up(t.renderTo,{overflow:"visible"}),hh(t,"afterShowResetZoom",m),hh(t,"afterApplyDrilldown",m),hh(t,"afterLayOutTitles",m),hh(P,"scroll",()=>{let{pointer:X,hoverPoint:$}=t;X&&(delete X.chartPosition,$&&(r=$),X.runPointActions(void 0,r,!0))}),z.appendChild(t.container)}applyFixed(){var se;let{chart:t,fixedRenderer:r,isDirty:a,scrollingContainer:d}=this,{axisOffset:u,chartWidth:m,chartHeight:v,container:k,plotHeight:P,plotLeft:z,plotTop:C,plotWidth:B,scrollablePixelsX:N=0,scrollablePixelsY:X=0}=t,{scrollPositionX:$=0,scrollPositionY:K=0}=t.options.chart.scrollablePlotArea||{},J=m+N,lt=v+X;r.setSize(m,v),(a??!0)&&(this.isDirty=!1,this.moveFixedElements()),hd(t.container),up(k,{width:`${J}px`,height:`${lt}px`}),t.renderer.boxWrapper.attr({width:J,height:lt,viewBox:[0,0,J,lt].join(" ")}),(se=t.chartBackground)==null||se.attr({width:J,height:lt}),up(d,{width:`${m}px`,height:`${v}px`}),_c(a)||(d.scrollLeft=N*$,d.scrollTop=X*K);let mt=C-u[0]-1,_t=z-u[3]-1,Lt=C+P+u[2]+1,Ot=z+B+u[1]+1,Nt=z+B-N,zt=C+P-X,Xt=[["M",0,0]];N?Xt=[["M",0,mt],["L",z-1,mt],["L",z-1,Lt],["L",0,Lt],["Z"],["M",Nt,mt],["L",m,mt],["L",m,Lt],["L",Nt,Lt],["Z"]]:X&&(Xt=[["M",_t,0],["L",_t,C-1],["L",Ot,C-1],["L",Ot,0],["Z"],["M",_t,zt],["L",_t,v],["L",Ot,v],["L",Ot,zt],["Z"]]),t.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Xt})}moveFixedElements(){let t,{container:r,inverted:a,scrollablePixelsX:d,scrollablePixelsY:u}=this.chart,m=this.fixedRenderer,v=Lc.fixedSelectors;if(d&&!a?t=".highcharts-yaxis":d&&a||u&&!a?t=".highcharts-xaxis":u&&a&&(t=".highcharts-yaxis"),t&&!(this.chart.hasParallelCoordinates&&t===".highcharts-yaxis"))for(let k of[`${t}:not(.highcharts-radial-axis)`,`${t}-labels:not(.highcharts-radial-axis-labels)`])qd(v,k);else for(let k of[".highcharts-xaxis",".highcharts-yaxis"])for(let P of[`${k}:not(.highcharts-radial-axis)`,`${k}-labels:not(.highcharts-radial-axis-labels)`])yf(v,P);for(let k of v)[].forEach.call(r.querySelectorAll(k),P=>{(P.namespaceURI===m.SVG_NS?m.box:m.box.parentNode).appendChild(P),P.style.pointerEvents="auto"})}}Lc.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Oc}=Lr,{series:pu}=ws,{destroyObjectProperties:vf,fireEvent:Ec,getAlignFactor:Ic,isNumber:Ih,pick:Kd}=ti,uu=class{constructor(T,t,r,a,d){let u=T.chart.inverted,m=T.reversed;this.axis=T;let v=this.isNegative=!!r!=!!m;this.options=t=t||{},this.x=a,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=d,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:t.align||(u?v?"left":"right":"center"),verticalAlign:t.verticalAlign||(u?"middle":v?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(u?v?"right":"left":"center")}destroy(){vf(this,this.axis)}render(T){let t=this.axis.chart,r=this.options,a=r.format,d=a?Oc(a,this,t):r.formatter.call(this);if(this.label)this.label.attr({text:d,visibility:"hidden"});else{this.label=t.renderer.label(d,null,void 0,r.shape,void 0,void 0,r.useHTML,!1,"stack-labels");let u={r:r.borderRadius||0,text:d,padding:Kd(r.padding,5),visibility:"hidden"};t.styledMode||(u.fill=r.backgroundColor,u.stroke=r.borderColor,u["stroke-width"]=r.borderWidth,this.label.css(r.style||{})),this.label.attr(u),this.label.added||this.label.add(T)}this.label.labelrank=t.plotSizeY,Ec(this,"afterRender")}setOffset(T,t,r,a,d,u){let{alignOptions:m,axis:v,label:k,options:P,textAlign:z}=this,C=v.chart,B=this.getStackBox({xOffset:T,width:t,boxBottom:r,boxTop:a,defaultX:d,xAxis:u}),{verticalAlign:N}=m;if(k&&B){let X=k.getBBox(void 0,0),$=k.padding,K=Kd(P.overflow,"justify")==="justify",J;m.x=P.x||0,m.y=P.y||0;let{x:lt,y:mt}=this.adjustStackPosition({labelBox:X,verticalAlign:N,textAlign:z});B.x-=lt,B.y-=mt,k.align(m,!1,B),(J=C.isInsidePlot(k.alignAttr.x+m.x+lt,k.alignAttr.y+m.y+mt))||(K=!1),K&&pu.prototype.justifyDataLabel.call(v,k,m,k.alignAttr,X,B),k.attr({x:k.alignAttr.x,y:k.alignAttr.y,rotation:P.rotation,rotationOriginX:X.width*Ic(P.textAlign||"center"),rotationOriginY:X.height/2}),Kd(!K&&P.crop,!0)&&(J=Ih(k.x)&&Ih(k.y)&&C.isInsidePlot(k.x-$+(k.width||0),k.y)&&C.isInsidePlot(k.x+$,k.y)),k[J?"show":"hide"]()}Ec(this,"afterSetOffset",{xOffset:T,width:t})}adjustStackPosition({labelBox:T,verticalAlign:t,textAlign:r}){return{x:T.width/2+T.width/2*(2*Ic(r)-1),y:T.height/2*2*(1-Ic(t))}}getStackBox(T){let t=this.axis,r=t.chart,{boxTop:a,defaultX:d,xOffset:u,width:m,boxBottom:v}=T,k=t.stacking.usePercentage?100:Kd(a,this.total,0),P=t.toPixels(k),z=T.xAxis||r.xAxis[0],C=Kd(d,z.translate(this.x))+u,B=Math.abs(P-t.toPixels(v||Ih(t.min)&&t.logarithmic&&t.logarithmic.lin2log(t.min)||0)),N=r.inverted,X=this.isNegative;return N?{x:(X?P:P-B)-r.plotLeft,y:z.height-C-m+z.top-r.plotTop,width:B,height:m}:{x:C+z.transB-r.plotLeft,y:(X?P-B:P)-r.plotTop,width:m,height:B}}},{getDeferredAnimation:fp}=Jr,{series:{prototype:ug}}=ws,{addEvent:fg,correctFloat:gp,defined:fu,destroyObjectProperties:Jd,fireEvent:bf,isNumber:wf,objectEach:Qd,pick:kf}=ti;function gg(){let T=this.inverted;this.axes.forEach(t=>{var r;(r=t.stacking)!=null&&r.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),this.series.forEach(t=>{var a;let r=((a=t.xAxis)==null?void 0:a.options)||{};t.options.stacking&&t.reserveSpace()&&(t.stackKey=[t.type,kf(t.options.stack,""),T?r.top:r.left,T?r.height:r.width].join(","))})}function Em(){var t;let T=this.stacking;if(T){let r=T.stacks;Qd(r,(a,d)=>{Jd(a),delete r[d]}),(t=T.stackTotalGroup)==null||t.destroy()}}function mg(){this.stacking||(this.stacking=new mu(this))}function Mf(T,t,r,a){return!fu(T)||T.x!==t||a&&T.stackKey!==a?T={x:t,index:0,key:a,stackKey:a}:T.index++,T.key=[r,t,T.index].join(","),T}function Im(){let T,t=this,r=t.yAxis,a=t.stackKey||"",d=r.stacking.stacks,u=t.getColumn("x",!0),m=t.options.stacking,v=t[m+"Stacker"];v&&[a,"-"+a].forEach(k=>{var N;let P=u.length,z,C,B;for(;P--;)z=u[P],T=t.getStackIndicator(T,z,t.index,k),C=(N=d[k])==null?void 0:N[z],(B=C==null?void 0:C.points[T.key||""])&&v.call(t,B,C,P)})}function Bm(T,t,r){let a=t.total?100/t.total:0;T[0]=gp(T[0]*a),T[1]=gp(T[1]*a),this.stackedYData[r]=T[1]}function Dm(T){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?ug.setStackedPoints.call(this,T,"group"):T.stacking.resetStacks())}function gu(T,t){var zt,Xt;let r,a,d,u,m,v,k,P=t||this.options.stacking;if(!P||!this.reserveSpace()||({group:"xAxis"}[P]||"yAxis")!==T.coll)return;let z=this.getColumn("x",!0),C=this.getColumn(this.pointValKey||"y",!0),B=[],N=C.length,X=this.options,$=X.threshold||0,K=X.startFromThreshold?$:0,J=X.stack,lt=t?`${this.type},${P}`:this.stackKey||"",mt="-"+lt,_t=this.negStacks,Lt=T.stacking,Ot=Lt.stacks,Nt=Lt.oldStacks;for(Lt.stacksTouched+=1,k=0;k<N;k++){let se=z[k]||0,Qt=C[k],ne=wf(Qt)&&Qt||0;v=(r=this.getStackIndicator(r,se,this.index)).key||"",Ot[m=(a=_t&&ne<(K?0:$))?mt:lt]||(Ot[m]={}),Ot[m][se]||((zt=Nt[m])!=null&&zt[se]?(Ot[m][se]=Nt[m][se],Ot[m][se].total=null):Ot[m][se]=new uu(T,T.options.stackLabels,!!a,se,J)),d=Ot[m][se],Qt!==null?(d.points[v]=d.points[this.index]=[kf(d.cumulative,K)],fu(d.cumulative)||(d.base=v),d.touched=Lt.stacksTouched,r.index>0&&this.singleStacks===!1&&(d.points[v][0]=d.points[this.index+","+se+",0"][0])):(delete d.points[v],delete d.points[this.index]);let Ae=d.total||0;P==="percent"?(u=a?lt:mt,Ae=_t&&((Xt=Ot[u])!=null&&Xt[se])?(u=Ot[u][se]).total=Math.max(u.total||0,Ae)+Math.abs(ne):gp(Ae+Math.abs(ne))):P==="group"?wf(Qt)&&Ae++:Ae=gp(Ae+ne),P==="group"?d.cumulative=(Ae||1)-1:d.cumulative=gp(kf(d.cumulative,K)+ne),d.total=Ae,Qt!==null&&(d.points[v].push(d.cumulative),B[k]=d.cumulative,d.hasValidPoints=!0)}P==="percent"&&(Lt.usePercentage=!0),P!=="group"&&(this.stackedYData=B),Lt.oldStacks={}}class mu{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){let t,r,a=this.axis,d=a.series,u=a.coll==="xAxis",m=a.options.reversedStacks,v=d.length;for(this.resetStacks(),this.usePercentage=!1,r=v;r--;)t=d[m?r:v-r-1],u&&t.setGroupedPoints(a),t.setStackedPoints(a);if(!u)for(r=0;r<v;r++)d[r].modifyStacks();bf(a,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Qd(this.stacks,t=>{Qd(t,r=>{r.cumulative=r.total})}))}resetStacks(){Qd(this.stacks,t=>{Qd(t,(r,a)=>{wf(r.touched)&&r.touched<this.stacksTouched?(r.destroy(),delete t[a]):(r.total=null,r.cumulative=null)})})}renderStackTotals(){var v;let t=this.axis,r=t.chart,a=r.renderer,d=this.stacks,u=fp(r,((v=t.options.stackLabels)==null?void 0:v.animation)||!1),m=this.stackTotalGroup=this.stackTotalGroup||a.g("stack-labels").attr({zIndex:6,opacity:0}).add();m.translate(r.plotLeft,r.plotTop),Qd(d,k=>{Qd(k,P=>{P.render(m)})}),m.animate({opacity:1},u)}}(si||(si={})).compose=function(T,t,r){let a=t.prototype,d=r.prototype;a.getStacks||(fg(T,"init",mg),fg(T,"destroy",Em),a.getStacks=gg,d.getStackIndicator=Mf,d.modifyStacks=Im,d.percentStacker=Bm,d.setGroupedPoints=Dm,d.setStackedPoints=gu)};let xg=si,{defined:yg,merge:tc,isObject:Sf}=ti;class Tf extends na{drawGraph(){let t=this.options,r=(this.gappedPath||this.getGraphPath).call(this),a=this.chart.styledMode;[this,...this.zones].forEach((d,u)=>{let m,v=d.graph,k=v?"animate":"attr",P=d.dashStyle||t.dashStyle;v?(v.endX=this.preventGraphAnimation?null:r.xMap,v.animate({d:r})):r.length&&(d.graph=v=this.chart.renderer.path(r).addClass("highcharts-graph"+(u?` highcharts-zone-graph-${u-1} `:" ")+(u&&d.className||"")).attr({zIndex:1}).add(this.group)),v&&!a&&(m={stroke:!u&&t.lineColor||d.color||this.color||"#cccccc","stroke-width":t.lineWidth||0,fill:this.fillGraph&&this.color||"none"},P?m.dashstyle=P:t.linecap!=="square"&&(m["stroke-linecap"]=m["stroke-linejoin"]="round"),v[k](m).shadow(t.shadow&&tc({filterUnits:"userSpaceOnUse"},Sf(t.shadow)?t.shadow:{}))),v&&(v.startX=r.xMap,v.isArea=r.isArea)})}getGraphPath(t,r,a){let d=this,u=d.options,m=[],v=[],k,P=u.step,z=(t=t||d.points).reversed;return z&&t.reverse(),(P={right:1,center:2}[P]||P&&3)&&z&&(P=4-P),(t=this.getValidPoints(t,!1,u.nullInteraction||!(u.connectNulls&&!r&&!a))).forEach(function(C,B){let N,X=C.plotX,$=C.plotY,K=t[B-1],J=C.isNull||typeof $!="number";(C.leftCliff||K!=null&&K.rightCliff)&&!a&&(k=!0),J&&!yg(r)&&B>0?k=!u.connectNulls:J&&!r?k=!0:(B===0||k?N=[["M",C.plotX,C.plotY]]:d.getPointSpline?N=[d.getPointSpline(t,C,B)]:P?(N=P===1?[["L",K.plotX,$]]:P===2?[["L",(K.plotX+X)/2,K.plotY],["L",(K.plotX+X)/2,$]]:[["L",X,K.plotY]]).push(["L",X,$]):N=[["L",X,$]],v.push(C.x),P&&(v.push(C.x),P===2&&v.push(C.x)),m.push.apply(m,N),k=!1)}),m.xMap=v,d.graphPath=m,m}}Tf.defaultOptions=tc(na.defaultOptions,{legendSymbol:"lineMarker"}),ws.registerSeriesType("line",Tf);let{seriesTypes:{line:Af}}=ws,{extend:Bc,merge:Pf,objectEach:vg,pick:Dc}=ti;class zc extends Af{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:t,options:r}=this;[this,...this.zones].forEach((a,d)=>{let u={},m=a.fillColor||r.fillColor,v=a.area,k=v?"animate":"attr";v?(v.endX=this.preventGraphAnimation?null:t.xMap,v.animate({d:t})):(u.zIndex=0,(v=a.area=this.chart.renderer.path(t).addClass("highcharts-area"+(d?` highcharts-zone-area-${d-1} `:" ")+(d&&a.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(u.fill=m||a.color||this.color,u["fill-opacity"]=m?1:r.fillOpacity??.75,v.css({pointerEvents:this.stickyTracking?"none":"auto"})),v[k](u),v.startX=t.xMap,v.shiftUnit=r.step?2:1})}getGraphPath(t){let r,a,d,u=Af.prototype.getGraphPath,m=this.options,v=m.stacking,k=this.yAxis,P=[],z=[],C=this.index,B=k.stacking.stacks[this.stackKey],N=m.threshold,X=Math.round(k.getThreshold(m.threshold)),$=Dc(m.connectNulls,v==="percent"),K=function(Ot,Nt,zt){let Xt=t[Ot],se=v&&B[Xt.x].points[C],Qt=Xt[zt+"Null"]||0,ne=Xt[zt+"Cliff"]||0,Ae,ai,Xe=!0;ne||Qt?(Ae=(Qt?se[0]:se[1])+ne,ai=se[0]+ne,Xe=!!Qt):!v&&t[Nt]&&t[Nt].isNull&&(Ae=ai=N),Ae!==void 0&&(z.push({plotX:r,plotY:Ae===null?X:k.getThreshold(Ae),isNull:Xe,isCliff:!0}),P.push({plotX:r,plotY:ai===null?X:k.getThreshold(ai),doCurve:!1}))};t=t||this.points,v&&(t=this.getStackPoints(t));for(let Ot=0,Nt=t.length;Ot<Nt;++Ot)v||(t[Ot].leftCliff=t[Ot].rightCliff=t[Ot].leftNull=t[Ot].rightNull=void 0),a=t[Ot].isNull,r=Dc(t[Ot].rectPlotX,t[Ot].plotX),d=v?Dc(t[Ot].yBottom,X):X,(!a||$)&&($||K(Ot,Ot-1,"left"),a&&!v&&$||(z.push(t[Ot]),P.push({x:Ot,plotX:r,plotY:d})),$||K(Ot,Ot+1,"right"));let J=u.call(this,z,!0,!0);P.reversed=!0;let lt=u.call(this,P,!0,!0),mt=lt[0];mt&&mt[0]==="M"&&(lt[0]=["L",mt[1],mt[2]]);let _t=J.concat(lt);_t.length&&_t.push(["Z"]);let Lt=u.call(this,z,!1,$);return this.chart.series.length>1&&v&&z.some(Ot=>Ot.isCliff)&&(_t.hasStackedCliffs=Lt.hasStackedCliffs=!0),_t.xMap=J.xMap,this.areaPath=_t,Lt}getStackPoints(t){let r=this,a=[],d=[],u=this.xAxis,m=this.yAxis,v=m.stacking.stacks[this.stackKey],k={},P=m.series,z=P.length,C=m.options.reversedStacks?1:-1,B=P.indexOf(r);if(t=t||this.points,this.options.stacking){for(let X=0;X<t.length;X++)t[X].leftNull=t[X].rightNull=void 0,k[t[X].x]=t[X];vg(v,function(X,$){X.total!==null&&d.push($)}),d.sort(function(X,$){return X-$});let N=P.map(X=>X.visible);d.forEach(function(X,$){let K=0,J,lt;if(k[X]&&!k[X].isNull)a.push(k[X]),[-1,1].forEach(function(mt){let _t=mt===1?"rightNull":"leftNull",Lt=v[d[$+mt]],Ot=0;if(Lt){let Nt=B;for(;Nt>=0&&Nt<z;){let zt=P[Nt].index;!(J=Lt.points[zt])&&(zt===r.index?k[X][_t]=!0:N[Nt]&&(lt=v[X].points[zt])&&(Ot-=lt[1]-lt[0])),Nt+=C}}k[X][mt===1?"rightCliff":"leftCliff"]=Ot});else{let mt=B;for(;mt>=0&&mt<z;){let _t=P[mt].index;if(J=v[X].points[_t]){K=J[1];break}mt+=C}K=Dc(K,0),K=m.translate(K,0,1,0,1),a.push({isNull:!0,plotX:u.translate(X,0,0,0,1),x:X,plotY:K,yBottom:K})}})}return a}}zc.defaultOptions=Pf(Af.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Bc(zc.prototype,{singleStacks:!1}),ws.registerSeriesType("area",zc);let{line:xu}=ws.seriesTypes,{merge:bg,pick:ec}=ti;class dd extends xu{getPointSpline(t,r,a){let d,u,m,v,k=r.plotX||0,P=r.plotY||0,z=t[a-1],C=t[a+1];function B(X){return X&&!X.isNull&&X.doCurve!==!1&&!r.isCliff}if(B(z)&&B(C)){let X=z.plotX||0,$=z.plotY||0,K=C.plotX||0,J=C.plotY||0,lt=0;d=(1.5*k+X)/2.5,u=(1.5*P+$)/2.5,m=(1.5*k+K)/2.5,v=(1.5*P+J)/2.5,m!==d&&(lt=(v-u)*(m-k)/(m-d)+P-v),u+=lt,v+=lt,u>$&&u>P?(u=Math.max($,P),v=2*P-u):u<$&&u<P&&(u=Math.min($,P),v=2*P-u),v>J&&v>P?(v=Math.max(J,P),u=2*P-v):v<J&&v<P&&(v=Math.min(J,P),u=2*P-v),r.rightContX=m,r.rightContY=v,r.controlPoints={low:[d,u],high:[m,v]}}let N=["C",ec(z.rightContX,z.plotX,0),ec(z.rightContY,z.plotY,0),ec(d,k,0),ec(u,P,0),k,P];return z.rightContX=z.rightContY=void 0,N}}dd.defaultOptions=bg(xu.defaultOptions),ws.registerSeriesType("spline",dd);let Cf=dd,{area:wg,area:{prototype:Rc}}=ws.seriesTypes,{extend:kg,merge:yu}=ti;class mp extends Cf{}mp.defaultOptions=yu(Cf.defaultOptions,wg.defaultOptions),kg(mp.prototype,{getGraphPath:Rc.getGraphPath,getStackPoints:Rc.getStackPoints,drawGraph:Rc.drawGraph}),ws.registerSeriesType("areaspline",mp);let{animObject:cd}=Jr,{parse:vu}=Ys,{noop:xp}=Zt,{clamp:pd,crisp:yp,defined:_f,extend:Il,fireEvent:vp,isArray:ud,isNumber:bp,merge:Ja,pick:xl,objectEach:wp}=ti;class bu extends na{animate(t){let r,a,d=this,u=this.yAxis,m=u.pos,v=u.reversed,k=d.options,{clipOffset:P,inverted:z}=this.chart,C={},B=z?"translateX":"translateY";t&&P?(C.scaleY=.001,a=pd(u.toPixels(k.threshold||0),m,m+u.len),z?C.translateX=(a+=v?-Math.floor(P[0]):Math.ceil(P[2]))-u.len:C.translateY=a+=v?Math.ceil(P[0]):-Math.floor(P[2]),d.clipBox&&d.setClip(),d.group.attr(C)):(r=Number(d.group.attr(B)),d.group.animate({scaleY:1},Il(cd(d.options.animation),{step:function(N,X){d.group&&(C[B]=r+X.pos*(m-r),d.group.attr(C))}})))}init(t,r){super.init.apply(this,arguments);let a=this;(t=a.chart).hasRendered&&t.series.forEach(function(d){d.type===a.type&&(d.isDirty=!0)})}getColumnMetrics(){var $,K;let t=this,r=t.options,a=t.xAxis,d=t.yAxis,u=a.options.reversedStacks,m=a.reversed&&!u||!a.reversed&&u,v={},k,P=0;r.grouping===!1?P=1:t.chart.series.forEach(function(J){let lt,mt=J.yAxis,_t=J.options;J.type===t.type&&J.reserveSpace()&&d.len===mt.len&&d.pos===mt.pos&&(_t.stacking&&_t.stacking!=="group"?(v[k=J.stackKey]===void 0&&(v[k]=P++),lt=v[k]):_t.grouping!==!1&&(lt=P++),J.columnIndex=lt)});let z=Math.min(Math.abs(a.transA)*(!(($=a.brokenAxis)!=null&&$.hasBreaks)&&((K=a.ordinal)==null?void 0:K.slope)||r.pointRange||a.closestPointRange||a.tickInterval||1),a.len),C=z*r.groupPadding,B=(z-2*C)/(P||1),N=Math.min(r.maxPointWidth||a.len,xl(r.pointWidth,B*(1-2*r.pointPadding))),X=(t.columnIndex||0)+ +!!m;return t.columnMetrics={width:N,offset:(B-N)/2+(C+X*B-z/2)*(m?-1:1),paddedWidth:B,columnCount:P},t.columnMetrics}crispCol(t,r,a,d){let u=this.borderWidth,m=this.chart.inverted;return d=yp(r+d,u,m)-(r=yp(r,u,m)),this.options.crisp&&(a=yp(t+a,u)-(t=yp(t,u))),{x:t,y:r,width:a,height:d}}adjustForMissingColumns(t,r,a,d){var u;if(!a.isNull&&d.columnCount>1){let m=this.xAxis.series.filter(z=>z.visible).map(z=>z.index),v=0,k=0;wp((u=this.xAxis.stacking)==null?void 0:u.stacks,z=>{var X;let C=typeof a.x=="number"?(X=z[a.x.toString()])==null?void 0:X.points:void 0,B=C==null?void 0:C[this.index],N={};if(C&&ud(B)){let $=this.index,K=Object.keys(C).filter(J=>!J.match(",")&&C[J]&&C[J].length>1).map(parseFloat).filter(J=>m.indexOf(J)!==-1).filter(J=>{let lt=this.chart.series[J].options,mt=lt.stacking&&lt.stack;if(_f(mt)){if(bp(N[mt]))return $===J&&($=N[mt]),!1;N[mt]=J}return!0}).sort((J,lt)=>lt-J);v=K.indexOf($),k=K.length}}),v=this.xAxis.reversed?k-1-v:v;let P=(k-1)*d.paddedWidth+r;t=(a.plotX||0)+P/2-r-v*d.paddedWidth}return t}translate(){let t=this,r=t.chart,a=t.options,d=t.dense=t.closestPointRange*t.xAxis.transA<2,u=t.borderWidth=xl(a.borderWidth,+!d),m=t.xAxis,v=t.yAxis,k=a.threshold,P=xl(a.minPointLength,5),z=t.getColumnMetrics(),C=z.width,B=t.pointXOffset=z.offset,N=t.dataMin,X=t.dataMax,$=t.translatedThreshold=v.getThreshold(k),K=t.barW=Math.max(C,1+2*u);a.pointPadding&&a.crisp&&(K=Math.ceil(K)),na.prototype.translate.apply(t),t.points.forEach(function(J){let lt=xl(J.yBottom,$),mt=999+Math.abs(lt),_t=J.plotX||0,Lt=pd(J.plotY,-mt,v.len+mt),Ot,Nt=Math.min(Lt,lt),zt=Math.max(Lt,lt)-Nt,Xt=C,se=_t+B,Qt=K;P&&Math.abs(zt)<P&&(zt=P,Ot=!v.reversed&&!J.negative||v.reversed&&J.negative,bp(k)&&bp(X)&&J.y===k&&X<=k&&(v.min||0)<k&&(N!==X||(v.max||0)<=k)&&(Ot=!Ot,J.negative=!J.negative),Nt=Math.abs(Nt-$)>P?lt-P:$-(Ot?P:0)),_f(J.options.pointWidth)&&(se-=Math.round(((Xt=Qt=Math.ceil(J.options.pointWidth))-C)/2)),a.centerInCategory&&(se=t.adjustForMissingColumns(se,Xt,J,z)),J.barX=se,J.pointWidth=Xt,J.tooltipPos=r.inverted?[pd(v.len+v.pos-r.plotLeft-Lt,v.pos-r.plotLeft,v.len+v.pos-r.plotLeft),m.len+m.pos-r.plotTop-se-Qt/2,zt]:[m.left-r.plotLeft+se+Qt/2,pd(Lt+v.pos-r.plotTop,v.pos-r.plotTop,v.len+v.pos-r.plotTop),zt],J.shapeType=t.pointClass.prototype.shapeType||"roundedRect",J.shapeArgs=t.crispCol(se,Nt,Qt,J.isNull?0:zt)}),vp(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,r){let a=this.options,d=this.pointAttrToOptions||{},u=d.stroke||"borderColor",m=d["stroke-width"]||"borderWidth",v,k,P,z=t&&t.color||this.color,C=t&&t[u]||a[u]||z,B=t&&t.options.dashStyle||a.dashStyle,N=t&&t[m]||a[m]||this[m]||0,X=t!=null&&t.isNull&&a.nullInteraction?0:(t==null?void 0:t.opacity)??a.opacity??1;t&&this.zones.length&&(k=t.getZone(),z=t.options.color||k&&(k.color||t.nonZonedColor)||this.color,k&&(C=k.borderColor||C,B=k.dashStyle||B,N=k.borderWidth||N)),r&&t&&(P=(v=Ja(a.states[r],t.options.states&&t.options.states[r]||{})).brightness,z=v.color||P!==void 0&&vu(z).brighten(v.brightness).get()||z,C=v[u]||C,N=v[m]||N,B=v.dashStyle||B,X=xl(v.opacity,X));let $={fill:z,stroke:C,"stroke-width":N,opacity:X};return B&&($.dashstyle=B),$}drawPoints(t=this.points){let r,a=this,d=this.chart,u=a.options,m=u.nullInteraction,v=d.renderer,k=u.animationLimit||250;t.forEach(function(P){let z=P.plotY,C=P.graphic,B=!!C,N=C&&d.pointCount<k?"animate":"attr";bp(z)&&(P.y!==null||m)?(r=P.shapeArgs,C&&P.hasNewShapeType()&&(C=C.destroy()),a.enabledDataSorting&&(P.startXPos=a.xAxis.reversed?-(r&&r.width||0):a.xAxis.width),!C&&(P.graphic=C=v[P.shapeType](r).add(P.group||a.group),C&&a.enabledDataSorting&&d.hasRendered&&d.pointCount<k&&(C.attr({x:P.startXPos}),B=!0,N="animate")),C&&B&&C[N](Ja(r)),d.styledMode||C[N](a.pointAttribs(P,P.selected&&"select")).shadow(P.allowShadow!==!1&&u.shadow),C&&(C.addClass(P.getClassName(),!0),C.attr({visibility:P.visible?"inherit":"hidden"}))):C&&(P.graphic=C.destroy())})}drawTracker(t=this.points){let r,a=this,d=a.chart,u=d.pointer,m=function(v){u==null||u.normalize(v);let k=u==null?void 0:u.getPointFromEvent(v);u&&k&&a.options.enableMouseTracking&&(d.isInsidePlot(v.chartX-d.plotLeft,v.chartY-d.plotTop,{visiblePlotOnly:!0})||u!=null&&u.inClass(v.target,"highcharts-data-label"))&&(u.isDirectTouch=!0,k.onMouseOver(v))};t.forEach(function(v){r=ud(v.dataLabels)?v.dataLabels:v.dataLabel?[v.dataLabel]:[],v.graphic&&(v.graphic.element.point=v),r.forEach(function(k){(k.div||k.element).point=v})}),a._hasTracking||(a.trackerGroups.forEach(function(v){a[v]&&(a[v].addClass("highcharts-tracker").on("mouseover",m).on("mouseout",function(k){u==null||u.onTrackerMouseOut(k)}).on("touchstart",m),!d.styledMode&&a.options.cursor&&a[v].css({cursor:a.options.cursor}))}),a._hasTracking=!0),vp(this,"afterDrawTracker")}remove(){let t=this,r=t.chart;r.hasRendered&&r.series.forEach(function(a){a.type===t.type&&(a.isDirty=!0)}),na.prototype.remove.apply(t,arguments)}}bu.defaultOptions=Ja(na.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Il(bu.prototype,{directTouch:!0,getSymbol:xp,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ws.registerSeriesType("column",bu);let ha=bu,{getDeferredAnimation:Mg}=Jr,{format:wu}=Lr,{defined:Bl,extend:Bh,fireEvent:fd,getAlignFactor:Nc,isArray:gd,isString:Dh,merge:kp,objectEach:Sg,pick:dh,pInt:zm,splat:ku}=ti;(function(T){function t(){return k(this).some(z=>z==null?void 0:z.enabled)}function r(z,C,B,N,X){var se;let{chart:$,enabledDataSorting:K}=this,J=this.isCartesian&&$.inverted,lt=z.plotX,mt=z.plotY,_t=B.rotation||0,Lt=Bl(lt)&&Bl(mt)&&$.isInsidePlot(lt,Math.round(mt),{inverted:J,paneCoordinates:!0,series:this}),Ot=_t===0&&dh(B.overflow,K?"none":"justify")==="justify",Nt=this.visible&&z.visible!==!1&&Bl(lt)&&(z.series.forceDL||K&&!Ot||Lt||dh(B.inside,!!this.options.stacking)&&N&&$.isInsidePlot(lt,J?N.x+1:N.y+N.height-1,{inverted:J,paneCoordinates:!0,series:this})),zt=z.pos();if(Nt&&zt){var Xt;let Qt=C.getBBox(),ne=C.getBBox(void 0,0);if(N=Bh({x:zt[0],y:Math.round(zt[1]),width:0,height:0},N||{}),B.alignTo==="plotEdges"&&this.isCartesian&&(N[J?"x":"y"]=0,N[J?"width":"height"]=((se=this.yAxis)==null?void 0:se.len)||0),Bh(B,{width:Qt.width,height:Qt.height}),Xt=N,K&&this.xAxis&&!Ot&&this.setDataLabelStartPos(z,C,X,Lt,Xt),C.align(kp(B,{width:ne.width,height:ne.height}),!1,N,!1),C.alignAttr.x+=Nc(B.align)*(ne.width-Qt.width),C.alignAttr.y+=Nc(B.verticalAlign)*(ne.height-Qt.height),C[C.placed?"animate":"attr"]({"text-align":C.alignAttr["text-align"]||"center",x:C.alignAttr.x+(Qt.width-ne.width)/2,y:C.alignAttr.y+(Qt.height-ne.height)/2,rotationOriginX:(C.width||0)/2,rotationOriginY:(C.height||0)/2}),Ot&&N.height>=0)this.justifyDataLabel(C,B,C.alignAttr,Qt,N,X);else if(dh(B.crop,!0)){let{x:Ae,y:ai}=C.alignAttr;Nt=$.isInsidePlot(Ae,ai,{paneCoordinates:!0,series:this})&&$.isInsidePlot(Ae+Qt.width-1,ai+Qt.height-1,{paneCoordinates:!0,series:this})}B.shape&&!_t&&C[X?"attr":"animate"]({anchorX:zt[0],anchorY:zt[1]})}X&&K&&(C.placed=!1),Nt||K&&!Ot?(C.show(),C.placed=!0):(C.hide(),C.placed=!1)}function a(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function d(z){let C=this.hasRendered||0,B=this.initDataLabelsGroup().attr({opacity:+C});return!C&&B&&(this.visible&&B.show(),this.options.animation?B.animate({opacity:1},z):B.attr({opacity:1})),B}function u(z){var Nt;let C;z=z||this.points;let B=this,N=B.chart,X=B.options,$=N.renderer,{backgroundColor:K,plotBackgroundColor:J}=N.options.chart,lt=$.getContrast(Dh(J)&&J||Dh(K)&&K||"#000000"),mt=k(B),{animation:_t,defer:Lt}=mt[0],Ot=Lt?Mg(N,_t,B):{defer:0,duration:0};fd(this,"drawDataLabels"),(Nt=B.hasDataLabels)!=null&&Nt.call(B)&&(C=this.initDataLabels(Ot),z.forEach(zt=>{var ne,Ae,ai;let Xt=zt.dataLabels||[],se=zt.color||B.color;ku(v(mt,zt.dlOptions||((ne=zt.options)==null?void 0:ne.dataLabels))).forEach((Xe,qe)=>{var Wr;let Qe=Xe.enabled&&(zt.visible||zt.dataLabelOnHidden)&&(!zt.isNull||zt.dataLabelOnNull)&&function(ca,zp){let Md=zp.filter;if(Md){let el=Md.operator,Ra=ca[Md.property],Ao=Md.value;return el===">"&&Ra>Ao||el==="<"&&Ra<Ao||el===">="&&Ra>=Ao||el==="<="&&Ra<=Ao||el==="=="&&Ra==Ao||el==="==="&&Ra===Ao||el==="!="&&Ra!=Ao||el==="!=="&&Ra!==Ao||!1}return!0}(zt,Xe),{backgroundColor:fi,borderColor:mi,distance:vi,style:Hi={}}=Xe,Sr,ls,us,es={},Zi=Xt[qe],Br=!Zi,ur;Qe&&(ls=Bl(Sr=dh(Xe[zt.formatPrefix+"Format"],Xe.format))?wu(Sr,zt,N):(Xe[zt.formatPrefix+"Formatter"]||Xe.formatter).call(zt,Xe),us=Xe.rotation,!N.styledMode&&(Hi.color=dh(Xe.color,Hi.color,Dh(B.color)?B.color:void 0,"#000000"),Hi.color==="contrast"?(fi!=="none"&&(ur=fi),zt.contrastColor=$.getContrast(ur!=="auto"&&Dh(ur)&&ur||(Dh(se)?se:"")),Hi.color=ur||!Bl(vi)&&Xe.inside||0>zm(vi||0)||X.stacking?zt.contrastColor:lt):delete zt.contrastColor,X.cursor&&(Hi.cursor=X.cursor)),es={r:Xe.borderRadius||0,rotation:us,padding:Xe.padding,zIndex:1},N.styledMode||(es.fill=fi==="auto"?zt.color:fi,es.stroke=mi==="auto"?zt.color:mi,es["stroke-width"]=Xe.borderWidth),Sg(es,(ca,zp)=>{ca===void 0&&delete es[zp]})),!Zi||Qe&&Bl(ls)&&!!(Zi.div||(Wr=Zi.text)!=null&&Wr.foreignObject)==!!Xe.useHTML&&(Zi.rotation&&Xe.rotation||Zi.rotation===Xe.rotation)||(Zi=void 0,Br=!0),Qe&&Bl(ls)&&ls!==""&&(Zi?es.text=ls:(Zi=$.label(ls,0,0,Xe.shape,void 0,void 0,Xe.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+zt.colorIndex+" "+(Xe.className||"")+(Xe.useHTML?" highcharts-tracker":"")),Zi&&(Zi.options=Xe,Zi.attr(es),N.styledMode?Hi.width&&Zi.css({width:Hi.width,textOverflow:Hi.textOverflow,whiteSpace:Hi.whiteSpace}):Zi.css(Hi).shadow(Xe.shadow),fd(Zi,"beforeAddingDataLabel",{labelOptions:Xe,point:zt}),Zi.added||Zi.add(C),B.alignDataLabel(zt,Zi,Xe,void 0,Br),Zi.isActive=!0,Xt[qe]&&Xt[qe]!==Zi&&Xt[qe].destroy(),Xt[qe]=Zi))});let Qt=Xt.length;for(;Qt--;)(Ae=Xt[Qt])!=null&&Ae.isActive?Xt[Qt].isActive=!1:((ai=Xt[Qt])==null||ai.destroy(),Xt.splice(Qt,1));zt.dataLabel=Xt[0],zt.dataLabels=Xt})),fd(this,"afterDrawDataLabels")}function m(z,C,B,N,X,$){let K=this.chart,J=C.align,lt=C.verticalAlign,mt=z.box?0:z.padding||0,_t=K.inverted?this.yAxis:this.xAxis,Lt=_t?_t.left-K.plotLeft:0,Ot=K.inverted?this.xAxis:this.yAxis,Nt=Ot?Ot.top-K.plotTop:0,{x:zt=0,y:Xt=0}=C,se,Qt;return(se=(B.x||0)+mt+Lt)<0&&(J==="right"&&zt>=0?(C.align="left",C.inside=!0):zt-=se,Qt=!0),(se=(B.x||0)+N.width-mt+Lt)>K.plotWidth&&(J==="left"&&zt<=0?(C.align="right",C.inside=!0):zt+=K.plotWidth-se,Qt=!0),(se=B.y+mt+Nt)<0&&(lt==="bottom"&&Xt>=0?(C.verticalAlign="top",C.inside=!0):Xt-=se,Qt=!0),(se=(B.y||0)+N.height-mt+Nt)>K.plotHeight&&(lt==="top"&&Xt<=0?(C.verticalAlign="bottom",C.inside=!0):Xt+=K.plotHeight-se,Qt=!0),Qt&&(C.x=zt,C.y=Xt,z.placed=!$,z.align(C,void 0,X)),Qt}function v(z,C){let B=[],N;if(gd(z)&&!gd(C))B=z.map(function(X){return kp(X,C)});else if(gd(C)&&!gd(z))B=C.map(function(X){return kp(z,X)});else if(gd(z)||gd(C)){if(gd(z)&&gd(C))for(N=Math.max(z.length,C.length);N--;)B[N]=kp(z[N],C[N])}else B=kp(z,C);return B}function k(z){var B,N;let C=z.chart.options.plotOptions;return ku(v(v((B=C==null?void 0:C.series)==null?void 0:B.dataLabels,(N=C==null?void 0:C[z.type])==null?void 0:N.dataLabels),z.options.dataLabels))}function P(z,C,B,N,X){let $=this.chart,K=$.inverted,J=this.xAxis,lt=J.reversed,mt=((K?C.height:C.width)||0)/2,_t=z.pointWidth,Lt=_t?_t/2:0;C.startXPos=K?X.x:lt?-mt-Lt:J.width-mt+Lt,C.startYPos=K?lt?this.yAxis.height-mt+Lt:-mt-Lt:X.y,N?C.visibility==="hidden"&&(C.show(),C.attr({opacity:0}).animate({opacity:1})):C.attr({opacity:1}).animate({opacity:0},void 0,C.hide),$.hasRendered&&(B&&C.attr({x:C.startXPos,y:C.startYPos}),C.placed=!0)}T.compose=function(z){let C=z.prototype;C.initDataLabels||(C.initDataLabels=d,C.initDataLabelsGroup=a,C.alignDataLabel=r,C.drawDataLabels=u,C.justifyDataLabel=m,C.mergeArrays=v,C.setDataLabelStartPos=P,C.hasDataLabels=t)}})(zi||(zi={}));let Mu=zi,{composed:Rm}=Zt,{series:Tg}=ws,{merge:Su,pushUnique:Ag}=ti;(function(T){function t(r,a,d,u,m){var $,K;let{chart:v,options:k}=this,P=v.inverted,z=(($=this.xAxis)==null?void 0:$.len)||v.plotSizeX||0,C=((K=this.yAxis)==null?void 0:K.len)||v.plotSizeY||0,B=r.dlBox||r.shapeArgs,N=r.below??(r.plotY||0)>(this.translatedThreshold??C),X=d.inside??!!k.stacking;if(B){if(u=Su(B),d.overflow!=="allow"||d.crop!==!1||k.clip!==!1){u.y<0&&(u.height+=u.y,u.y=0);let J=u.y+u.height-C;J>0&&J<u.height-1&&(u.height-=J)}P&&(u={x:C-u.y-u.height,y:z-u.x-u.width,width:u.height,height:u.width}),X||(P?(u.x+=N?0:u.width,u.width=0):(u.y+=N?u.height:0,u.height=0))}d.align??(d.align=!P||X?"center":N?"right":"left"),d.verticalAlign??(d.verticalAlign=P||X?"middle":N?"top":"bottom"),Tg.prototype.alignDataLabel.call(this,r,a,d,u,m),d.inside&&r.contrastColor&&a.css({color:r.contrastColor})}T.compose=function(r){Mu.compose(Tg),Ag(Rm,"ColumnDataLabel")&&(r.prototype.alignDataLabel=t)}})(Gi||(Gi={}));let Lf=Gi,{extend:Of,merge:Mp}=ti;class Ef extends ha{}Ef.defaultOptions=Mp(ha.defaultOptions,{}),Of(Ef.prototype,{inverted:!0}),ws.registerSeriesType("bar",Ef);let{column:Pg,line:Cg}=ws.seriesTypes,{addEvent:Sp,extend:_g,merge:Nm}=ti;class Wc extends Cg{applyJitter(){let t=this,r=this.options.jitter,a=this.points.length;r&&this.points.forEach(function(d,u){["x","y"].forEach(function(m,v){if(r[m]&&!d.isNull){let k=`plot${m.toUpperCase()}`,P=t[`${m}Axis`],z=r[m]*P.transA;if(P&&!P.logarithmic){let C=Math.max(0,(d[k]||0)-z),B=Math.min(P.len,(d[k]||0)+z);d[k]=C+(B-C)*function(N){let X=1e4*Math.sin(N);return X-Math.floor(X)}(u+v*a),m==="x"&&(d.clientX=d.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Wc.defaultOptions=Nm(Cg.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),_g(Wc.prototype,{drawTracker:Pg.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Sp(Wc,"afterTranslate",function(){this.applyJitter()}),ws.registerSeriesType("scatter",Wc);let{deg2rad:Tp}=Zt,{fireEvent:Wm,isNumber:Fc,pick:Tu,relativeLength:If}=ti;(function(T){T.getCenter=function(){let t=this.options,r=this.chart,a=2*(t.slicedOffset||0),d=r.plotWidth-2*a,u=r.plotHeight-2*a,m=t.center,v=Math.min(d,u),k=t.thickness,P,z=t.size,C=t.innerSize||0,B,N;typeof z=="string"&&(z=parseFloat(z)),typeof C=="string"&&(C=parseFloat(C));let X=[Tu(m==null?void 0:m[0],"50%"),Tu(m==null?void 0:m[1],"50%"),Tu(z&&z<0?void 0:t.size,"100%"),Tu(C&&C<0?void 0:t.innerSize||0,"0%")];for(!r.angular||this instanceof na||(X[3]=0),B=0;B<4;++B)N=X[B],P=B<2||B===2&&/%$/.test(N),X[B]=If(N,[d,u,v,X[2]][B])+(P?a:0);return X[3]>X[2]&&(X[3]=X[2]),Fc(k)&&2*k<X[2]&&k>0&&(X[3]=X[2]-2*k),Wm(this,"afterGetCenter",{positions:X}),X},T.getStartAndEndRadians=function(t,r){let a=Fc(t)?t:0,d=Fc(r)&&r>a&&r-a<360?r:a+360;return{start:Tp*(a+-90),end:Tp*(d+-90)}}})(Ds||(Ds={}));let Lg=Ds,{setAnimation:Fm}=Jr,{addEvent:Bf,defined:Df,extend:Hm,isNumber:Au,pick:Gm,relativeLength:Og}=ti;class Eg extends Pt{getConnectorPath(t){let r=t.dataLabelPosition,a=t.options||{},d=a.connectorShape,u=this.connectorShapes[d]||d;return r&&u.call(this,{...r.computed,alignment:r.alignment},r.connectorPosition,a)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(t){let r=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(r.x,r.y,r.r+t,r.r+t,{innerR:r.r-1,start:r.start,end:r.end,borderRadius:r.borderRadius})}constructor(t,r,a){super(t,r,a),this.half=0,this.name??(this.name=t.chart.options.lang.pieSliceName);let d=u=>{this.slice(u.type==="select")};Bf(this,"select",d),Bf(this,"unselect",d)}isValid(){return Au(this.y)&&this.y>=0}setVisible(t,r=!0){t!==this.visible&&this.update({visible:t??!this.visible},r,void 0,!1)}slice(t,r,a){let d=this.series;Fm(a,d.chart),r=Gm(r,!0),this.sliced=this.options.sliced=t=Df(t)?t:!this.sliced,d.options.data[d.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Hm(Eg.prototype,{connectorShapes:{fixedOffset:function(T,t,r){let a=t.breakAt,d=t.touchingSliceAt,u=r.softConnector?["C",T.x+(T.alignment==="left"?-5:5),T.y,2*a.x-d.x,2*a.y-d.y,a.x,a.y]:["L",a.x,a.y];return[["M",T.x,T.y],u,["L",d.x,d.y]]},straight:function(T,t){let r=t.touchingSliceAt;return[["M",T.x,T.y],["L",r.x,r.y]]},crookedLine:function(T,t,r){let{angle:a=this.angle||0,breakAt:d,touchingSliceAt:u}=t,{series:m}=this,[v,k,P]=m.center,z=P/2,{plotLeft:C,plotWidth:B}=m.chart,N=T.alignment==="left",{x:X,y:$}=T,K=d.x;if(r.crookDistance){let lt=Og(r.crookDistance,1);K=N?v+z+(B+C-v-z)*(1-lt):C+(v-z)*lt}else K=v+(k-$)*Math.tan(a-Math.PI/2);let J=[["M",X,$]];return(N?K<=X&&K>=d.x:K>=X&&K<=d.x)&&J.push(["L",K,$]),J.push(["L",d.x,d.y],["L",u.x,u.y]),J}}});let{getStartAndEndRadians:Ig}=Lg,{noop:zf}=Zt,{clamp:Pu,extend:Bg,fireEvent:Cu,merge:Rf,pick:Dg}=ti;class Nf extends na{animate(t){let r=this,a=r.points,d=r.startAngleRad;t||a.forEach(function(u){let m=u.graphic,v=u.shapeArgs;m&&v&&(m.attr({r:Dg(u.startR,r.center&&r.center[3]/2),start:d,end:d}),m.animate({r:v.r,start:v.start,end:v.end},r.options.animation))})}drawEmpty(){let t,r,a=this.startAngleRad,d=this.endAngleRad,u=this.options;this.total===0&&this.center?(t=this.center[0],r=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(t,r,this.center[1]/2,0,a,d).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:$n.arc(t,r,this.center[2]/2,0,{start:a,end:d,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":u.borderWidth,fill:u.fillColor||"none",stroke:u.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let t=this.chart.renderer;this.points.forEach(function(r){r.graphic&&r.hasNewShapeType()&&(r.graphic=r.graphic.destroy()),r.graphic||(r.graphic=t[r.shapeType](r.shapeArgs).add(r.series.group),r.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,r,a,d){let u=this.center,m=this.radii?this.radii[a.index]||0:u[2]/2,v=d.dataLabelPosition,k=(v==null?void 0:v.distance)||0,P=Math.asin(Pu((t-u[1])/(m+k),-1,1));return u[0]+Math.cos(P)*(m+k)*(r?-1:1)+(k>0?(r?-1:1)*(d.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let t,r,a,d,u=this,m=u.chart;this.drawEmpty(),u.group&&!m.styledMode&&u.group.shadow(u.options.shadow),u.points.forEach(function(v){let k={};r=v.graphic,!v.isNull&&r?(d=v.shapeArgs,t=v.getTranslate(),m.styledMode||(a=u.pointAttribs(v,v.selected&&"select")),v.delayedRendering?(r.setRadialReference(u.center).attr(d).attr(t),m.styledMode||r.attr(a).attr({"stroke-linejoin":"round"}),v.delayedRendering=!1):(r.setRadialReference(u.center),m.styledMode||Rf(!0,k,a),Rf(!0,k,d,t),r.animate(k)),r.attr({visibility:v.visible?"inherit":"hidden"}),r.addClass(v.getClassName(),!0)):r&&(v.graphic=r.destroy())})}sortByAngle(t,r){t.sort(function(a,d){return a.angle!==void 0&&(d.angle-a.angle)*r})}translate(t){Cu(this,"translate"),this.generatePoints();let r=this.options,a=r.slicedOffset,d=Ig(r.startAngle,r.endAngle),u=this.startAngleRad=d.start,m=(this.endAngleRad=d.end)-u,v=this.points,k=r.ignoreHiddenPoint,P=v.length,z,C,B,N,X,$,K,J=0;for(t||(this.center=t=this.getCenter()),$=0;$<P;$++){K=v[$],z=u+J*m,K.isValid()&&(!k||K.visible)&&(J+=K.percentage/100),C=u+J*m;let lt={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*z)/1e3,end:Math.round(1e3*C)/1e3};K.shapeType="arc",K.shapeArgs=lt,(B=(C+z)/2)>1.5*Math.PI?B-=2*Math.PI:B<-Math.PI/2&&(B+=2*Math.PI),K.slicedTranslation={translateX:Math.round(Math.cos(B)*a),translateY:Math.round(Math.sin(B)*a)},N=Math.cos(B)*t[2]/2,X=Math.sin(B)*t[2]/2,K.tooltipPos=[t[0]+.7*N,t[1]+.7*X],K.half=+(B<-Math.PI/2||B>Math.PI/2),K.angle=B}Cu(this,"afterTranslate")}updateTotals(){let t=this.points,r=t.length,a=this.options.ignoreHiddenPoint,d,u,m=0;for(d=0;d<r;d++)(u=t[d]).isValid()&&(!a||u.visible)&&(m+=u.y);for(d=0,this.total=m;d<r;d++)(u=t[d]).percentage=m>0&&(u.visible||!a)?u.y/m*100:0,u.total=m}}Nf.defaultOptions=Rf(na.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Bg(Nf.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:ha.prototype.drawTracker,getCenter:Lg.getCenter,getSymbol:zf,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:ha.prototype.pointAttribs,pointClass:Eg,requireSorting:!1,searchPoint:zf,trackerGroups:["group","dataLabelsGroup"]}),ws.registerSeriesType("pie",Nf);let{composed:zg,noop:Xm}=Zt,{distribute:Rg}=Ms,{series:_u}=ws,{arrayMax:Ng,clamp:Wg,defined:Wf,pick:Fg,pushUnique:Hg,relativeLength:Ff}=ti;(function(T){let t={radialDistributionY:function(m,v){var k;return(((k=v.dataLabelPosition)==null?void 0:k.top)||0)+m.distributeBox.pos},radialDistributionX:function(m,v,k,P,z){let C=z.dataLabelPosition;return m.getX(k<((C==null?void 0:C.top)||0)+2||k>((C==null?void 0:C.bottom)||0)-2?P:k,v.half,v,z)},justify:function(m,v,k,P){var z;return P[0]+(m.half?-1:1)*(k+(((z=v.dataLabelPosition)==null?void 0:z.distance)||0))},alignToPlotEdges:function(m,v,k,P){let z=m.getBBox().width;return v?z+P:k-z-P},alignToConnectors:function(m,v,k,P){let z=0,C;return m.forEach(function(B){(C=B.dataLabel.getBBox().width)>z&&(z=C)}),v?z+P:k-z-P}};function r(m,v){let k=Math.PI/2,{start:P=0,end:z=0}=m.shapeArgs||{},C=m.angle||0;v>0&&P<k&&z>k&&C>k/2&&C<1.5*k&&(C=C<=k?Math.max(k/2,(P+k)/2):Math.min(1.5*k,(k+z)/2));let{center:B,options:N}=this,X=B[2]/2,$=Math.cos(C),K=Math.sin(C),J=B[0]+$*X,lt=B[1]+K*X,mt=Math.min((N.slicedOffset||0)+(N.borderWidth||0),v/5);return{natural:{x:J+$*v,y:lt+K*v},computed:{},alignment:v<0?"center":m.half?"right":"left",connectorPosition:{angle:C,breakAt:{x:J+$*mt,y:lt+K*mt},touchingSliceAt:{x:J,y:lt}},distance:v}}function a(){var Nt;let m=this,v=m.points,k=m.chart,P=k.plotWidth,z=k.plotHeight,C=k.plotLeft,B=Math.round(k.chartWidth/3),N=m.center,X=N[2]/2,$=N[1],K=[[],[]],J=[0,0,0,0],lt=m.dataLabelPositioners,mt,_t,Lt,Ot=0;m.visible&&((Nt=m.hasDataLabels)!=null&&Nt.call(m))&&(v.forEach(zt=>{(zt.dataLabels||[]).forEach(Xt=>{Xt.shortened&&(Xt.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Xt.shortened=!1)})}),_u.prototype.drawDataLabels.apply(m),v.forEach(zt=>{(zt.dataLabels||[]).forEach((Xt,se)=>{var ai;let Qt=N[2]/2,ne=Xt.options,Ae=Ff((ne==null?void 0:ne.distance)||0,Qt);se===0&&K[zt.half].push(zt),!Wf((ai=ne==null?void 0:ne.style)==null?void 0:ai.width)&&Xt.getBBox().width>B&&(Xt.css({width:Math.round(.7*B)+"px"}),Xt.shortened=!0),Xt.dataLabelPosition=this.getDataLabelPosition(zt,Ae),Ot=Math.max(Ot,Ae)})}),K.forEach((zt,Xt)=>{let se=zt.length,Qt=[],ne,Ae,ai=0,Xe;se&&(m.sortByAngle(zt,Xt-.5),Ot>0&&(ne=Math.max(0,$-X-Ot),Ae=Math.min($+X+Ot,k.plotHeight),zt.forEach(qe=>{(qe.dataLabels||[]).forEach(Qe=>{var mi;let fi=Qe.dataLabelPosition;fi&&fi.distance>0&&(fi.top=Math.max(0,$-X-fi.distance),fi.bottom=Math.min($+X+fi.distance,k.plotHeight),ai=Qe.getBBox().height||21,Qe.lineHeight=k.renderer.fontMetrics(Qe.text||Qe).h+2*Qe.padding,qe.distributeBox={target:(((mi=Qe.dataLabelPosition)==null?void 0:mi.natural.y)||0)-fi.top+Qe.lineHeight/2,size:ai,rank:qe.y},Qt.push(qe.distributeBox))})}),Rg(Qt,Xe=Ae+ai-ne,Xe/5)),zt.forEach(qe=>{(qe.dataLabels||[]).forEach(Qe=>{let fi=Qe.options||{},mi=qe.distributeBox,vi=Qe.dataLabelPosition,Hi=(vi==null?void 0:vi.natural.y)||0,Sr=fi.connectorPadding||0,ls=Qe.lineHeight||21,us=(ls-Qe.getBBox().height)/2,es=0,Zi=Hi,Br="inherit";if(vi){if(Qt&&Wf(mi)&&vi.distance>0&&(mi.pos===void 0?Br="hidden":(Lt=mi.size,Zi=lt.radialDistributionY(qe,Qe))),fi.justify)es=lt.justify(qe,Qe,X,N);else switch(fi.alignTo){case"connectors":es=lt.alignToConnectors(zt,Xt,P,C);break;case"plotEdges":es=lt.alignToPlotEdges(Qe,Xt,P,C);break;default:es=lt.radialDistributionX(m,qe,Zi-us,Hi,Qe)}if(vi.attribs={visibility:Br,align:vi.alignment},vi.posAttribs={x:es+(fi.x||0)+({left:Sr,right:-Sr}[vi.alignment]||0),y:Zi+(fi.y||0)-ls/2},vi.computed.x=es,vi.computed.y=Zi-us,Fg(fi.crop,!0)){let ur;es-(_t=Qe.getBBox().width)<Sr&&Xt===1?(ur=Math.round(_t-es+Sr),J[3]=Math.max(ur,J[3])):es+_t>P-Sr&&Xt===0&&(ur=Math.round(es+_t-P+Sr),J[1]=Math.max(ur,J[1])),Zi-Lt/2<0?J[0]=Math.max(Math.round(-Zi+Lt/2),J[0]):Zi+Lt/2>z&&(J[2]=Math.max(Math.round(Zi+Lt/2-z),J[2])),vi.sideOverflow=ur}}})}))}),(Ng(J)===0||this.verifyDataLabelOverflow(J))&&(this.placeDataLabels(),this.points.forEach(zt=>{(zt.dataLabels||[]).forEach(Xt=>{var Ae;let{connectorColor:se,connectorWidth:Qt=1}=Xt.options||{},ne=Xt.dataLabelPosition;if(Qt){let ai;mt=Xt.connector,ne&&ne.distance>0?(ai=!mt,mt||(Xt.connector=mt=k.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+zt.colorIndex+(zt.className?" "+zt.className:"")).add(m.dataLabelsGroup)),k.styledMode||mt.attr({"stroke-width":Qt,stroke:se||zt.color||"#666666"}),mt[ai?"attr":"animate"]({d:zt.getConnectorPath(Xt)}),mt.attr({visibility:(Ae=ne.attribs)==null?void 0:Ae.visibility})):mt&&(Xt.connector=mt.destroy())}})})))}function d(){this.points.forEach(m=>{(m.dataLabels||[]).forEach(v=>{var P,z;let k=v.dataLabelPosition;k?(k.sideOverflow&&(v.css({width:Math.max(v.getBBox().width-k.sideOverflow,0)+"px",textOverflow:((z=(P=v.options)==null?void 0:P.style)==null?void 0:z.textOverflow)||"ellipsis"}),v.shortened=!0),v.attr(k.attribs),v[v.moved?"animate":"attr"](k.posAttribs),v.moved=!0):v&&v.attr({y:-9999})}),delete m.distributeBox},this)}function u(m){let v=this.center,k=this.options,P=k.center,z=k.minSize||80,C=z,B=k.size!==null;return!B&&(P[0]!==null?C=Math.max(v[2]-Math.max(m[1],m[3]),z):(C=Math.max(v[2]-m[1]-m[3],z),v[0]+=(m[3]-m[1])/2),P[1]!==null?C=Wg(C,z,v[2]-Math.max(m[0],m[2])):(C=Wg(C,z,v[2]-m[0]-m[2]),v[1]+=(m[0]-m[2])/2),C<v[2]?(v[2]=C,v[3]=Math.min(k.thickness?Math.max(0,C-2*k.thickness):Math.max(0,Ff(k.innerSize||0,C)),C),this.translate(v),this.drawDataLabels&&this.drawDataLabels()):B=!0),B}T.compose=function(m){if(Mu.compose(_u),Hg(zg,"PieDataLabel")){let v=m.prototype;v.dataLabelPositioners=t,v.alignDataLabel=Xm,v.drawDataLabels=a,v.getDataLabelPosition=r,v.placeDataLabels=d,v.verifyDataLabelOverflow=u}}})(qr||(qr={}));let Ym=qr;(function(T){T.getCenterOfPoints=function(t){let r=t.reduce((a,d)=>(a.x+=d.x,a.y+=d.y,a),{x:0,y:0});return{x:r.x/t.length,y:r.y/t.length}},T.getDistanceBetweenPoints=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},T.getAngleBetweenPoints=function(t,r){return Math.atan2(r.x-t.x,r.y-t.y)},T.pointInPolygon=function({x:t,y:r},a){let d=a.length,u,m,v=!1;for(u=0,m=d-1;u<d;m=u++){let[k,P]=a[u],[z,C]=a[m];P>r!=C>r&&t<(z-k)*(r-P)/(C-P)+k&&(v=!v)}return v}})(ke||(ke={}));let{pointInPolygon:Gg}=ke,{addEvent:Hf,getAlignFactor:Xg,fireEvent:Gf,objectEach:Yg,pick:Lu}=ti;function jm(T){let t=T.length,r=(z,C)=>!(C.x>=z.x+z.width||C.x+C.width<=z.x||C.y>=z.y+z.height||C.y+C.height<=z.y),a=(z,C)=>{for(let B of z)if(Gg({x:B[0],y:B[1]},C))return!0;return!1},d,u,m,v,k,P=!1;for(let z=0;z<t;z++)(d=T[z])&&(d.oldOpacity=d.opacity,d.newOpacity=1,d.absoluteBox=function(C){var B,N;if(C&&(!C.alignAttr||C.placed)){let X=C.box?0:C.padding||0,$=C.alignAttr||{x:C.attr("x"),y:C.attr("y")},{height:K,polygon:J,width:lt}=C.getBBox(),mt=Xg(C.alignValue)*lt;return C.width=lt,C.height=K,{x:$.x+(((B=C.parentGroup)==null?void 0:B.translateX)||0)+X-mt,y:$.y+(((N=C.parentGroup)==null?void 0:N.translateY)||0)+X,width:lt-2*X,height:K-2*X,polygon:J}}}(d));T.sort((z,C)=>(C.labelrank||0)-(z.labelrank||0));for(let z=0;z<t;++z){v=(u=T[z])&&u.absoluteBox;let C=v==null?void 0:v.polygon;for(let B=z+1;B<t;++B){k=(m=T[B])&&m.absoluteBox;let N=!1;if(v&&k&&u!==m&&u.newOpacity!==0&&m.newOpacity!==0&&u.visibility!=="hidden"&&m.visibility!=="hidden"){let X=k.polygon;if(C&&X&&C!==X?a(C,X)&&(N=!0):r(v,k)&&(N=!0),N){let $=u.labelrank<m.labelrank?u:m,K=$.text;$.newOpacity=0,K!=null&&K.element.querySelector("textPath")&&K.hide()}}}}for(let z of T)Ou(z,this)&&(P=!0);P&&Gf(this,"afterHideAllOverlappingLabels")}function Ou(T,t){let r,a=!1;return T&&(r=T.newOpacity,T.oldOpacity!==r&&(T.hasClass("highcharts-data-label")?(T[r?"removeClass":"addClass"]("highcharts-data-label-hidden"),a=!0,T[T.isOld?"animate":"attr"]({opacity:r},void 0,function(){t.styledMode||T.css({pointerEvents:r?"auto":"none"})}),Gf(t,"afterHideOverlappingLabel")):T.attr({opacity:r})),T.isOld=!0),a}function jg(){var r;let T=this,t=[];for(let a of T.labelCollectors||[])t=t.concat(a());for(let a of T.yAxis||[])a.stacking&&a.options.stackLabels&&!a.options.stackLabels.allowOverlap&&Yg(a.stacking.stacks,d=>{Yg(d,u=>{u.label&&t.push(u.label)})});for(let a of T.series||[])if(a.visible&&((r=a.hasDataLabels)!=null&&r.call(a))){let d=u=>{for(let m of u)m.visible&&(m.dataLabels||[]).forEach(v=>{var P;let k=v.options||{};v.labelrank=Lu(k.labelrank,m.labelrank,(P=m.shapeArgs)==null?void 0:P.height),k.allowOverlap??Number(k.distance)>0?(v.oldOpacity=v.opacity,v.newOpacity=1,Ou(v,T)):t.push(v)})};d(a.nodes||[]),d(a.points)}this.hideOverlappingLabels(t)}let Xf={compose:function(T){let t=T.prototype;t.hideOverlappingLabels||(t.hideOverlappingLabels=jm,Hf(T,"render",jg))}},{defaultOptions:Ug}=Di,{noop:Eu}=Zt,{addEvent:Yf,extend:Um,isObject:Iu,merge:Vm,relativeLength:Bu}=ti,Vg={radius:0,scope:"stack",where:void 0},Ap=Eu,Zg=Eu;function jf(T,t,r,a,d={}){let u=Ap(T,t,r,a,d),{innerR:m=0,r:v=r,start:k=0,end:P=0}=d;if(d.open||!d.borderRadius)return u;let z=P-k,C=Math.sin(z/2),B=Math.max(Math.min(Bu(d.borderRadius||0,v-m),(v-m)/2,v*C/(1+C)),0),N=Math.min(B,z/Math.PI*2*m),X=u.length-1;for(;X--;)(function($,K,J){let lt,mt,_t,Lt=$[K],Ot=$[K+1];if(Ot[0]==="Z"&&(Ot=$[0]),(Lt[0]==="M"||Lt[0]==="L")&&Ot[0]==="A"?(lt=Lt,mt=Ot,_t=!0):Lt[0]==="A"&&(Ot[0]==="M"||Ot[0]==="L")&&(lt=Ot,mt=Lt),lt&&mt&&mt.params){let Nt=mt[1],zt=mt[5],Xt=mt.params,{start:se,end:Qt,cx:ne,cy:Ae}=Xt,ai=zt?Nt-J:Nt+J,Xe=ai?Math.asin(J/ai):0,qe=zt?Xe:-Xe,Qe=Math.cos(Xe)*ai;_t?(Xt.start=se+qe,lt[1]=ne+Qe*Math.cos(se),lt[2]=Ae+Qe*Math.sin(se),$.splice(K+1,0,["A",J,J,0,0,1,ne+Nt*Math.cos(Xt.start),Ae+Nt*Math.sin(Xt.start)])):(Xt.end=Qt-qe,mt[6]=ne+Nt*Math.cos(Xt.end),mt[7]=Ae+Nt*Math.sin(Xt.end),$.splice(K+1,0,["A",J,J,0,0,1,ne+Qe*Math.cos(Qt),Ae+Qe*Math.sin(Qt)])),mt[4]=Math.abs(Xt.end-Xt.start)<Math.PI?0:1}})(u,X,X>1?N:B);return u}function Zm(){var T,t;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:r,yAxis:a}=this,d=r.stacking==="percent",u=(t=(T=Ug.plotOptions)==null?void 0:T[this.type])==null?void 0:t.borderRadius,m=Du(r.borderRadius,Iu(u)?u:{}),v=a.options.reversed;for(let k of this.points){let{shapeArgs:P}=k;if(k.shapeType==="roundedRect"&&P){let{width:z=0,height:C=0,y:B=0}=P,N=B,X=C;if(m.scope==="stack"&&k.stackTotal){let lt=a.translate(d?100:k.stackTotal,!1,!0,!1,!0),mt=a.translate(r.threshold||0,!1,!0,!1,!0),_t=this.crispCol(0,Math.min(lt,mt),0,Math.abs(lt-mt));N=_t.y,X=_t.height}let $=(k.negative?-1:1)*(v?-1:1)==-1,K=m.where;!K&&this.is("waterfall")&&Math.abs((k.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(K="all"),K||(K="end");let J=Math.min(Bu(m.radius,z),z/2,K==="all"?C/2:1/0)||0;K==="end"&&($&&(N-=J),X+=J),Um(P,{brBoxHeight:X,brBoxY:N,r:J})}}}}function Du(T,t){return Iu(T)||(T={radius:T||0}),Vm(Vg,t,T)}function F(){let T=Du(this.options.borderRadius);for(let t of this.points){let r=t.shapeArgs;r&&(r.borderRadius=Bu(T.radius,(r.r||0)-(r.innerR||0)))}}function i(T,t,r,a,d={}){let u=Zg(T,t,r,a,d),{r:m=0,brBoxHeight:v=a,brBoxY:k=t}=d,P=t-k,z=k+v-(t+a),C=P-m>-.1?0:m,B=z-m>-.1?0:m,N=Math.max(C&&P,0),X=Math.max(B&&z,0),$=[T+C,t],K=[T+r-C,t],J=[T+r,t+C],lt=[T+r,t+a-B],mt=[T+r-B,t+a],_t=[T+B,t+a],Lt=[T,t+a-B],Ot=[T,t+C],Nt=(zt,Xt)=>Math.sqrt(Math.pow(zt,2)-Math.pow(Xt,2));if(N){let zt=Nt(C,C-N);$[0]-=zt,K[0]+=zt,J[1]=Ot[1]=t+C-N}if(a<C-N){let zt=Nt(C,C-N-a);J[0]=lt[0]=T+r-C+zt,mt[0]=Math.min(J[0],mt[0]),_t[0]=Math.max(lt[0],_t[0]),Lt[0]=Ot[0]=T+C-zt,J[1]=Ot[1]=t+a}if(X){let zt=Nt(B,B-X);mt[0]+=zt,_t[0]-=zt,lt[1]=Lt[1]=t+a-B+X}if(a<B-X){let zt=Nt(B,B-X-a);J[0]=lt[0]=T+r-B+zt,K[0]=Math.min(J[0],K[0]),$[0]=Math.max(lt[0],$[0]),Lt[0]=Ot[0]=T+B-zt,lt[1]=Lt[1]=t}return u.length=0,u.push(["M",...$],["L",...K],["A",C,C,0,0,1,...J],["L",...lt],["A",B,B,0,0,1,...mt],["L",..._t],["A",B,B,0,0,1,...Lt],["L",...Ot],["A",C,C,0,0,1,...$],["Z"]),u}let{diffObjects:l,extend:c,find:y,merge:w,pick:M,uniqueKey:S}=ti;(function(T){function t(a,d){let u=a.condition;(u.callback||function(){return this.chartWidth<=M(u.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=M(u.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=M(u.minWidth,0)&&this.chartHeight>=M(u.minHeight,0)}).call(this)&&d.push(a._id)}function r(a,d){let u=this.options.responsive,m=this.currentResponsive,v=[],k;!d&&u&&u.rules&&u.rules.forEach(C=>{C._id===void 0&&(C._id=S()),this.matchResponsiveRule(C,v)},this);let P=w(...v.map(C=>y((u==null?void 0:u.rules)||[],B=>B._id===C)).map(C=>C==null?void 0:C.chartOptions));P.isResponsiveOptions=!0,v=v.toString()||void 0;let z=m==null?void 0:m.ruleIds;v!==z&&(m&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(m.undoOptions,a,!0),this.updatingResponsive=!1),v?((k=l(P,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:v,mergedOptions:P,undoOptions:k},this.updatingResponsive||this.update(P,a,!0)):this.currentResponsive=void 0)}T.compose=function(a){let d=a.prototype;return d.matchResponsiveRule||c(d,{matchResponsiveRule:t,setResponsive:r}),a}})(Kr||(Kr={}));let E=Kr;Zt.AST=tr,Zt.Axis=nr,Zt.Chart=ml,Zt.Color=Ys,Zt.DataLabel=Mu,Zt.DataTableCore=kr,Zt.Fx=xo,Zt.HTMLElement=Ta,Zt.Legend=su,Zt.LegendSymbol=qo,Zt.OverlappingDataLabels=Zt.OverlappingDataLabels||Xf,Zt.PlotLineOrBand=zd,Zt.Point=Pt,Zt.Pointer=je,Zt.RendererRegistry=Ws,Zt.Series=na,Zt.SeriesRegistry=ws,Zt.StackItem=uu,Zt.SVGElement=Lo,Zt.SVGRenderer=$o,Zt.Templating=Lr,Zt.Tick=Er,Zt.Time=ji,Zt.Tooltip=Kp,Zt.animate=Jr.animate,Zt.animObject=Jr.animObject,Zt.chart=ml.chart,Zt.color=Ys.parse,Zt.dateFormat=Lr.dateFormat,Zt.defaultOptions=Di.defaultOptions,Zt.distribute=Ms.distribute,Zt.format=Lr.format,Zt.getDeferredAnimation=Jr.getDeferredAnimation,Zt.getOptions=Di.getOptions,Zt.numberFormat=Lr.numberFormat,Zt.seriesType=ws.seriesType,Zt.setAnimation=Jr.setAnimation,Zt.setOptions=Di.setOptions,Zt.stop=Jr.stop,Zt.time=Di.defaultTime,Zt.timers=xo.timers,{compose:function(T,t,r){let a=T.types.pie;if(!t.symbolCustomAttribs.includes("borderRadius")){let d=r.prototype.symbols;Yf(T,"afterColumnTranslate",Zm,{order:9}),Yf(a,"afterTranslate",F),t.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),Ap=d.arc,Zg=d.roundedRect,d.arc=jf,d.roundedRect=i}},optionsToObject:Du}.compose(Zt.Series,Zt.SVGElement,Zt.SVGRenderer),Lf.compose(Zt.Series.types.column),Mu.compose(Zt.Series),Ah.compose(Zt.Axis),Ta.compose(Zt.SVGRenderer),su.compose(Zt.Chart),Xp.compose(Zt.Axis),Xf.compose(Zt.Chart),Ym.compose(Zt.Series.types.pie),zd.compose(Zt.Chart,Zt.Axis),je.compose(Zt.Chart),E.compose(Zt.Chart),Lc.compose(Zt.Axis,Zt.Chart,Zt.Series),xg.compose(Zt.Axis,Zt.Chart,Zt.Series),Kp.compose(Zt.Pointer),ti.extend(Zt,ti);let{tooltipFormatter:W}=Pt.prototype,{addEvent:U,arrayMax:H,arrayMin:q,correctFloat:it,defined:ht,isArray:yt,isNumber:xt,isString:ut,pick:wt}=ti;(function(T){function t(C,B,N){!this.isXAxis&&(this.series.forEach(function(X){C==="compare"&&typeof B!="boolean"?X.setCompare(B,!1):C!=="cumulative"||ut(B)||X.setCumulative(B,!1)}),wt(N,!0)&&this.chart.redraw())}function r(C){let B=this,{numberFormatter:N}=B.series.chart,X=function($){C=C.replace("{point."+$+"}",(B[$]>0&&$==="change"?"+":"")+N(B[$],wt(B.series.tooltipOptions.changeDecimals,2)))};return ht(B.change)&&X("change"),ht(B.cumulativeSum)&&X("cumulativeSum"),W.apply(this,[C])}function a(){let C,B=this.options.compare;(B==="percent"||B==="value"||this.options.cumulative)&&(C=new z(this),B==="percent"||B==="value"?C.initCompare(B):C.initCumulative()),this.dataModify=C}function d(C){let B=C.dataExtremes,N=B.activeYData;if(this.dataModify&&B){let X;this.options.compare?X=[this.dataModify.modifyValue(B.dataMin),this.dataModify.modifyValue(B.dataMax)]:this.options.cumulative&&yt(N)&&N.length>=2&&(X=z.getCumulativeExtremes(N)),X&&(B.dataMin=q(X),B.dataMax=H(X))}}function u(C,B){this.options.compare=this.userOptions.compare=C,this.update({},wt(B,!0)),this.dataModify&&(C==="value"||C==="percent")?this.dataModify.initCompare(C):this.points.forEach(N=>{delete N.change})}function m(){let C=this.getColumn(this.pointArrayMap&&(this.options.pointValKey||this.pointValKey)||"y",!0);if(this.xAxis&&C.length&&this.dataModify){let B=this.getColumn("x",!0),N=this.dataTable.rowCount,X=+(this.options.compareStart!==!0);for(let $=0;$<N-X;$++){let K=C[$];if(xt(K)&&K!==0&&B[$+X]>=(this.xAxis.min||0)){this.dataModify.compareValue=K;break}}}}function v(C,B){this.setModifier("compare",C,B)}function k(C,B){C=wt(C,!1),this.options.cumulative=this.userOptions.cumulative=C,this.update({},wt(B,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(N=>{delete N.cumulativeSum})}function P(C,B){this.setModifier("cumulative",C,B)}T.compose=function(C,B,N){let X=B.prototype,$=N.prototype,K=C.prototype;return K.setCompare||(K.setCompare=u,K.setCumulative=k,U(C,"afterInit",a),U(C,"afterGetExtremes",d),U(C,"afterProcessData",m)),X.setCompare||(X.setCompare=v,X.setModifier=t,X.setCumulative=P,$.tooltipFormatter=r),C};class z{constructor(B){this.series=B}modifyValue(){return 0}static getCumulativeExtremes(B){let N=1/0,X=-1/0;return B.reduce(($,K)=>{let J=$+K;return N=Math.min(N,J,$),X=Math.max(X,J,$),J}),[N,X]}initCompare(B){this.modifyValue=function(N,X){N===null&&(N=0);let $=this.compareValue;if(N!==void 0&&$!==void 0){if(B==="value"?N-=$:N=N/$*100-100*(this.series.options.compareBase!==100),X!==void 0){let K=this.series.points[X];K&&(K.change=N)}return N}return 0}}initCumulative(){this.modifyValue=function(B,N){if(B===null&&(B=0),B!==void 0&&N!==void 0){let X=N>0?this.series.points[N-1]:null;X&&X.cumulativeSum&&(B=it(X.cumulativeSum+B));let $=this.series.points[N],K=$.series.options.cumulativeStart,J=$.x<=this.series.xAxis.max&&$.x>=this.series.xAxis.min;return $&&(!K||J?$.cumulativeSum=B:$.cumulativeSum=void 0),B}return 0}}}T.Additions=z})(co||(co={}));let Mt=co,{isTouchDevice:Kt}=Zt,{addEvent:Vt,merge:qt,pick:ve}=ti,he=[];function fe(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function Ie(){var u;let T,t,r,a=this.legend,d=this.navigator;if(d){T=a&&a.options,t=d.xAxis,r=d.yAxis;let{scrollbarHeight:m,scrollButtonSize:v}=d;this.inverted?(d.left=d.opposite?this.chartWidth-m-d.height:this.spacing[3]+m,d.top=this.plotTop+v):(d.left=ve(t.left,this.plotLeft+v),d.top=d.navigatorOptions.top||this.chartHeight-d.height-m-(((u=this.scrollbar)==null?void 0:u.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(T&&T.verticalAlign==="bottom"&&T.layout!=="proximate"&&T.enabled&&!T.floating?a.legendHeight+ve(T.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),t&&r&&(this.inverted?t.options.left=r.options.left=d.left:t.options.top=r.options.top=d.top,t.setAxisSize(),r.setAxisSize())}}function ze(T){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new Et(this),ve(T.redraw,!0)&&this.redraw(T.animation))}function Je(){let T=this.options;(T.navigator.enabled||T.scrollbar.enabled)&&(this.scroller=this.navigator=new Et(this))}function ni(){let T=this.options,t=T.navigator,r=T.rangeSelector;if((t&&t.enabled||r&&r.enabled)&&(!Kt&&this.zooming.type==="x"||Kt&&this.zooming.pinchType==="x"))return!1}function Pi(T){let t=T.navigator;if(t&&T.xAxis[0]){let r=T.xAxis[0].getExtremes();t.render(r.min,r.max)}}function ki(T){let t=T.options.navigator||{},r=T.options.scrollbar||{};!this.navigator&&!this.scroller&&(t.enabled||r.enabled)&&(qt(!0,this.options.navigator,t),qt(!0,this.options.scrollbar,r),delete T.options.navigator,delete T.options.scrollbar)}let Ei={compose:function(T,t){if(ti.pushUnique(he,T)){let r=T.prototype;Et=t,r.callbacks.push(Pi),Vt(T,"afterAddSeries",fe),Vt(T,"afterSetChartSize",Ie),Vt(T,"afterUpdate",ze),Vt(T,"beforeRender",Je),Vt(T,"beforeShowResetZoom",ni),Vt(T,"update",ki)}}},{isTouchDevice:pi}=Zt,{addEvent:Fi,correctFloat:Ps,defined:Ss,isNumber:Bs,pick:dn}=ti;function cs(){this.navigatorAxis||(this.navigatorAxis=new Ki(this))}function sr(T){let t,r=this.chart,a=r.options,d=a.navigator,u=this.navigatorAxis,m=r.zooming.pinchType,v=a.rangeSelector,k=r.zooming.type;if(this.isXAxis&&(d!=null&&d.enabled||v!=null&&v.enabled)){if(k==="y"&&T.trigger==="zoom")t=!1;else if((T.trigger==="zoom"&&k==="xy"||pi&&m==="xy")&&this.options.range){let P=u.previousZoom;Ss(T.min)?u.previousZoom=[this.min,this.max]:P&&(T.min=P[0],T.max=P[1],u.previousZoom=void 0)}}t!==void 0&&T.preventDefault()}class Ki{static compose(t){t.keepProps.includes("navigatorAxis")||(t.keepProps.push("navigatorAxis"),Fi(t,"init",cs),Fi(t,"setExtremes",sr))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,r,a,d){let u=this.axis,m=(u.pointRange||0)/2,v=dn(a,u.translate(t,!0,!u.horiz)),k=dn(d,u.translate(r,!0,!u.horiz));return Ss(a)||(v=Ps(v+m)),Ss(d)||(k=Ps(k-m)),Bs(v)&&Bs(k)||(v=k=void 0),{min:v,max:k}}}let{parse:$i}=Ys,{seriesTypes:io}=ws,Zs={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:$i("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:io.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{relativeLength:Mr}=ti,To={"navigator-handle":function(T,t,r,a,d={}){let u=d.width?d.width/2:r,m=Mr(d.borderRadius||0,Math.min(2*u,a));return[["M",-1.5,(a=d.height||a)/2-3.5],["L",-1.5,a/2+4.5],["M",.5,a/2-3.5],["L",.5,a/2+4.5],...$n.rect(-u-1,.5,2*u+1,a,{r:m})]}},{defined:ch}=ti,Qa={setFixedRange:function(T){let t=this.xAxis[0];ch(t.dataMax)&&ch(t.dataMin)&&T?this.fixedRange=Math.min(T,t.dataMax-t.dataMin):this.fixedRange=T}},{defaultOptions:_n}=Di,{composed:$s}=Zt,{getRendererType:Nr}=Ws,{setFixedRange:zh}=Qa,{addEvent:md,extend:Rh,pushUnique:ic}=ti;function Da(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let sc={compose:function(T,t,r){Ki.compose(t),ic($s,"Navigator")&&(T.prototype.setFixedRange=zh,Rh(Nr().prototype.symbols,To),Rh(_n,{navigator:Zs}),md(r,"afterUpdate",Da))}},{composed:$g}=Zt,{addEvent:qg,defined:Pp,pick:Hc,pushUnique:Lx}=ti;(function(T){let t;function r(m){var P,z;let v=Hc((P=m.options)==null?void 0:P.min,m.min),k=Hc((z=m.options)==null?void 0:z.max,m.max);return{axisMin:v,axisMax:k,scrollMin:Pp(m.dataMin)?Math.min(v,m.min,m.dataMin,Hc(m.threshold,1/0)):v,scrollMax:Pp(m.dataMax)?Math.max(k,m.max,m.dataMax,Hc(m.threshold,-1/0)):k}}function a(){let m=this.scrollbar,v=m&&!m.options.opposite,k=this.horiz?2:v?3:1;m&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[k]+=m.size+(m.options.margin||0))}function d(){var v,k;let m=this;(k=(v=m.options)==null?void 0:v.scrollbar)!=null&&k.enabled&&(m.options.scrollbar.vertical=!m.horiz,m.options.startOnTick=m.options.endOnTick=!1,m.scrollbar=new t(m.chart.renderer,m.options.scrollbar,m.chart),qg(m.scrollbar,"changed",function(P){let z,C,{axisMin:B,axisMax:N,scrollMin:X,scrollMax:$}=r(m),K=$-X;if(Pp(B)&&Pp(N))if(m.horiz&&!m.reversed||!m.horiz&&m.reversed?(z=X+K*this.to,C=X+K*this.from):(z=X+K*(1-this.from),C=X+K*(1-this.to)),this.shouldUpdateExtremes(P.DOMType)){let J=P.DOMType!=="mousemove"&&P.DOMType!=="touchmove"&&void 0;m.setExtremes(C,z,!0,J,P)}else this.setRange(this.from,this.to)}))}function u(){let m,v,k,{scrollMin:P,scrollMax:z}=r(this),C=this.scrollbar,B=this.axisTitleMargin+(this.titleOffset||0),N=this.chart.scrollbarsOffsets,X=this.options.margin||0;if(C&&N){if(this.horiz)this.opposite||(N[1]+=B),C.position(this.left,this.top+this.height+2+N[1]-(this.opposite?X:0),this.width,this.height),this.opposite||(N[1]+=X),m=1;else{let $;this.opposite&&(N[0]+=B),$=C.options.opposite?this.left+this.width+2+N[0]-(this.opposite?0:X):this.opposite?0:X,C.position($,this.top,this.width,this.height),this.opposite&&(N[0]+=X),m=0}if(N[m]+=C.size+(C.options.margin||0),isNaN(P)||isNaN(z)||!Pp(this.min)||!Pp(this.max)||this.dataMin===this.dataMax)C.setRange(0,1);else if(this.min===this.max){let $=this.pointRange/(this.dataMax+1);v=$*this.min,k=$*(this.max+1),C.setRange(v,k)}else v=(this.min-P)/(z-P),k=(this.max-P)/(z-P),this.horiz&&!this.reversed||!this.horiz&&this.reversed?C.setRange(v,k):C.setRange(1-k,1-v)}}T.compose=function(m,v){Lx($g,"Axis.Scrollbar")&&(t=v,qg(m,"afterGetOffset",a),qg(m,"afterInit",d),qg(m,"afterRender",u))}})(ii||(ii={}));let zu=ii,Kg={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:Ox}=Di,{composed:Ex}=Zt,{addEvent:Ix,correctFloat:Gc,crisp:Jg,defined:Bx,destroyObjectProperties:Hy,extend:Qg,fireEvent:Ru,merge:tm,pick:Nu,pushUnique:Uf,removeEvent:Vf}=ti;class ph{static compose(t){zu.compose(t,ph),Uf(Ex,"Scrollbar")&&Qg(Ox,{scrollbar:Kg})}static swapXY(t,r){return r&&t.forEach(a=>{let d,u=a.length;for(let m=0;m<u;m+=2)typeof(d=a[m+1])=="number"&&(a[m+1]=a[m+2],a[m+2]=d)}),t}constructor(t,r,a){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(t,r,a)}addEvents(){let t=this.options.inverted?[1,0]:[0,1],r=this.scrollbarButtons,a=this.scrollbarGroup.element,d=this.track.element,u=this.mouseDownHandler.bind(this),m=this.mouseMoveHandler.bind(this),v=this.mouseUpHandler.bind(this),k=[[r[t[0]].element,"click",this.buttonToMinClick.bind(this)],[r[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[d,"click",this.trackClick.bind(this)],[a,"mousedown",u],[a.ownerDocument,"mousemove",m],[a.ownerDocument,"mouseup",v],[a,"touchstart",u],[a.ownerDocument,"touchmove",m],[a.ownerDocument,"touchend",v]];k.forEach(function(P){Ix.apply(null,P)}),this._events=k}buttonToMaxClick(t){let r=(this.to-this.from)*Nu(this.options.step,.2);this.updatePosition(this.from+r,this.to+r),Ru(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){let r=Gc(this.to-this.from)*Nu(this.options.step,.2);this.updatePosition(Gc(this.from-r),Gc(this.to-r)),Ru(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){let r=this.options,a=r.minWidth>this.calculatedWidth?r.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-a),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-a)}}destroy(){let t=this,r=t.chart.scroller;t.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(a){t[a]&&t[a].destroy&&(t[a]=t[a].destroy())}),r&&t===r.scrollbar&&(r.scrollbar=null,Hy(r.scrollbarButtons))}drawScrollbarButton(t){let r=this.renderer,a=this.scrollbarButtons,d=this.options,u=this.size,m=r.g().add(this.group);if(a.push(m),d.buttonsEnabled){let v=r.rect().addClass("highcharts-scrollbar-button").add(m);this.chart.styledMode||v.attr({stroke:d.buttonBorderColor,"stroke-width":d.buttonBorderWidth,fill:d.buttonBackgroundColor}),v.attr(v.crisp({x:-.5,y:-.5,width:u,height:u,r:d.buttonBorderRadius},v.strokeWidth()));let k=r.path(ph.swapXY([["M",u/2+(t?-1:1),u/2-3],["L",u/2+(t?-1:1),u/2+3],["L",u/2+(t?2:-2),u/2]],d.vertical)).addClass("highcharts-scrollbar-arrow").add(a[t]);this.chart.styledMode||k.attr({fill:d.buttonArrowColor})}}init(t,r,a){this.scrollbarButtons=[],this.renderer=t,this.userOptions=r,this.options=tm(Kg,Ox.scrollbar,r),this.options.margin=Nu(this.options.margin,10),this.chart=a,this.size=Nu(this.options.size,this.options.height),r.enabled&&(this.render(),this.addEvents())}mouseDownHandler(t){var d;let r=((d=this.chart.pointer)==null?void 0:d.normalize(t))||t,a=this.cursorToScrollbarPosition(r);this.chartX=a.chartX,this.chartY=a.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(t){var m;let r,a=((m=this.chart.pointer)==null?void 0:m.normalize(t))||t,d=this.options.vertical?"chartY":"chartX",u=this.initPositions||[];this.grabbedCenter&&(!t.touches||t.touches[0][d]!==0)&&(r=this.cursorToScrollbarPosition(a)[d]-this[d],this.hasDragged=!0,this.updatePosition(u[0]+r,u[1]+r),this.hasDragged&&Ru(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){this.hasDragged&&Ru(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(t,r,a,d){let{buttonsEnabled:u,margin:m=0,vertical:v}=this.options,k=this.rendered?"animate":"attr",P=d,z=0;this.group.show(),this.x=t,this.y=r+this.trackBorderWidth,this.width=a,this.height=d,this.xOffset=P,this.yOffset=z,v?(this.width=this.yOffset=a=z=this.size,this.xOffset=P=0,this.yOffset=z=u?this.size:0,this.barWidth=d-(u?2*a:0),this.x=t+=m):(this.height=d=this.size,this.xOffset=P=u?this.size:0,this.barWidth=a-(u?2*d:0),this.y=this.y+m),this.group[k]({translateX:t,translateY:this.y}),this.track[k]({width:a,height:d}),this.scrollbarButtons[1][k]({translateX:v?0:a-P,translateY:v?d-z:0})}removeEvents(){this._events.forEach(function(t){Vf.apply(null,t)}),this._events.length=0}render(){let t=this.renderer,r=this.options,a=this.size,d=this.chart.styledMode,u=t.g("scrollbar").attr({zIndex:r.zIndex}).hide().add();this.group=u,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({r:r.trackBorderRadius||0,height:a,width:a}).add(u),d||this.track.attr({fill:r.trackBackgroundColor,stroke:r.trackBorderColor,"stroke-width":r.trackBorderWidth});let m=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-Jg(0,m),y:-Jg(0,m)}),this.scrollbarGroup=t.g().add(u),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:a-m,width:a-m,r:r.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(ph.swapXY([["M",-3,a/4],["L",-3,2*a/3],["M",0,a/4],["L",0,2*a/3],["M",3,a/4],["L",3,2*a/3]],r.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),d||(this.scrollbar.attr({fill:r.barBackgroundColor,stroke:r.barBorderColor,"stroke-width":r.barBorderWidth}),this.scrollbarRifles.attr({stroke:r.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-Jg(0,this.scrollbarStrokeWidth),-Jg(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(t,r){let a,d,u=this.options,m=u.vertical,v=u.minWidth,k=this.barWidth,P=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!Bx(k))return;let z=k*Math.min(r,1);a=Math.ceil(k*(t=Math.max(t,0))),this.calculatedWidth=d=Gc(z-a),d<v&&(a=(k-v+d)*t,d=v);let C=Math.floor(a+this.xOffset+this.yOffset),B=d/2-.5;this.from=t,this.to=r,m?(this.scrollbarGroup[P]({translateY:C}),this.scrollbar[P]({height:d}),this.scrollbarRifles[P]({translateY:B}),this.scrollbarTop=C,this.scrollbarLeft=0):(this.scrollbarGroup[P]({translateX:C}),this.scrollbar[P]({width:d}),this.scrollbarRifles[P]({translateX:B}),this.scrollbarLeft=C,this.scrollbarTop=0),d<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),u.showFull===!1&&(t<=0&&r>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(t){return Nu(this.options.liveRedraw,Zt.svg&&!Zt.isTouchDevice&&!this.chart.boosted)||t==="mouseup"||t==="touchend"||!Bx(t)}trackClick(t){var m;let r=((m=this.chart.pointer)==null?void 0:m.normalize(t))||t,a=this.to-this.from,d=this.y+this.scrollbarTop,u=this.x+this.scrollbarLeft;this.options.vertical&&r.chartY>d||!this.options.vertical&&r.chartX>u?this.updatePosition(this.from+a,this.to+a):this.updatePosition(this.from-a,this.to-a),Ru(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,tm(!0,this.options,t),this.chart)}updatePosition(t,r){r>1&&(t=Gc(1-Gc(r-t)),r=1),t<0&&(r=Gc(r-t),t=0),this.from=t,this.to=r}}ph.defaultOptions=Kg;let{defaultOptions:Wu}=Di,{isTouchDevice:Gy}=Zt,{prototype:{symbols:Zf}}=$o,{addEvent:da,clamp:$m,correctFloat:Cp,defined:Fu,destroyObjectProperties:em,erase:Hu,extend:im,find:Xy,fireEvent:qm,isArray:Dx,isNumber:xd,merge:Gu,pick:pr,removeEvent:rc,splat:Km}=ti;function sm(T,...t){let r=[].filter.call(t,xd);if(r.length)return Math[T].apply(0,r)}class cn{static compose(t,r,a){Ei.compose(t,cn),sc.compose(t,r,a)}constructor(t){this.isDirty=!1,this.scrollbarHeight=0,this.init(t)}drawHandle(t,r,a,d){let u=this.navigatorOptions.handles.height;this.handles[r][d](a?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-u)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-u/2-1)})}drawOutline(t,r,a,d){let u=this.navigatorOptions.maskInside,m=this.outline.strokeWidth(),v=m/2,k=m%2/2,P=this.scrollButtonSize,z=this.size,C=this.top,B=this.height,N=C-v,X=C+B,$=this.left,K,J;a?(K=C+r+k,r=C+t+k,J=[["M",$+B,C-P-k],["L",$+B,K],["L",$,K],["M",$,r],["L",$+B,r],["L",$+B,C+z+P]],u&&J.push(["M",$+B,K-v],["L",$+B,r+v])):($-=P,t+=$+P-k,r+=$+P-k,J=[["M",$,N],["L",t,N],["L",t,X],["M",r,X],["L",r,N],["L",$+z+2*P,N]],u&&J.push(["M",t-v,N],["L",r+v,N])),this.outline[d]({d:J})}drawMasks(t,r,a,d){let u,m,v,k,P=this.left,z=this.top,C=this.height;a?(v=[P,P,P],k=[z,z+t,z+r],m=[C,C,C],u=[t,r-t,this.size-r]):(v=[P,P+t,P+r],k=[z,z,z],m=[t,r-t,this.size-r],u=[C,C,C]),this.shades.forEach((B,N)=>{B[d]({x:v[N],y:k[N],width:m[N],height:u[N]})})}renderElements(){var P;let t=this,r=t.navigatorOptions,a=r.maskInside,d=t.chart,u=d.inverted,m=d.renderer,v={cursor:u?"ns-resize":"ew-resize"},k=t.navigatorGroup??(t.navigatorGroup=m.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!a,a,!a].forEach((z,C)=>{let B=t.shades[C]??(t.shades[C]=m.rect().addClass("highcharts-navigator-mask"+(C===1?"-inside":"-outside")).add(k));d.styledMode||(B.attr({fill:z?r.maskFill:"rgba(0,0,0,0)"}),C===1&&B.css(v))}),t.outline||(t.outline=m.path().addClass("highcharts-navigator-outline").add(k)),d.styledMode||t.outline.attr({"stroke-width":r.outlineWidth,stroke:r.outlineColor}),(P=r.handles)==null?void 0:P.enabled){let z=r.handles,{height:C,width:B}=z;[0,1].forEach(N=>{var $;let X=z.symbols[N];if(t.handles[N]&&t.handles[N].symbolUrl===X){if(!t.handles[N].isImg&&t.handles[N].symbolName!==X){let K=Zf[X].call(Zf,-B/2-1,0,B,C);t.handles[N].attr({d:K}),t.handles[N].symbolName=X}}else($=t.handles[N])==null||$.destroy(),t.handles[N]=m.symbol(X,-B/2-1,0,B,C,z),t.handles[N].attr({zIndex:7-N}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][N]).add(k),t.addMouseEvents();d.inverted&&t.handles[N].attr({rotation:90,rotationOriginX:Math.floor(-B/2),rotationOriginY:(C+B)/2}),d.styledMode||t.handles[N].attr({fill:z.backgroundColor,stroke:z.borderColor,"stroke-width":z.lineWidth,width:z.width,height:z.height,x:-B/2-1,y:0}).css(v)})}}update(t,r=!1){var u;let a=this.chart,d=a.options.chart.inverted!==((u=a.scrollbar)==null?void 0:u.options.vertical);if(Gu(!0,a.options.navigator,t),this.navigatorOptions=a.options.navigator||{},this.setOpposite(),Fu(t.enabled)||d)return this.destroy(),this.navigatorEnabled=t.enabled||this.navigatorEnabled,this.init(a);if(this.navigatorEnabled&&(this.isDirty=!0,t.adaptToUpdatedData===!1&&this.baseSeries.forEach(m=>{rc(m,"updatedData",this.updatedDataHandler)},this),t.adaptToUpdatedData&&this.baseSeries.forEach(m=>{m.eventsToUnbind.push(da(m,"updatedData",this.updatedDataHandler))},this),(t.series||t.baseSeries)&&this.setBaseSeries(void 0,!1),t.height||t.xAxis||t.yAxis)){this.height=t.height??this.height;let m=this.getXAxisOffsets();this.xAxis.update({...t.xAxis,offsets:m,[a.inverted?"width":"height"]:this.height,[a.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...t.yAxis,[a.inverted?"width":"height"]:this.height},!1)}r&&a.redraw()}render(t,r,a,d){let u=this.chart,m=this.xAxis,v=m.pointRange||0,k=m.navigatorAxis.fake?u.xAxis[0]:m,P=this.navigatorEnabled,z=this.rendered,C=u.inverted,B=u.xAxis[0].minRange,N=u.xAxis[0].options.maxRange,X=this.scrollButtonSize,$,K,J,lt=this.scrollbarHeight,mt,_t;if(this.hasDragged&&!Fu(a))return;if(this.isDirty&&this.renderElements(),t=Cp(t-v/2),r=Cp(r+v/2),!xd(t)||!xd(r))if(z)a=0,d=pr(m.width,k.width);else return;this.left=pr(m.left,u.plotLeft+X+(C?u.plotWidth:0));let Lt=this.size=mt=pr(m.len,(C?u.plotHeight:u.plotWidth)-2*X);$=C?lt:mt+2*X,a=pr(a,m.toPixels(t,!0)),d=pr(d,m.toPixels(r,!0)),xd(a)&&Math.abs(a)!==1/0||(a=0,d=$);let Ot=m.toValue(a,!0),Nt=m.toValue(d,!0),zt=Math.abs(Cp(Nt-Ot));zt<B?this.grabbedLeft?a=m.toPixels(Nt-B-v,!0):this.grabbedRight&&(d=m.toPixels(Ot+B+v,!0)):Fu(N)&&Cp(zt-v)>N&&(this.grabbedLeft?a=m.toPixels(Nt-N-v,!0):this.grabbedRight&&(d=m.toPixels(Ot+N+v,!0))),this.zoomedMax=$m(Math.max(a,d),0,Lt),this.zoomedMin=$m(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(a,d),0,Lt),this.range=this.zoomedMax-this.zoomedMin,Lt=Math.round(this.zoomedMax);let Xt=Math.round(this.zoomedMin);P&&(this.navigatorGroup.attr({visibility:"inherit"}),_t=z&&!this.hasDragged?"animate":"attr",this.drawMasks(Xt,Lt,C,_t),this.drawOutline(Xt,Lt,C,_t),this.navigatorOptions.handles.enabled&&(this.drawHandle(Xt,0,C,_t),this.drawHandle(Lt,1,C,_t))),this.scrollbar&&(C?(J=this.top-X,K=this.left-lt+(P||!k.opposite?0:(k.titleOffset||0)+k.axisTitleMargin),lt=mt+2*X):(J=this.top+(P?this.height:-lt),K=this.left-X),this.scrollbar.position(K,J,$,lt),this.scrollbar.setRange(this.zoomedMin/(mt||1),this.zoomedMax/(mt||1))),this.rendered=!0,this.isDirty=!1,qm(this,"afterRender")}addMouseEvents(){let t=this,r=t.chart,a=r.container,d=[],u,m;t.mouseMoveHandler=u=function(v){t.onMouseMove(v)},t.mouseUpHandler=m=function(v){t.onMouseUp(v)},(d=t.getPartsEvents("mousedown")).push(da(r.renderTo,"mousemove",u),da(a.ownerDocument,"mouseup",m),da(r.renderTo,"touchmove",u),da(a.ownerDocument,"touchend",m)),d.concat(t.getPartsEvents("touchstart")),t.eventsToUnbind=d,t.series&&t.series[0]&&d.push(da(t.series[0].xAxis,"foundExtremes",function(){r.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(t){let r=this,a=[];return["shades","handles"].forEach(function(d){r[d].forEach(function(u,m){a.push(da(u.element,t,function(v){r[d+"Mousedown"](v,m)}))})}),a}shadesMousedown(t,r){var X;t=((X=this.chart.pointer)==null?void 0:X.normalize(t))||t;let a=this.chart,d=this.xAxis,u=this.zoomedMin,m=this.size,v=this.range,k=this.left,P=t.chartX,z,C,B,N;a.inverted&&(P=t.chartY,k=this.top),r===1?(this.grabbedCenter=P,this.fixedWidth=v,this.dragOffset=P-u):(N=P-k-v/2,r===0?N=Math.max(0,N):r===2&&N+v>=m&&(N=m-v,this.reversedExtremes?(N-=v,C=this.getUnionExtremes().dataMin):z=this.getUnionExtremes().dataMax),N!==u&&(this.fixedWidth=v,Fu((B=d.navigatorAxis.toFixedRange(N,N+v,C,z)).min)&&qm(this,"setRange",{min:Math.min(B.min,B.max),max:Math.max(B.min,B.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(t,r){var m;t=((m=this.chart.pointer)==null?void 0:m.normalize(t))||t;let a=this.chart,d=a.xAxis[0],u=this.reversedExtremes;r===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=u?d.min:d.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=u?d.max:d.min),a.setFixedRange(void 0)}onMouseMove(t){var z;let r=this,a=r.chart,d=r.navigatorSize,u=r.range,m=r.dragOffset,v=a.inverted,k=r.left,P;(!t.touches||t.touches[0].pageX!==0)&&(P=(t=((z=a.pointer)==null?void 0:z.normalize(t))||t).chartX,v&&(k=r.top,P=t.chartY),r.grabbedLeft?(r.hasDragged=!0,r.render(0,0,P-k,r.otherHandlePos)):r.grabbedRight?(r.hasDragged=!0,r.render(0,0,r.otherHandlePos,P-k)):r.grabbedCenter&&(r.hasDragged=!0,P<m?P=m:P>d+m-u&&(P=d+m-u),r.render(0,0,P-m,P-m+u)),r.hasDragged&&r.scrollbar&&pr(r.scrollbar.options.liveRedraw,!Gy&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){r.onMouseUp(t)},0)))}onMouseUp(t){let r,a,d,u,m,v,k=this.chart,P=this.xAxis,z=this.scrollbar,C=t.DOMEvent||t,B=k.inverted,N=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!z||!z.hasDragged)||t.trigger==="scrollbar")&&(d=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?u=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(m=this.fixedExtreme),this.zoomedMax===this.size&&(m=this.reversedExtremes?d.dataMin:d.dataMax),this.zoomedMin===0&&(u=this.reversedExtremes?d.dataMax:d.dataMin),Fu((v=P.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,u,m)).min)&&qm(this,"setRange",{min:Math.min(v.min,v.max),max:Math.max(v.min,v.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:C}})),t.DOMType!=="mousemove"&&t.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&xd(this.zoomedMin)&&xd(this.zoomedMax)&&(a=Math.round(this.zoomedMin),r=Math.round(this.zoomedMax),this.shades&&this.drawMasks(a,r,B,N),this.outline&&this.drawOutline(a,r,B,N),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(a,0,B,N),this.drawHandle(r,1,B,N)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&t.forEach(function(r){rc(r,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&rc(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(t){var $,K;let r=t.options,a=r.navigator||{},d=a.enabled,u=r.scrollbar||{},m=u.enabled,v=d&&a.height||0,k=m&&u.height||0,P=u.buttonsEnabled&&k||0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=v,this.scrollbarHeight=k,this.scrollButtonSize=P,this.scrollbarEnabled=m,this.navigatorEnabled=d,this.navigatorOptions=a,this.scrollbarOptions=u,this.setOpposite();let z=this,C=z.baseSeries,B=t.xAxis.length,N=t.yAxis.length,X=C&&C[0]&&C[0].xAxis||t.xAxis[0]||{options:{}};if(t.isDirtyBox=!0,z.navigatorEnabled){let J=this.getXAxisOffsets();z.xAxis=new nr(t,Gu({breaks:X.options.breaks,ordinal:X.options.ordinal,overscroll:X.options.overscroll},a.xAxis,{type:"datetime",yAxis:($=a.yAxis)==null?void 0:$.id,index:B,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:X.options.ordinal?0:X.options.minPadding,maxPadding:X.options.ordinal?0:X.options.maxPadding,zoomEnabled:!1},t.inverted?{offsets:J,width:v}:{offsets:J,height:v}),"xAxis"),z.yAxis=new nr(t,Gu(a.yAxis,{alignTicks:!1,offset:0,index:N,isInternal:!0,reversed:pr(a.yAxis&&a.yAxis.reversed,t.yAxis[0]&&t.yAxis[0].reversed,!1),zoomEnabled:!1},t.inverted?{width:v}:{height:v}),"yAxis"),C||a.series.data?z.updateNavigatorSeries(!1):t.series.length===0&&(z.unbindRedraw=da(t,"beforeRedraw",function(){t.series.length>0&&!z.series&&(z.setBaseSeries(),z.unbindRedraw())})),z.reversedExtremes=t.inverted&&!z.xAxis.reversed||!t.inverted&&z.xAxis.reversed,z.renderElements(),z.addMouseEvents()}else z.xAxis={chart:t,navigatorAxis:{fake:!0},translate:function(J,lt){let mt=t.xAxis[0],_t=mt.getExtremes(),Lt=mt.len-2*P,Ot=sm("min",mt.options.min,_t.dataMin),Nt=sm("max",mt.options.max,_t.dataMax)-Ot;return lt?J*Nt/Lt+Ot:Lt*(J-Ot)/Nt},toPixels:function(J){return this.translate(J)},toValue:function(J){return this.translate(J,!0)}},z.xAxis.navigatorAxis.axis=z.xAxis,z.xAxis.navigatorAxis.toFixedRange=Ki.prototype.toFixedRange.bind(z.xAxis.navigatorAxis);if((K=t.options.scrollbar)!=null&&K.enabled){let J=Gu(t.options.scrollbar,{vertical:t.inverted});xd(J.margin)||(J.margin=t.inverted?-3:3),t.scrollbar=z.scrollbar=new ph(t.renderer,J,t),da(z.scrollbar,"changed",function(lt){let mt=z.size,_t=mt*this.to,Lt=mt*this.from;z.hasDragged=z.scrollbar.hasDragged,z.render(0,0,Lt,_t),this.shouldUpdateExtremes(lt.DOMType)&&setTimeout(function(){z.onMouseUp(lt)})})}z.addBaseSeriesEvents(),z.addChartEvents()}setOpposite(){let t=this.navigatorOptions,r=this.navigatorEnabled,a=this.chart;this.opposite=pr(t.opposite,!!(!r&&a.inverted))}getUnionExtremes(t){let r,a=this.chart.xAxis[0],d=this.chart.time,u=this.xAxis,m=u.options,v=a.options;return t&&a.dataMin===null||(r={dataMin:pr(d.parse(m==null?void 0:m.min),sm("min",d.parse(v.min),a.dataMin,u.dataMin,u.min)),dataMax:pr(d.parse(m==null?void 0:m.max),sm("max",d.parse(v.max),a.dataMax,u.dataMax,u.max))}),r}setBaseSeries(t,r){let a=this.chart,d=this.baseSeries=[];t=t||a.options&&a.options.navigator.baseSeries||(a.series.length?Xy(a.series,u=>!u.options.isInternal).index:0),(a.series||[]).forEach((u,m)=>{!u.options.isInternal&&(u.options.showInNavigator||(m===t||u.options.id===t)&&u.options.showInNavigator!==!1)&&d.push(u)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,r)}updateNavigatorSeries(t,r){var B,N;let a=this,d=a.chart,u=a.baseSeries,m={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(B=this.navigatorOptions.xAxis)==null?void 0:B.id,yAxis:(N=this.navigatorOptions.yAxis)==null?void 0:N.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},v=a.series=(a.series||[]).filter(X=>{let $=X.baseSeries;return!(0>u.indexOf($))||($&&(rc($,"updatedData",a.updatedDataHandler),delete $.navigatorSeries),X.chart&&X.destroy(),!1)}),k,P,z=a.navigatorOptions.series,C;u&&u.length&&u.forEach(X=>{var lt;let $=X.navigatorSeries,K=im({color:X.color,visible:X.visible},Dx(z)?Wu.navigator.series:z);if($&&a.navigatorOptions.adaptToUpdatedData===!1)return;m.name="Navigator "+u.length,C=(k=X.options||{}).navigatorOptions||{},K.dataLabels=Km(K.dataLabels),(P=Gu(k,m,K,C)).pointRange=pr(K.pointRange,C.pointRange,Wu.plotOptions[P.type||"line"].pointRange);let J=C.data||K.data;a.hasNavigatorData=a.hasNavigatorData||!!J,P.data=J||((lt=k.data)==null?void 0:lt.slice(0)),$&&$.options?$.update(P,r):(X.navigatorSeries=d.initSeries(P),d.setSortedData(),X.navigatorSeries.baseSeries=X,v.push(X.navigatorSeries))}),(z.data&&!(u&&u.length)||Dx(z))&&(a.hasNavigatorData=!1,(z=Km(z)).forEach((X,$)=>{m.name="Navigator "+(v.length+1),(P=Gu(Wu.navigator.series,{color:d.series[$]&&!d.series[$].options.isInternal&&d.series[$].color||d.options.colors[$]||d.options.colors[0]},m,X)).data=X.data,P.data&&(a.hasNavigatorData=!0,v.push(d.initSeries(P)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let t=this,r=t.baseSeries||[];r[0]&&r[0].xAxis&&r[0].eventsToUnbind.push(da(r[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),r.forEach(a=>{a.eventsToUnbind.push(da(a,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),a.eventsToUnbind.push(da(a,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&a.xAxis&&a.eventsToUnbind.push(da(a,"updatedData",this.updatedDataHandler)),a.eventsToUnbind.push(da(a,"remove",function(){r&&Hu(r,a),this.navigatorSeries&&t.series&&(Hu(t.series,this.navigatorSeries),Fu(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(r,a){return Math.min(r,a.getColumn("x")[0]??r)},t)}modifyNavigatorAxisExtremes(){let t=this.xAxis;if(t.getExtremes!==void 0){let r=this.getUnionExtremes(!0);r&&(r.dataMin!==t.min||r.dataMax!==t.max)&&(t.min=r.dataMin,t.max=r.dataMax)}}modifyBaseAxisExtremes(){var $;let t,r,a=this.chart.navigator,d=this.getExtremes(),u=d.min,m=d.max,v=d.dataMin,k=d.dataMax,P=m-u,z=a.stickToMin,C=a.stickToMax,B=pr(($=this.ordinal)==null?void 0:$.convertOverscroll(this.options.overscroll),0),N=a.series&&a.series[0],X=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(z&&(t=(r=v)+P),C&&(t=k+B,z||(r=Math.max(v,t-P,a.getBaseSeriesMin(N&&N.xData?N.xData[0]:-Number.MAX_VALUE)))),X&&(z||C)&&xd(r)&&(this.min=this.userMin=r,this.max=this.userMax=t)),a.stickToMin=a.stickToMax=null}updatedDataHandler(){let t=this.chart.navigator,r=this.navigatorSeries,a=t.reversedExtremes?Math.round(t.zoomedMin)===0:Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=pr(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,a),t.stickToMin=t.shouldStickToMin(this,t),r&&!t.hasNavigatorData&&(r.options.pointStart=this.getColumn("x")[0],r.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,r){let a=r.getBaseSeriesMin(t.getColumn("x")[0]),d=t.xAxis,u=d.max,m=d.min,v=d.options.range;return!!(xd(u)&&xd(m))&&(v&&u-a>0?u-a<v:m<=a)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(da(this.chart,"redraw",function(){let t=this.navigator,r=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);r&&t.render(r.min,r.max)}),da(this.chart,"getMargins",function(){var a;let t=this.navigator,r=t.opposite?"plotTop":"marginBottom";this.inverted&&(r=t.opposite?"marginRight":"plotLeft"),this[r]=(this[r]||0)+(t.navigatorEnabled||!this.inverted?t.height+(((a=this.scrollbar)==null?void 0:a.options.margin)||0)+t.scrollbarHeight:0)+(t.navigatorOptions.margin||0)}),da(cn,"setRange",function(t){this.chart.xAxis[0].setExtremes(t.min,t.max,t.redraw,t.animation,t.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(Hu(this.chart.xAxis,this.xAxis),Hu(this.chart.axes,this.xAxis)),this.yAxis&&(Hu(this.chart.yAxis,this.yAxis),Hu(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{em(t)}),this.baseSeries.forEach(t=>{t.navigatorSeries=void 0}),this.navigatorEnabled=!1}}let{addEvent:_p,correctFloat:Xc,css:zx,defined:Nh,error:Lp,isNumber:Jm,pick:rm,timeUnits:Rx,isString:Yy}=ti;(function(T){function t(B,N,X,$,K=[],J=0,lt){let mt={},_t=this.options.tickPixelInterval,Lt=this.chart.time,Ot=[],Nt,zt,Xt,se,Qt,ne=0,Ae=[],ai=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!K||K.length<3||N===void 0)return Lt.getTimeTicks.apply(Lt,arguments);let Xe=K.length;for(Nt=0;Nt<Xe;Nt++){if(Qt=Nt&&K[Nt-1]>X,K[Nt]<N&&(ne=Nt),Nt===Xe-1||K[Nt+1]-K[Nt]>5*J||Qt){if(K[Nt]>ai){for(zt=Lt.getTimeTicks(B,K[ne],K[Nt],$);zt.length&&zt[0]<=ai;)zt.shift();zt.length&&(ai=zt[zt.length-1]),Ot.push(Ae.length),Ae=Ae.concat(zt)}ne=Nt+1}if(Qt)break}if(zt){if(se=zt.info,lt&&se.unitRange<=Rx.hour){for(ne=1,Nt=Ae.length-1;ne<Nt;ne++)Lt.dateFormat("%d",Ae[ne])!==Lt.dateFormat("%d",Ae[ne-1])&&(mt[Ae[ne]]="day",Xt=!0);Xt&&(mt[Ae[0]]="day"),se.higherRanks=mt}se.segmentStarts=Ot,Ae.info=se}else Lp(12,!1,this.chart);if(lt&&Nh(_t)){let qe=Ae.length,Qe=[],fi=[],mi,vi,Hi,Sr,ls,us=qe;for(;us--;)vi=this.translate(Ae[us]),Hi&&(fi[us]=Hi-vi),Qe[us]=Hi=vi;for(fi.sort((es,Zi)=>es-Zi),(Sr=fi[Math.floor(fi.length/2)])<.6*_t&&(Sr=null),us=Ae[qe-1]>X?qe-1:qe,Hi=void 0;us--;)ls=Math.abs(Hi-(vi=Qe[us])),Hi&&ls<.8*_t&&(Sr===null||ls<.8*Sr)?(mt[Ae[us]]&&!mt[Ae[us+1]]?(mi=us+1,Hi=vi):mi=us,Ae.splice(mi,1)):Hi=vi}return Ae}function r(B){let N=this.ordinal.positions;if(!N)return B;let X=N.length-1,$;return B<0?B=N[0]:B>X?B=N[X]:(X=Math.floor(B),$=B-X),$!==void 0&&N[X]!==void 0?N[X]+($?$*(N[X+1]-N[X]):0):B}function a(B){let N=this.ordinal,X=this.old?this.old.min:this.min,$=this.old?this.old.transA:this.transA,K=N.getExtendedPositions();if(K!=null&&K.length){let J=Xc((B-X)*$+this.minPixelPadding),lt=Xc(N.getIndexOfPoint(J,K)),mt=Xc(lt%1);if(lt>=0&&lt<=K.length-1){let _t=K[Math.floor(lt)],Lt=K[Math.ceil(lt)];return K[Math.floor(lt)]+mt*(Lt-_t)}}return B}function d(B,N){let X=T.Additions.findIndexOf(B,N,!0);if(B[X]===N)return X;let $=(N-B[X])/(B[X+1]-B[X]);return X+$}function u(){this.ordinal||(this.ordinal=new T.Additions(this))}function m(){let{eventArgs:B,options:N}=this;if(this.isXAxis&&Nh(N.overscroll)&&N.overscroll!==0&&Jm(this.max)&&Jm(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&((B==null?void 0:B.trigger)!=="pan"||this.isInternal)&&(B==null?void 0:B.trigger)!=="navigator")){let X=this.ordinal.convertOverscroll(N.overscroll);this.max+=X,!this.isInternal&&Nh(this.userMin)&&(B==null?void 0:B.trigger)!=="mousewheel"&&(this.min+=X)}}function v(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function k(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function P(B){var lt;let N=this.xAxis[0],X=N.ordinal.convertOverscroll(N.options.overscroll),$=B.originalEvent.chartX,K=this.options.chart.panning,J=!1;if((K==null?void 0:K.type)!=="y"&&N.options.ordinal&&N.series.length&&(!B.touches||B.touches.length<=1)){let mt,_t,Lt=this.mouseDownX,Ot=N.getExtremes(),Nt=Ot.dataMin,zt=Ot.dataMax,Xt=Ot.min,se=Ot.max,Qt=this.hoverPoints,ne=N.closestPointRange||((lt=N.ordinal)==null?void 0:lt.overscrollPointsRange),Ae=Math.round((Lt-$)/(N.translationSlope*(N.ordinal.slope||ne))),ai=N.ordinal.getExtendedPositions(),Xe={ordinal:{positions:ai,extendedOrdinalPositions:ai}},qe=N.index2val,Qe=N.val2lin;if(Xt<=Nt&&Ae<=0||se>=zt+X&&Ae>=0)return void B.preventDefault();Xe.ordinal.positions?Math.abs(Ae)>1&&(Qt&&Qt.forEach(function(fi){fi.setState()}),_t=Xe.ordinal.positions,X&&(_t=Xe.ordinal.positions=_t.concat(N.ordinal.getOverscrollPositions())),zt>_t[_t.length-1]&&_t.push(zt),this.setFixedRange(se-Xt),(mt=N.navigatorAxis.toFixedRange(void 0,void 0,qe.apply(Xe,[Qe.apply(Xe,[Xt,!0])+Ae]),qe.apply(Xe,[Qe.apply(Xe,[se,!0])+Ae]))).min>=Math.min(_t[0],Xt)&&mt.max<=Math.max(_t[_t.length-1],se)+X&&N.setExtremes(mt.min,mt.max,!0,!1,{trigger:"pan"}),this.mouseDownX=$,zx(this.container,{cursor:"move"})):J=!0}else J=!0;J||K&&/y/.test(K.type)?X&&Jm(N.dataMax)&&(N.max=N.dataMax+X):B.preventDefault()}function z(){let B=this.xAxis;B!=null&&B.options.ordinal&&(delete B.ordinal.index,delete B.ordinal.originalOrdinalRange)}function C(B,N){var _t;let X,$=this.ordinal,K=$.positions,J=$.slope,lt;if(!K)return B;let mt=K.length;if(K[0]<=B&&K[mt-1]>=B)X=d(K,B);else{if(lt=(_t=$.getExtendedPositions)==null?void 0:_t.call($),!(lt!=null&&lt.length))return B;let Lt=lt.length;J||(J=(lt[Lt-1]-lt[0])/Lt);let Ot=d(lt,K[0]);if(B>=lt[0]&&B<=lt[Lt-1])X=d(lt,B)-Ot;else{if(!N)return B;X=B<lt[0]?-Ot-(lt[0]-B)/J:(B-lt[Lt-1])/J+Lt-Ot}}return N?X:J*(X||0)+$.offset}T.compose=function(B,N,X){let $=B.prototype;return $.ordinal2lin||($.getTimeTicks=t,$.index2val=r,$.lin2val=a,$.val2lin=C,$.ordinal2lin=$.val2lin,_p(B,"afterInit",u),_p(B,"foundExtremes",m),_p(B,"afterSetScale",v),_p(B,"initialAxisTranslation",k),_p(X,"pan",P),_p(X,"touchpan",P),_p(N,"updatedData",z)),B},T.Additions=class{constructor(B){this.index={},this.axis=B}beforeSetTickPositions(){var qe;let B=this.axis,N=B.ordinal,X=B.getExtremes(),$=X.min,K=X.max,J=(qe=B.brokenAxis)==null?void 0:qe.hasBreaks,lt=B.options.ordinal,mt=B.options.overscroll&&B.ordinal.convertOverscroll(B.options.overscroll)||0,_t,Lt,Ot,Nt,zt,Xt,se,Qt=[],ne=Number.MAX_VALUE,Ae=!1,ai=!1,Xe=!1;if(lt||J){let Qe=0;if(B.series.forEach(function(fi,mi){let vi=fi.getColumn("x",!0);if(Lt=[],mi>0&&fi.options.id!=="highcharts-navigator-series"&&vi.length>1&&(ai=Qe!==vi[1]-vi[0]),Qe=vi[1]-vi[0],fi.boosted&&(Xe=fi.boosted),fi.reserveSpace()&&(fi.takeOrdinalPosition!==!1||J)&&(_t=(Qt=Qt.concat(vi)).length,Qt.sort(function(Hi,Sr){return Hi-Sr}),ne=Math.min(ne,rm(fi.closestPointRange,ne)),_t)){for(mi=0;mi<_t-1;)Qt[mi]!==Qt[mi+1]&&Lt.push(Qt[mi+1]),mi++;Lt[0]!==Qt[0]&&Lt.unshift(Qt[0]),Qt=Lt}}),B.ordinal.originalOrdinalRange||(B.ordinal.originalOrdinalRange=(Qt.length-1)*ne),ai&&Xe&&(Qt.pop(),Qt.shift()),(_t=Qt.length)>2){for(Ot=Qt[1]-Qt[0],se=_t-1;se--&&!Ae;)Qt[se+1]-Qt[se]!==Ot&&(Ae=!0);!B.options.keepOrdinalPadding&&(Qt[0]-$>Ot||K-mt-Qt[_t-1]>Ot)&&(Ae=!0)}else B.options.overscroll&&(_t===2?ne=Qt[1]-Qt[0]:_t===1?(ne=mt,Qt=[Qt[0],Qt[0]+ne]):ne=N.overscrollPointsRange);Ae||B.forceOrdinal?(B.options.overscroll&&(N.overscrollPointsRange=ne,Qt=Qt.concat(N.getOverscrollPositions())),N.positions=Qt,Nt=B.ordinal2lin(Math.max($,Qt[0]),!0),zt=Math.max(B.ordinal2lin(Math.min(K,Qt[Qt.length-1]),!0),1),N.slope=Xt=(K-$)/(zt-Nt),N.offset=$-Nt*Xt):(N.overscrollPointsRange=rm(B.closestPointRange,N.overscrollPointsRange),N.positions=B.ordinal.slope=N.offset=void 0)}B.isOrdinal=lt&&Ae,N.groupIntervalFactor=null}static findIndexOf(B,N,X){let $=0,K=B.length-1,J;for(;$<K;)B[J=Math.ceil(($+K)/2)]<=N?$=J:K=J-1;return B[$]===N||X?$:-1}getExtendedPositions(B=!0){let N=this,X=N.axis,$=X.constructor.prototype,K=X.chart,J=X.series.reduce((Nt,zt)=>{let Xt=zt.currentDataGrouping;return Nt+(Xt?Xt.count+Xt.unitName:"raw")},""),lt=B?X.ordinal.convertOverscroll(X.options.overscroll):0,mt=X.getExtremes(),_t,Lt,Ot=N.index;return Ot||(Ot=N.index={}),!Ot[J]&&((_t={series:[],chart:K,forceOrdinal:!1,getExtremes:function(){return{min:mt.dataMin,max:mt.dataMax+lt}},applyGrouping:$.applyGrouping,getGroupPixelWidth:$.getGroupPixelWidth,getTimeTicks:$.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:$.ordinal2lin,getIndexOfPoint:$.getIndexOfPoint,val2lin:$.val2lin}).ordinal.axis=_t,X.series.forEach(Nt=>{var Xt,se,Qt;if(Nt.takeOrdinalPosition===!1)return;Lt={xAxis:_t,chart:K,groupPixelWidth:Nt.groupPixelWidth,destroyGroupedData:Zt.noop,getColumn:Nt.getColumn,applyGrouping:Nt.applyGrouping,getProcessedData:Nt.getProcessedData,reserveSpace:Nt.reserveSpace,visible:Nt.visible};let zt=Nt.getColumn("x").concat(B?N.getOverscrollPositions():[]);Lt.dataTable=new kr({columns:{x:zt}}),Lt.options={...Nt.options,dataGrouping:Nt.currentDataGrouping?{firstAnchor:(Xt=Nt.options.dataGrouping)==null?void 0:Xt.firstAnchor,anchor:(se=Nt.options.dataGrouping)==null?void 0:se.anchor,lastAnchor:(Qt=Nt.options.dataGrouping)==null?void 0:Qt.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[Nt.currentDataGrouping.unitName,[Nt.currentDataGrouping.count]]]}:{enabled:!1}},_t.series.push(Lt),Nt.processData.apply(Lt)}),_t.applyGrouping({hasExtremesChanged:!0}),(Lt==null?void 0:Lt.closestPointRange)!==(Lt==null?void 0:Lt.basePointRange)&&Lt.currentDataGrouping&&(_t.forceOrdinal=!0),X.ordinal.beforeSetTickPositions.apply({axis:_t}),!X.ordinal.originalOrdinalRange&&_t.ordinal.originalOrdinalRange&&(X.ordinal.originalOrdinalRange=_t.ordinal.originalOrdinalRange),_t.ordinal.positions&&(Ot[J]=_t.ordinal.positions)),Ot[J]}getGroupIntervalFactor(B,N,X){let $=X.getColumn("x",!0),K=$.length,J=[],lt,mt,_t=this.groupIntervalFactor;if(!_t){for(mt=0;mt<K-1;mt++)J[mt]=$[mt+1]-$[mt];J.sort(function(Lt,Ot){return Lt-Ot}),lt=J[Math.floor(K/2)],B=Math.max(B,$[0]),N=Math.min(N,$[K-1]),this.groupIntervalFactor=_t=K*lt/(N-B)}return _t}getIndexOfPoint(B,N){let X=this.axis,$=X.min,K=X.minPixelPadding;return d(N,$)+Xc((B-K)/(X.translationSlope*(this.slope||X.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let B=this.axis,N=this.convertOverscroll(B.options.overscroll),X=this.overscrollPointsRange,$=[],K=B.dataMax;if(Nh(X))for(;K<B.dataMax+N;)$.push(K+=X);return $}postProcessTickInterval(B){let N=this.axis,X=this.slope,$=N.closestPointRange;return X&&$?N.options.breaks?$||B:B/(X/$):B}convertOverscroll(B=0){let N=this,X=N.axis,$=function(K){return rm(N.originalOrdinalRange,Nh(X.dataMax)&&Nh(X.dataMin)?X.dataMax-X.dataMin:0)*K};if(Yy(B)){let K,J=parseInt(B,10);if(Nh(X.min)&&Nh(X.max)&&Nh(X.dataMin)&&Nh(X.dataMax)&&((K=X.max-X.min==X.dataMax-X.dataMin)||(this.originalOrdinalRange=X.max-X.min)),/%$/.test(B))return $(J/100);if(/px/.test(B)){let lt=Math.min(J,.9*X.len)/X.len;return $(lt/(K?1-lt:1))}return 0}return B}}})(Xs||(Xs={}));let uh=Xs,Qm={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},{defaultOptions:Nx}=Di,{composed:oc}=Zt,{addEvent:Op,defined:jy,extend:nc,isNumber:yd,merge:Wx,pick:tx,pushUnique:vd}=ti,om=[];function Fx(){let T,t,r=this.range,a=r.type,d=this.max,u=this.chart.time,m=function(k,P){let z=u.toParts(k),C=z.slice();a==="year"?C[0]+=P:C[1]+=P;let B=u.makeTime.apply(u,C),N=u.toParts(B);return a==="month"&&z[1]===N[1]&&Math.abs(P)===1&&(C[0]=z[0],C[1]=z[1],C[2]=0),(B=u.makeTime.apply(u,C))-k};yd(r)?(T=d-r,t=r):r&&(T=d+m(d,-(r.count||1)),this.chart&&this.chart.setFixedRange(d-T));let v=tx(this.dataMin,Number.MIN_VALUE);return yd(T)||(T=v),T<=v&&(T=v,t===void 0&&(t=m(T,r.count)),this.newMax=Math.min(T+t,tx(this.dataMax,Number.MAX_VALUE))),yd(d)?!yd(r)&&r&&r._offsetMin&&(T+=r._offsetMin):T=void 0,T}function Uy(){var T;(T=this.rangeSelector)==null||T.redrawElements()}function nm(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new jt(this))}function Vy(){let T=this.rangeSelector;if(T){yd(T.deferredYTDClick)&&(T.clickButton(T.deferredYTDClick),delete T.deferredYTDClick);let t=T.options.verticalAlign;T.options.floating||(t==="bottom"?this.extraBottomMargin=!0:t==="top"&&(this.extraTopMargin=!0))}}function ex(){let T,t=this.rangeSelector;if(!t)return;let r=this.xAxis[0].getExtremes(),a=this.legend,d=t&&t.options.verticalAlign;yd(r.min)&&t.render(r.min,r.max),a.display&&d==="top"&&d===a.options.verticalAlign&&(T=Wx(this.spacingBox),a.options.layout==="vertical"?T.y=this.plotTop:T.y+=t.getHeight(),a.group.placed=!1,a.align(T))}function Hx(){for(let T=0,t=om.length;T<t;++T){let r=om[T];if(r[0]===this){r[1].forEach(a=>a()),om.splice(T,1);return}}}function Zy(){var t;let T=this.rangeSelector;if((t=T==null?void 0:T.options)!=null&&t.enabled){let r=T.getHeight(),a=T.options.verticalAlign;T.options.floating||(a==="bottom"?this.marginBottom+=r:a!=="middle"&&(this.plotTop+=r))}}function $y(T){let t=T.options.rangeSelector,r=this.extraBottomMargin,a=this.extraTopMargin,d=this.rangeSelector;if(t&&t.enabled&&!jy(d)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=d=new jt(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,d){let u=t&&t.verticalAlign||d.options&&d.options.verticalAlign;d.options.floating||(u==="bottom"?this.extraBottomMargin=!0:u!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==r||this.extraTopMargin!==a)&&(this.isDirtyBox=!0)}}let Gx={compose:function(T,t,r){if(jt=r,vd(oc,"RangeSelector")){let a=t.prototype;T.prototype.minFromRange=Fx,Op(t,"afterGetContainer",nm),Op(t,"beforeRender",Vy),Op(t,"destroy",Hx),Op(t,"getMargins",Zy),Op(t,"redraw",ex),Op(t,"update",$y),Op(t,"beforeRedraw",Uy),a.callbacks.push(ex),nc(Nx,{rangeSelector:Qm.rangeSelector}),nc(Nx.lang,Qm.lang)}}},{defaultOptions:am}=Di,{format:lm}=Lr,{addEvent:Wh,createElement:za,css:ac,defined:Dl,destroyObjectProperties:qy,diffObjects:ix,discardElement:Ky,extend:Xu,fireEvent:Ep,isNumber:tl,isString:sx,merge:bd,objectEach:Jy,pick:zl,splat:Qy}=ti;function Xx(T){let t=d=>RegExp(`%[[a-zA-Z]*${d}`).test(T);if(sx(T)?T.indexOf("%L")!==-1:T.fractionalSecondDigits)return"text";let r=sx(T)?["a","A","d","e","w","b","B","m","o","y","Y"].some(t):T.dateStyle||T.day||T.month||T.year,a=sx(T)?["H","k","I","l","M","S"].some(t):T.timeStyle||T.hour||T.minute||T.second;return r&&a?"datetime-local":r?"date":a?"time":"text"}class $f{static compose(t,r){Gx.compose(t,r,$f)}constructor(t){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let r=0;return this.buttons.forEach(a=>{let d=a.getBBox();d.width>r&&(r=d.width)}),r},this.init(t)}clickButton(t,r){let a=this.chart,d=this.buttonOptions[t],u=a.xAxis[0],m=a.scroller&&a.scroller.getUnionExtremes()||u||{},v=d.type,k=d.dataGrouping,P=m.dataMin,z=m.dataMax,C,B=tl(u==null?void 0:u.max)?Math.round(Math.min(u.max,z??u.max)):void 0,N,X=d._range,$,K,J,lt=!0;if(P!==null&&z!==null){if(this.setSelected(t),k&&(this.forcedDataGrouping=!0,nr.prototype.setDataGrouping.call(u||{chart:this.chart},k,!1),this.frozenStates=d.preserveDataGrouping),v==="month"||v==="year")u?(K={range:d,max:B,chart:a,dataMin:P,dataMax:z},C=u.minFromRange.call(K),tl(K.newMax)&&(B=K.newMax),lt=!1):X=d;else if(X)tl(B)&&(B=Math.min((C=Math.max(B-X,P))+X,z),lt=!1);else if(v==="ytd")if(u)!u.hasData()||tl(z)&&tl(P)||(P=Number.MAX_VALUE,z=-Number.MAX_VALUE,a.series.forEach(mt=>{let _t=mt.getColumn("x");_t.length&&(P=Math.min(_t[0],P),z=Math.max(_t[_t.length-1],z))}),r=!1),tl(z)&&tl(P)&&(C=$=(J=this.getYTDExtremes(z,P)).min,B=J.max);else{this.deferredYTDClick=t;return}else v==="all"&&u&&(a.navigator&&a.navigator.baseSeries[0]&&(a.navigator.baseSeries[0].xAxis.options.range=void 0),C=P,B=z);if(lt&&d._offsetMin&&Dl(C)&&(C+=d._offsetMin),d._offsetMax&&Dl(B)&&(B+=d._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),u)tl(C)&&tl(B)&&(u.setExtremes(C,B,zl(r,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:d}),a.setFixedRange(d._range));else{N=Qy(a.options.xAxis||{})[0];let mt=Wh(a,"afterCreateAxes",function(){let _t=a.xAxis[0];_t.range=_t.options.range=X,_t.min=_t.options.min=$});Wh(a,"load",function(){let _t=a.xAxis[0];a.setFixedRange(d._range),_t.options.range=N.range,_t.options.min=N.min,mt()})}Ep(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(t){let r=this,a=t.options.rangeSelector,d=t.options.lang,u=a.buttons,m=a.selected,v=function(){let k=r.minInput,P=r.maxInput;k&&k.blur&&Ep(k,"blur"),P&&P.blur&&Ep(P,"blur")};r.chart=t,r.options=a,r.buttons=[],r.buttonOptions=u.map(k=>(k.type&&d.rangeSelector&&(k.text??(k.text=d.rangeSelector[`${k.type}Text`]),k.title??(k.title=d.rangeSelector[`${k.type}Title`])),k.text=lm(k.text,{count:k.count||1}),k.title=lm(k.title,{count:k.count||1}),k)),this.eventsToUnbind=[],this.eventsToUnbind.push(Wh(t.container,"mousedown",v)),this.eventsToUnbind.push(Wh(t,"resize",v)),u.forEach(r.computeButtonRange),m!==void 0&&u[m]&&this.clickButton(m,!1),this.eventsToUnbind.push(Wh(t,"load",function(){t.xAxis&&t.xAxis[0]&&Wh(t.xAxis[0],"setExtremes",function(k){tl(this.max)&&tl(this.min)&&this.max-this.min!==t.fixedRange&&k.trigger!=="rangeSelectorButton"&&k.trigger!=="updatedData"&&r.forcedDataGrouping&&!r.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let t=this,r=this.chart,a=this.dropdown,d=this.dropdownLabel,u=r.xAxis[0],m=Math.round(u.max-u.min),v=!u.hasVisibleSeries,k=24*36e5,P=r.scroller&&r.scroller.getUnionExtremes()||u,z=P.dataMin,C=P.dataMax,B=t.getYTDExtremes(C,z),N=B.min,X=B.max,$=t.selected,K=t.options.allButtonsEnabled,J=Array(t.buttonOptions.length).fill(0),lt=tl($),mt=t.buttons,_t=!1,Lt=null;t.buttonOptions.forEach((Ot,Nt)=>{var mi;let zt=Ot._range,Xt=Ot.type,se=Ot.count||1,Qt=Ot._offsetMax-Ot._offsetMin,ne=Nt===$,Ae=zt>C-z,ai=zt<u.minRange,Xe=!1,qe=zt===m;if(ne&&Ae&&(_t=!0),u.isOrdinal&&((mi=u.ordinal)==null?void 0:mi.positions)&&zt&&m<zt){let vi=u.ordinal.positions,Hi=uh.Additions.findIndexOf(vi,u.min,!0),Sr=Math.min(uh.Additions.findIndexOf(vi,u.max,!0)+1,vi.length-1);vi[Sr]-vi[Hi]>zt&&(qe=!0)}else(Xt==="month"||Xt==="year")&&m+36e5>={month:28,year:365}[Xt]*k*se-Qt&&m-36e5<={month:31,year:366}[Xt]*k*se+Qt?qe=!0:Xt==="ytd"?(qe=X-N+Qt===m,Xe=!ne):Xt==="all"&&(qe=u.max-u.min>=C-z);let Qe=!K&&!(_t&&Xt==="all")&&(Ae||ai||v),fi=_t&&Xt==="all"||!Xe&&qe||ne&&t.frozenStates;Qe?J[Nt]=3:fi&&(!lt||Nt===$)&&(Lt=Nt)}),Lt!==null?(J[Lt]=2,t.setSelected(Lt),this.dropdown&&(this.dropdown.selectedIndex=Lt+1)):(t.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),d&&(d.setState(0),d.attr({text:(am.lang.rangeSelectorZoom||"")+" ▾"})));for(let Ot=0;Ot<J.length;Ot++){let Nt=J[Ot],zt=mt[Ot];if(zt.state!==Nt&&(zt.setState(Nt),a)){a.options[Ot+1].disabled=Nt===3,Nt===2&&(d&&(d.setState(2),d.attr({text:t.buttonOptions[Ot].text+" ▾"})),a.selectedIndex=Ot+1);let Xt=d.getBBox();ac(a,{width:`${Xt.width}px`,height:`${Xt.height}px`})}}}computeButtonRange(t){let r=t.type,a=t.count||1,d={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};d[r]?t._range=d[r]*a:(r==="month"||r==="year")&&(t._range=24*{month:30,year:365}[r]*36e5*a),t._offsetMin=zl(t.offsetMin,0),t._offsetMax=zl(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){let r=t==="min"?this.minInput:this.maxInput,a=this.chart.options.rangeSelector,d=this.chart.time;return r?(r.type==="text"&&a.inputDateParser||this.defaultInputDateParser)(r.value,d.timezone==="UTC",d):0}setInputValue(t,r){let a=this.options,d=this.chart.time,u=t==="min"?this.minInput:this.maxInput,m=t==="min"?this.minDateBox:this.maxDateBox;if(u){u.setAttribute("type",Xx(a.inputDateFormat||"%e %b %Y"));let v=u.getAttribute("data-hc-time"),k=Dl(v)?Number(v):void 0;if(Dl(r)){let P=k;Dl(P)&&u.setAttribute("data-hc-time-previous",P),u.setAttribute("data-hc-time",r),k=r}u.value=d.dateFormat(this.inputTypeFormats[u.type]||a.inputEditDateFormat,k),m&&m.attr({text:d.dateFormat(a.inputDateFormat,k)})}}setInputExtremes(t,r,a){let d=t==="min"?this.minInput:this.maxInput;if(d){let u=this.inputTypeFormats[d.type],m=this.chart.time;if(u){let v=m.dateFormat(u,r);d.min!==v&&(d.min=v);let k=m.dateFormat(u,a);d.max!==k&&(d.max=k)}}}showInput(t){let r=t==="min"?this.minDateBox:this.maxDateBox,a=t==="min"?this.minInput:this.maxInput;if(a&&r&&this.inputGroup){let d=a.type==="text",{translateX:u=0,translateY:m=0}=this.inputGroup,{x:v=0,width:k=0,height:P=0}=r,{inputBoxWidth:z}=this.options;ac(a,{width:d?k+(z?-2:20)+"px":"auto",height:P-2+"px",border:"2px solid silver"}),d&&z?ac(a,{left:u+v+"px",top:m+"px"}):ac(a,{left:Math.min(Math.round(v+u-(a.offsetWidth-k)/2),this.chart.chartWidth-a.offsetWidth)+"px",top:m-(a.offsetHeight-P)/2+"px"})}}hideInput(t){let r=t==="min"?this.minInput:this.maxInput;r&&ac(r,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,r,a){return(a==null?void 0:a.parse(t))||0}drawInput(t){let{chart:r,div:a,inputGroup:d}=this,u=this,m=r.renderer.style||{},v=r.renderer,k=r.options.rangeSelector,P=am.lang,z=t==="min";function C(J){var se;let{maxInput:lt,minInput:mt}=u,_t=r.xAxis[0],Lt=((se=r.scroller)==null?void 0:se.getUnionExtremes())||_t,Ot=Lt.dataMin,Nt=Lt.dataMax,zt=r.xAxis[0].getExtremes()[J],Xt=u.getInputValue(J);tl(Xt)&&Xt!==zt&&(z&&lt&&tl(Ot)?Xt>Number(lt.getAttribute("data-hc-time"))?Xt=void 0:Xt<Ot&&(Xt=Ot):mt&&tl(Nt)&&(Xt<Number(mt.getAttribute("data-hc-time"))?Xt=void 0:Xt>Nt&&(Xt=Nt)),Xt!==void 0&&_t.setExtremes(z?Xt:_t.min,z?_t.max:Xt,void 0,void 0,{trigger:"rangeSelectorInput"}))}let B=P[z?"rangeSelectorFrom":"rangeSelectorTo"]||"",N=v.label(B,0).addClass("highcharts-range-label").attr({padding:2*!!B,height:B?k.inputBoxHeight:0}).add(d),X=v.label("",0).addClass("highcharts-range-input").attr({padding:2,width:k.inputBoxWidth,height:k.inputBoxHeight,"text-align":"center"}).on("click",function(){u.showInput(t),u[t+"Input"].focus()});r.styledMode||X.attr({stroke:k.inputBoxBorderColor,"stroke-width":1}),X.add(d);let $=za("input",{name:t,className:"highcharts-range-selector"},void 0,a);$.setAttribute("type",Xx(k.inputDateFormat||"%e %b %Y")),r.styledMode||(N.css(bd(m,k.labelStyle)),X.css(bd({color:"#333333"},m,k.inputStyle)),ac($,Xu({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:m.fontSize,fontFamily:m.fontFamily,top:"-9999em"},k.inputStyle))),$.onfocus=()=>{u.showInput(t)},$.onblur=()=>{$===Zt.doc.activeElement&&C(t),u.hideInput(t),u.setInputValue(t),$.blur()};let K=!1;return $.onchange=()=>{K||(C(t),u.hideInput(t),$.blur())},$.onkeypress=J=>{J.keyCode===13&&C(t)},$.onkeydown=J=>{K=!0,(J.key==="ArrowUp"||J.key==="ArrowDown"||J.key==="Tab")&&C(t)},$.onkeyup=()=>{K=!1},{dateBox:X,input:$,label:N}}getPosition(){let t=this.chart,r=t.options.rangeSelector,a=r.verticalAlign==="top"?t.plotTop-t.axisOffset[0]:0;return{buttonTop:a+r.buttonPosition.y,inputTop:a+r.inputPosition.y-10}}getYTDExtremes(t,r){let a=this.chart.time,d=a.toParts(t)[0];return{max:t,min:Math.max(r,a.makeTime(d,0))}}createElements(){var k;let t=this.chart,r=t.renderer,a=t.container,d=t.options,u=d.rangeSelector,m=u.inputEnabled,v=zl((k=d.chart.style)==null?void 0:k.zIndex,0)+1;u.enabled!==!1&&(this.group=r.g("range-selector-group").attr({zIndex:7}).add(),this.div=za("div",void 0,{position:"relative",height:0,zIndex:v}),this.buttonOptions.length&&this.renderButtons(),a.parentNode&&a.parentNode.insertBefore(this.div,a),m&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let t=this.drawInput("min");this.minDateBox=t.dateBox,this.minLabel=t.label,this.minInput=t.input;let r=this.drawInput("max");this.maxDateBox=r.dateBox,this.maxLabel=r.label,this.maxInput=r.input}render(t,r){var u,m;if(this.options.enabled===!1)return;let a=this.chart,d=a.options.rangeSelector;if(d.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",t),this.setInputValue("max",r),this.chart.styledMode||((u=this.maxLabel)==null||u.css(d.labelStyle),(m=this.minLabel)==null||m.css(d.labelStyle));let v=a.scroller&&a.scroller.getUnionExtremes()||a.xAxis[0]||{};if(Dl(v.dataMin)&&Dl(v.dataMax)){let k=a.xAxis[0].minRange||0;this.setInputExtremes("min",v.dataMin,Math.min(v.dataMax,this.getInputValue("max"))-k),this.setInputExtremes("max",Math.max(v.dataMin,this.getInputValue("min"))+k,v.dataMax)}if(this.inputGroup){let k=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(P=>{if(P){let{width:z}=P.getBBox();z&&(P.attr({x:k}),k+=z+d.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(d.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var B;var t;let{chart:r,options:a}=this,d=am.lang,u=r.renderer,m=bd(a.buttonTheme),v=m&&m.states;delete m.width,delete m.states,this.buttonGroup=u.g("range-selector-buttons").add(this.group);let k=this.dropdown=za("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),P=(B=r.userOptions.rangeSelector)==null?void 0:B.buttonTheme;this.dropdownLabel=u.button("",0,0,()=>{},bd(m,{"stroke-width":zl(m["stroke-width"],0),width:"auto",paddingLeft:zl(a.buttonTheme.paddingLeft,P==null?void 0:P.padding,8),paddingRight:zl(a.buttonTheme.paddingRight,P==null?void 0:P.padding,8)}),v&&v.hover,v&&v.select,v&&v.disabled).hide().add(this.group),Wh(k,"touchstart",()=>{k.style.fontSize="16px"});let z=Zt.isMS?"mouseover":"mouseenter",C=Zt.isMS?"mouseout":"mouseleave";Wh(k,z,()=>{Ep(this.dropdownLabel.element,z)}),Wh(k,C,()=>{Ep(this.dropdownLabel.element,C)}),Wh(k,"change",()=>{Ep(this.buttons[k.selectedIndex-1].element,"click")}),this.zoomText=u.label(d.rangeSelectorZoom||"",0).attr({padding:a.buttonTheme.padding,height:a.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(a.labelStyle),(t=a.buttonTheme)["stroke-width"]??(t["stroke-width"]=0)),za("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,k),this.createButtons()}createButtons(){let{options:t}=this,r=bd(t.buttonTheme),a=r&&r.states,d=r.width||28;delete r.width,delete r.states,this.buttonOptions.forEach((u,m)=>{this.createButton(u,m,d,a)})}createButton(t,r,a,d){let{dropdown:u,buttons:m,chart:v,options:k}=this,P=v.renderer,z=bd(k.buttonTheme);u==null||u.add(za("option",{textContent:t.title||t.text}),r+2),m[r]=P.button(t.text??"",0,0,C=>{let B,N=t.events&&t.events.click;N&&(B=N.call(t,C)),B!==!1&&this.clickButton(r),this.isActive=!0},z,d&&d.hover,d&&d.select,d&&d.disabled).attr({"text-align":"center",width:a}).add(this.buttonGroup),t.title&&m[r].attr("title",t.title)}alignElements(){var $;let{buttonGroup:t,buttons:r,chart:a,group:d,inputGroup:u,options:m,zoomText:v}=this,k=a.options,P=k.exporting&&k.exporting.enabled!==!1&&k.navigation&&k.navigation.buttonOptions,{buttonPosition:z,inputPosition:C,verticalAlign:B}=m,N=(K,J,lt)=>P&&this.titleCollision(a)&&B==="top"&&lt&&J.y-K.getBBox().height-12<(P.y||0)+(P.height||0)+a.spacing[0]?-40:0,X=a.plotLeft;if(d&&z&&C){let K=z.x-a.spacing[3];if(t){if(this.positionButtons(),!this.initialButtonGroupWidth){let Xt=0;v&&(Xt+=v.getBBox().width+5),r.forEach((se,Qt)=>{Xt+=se.width||0,Qt!==r.length-1&&(Xt+=m.buttonSpacing)}),this.initialButtonGroupWidth=Xt}X-=a.spacing[3];let zt=N(t,z,z.align==="right"||C.align==="right");this.alignButtonGroup(zt),($=this.buttonGroup)!=null&&$.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),d.placed=t.placed=a.hasLoaded}let J=0;m.inputEnabled&&u&&(J=N(u,C,z.align==="right"||C.align==="right"),C.align==="left"?K=X:C.align==="right"&&(K=-Math.max(a.axisOffset[1],-J)),u.align({y:C.y,width:u.getBBox().width,align:C.align,x:C.x+K-2},!0,a.spacingBox),u.placed=a.hasLoaded),this.handleCollision(J),d.align({verticalAlign:B},!0,a.spacingBox);let lt=d.alignAttr.translateY,mt=d.getBBox().height+20,_t=0;if(B==="bottom"){let zt=a.legend&&a.legend.options;_t=lt-(mt=mt+(zt&&zt.verticalAlign==="bottom"&&zt.enabled&&!zt.floating?a.legend.legendHeight+zl(zt.margin,10):0)-20)-(m.floating?0:m.y)-(a.titleOffset?a.titleOffset[2]:0)-10}B==="top"?(m.floating&&(_t=0),a.titleOffset&&a.titleOffset[0]&&(_t=a.titleOffset[0]),_t+=a.margin[0]-a.spacing[0]||0):B==="middle"&&(C.y===z.y?_t=lt:(C.y||z.y)&&(C.y<0||z.y<0?_t-=Math.min(C.y,z.y):_t=lt-mt)),d.translate(m.x,m.y+Math.floor(_t));let{minInput:Lt,maxInput:Ot,dropdown:Nt}=this;m.inputEnabled&&Lt&&Ot&&(Lt.style.marginTop=d.translateY+"px",Ot.style.marginTop=d.translateY+"px"),Nt&&(Nt.style.marginTop=d.translateY+"px")}}redrawElements(){var d,u,m,v,k;let t=this.chart,{inputBoxHeight:r,inputBoxBorderColor:a}=this.options;if((d=this.maxDateBox)==null||d.attr({height:r}),(u=this.minDateBox)==null||u.attr({height:r}),t.styledMode||((m=this.maxDateBox)==null||m.attr({stroke:a}),(v=this.minDateBox)==null||v.attr({stroke:a})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let P=this.options.buttons??[],z=Math.min(P.length,this.buttonOptions.length),{dropdown:C,options:B}=this,N=bd(B.buttonTheme),X=N&&N.states,$=N.width||28;if(P.length<this.buttonOptions.length)for(let K=this.buttonOptions.length-1;K>=P.length;K--){let J=this.buttons.pop();J==null||J.destroy(),(k=this.dropdown)==null||k.options.remove(K+1)}for(let K=z-1;K>=0;K--)if(Object.keys(ix(P[K],this.buttonOptions[K])).length!==0){let J=P[K];this.buttons[K].destroy(),C==null||C.options.remove(K+1),this.createButton(J,K,$,X),this.computeButtonRange(J)}if(P.length>this.buttonOptions.length)for(let K=this.buttonOptions.length;K<P.length;K++)this.createButton(P[K],K,$,X),this.computeButtonRange(P[K]);this.buttonOptions=this.options.buttons??[],Dl(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(t,r){let{chart:a,options:d,buttonGroup:u,dropdown:m,dropdownLabel:v}=this,{buttonPosition:k}=d,P=a.plotLeft-a.spacing[3],z=k.x-a.spacing[3],C=a.plotLeft;k.align==="right"?(z+=t-P,this.hasVisibleDropdown&&(C=a.chartWidth+t-this.maxButtonWidth()-20)):k.align==="center"&&(z-=P/2,this.hasVisibleDropdown&&(C=a.chartWidth/2-this.maxButtonWidth())),m&&ac(m,{left:C+"px",top:(u==null?void 0:u.translateY)+"px"}),v==null||v.attr({x:C}),u&&u.align({y:k.y,width:zl(r,this.initialButtonGroupWidth),align:k.align,x:z},!0,a.spacingBox)}positionButtons(){let{buttons:t,chart:r,options:a,zoomText:d}=this,u=r.hasLoaded?"animate":"attr",{buttonPosition:m}=a,v=r.plotLeft,k=v;d&&d.visibility!=="hidden"&&(d[u]({x:zl(v+m.x,v)}),k+=m.x+d.getBBox().width+5);for(let P=0,z=this.buttonOptions.length;P<z;++P)t[P].visibility!=="hidden"?(t[P][u]({x:k}),k+=(t[P].width||0)+a.buttonSpacing):t[P][u]({x:v})}handleCollision(t){let{chart:r,buttonGroup:a,inputGroup:d,initialButtonGroupWidth:u}=this,{buttonPosition:m,dropdown:v,inputPosition:k}=this.options,P=()=>{d&&a&&d.attr({translateX:d.alignAttr.translateX+(r.axisOffset[1]>=-t?0:-t),translateY:d.alignAttr.translateY+a.getBBox().height+10})};d&&a?k.align===m.align?(P(),u>r.plotWidth+t-20?this.collapseButtons():this.expandButtons()):u-t+d.getBBox().width>r.plotWidth?v==="responsive"?this.collapseButtons():P():this.expandButtons():a&&v==="responsive"&&(u>r.plotWidth?this.collapseButtons():this.expandButtons()),a&&(v==="always"&&this.collapseButtons(),v==="never"&&this.expandButtons()),this.alignButtonGroup(t)}collapseButtons(){let{buttons:t,zoomText:r}=this;this.isCollapsed!==!0&&(this.isCollapsed=!0,r.hide(),t.forEach(a=>void a.hide()),this.showDropdown())}expandButtons(){let{buttons:t,zoomText:r}=this;this.isCollapsed!==!1&&(this.isCollapsed=!1,this.hideDropdown(),r.show(),t.forEach(a=>void a.show()),this.positionButtons())}showDropdown(){let{buttonGroup:t,dropdownLabel:r,dropdown:a}=this;t&&a&&(r.show(),ac(a,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:t}=this;t&&(this.dropdownLabel.hide(),ac(t,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let t=this.options,r=this.group,a=t.inputPosition,d=t.buttonPosition,u=t.y,m=d.y,v=a.y,k=0;if(t.height)return t.height;this.alignElements(),k=r?r.getBBox(!0).height+13+u:0;let P=Math.min(v,m);return(v<0&&m<0||v>0&&m>0)&&(k+=Math.abs(P)),k}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t,r=!0){let a=this.chart;if(bd(!0,this.options,t),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,a.options.rangeSelector.selected=void 0),Dl(t.enabled))return this.destroy(),this.init(a);this.isDirty=!!t.buttons,r&&this.render()}destroy(){let t=this,r=t.minInput,a=t.maxInput;t.eventsToUnbind&&(t.eventsToUnbind.forEach(d=>d()),t.eventsToUnbind=void 0),qy(t.buttons),r&&(r.onfocus=r.onblur=r.onchange=null),a&&(a.onfocus=a.onblur=a.onchange=null),Jy(t,function(d,u){d&&u!=="chart"&&(d instanceof Lo?d.destroy():d instanceof window.HTMLElement&&Ky(d),delete t[u]),d!==$f.prototype[u]&&(t[u]=null)},this),this.buttons=[]}}Xu($f.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});let{format:Yx}=Lr,{getOptions:jx}=Di,{setFixedRange:t0}=Qa,{addEvent:Rl,clamp:Ux,crisp:hm,defined:rx,extend:e0,find:i0,isNumber:Yc,isString:Vx,merge:wd,pick:Nl,splat:Zx}=ti;function ox(T,t,r){return T==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:T==="yAxis"?{labels:{y:-2},opposite:r.opposite??t.opposite??!0,showLastLabel:!!(t.categories||t.type==="category"),title:{text:void 0}}:{}}function $x(T,t){var r;if(T==="xAxis"){let a=Nl((r=t.navigator)==null?void 0:r.enabled,Zs.enabled,!0),d={type:"datetime",categories:void 0};return a&&(d.startOnTick=!1,d.endOnTick=!1),d}return{}}class nx extends ml{init(t,r){var k,P;let a=jx(),d=t.xAxis,u=t.yAxis,m=Nl((k=t.navigator)==null?void 0:k.enabled,Zs.enabled,!0);t.xAxis=t.yAxis=void 0;let v=wd({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:m},scrollbar:{enabled:Nl(Kg.enabled,!0)},rangeSelector:{enabled:Nl(Qm.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:Nl((P=a.tooltip)==null?void 0:P.split,!0),crosshairs:!0},legend:{enabled:!1}},t,{isStock:!0});t.xAxis=d,t.yAxis=u,v.xAxis=Zx(t.xAxis||{}).map(z=>wd(ox("xAxis",z,a.xAxis),z,$x("xAxis",t))),v.yAxis=Zx(t.yAxis||{}).map(z=>wd(ox("yAxis",z,a.yAxis),z)),super.init(v,r)}createAxis(t,r){return r.axis=wd(ox(t,r.axis,jx()[t]),r.axis,$x(t,this.userOptions)),super.createAxis(t,r)}}Rl(ml,"update",function(T){let t=T.options;"scrollbar"in t&&this.navigator&&(wd(!0,this.options.scrollbar,t.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete t.scrollbar)}),function(T){function t(P){var Hi,Sr,ls,us;if(!((Sr=(Hi=this.crosshair)==null?void 0:Hi.label)!=null&&Sr.enabled&&this.cross&&Yc(this.min)&&Yc(this.max)))return;let z=this.chart,C=this.logarithmic,B=this.crosshair.label,N=this.horiz,X=this.opposite,$=this.left,K=this.top,J=this.width,lt=this.options.tickPosition==="inside",mt=this.crosshair.snap!==!1,_t=P.e||((ls=this.cross)==null?void 0:ls.e),Lt=P.point,Ot=this.crossLabel,Nt,zt,Xt=B.format,se="",Qt,ne=0,Ae=this.min,ai=this.max;C&&(Ae=C.lin2log(this.min),ai=C.lin2log(this.max));let Xe=N?"center":X?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";!Ot&&(Ot=this.crossLabel=z.renderer.label("",0,void 0,B.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(Lt!=null&&Lt.series?Lt.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:B.align||Xe,padding:Nl(B.padding,8),r:Nl(B.borderRadius,3),zIndex:2}).add(this.labelGroup),z.styledMode||Ot.attr({fill:B.backgroundColor||((us=Lt==null?void 0:Lt.series)==null?void 0:us.color)||"#666666",stroke:B.borderColor||"","stroke-width":B.borderWidth||0}).css(e0({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},B.style||{}))),N?(Nt=mt?(Lt.plotX||0)+$:_t.chartX,zt=K+(X?0:this.height)):(Nt=$+this.offset+(X?J:0),zt=mt?(Lt.plotY||0)+K:_t.chartY),Xt||B.formatter||(this.dateTime&&(se="%b %d, %Y"),Xt="{value"+(se?":"+se:"")+"}");let qe=mt?this.isXAxis?Lt.x:Lt.y:this.toValue(N?_t.chartX:_t.chartY),Qe=Lt!=null&&Lt.series?Lt.series.isPointInside(Lt):Yc(qe)&&qe>Ae&&qe<ai,fi="";Xt?fi=Yx(Xt,{value:qe},z):B.formatter&&Yc(qe)&&(fi=B.formatter.call(this,qe)),Ot.attr({text:fi,x:Nt,y:zt,visibility:Qe?"inherit":"hidden"});let mi=Ot.getBBox();!Yc(Ot.x)||N||X||(Nt=Ot.x-mi.width/2),Yc(Ot.y)&&(N?(lt&&!X||!lt&&X)&&(zt=Ot.y-mi.height):zt=Ot.y-mi.height/2),Qt=N?{left:$,right:$+this.width}:{left:this.labelAlign==="left"?$:0,right:this.labelAlign==="right"?$+this.width:z.chartWidth};let vi=Ot.translateX||0;vi<Qt.left&&(ne=Qt.left-vi),vi+mi.width>=Qt.right&&(ne=-(vi+mi.width-Qt.right)),Ot.attr({x:Math.max(0,Nt+ne),y:Math.max(0,zt),anchorX:N?Nt:this.opposite?0:z.chartWidth,anchorY:N?this.opposite?z.chartHeight:0:zt+mi.height/2})}function r(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function a(P){let z=this.chart,C=this.options,B=z._labelPanes=z._labelPanes||{},N=C.labels;if(z.options.isStock&&this.coll==="yAxis"){let X=C.top+","+C.height;!B[X]&&N.enabled&&(N.distance===15&&this.side===1&&(N.distance=0),N.align===void 0&&(N.align="right"),B[X]=this,P.align="right",P.preventDefault())}}function d(){let P=this.chart,z=this.options&&this.options.top+","+this.options.height;z&&P._labelPanes&&P._labelPanes[z]===this&&delete P._labelPanes[z]}function u(P){let z=this,C=z.isLinked&&!z.series&&z.linkedParent?z.linkedParent.series:z.series,B=z.chart,N=B.renderer,X=z.left,$=z.top,K=[],J=P.translatedValue,lt=P.value,mt=P.force,_t,Lt,Ot,Nt,zt=[],Xt,se;if(B.options.isStock&&P.acrossPanes!==!1&&z.coll==="xAxis"||z.coll==="yAxis"){for(let Qt of(P.preventDefault(),zt=(ne=>{let Ae=ne==="xAxis"?"yAxis":"xAxis",ai=z.options[Ae];return Yc(ai)?[B[Ae][ai]]:Vx(ai)?[B.get(ai)]:C.map(Xe=>Xe[Ae])})(z.coll),z.isXAxis?B.yAxis:B.xAxis))if(!Qt.options.isInternal){let ne=Qt.isXAxis?"yAxis":"xAxis";z===(rx(Qt.options[ne])?B[ne][Qt.options[ne]]:B[ne][0])&&zt.push(Qt)}for(let Qt of(Xt=zt.length?[]:[z.isXAxis?B.yAxis[0]:B.xAxis[0]],zt))Xt.indexOf(Qt)!==-1||i0(Xt,ne=>ne.pos===Qt.pos&&ne.len===Qt.len)||Xt.push(Qt);if(Yc(se=Nl(J,z.translate(lt||0,void 0,void 0,P.old))))if(z.horiz)for(let Qt of Xt){let ne;Nt=(Lt=Qt.pos)+Qt.len,_t=Ot=Math.round(se+z.transB),mt!=="pass"&&(_t<X||_t>X+z.width)&&(mt?_t=Ot=Ux(_t,X,X+z.width):ne=!0),ne||K.push(["M",_t,Lt],["L",Ot,Nt])}else for(let Qt of Xt){let ne;Ot=(_t=Qt.pos)+Qt.len,Lt=Nt=$+z.height-se,mt!=="pass"&&(Lt<$||Lt>$+z.height)&&(mt?Lt=Nt=Ux(Lt,$,$+z.height):ne=!0),ne||K.push(["M",_t,Lt],["L",Ot,Nt])}P.path=K.length>0?N.crispPolyLine(K,P.lineWidth||1):void 0}}function m(P){if(this.chart.options.isStock){let z;this.is("column")||this.is("columnrange")?z={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(z={marker:{enabled:!1,radius:2}}),z&&(P.plotOptions[this.type]=wd(P.plotOptions[this.type],z))}}function v(){let P=this.chart,z=this.options.dataGrouping;return this.allowDG!==!1&&z&&Nl(z.enabled,P.options.isStock)}function k(P,z){for(let C=0;C<P.length;C+=2){let B=P[C],N=P[C+1];rx(B[1])&&B[1]===N[1]&&(B[1]=N[1]=hm(B[1],z)),rx(B[2])&&B[2]===N[2]&&(B[2]=N[2]=hm(B[2],z))}return P}T.compose=function(P,z,C,B){let N=C.prototype;N.forceCropping||(Rl(z,"afterDrawCrosshair",t),Rl(z,"afterHideCrosshair",r),Rl(z,"autoLabelAlign",a),Rl(z,"destroy",d),Rl(z,"getPlotLinePath",u),P.prototype.setFixedRange=t0,N.forceCropping=v,Rl(C,"setOptions",m),B.prototype.crispPolyLine=k)},T.stockChart=function(P,z,C){return new T(P,z,C)}}(nx||(nx={}));let ax=nx,{column:{prototype:{pointClass:s0}}}=ws.seriesTypes,{column:qx}=ws.seriesTypes,{crisp:Kx,extend:Jx,merge:lx}=ti,{defaultOptions:Qx}=Di;class hx extends qx{extendStem(t,r,a){let d=t[0],u=t[1];typeof d[2]=="number"&&(d[2]=Math.max(a+r,d[2])),typeof u[2]=="number"&&(u[2]=Math.min(a-r,u[2]))}getPointPath(t,r){let a=r.strokeWidth(),d=t.series,u=Kx(t.plotX||0,a),m=Math.round(t.shapeArgs.width/2),v=[["M",u,Math.round(t.yBottom)],["L",u,Math.round(t.plotHigh)]];if(t.close!==null){let k=Kx(t.plotClose,a);v.push(["M",u,k],["L",u+m,k]),d.extendStem(v,a/2,k)}return v}drawSinglePoint(t){let r=t.series,a=r.chart,d,u=t.graphic;t.plotY!==void 0&&(u||(t.graphic=u=a.renderer.path().add(r.group)),a.styledMode||u.attr(r.pointAttribs(t,t.selected&&"select")),d=r.getPointPath(t,u),u[u?"animate":"attr"]({d}).addClass(t.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(t,r){let a=super.pointAttribs.call(this,t,r);return delete a.fill,a}toYData(t){return[t.high,t.low,t.close]}translate(){let t=this,r=t.yAxis,a=this.pointArrayMap&&this.pointArrayMap.slice()||[],d=a.map(u=>`plot${u.charAt(0).toUpperCase()+u.slice(1)}`);d.push("yBottom"),a.push("low"),super.translate.apply(t),t.points.forEach(function(u){a.forEach(function(m,v){let k=u[m];k!==null&&(t.dataModify&&(k=t.dataModify.modifyValue(k)),u[d[v]]=r.toPixels(k,!0))}),u.tooltipPos[1]=u.plotHigh+r.pos-t.chart.plotTop})}}hx.defaultOptions=lx(qx.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),Jx(hx.prototype,{pointClass:class extends s0{},animate:null,directTouch:!1,keysAffectYAxis:["low","high"],pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),Jx(Qx.lang,{stockOpen:"Open",stockHigh:"High",stockLow:"Low",stockClose:"Close"}),ws.registerSeriesType("hlc",hx);let{seriesTypes:{hlc:r0}}=ws;class ty extends r0.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let t=super.getZone();return this.resolveUpColor(),t}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}let{composed:o0}=Zt,{hlc:ey}=ws.seriesTypes,{addEvent:iy,crisp:dx,extend:cx,merge:n0,pushUnique:px}=ti;function a0(T){let t=T.options,r=t.dataGrouping;r&&t.useOhlcData&&t.id!=="highcharts-navigator-series"&&(r.approximation="ohlc")}function l0(T){let t=T.options;t.useOhlcData&&t.id!=="highcharts-navigator-series"&&cx(this,{pointValKey:jc.prototype.pointValKey,pointArrayMap:jc.prototype.pointArrayMap,toYData:jc.prototype.toYData})}class jc extends ey{static compose(t,...r){px(o0,"OHLCSeries")&&(iy(t,"afterSetOptions",a0),iy(t,"init",l0))}getPointPath(t,r){let a=super.getPointPath(t,r),d=r.strokeWidth(),u=dx(t.plotX||0,d),m=Math.round(t.shapeArgs.width/2);if(t.open!==null){let v=dx(t.plotOpen,d);a.push(["M",u,v],["L",u-m,v]),super.extendStem(a,d/2,v)}return a}pointAttribs(t,r){let a=super.pointAttribs.call(this,t,r),d=this.options;return delete a.fill,!t.options.color&&d.upColor&&t.open<t.close&&(a.stroke=d.upColor),a}toYData(t){return[t.open,t.high,t.low,t.close]}}jc.defaultOptions=n0(ey.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>{series.chart.options.lang.stockOpen}: {point.open}<br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'}}),cx(jc.prototype,{pointClass:ty,pointArrayMap:["open","high","low","close"]}),ws.registerSeriesType("ohlc",jc);let{column:dm,ohlc:ux}=ws.seriesTypes,{crisp:fx,merge:h0}=ti;class cm extends ux{pointAttribs(t,r){let a=dm.prototype.pointAttribs.call(this,t,r),d=this.options,u=t.open<t.close,m=d.lineColor||this.color,v=t.color||this.color;if(a["stroke-width"]=d.lineWidth,a.fill=t.options.color||u&&d.upColor||v,a.stroke=t.options.lineColor||u&&d.upLineColor||m,r){let k=d.states[r];a.fill=k.color||a.fill,a.stroke=k.lineColor||a.stroke,a["stroke-width"]=k.lineWidth||a["stroke-width"]}return a}drawPoints(){let t=this.points,r=this.chart,a=this.yAxis.reversed;for(let d of t){let u=d.graphic,m,v,k,P,z,C,B,N,X,$=!u;if(d.plotY!==void 0){u||(d.graphic=u=r.renderer.path().add(this.group)),this.chart.styledMode||u.attr(this.pointAttribs(d,d.selected&&"select")).shadow(this.options.shadow);let K=u.strokeWidth();B=fx(d.plotX||0,K),k=Math.min(m=d.plotOpen,v=d.plotClose),P=Math.max(m,v),X=Math.round(d.shapeArgs.width/2),z=a?P!==d.yBottom:Math.round(k)!==Math.round(d.plotHigh||0),C=a?Math.round(k)!==Math.round(d.plotHigh||0):P!==d.yBottom,k=fx(k,K),P=fx(P,K),(N=[]).push(["M",B-X,P],["L",B-X,k],["L",B+X,k],["L",B+X,P],["Z"],["M",B,k],["L",B,z?Math.round(a?d.yBottom:d.plotHigh):k],["M",B,P],["L",B,C?Math.round(a?d.plotHigh:d.yBottom):P]),u[$?"attr":"animate"]({d:N}).addClass(d.getClassName(),!0)}}}}cm.defaultOptions=h0(ux.defaultOptions,{tooltip:ux.defaultOptions.tooltip},{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),ws.registerSeriesType("candlestick",cm);let{column:{prototype:{pointClass:Ip}}}=ws.seriesTypes,{isNumber:d0}=ti,Bp=class extends Ip{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return d0(this.y)||this.y===void 0}hasNewShapeType(){let T=this.options.shape||this.series.options.shape;return this.graphic&&T&&T!==this.graphic.symbolKey}};(function(T){let t=[];function r(d,u,m,v,k){let P=k&&k.anchorX||d,z=k&&k.anchorY||u,C=this.circle(P-1,z-1,2,2);return C.push(["M",P,z],["L",d,u+v],["L",d,u],["L",d+m,u],["L",d+m,u+v],["L",d,u+v],["Z"]),C}function a(d,u){d[u+"pin"]=function(m,v,k,P,z){let C,B=z&&z.anchorX,N=z&&z.anchorY;if(u==="circle"&&P>k&&(m-=Math.round((P-k)/2),k=P),C=d[u](m,v,k,P,z),B&&N){let X=B;if(u==="circle")X=m+k/2;else{let K=C[0],J=C[1];K[0]==="M"&&J[0]==="L"&&(X=(K[1]+J[1])/2)}let $=v>N?v:v+P;C.push(["M",X,$],["L",B,N]),C=C.concat(d.circle(B-1,N-1,2,2))}return C}}T.compose=function(d){if(t.indexOf(d)===-1){t.push(d);let m=d.prototype.symbols;m.flag=r,a(m,"circle"),a(m,"square")}let u=Ws.getRendererType();t.indexOf(u)&&t.push(u)}})(Wn||(Wn={}));let c0=Wn,{composed:p0}=Zt,{prototype:u0}=ha,{prototype:Yu}=na,{defined:pm,pushUnique:sy,stableSort:f0}=ti;(function(T){function t(a){return Yu.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,a)}function r(){var Xt,se;u0.translate.apply(this);let a=this,d=a.options,u=a.chart,m=a.points,v=d.onSeries,k=v&&u.get(v),P=k&&k.options.step,z=k&&k.points,C=u.inverted,B=a.xAxis,N=a.yAxis,X=m.length-1,$,K,J=d.onKey||"y",lt=z&&z.length,mt=0,_t,Lt,Ot,Nt,zt;if(k&&k.visible&&lt){for(mt=(k.pointXOffset||0)+(k.barW||0)/2,Nt=k.currentDataGrouping,Lt=z[lt-1].x+(Nt?Nt.totalRange:0),f0(m,(Qt,ne)=>Qt.x-ne.x),J="plot"+J[0].toUpperCase()+J.substr(1);lt--&&m[X];)if(_t=z[lt],($=m[X]).y=_t.y,_t.x<=$.x&&_t[J]!==void 0){if($.x<=Lt&&($.plotY=_t[J],_t.x<$.x&&!P&&(Ot=z[lt+1]))&&Ot[J]!==void 0)if(pm($.plotX)&&k.is("spline")){let Qt=[_t.plotX||0,_t.plotY||0],ne=[Ot.plotX||0,Ot.plotY||0],Ae=((Xt=_t.controlPoints)==null?void 0:Xt.high)||Qt,ai=((se=Ot.controlPoints)==null?void 0:se.low)||ne,Xe=(mi,vi)=>Math.pow(1-mi,3)*Qt[vi]+3*(1-mi)*(1-mi)*mi*Ae[vi]+3*(1-mi)*mi*mi*ai[vi]+mi*mi*mi*ne[vi],qe=0,Qe=1,fi;for(let mi=0;mi<100;mi++){let vi=(qe+Qe)/2,Hi=Xe(vi,0);if(Hi===null)break;if(.25>Math.abs(Hi-$.plotX)){fi=vi;break}Hi<$.plotX?qe=vi:Qe=vi}pm(fi)&&($.plotY=Xe(fi,1),$.y=N.toValue($.plotY,!0))}else zt=($.x-_t.x)/(Ot.x-_t.x),$.plotY+=zt*(Ot[J]-_t[J]),$.y+=zt*(Ot.y-_t.y);if(X--,lt++,X<0)break}}m.forEach((Qt,ne)=>{let Ae;Qt.plotX+=mt,(Qt.plotY===void 0||C)&&(Qt.plotX>=0&&Qt.plotX<=B.len?C?(Qt.plotY=B.translate(Qt.x,0,1,0,1),Qt.plotX=pm(Qt.y)?N.translate(Qt.y,0,0,0,1):0):Qt.plotY=(B.opposite?0:a.yAxis.len)+B.offset:Qt.shapeArgs={}),(K=m[ne-1])&&K.plotX===Qt.plotX&&(K.stackIndex===void 0&&(K.stackIndex=0),Ae=K.stackIndex+1),Qt.stackIndex=Ae}),this.onSeries=k}T.compose=function(a){if(sy(p0,"OnSeries")){let d=a.prototype;d.getPlotBox=t,d.translate=r}return a},T.getPlotBox=t,T.translate=r})(ge||(ge={}));let ry=ge,{noop:ju}=Zt,{distribute:oy}=Ms,{series:ny,seriesTypes:{column:ay}}=ws,{addEvent:um,defined:g0,extend:fm,isNumber:m0,merge:ly,objectEach:x0,wrap:hy}=ti;class Uu extends ay{animate(t){t&&this.setClip()}drawPoints(){let t,r,a,d,u,m,v,k,P,z,C,B=this.points,N=this.chart,X=N.renderer,$=N.inverted,K=this.options,J=K.y,lt=this.yAxis,mt={},_t=[],Lt=m0(K.borderRadius)?K.borderRadius:0;for(d=B.length;d--;)u=B[d],z=($?u.plotY:u.plotX)>this.xAxis.len,t=u.plotX,v=u.stackIndex,a=u.options.shape||K.shape,(r=u.plotY)!==void 0&&(r=u.plotY+J-(v!==void 0&&v*K.stackDistance)),u.anchorX=v?void 0:u.plotX,k=v?void 0:u.plotY,C=a!=="flag",m=u.graphic,r!==void 0&&t>=0&&!z?(m&&u.hasNewShapeType()&&(m=m.destroy()),m||(m=u.graphic=X.label("",0,void 0,a,void 0,void 0,K.useHTML).addClass("highcharts-point").add(this.markerGroup),u.graphic.div&&(u.graphic.div.point=u),m.isNew=!0),m.attr({align:C?"center":"left",width:K.width,height:K.height,"text-align":K.textAlign,r:Lt}),N.styledMode||m.attr(this.pointAttribs(u)).css(ly(K.style,u.style)).shadow(K.shadow),t>0&&(t-=m.strokeWidth()%2),P={y:r,anchorY:k},K.allowOverlapX&&(P.x=t,P.anchorX=u.anchorX),m.attr({text:u.options.title??K.title??"A"})[m.isNew?"attr":"animate"](P),K.allowOverlapX||(mt[u.plotX]?mt[u.plotX].size=Math.max(mt[u.plotX].size,m.width||0):mt[u.plotX]={align:.5*!!C,size:m.width||0,target:t,anchorX:t}),u.tooltipPos=[t,r+lt.pos-N.plotTop]):m&&(u.graphic=m.destroy());if(!K.allowOverlapX){let Ot=100;for(let Nt of(x0(mt,function(zt){zt.plotX=zt.anchorX,_t.push(zt),Ot=Math.max(zt.size,Ot)}),oy(_t,$?lt.len:this.xAxis.len,Ot),B)){let zt=Nt.plotX,Xt=Nt.graphic,se=Xt&&mt[zt];se&&Xt&&(g0(se.pos)?Xt[Xt.isNew?"attr":"animate"]({x:se.pos+(se.align||0)*se.size,anchorX:Nt.anchorX}).show().isNew=!1:Xt.hide().isNew=!0)}}K.useHTML&&this.markerGroup&&hy(this.markerGroup,"on",function(Ot){return Lo.prototype.on.apply(Ot.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let t=this.points;for(let r of(super.drawTracker(),t)){let a=r.graphic;a&&(r.unbindMouseOver&&r.unbindMouseOver(),r.unbindMouseOver=um(a.element,"mouseover",function(){for(let d of(r.stackIndex>0&&!r.raised&&(r._y=a.y,a.attr({y:r._y-8}),r.raised=!0),t))d!==r&&d.raised&&d.graphic&&(d.graphic.attr({y:d._y}),d.raised=!1)}))}}pointAttribs(t,r){let a=this.options,d=t&&t.color||this.color,u=a.lineColor,m=t&&t.lineWidth,v=t&&t.fillColor||a.fillColor;return r&&(v=a.states[r].fillColor,u=a.states[r].lineColor,m=a.states[r].lineWidth),{fill:v||d,stroke:u||d,"stroke-width":m||a.lineWidth||0}}setClip(){ny.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}Uu.compose=c0.compose,Uu.defaultOptions=ly(ay.defaultOptions,{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold"}}),ry.compose(Uu),fm(Uu.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:Bp,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:ju,init:ny.prototype.init}),ws.registerSeriesType("flags",Uu);let{addEvent:Vu,find:y0,fireEvent:gm,isArray:Zu,isNumber:Wl,pick:Dp}=ti;(function(T){function t(){this.brokenAxis!==void 0&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function r(){var z;(z=this.brokenAxis)!=null&&z.hasBreaks&&(this.options.ordinal=!1)}function a(){let z=this.brokenAxis;if(z!=null&&z.hasBreaks){let C=this.tickPositions,B=this.tickPositions.info,N=[];for(let X=0;X<C.length;X++)z.isInAnyBreak(C[X])||N.push(C[X]);this.tickPositions=N,this.tickPositions.info=B}}function d(){this.brokenAxis||(this.brokenAxis=new P(this))}function u(){var $,K;let{isDirty:z,options:{connectNulls:C},points:B,xAxis:N,yAxis:X}=this;if(z){let J=B.length;for(;J--;){let lt=B[J],mt=(lt.y!==null||C!==!1)&&((($=N==null?void 0:N.brokenAxis)==null?void 0:$.isInAnyBreak(lt.x,!0))||((K=X==null?void 0:X.brokenAxis)==null?void 0:K.isInAnyBreak(lt.y,!0)));lt.visible=!mt&&lt.options.visible!==!1}}}function m(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,Dp(this.pointArrayMap,["y"]))}function v(z,C){var J;let B,N,X,$=this,K=$.points;if((J=z==null?void 0:z.brokenAxis)!=null&&J.hasBreaks){let lt=z.brokenAxis;C.forEach(function(mt){var Lt,Ot;B=(lt==null?void 0:lt.breakArray)||[],N=z.isXAxis?z.min:Dp($.options.threshold,z.min);let _t=(Ot=(Lt=z==null?void 0:z.options)==null?void 0:Lt.breaks)==null?void 0:Ot.filter(function(Nt){let zt=!0;for(let Xt=0;Xt<B.length;Xt++){let se=B[Xt];if(se.from===Nt.from&&se.to===Nt.to){zt=!1;break}}return zt});K.forEach(function(Nt){X=Dp(Nt["stack"+mt.toUpperCase()],Nt[mt]),B.forEach(function(zt){if(Wl(N)&&Wl(X)){let Xt="";N<zt.from&&X>zt.to||N>zt.from&&X<zt.from?Xt="pointBreak":(N<zt.from&&X>zt.from&&X<zt.to||N>zt.from&&X>zt.to&&X<zt.from)&&(Xt="pointInBreak"),Xt&&gm(z,Xt,{point:Nt,brk:zt})}}),_t==null||_t.forEach(function(zt){gm(z,"pointOutsideOfBreak",{point:Nt,brk:zt})})})})}}function k(){let z=this.currentDataGrouping,C=z==null?void 0:z.gapSize,B=this.points.slice(),N=this.yAxis,X=this.options.gapSize,$=B.length-1;if(X&&$>0){let K,J;for(this.options.gapUnit!=="value"&&(X*=this.basePointRange),C&&C>X&&C>=this.basePointRange&&(X=C);$--;)if(J&&J.visible!==!1||(J=B[$+1]),K=B[$],J.visible!==!1&&K.visible!==!1){if(J.x-K.x>X){let lt=(K.x+J.x)/2;B.splice($+1,0,{isNull:!0,x:lt}),N.stacking&&this.options.stacking&&((N.stacking.stacks[this.stackKey][lt]=new uu(N,N.options.stackLabels,!1,lt,this.stack)).total=0)}J=K}}return this.getGraphPath(B)}T.compose=function(z,C){if(!z.keepProps.includes("brokenAxis")){z.keepProps.push("brokenAxis"),Vu(z,"init",d),Vu(z,"afterInit",t),Vu(z,"afterSetTickPositions",a),Vu(z,"afterSetOptions",r);let B=C.prototype;B.drawBreaks=v,B.gappedPath=k,Vu(C,"afterGeneratePoints",u),Vu(C,"afterRender",m)}return z};class P{static isInBreak(C,B){let N=C.repeat||1/0,X=C.from,$=C.to-C.from,K=B>=X?(B-X)%N:N-(X-B)%N;return C.inclusive?K<=$:K<$&&K!==0}static lin2Val(C){let B=this.brokenAxis,N=B==null?void 0:B.breakArray;if(!N||!Wl(C))return C;let X=C,$,K;for(K=0;K<N.length&&!(($=N[K]).from>=X);K++)($.to<X||P.isInBreak($,X))&&(X+=$.len);return X}static val2Lin(C){let B=this.brokenAxis,N=B==null?void 0:B.breakArray;if(!N||!Wl(C))return C;let X=C,$,K;for(K=0;K<N.length;K++)if(($=N[K]).to<=C)X-=$.len;else{if($.from>=C)break;if(P.isInBreak($,C)){X-=C-$.from;break}}return X}constructor(C){this.hasBreaks=!1,this.axis=C}findBreakAt(C,B){return y0(B,function(N){return N.from<C&&C<N.to})}isInAnyBreak(C,B){let N=this.axis,X=N.options.breaks||[],$=X.length,K,J,lt;if($&&Wl(C)){for(;$--;)P.isInBreak(X[$],C)&&(K=!0,J||(J=Dp(X[$].showPoints,!N.isXAxis)));lt=K&&B?K&&!J:K}return lt}setBreaks(C,B){let N=this,X=N.axis,$=X.chart.time,K=Zu(C)&&!!C.length&&!!Object.keys(C[0]).length;X.isDirty=N.hasBreaks!==K,N.hasBreaks=K,C==null||C.forEach(J=>{J.from=$.parse(J.from)||0,J.to=$.parse(J.to)||0}),C!==X.options.breaks&&(X.options.breaks=X.userOptions.breaks=C),X.forceRedraw=!0,X.series.forEach(function(J){J.isDirty=!0}),K||X.val2lin!==P.val2Lin||(delete X.val2lin,delete X.lin2val),K&&(X.userOptions.ordinal=!1,X.lin2val=P.lin2Val,X.val2lin=P.val2Lin,X.setExtremes=function(J,lt,mt,_t,Lt){if(N.hasBreaks){let Ot,Nt=this.options.breaks||[];for(;Ot=N.findBreakAt(J,Nt);)J=Ot.to;for(;Ot=N.findBreakAt(lt,Nt);)lt=Ot.from;lt<J&&(lt=J)}X.constructor.prototype.setExtremes.call(this,J,lt,mt,_t,Lt)},X.setAxisTranslation=function(){if(X.constructor.prototype.setAxisTranslation.call(this),N.unitLength=void 0,N.hasBreaks){let J=X.options.breaks||[],lt=[],mt=[],_t=Dp(X.pointRangePadding,0),Lt=0,Ot,Nt,zt=X.userMin||X.min,Xt=X.userMax||X.max,se,Qt;J.forEach(function(ne){Nt=ne.repeat||1/0,Wl(zt)&&Wl(Xt)&&(P.isInBreak(ne,zt)&&(zt+=ne.to%Nt-zt%Nt),P.isInBreak(ne,Xt)&&(Xt-=Xt%Nt-ne.from%Nt))}),J.forEach(function(ne){if(se=ne.from,Nt=ne.repeat||1/0,Wl(zt)&&Wl(Xt)){for(;se-Nt>zt;)se-=Nt;for(;se<zt;)se+=Nt;for(Qt=se;Qt<Xt;Qt+=Nt)lt.push({value:Qt,move:"in"}),lt.push({value:Qt+ne.to-ne.from,move:"out",size:ne.breakSize})}}),lt.sort(function(ne,Ae){return ne.value===Ae.value?(ne.move!=="in")-(Ae.move!=="in"):ne.value-Ae.value}),Ot=0,se=zt,lt.forEach(function(ne){(Ot+=ne.move==="in"?1:-1)===1&&ne.move==="in"&&(se=ne.value),Ot===0&&Wl(se)&&(mt.push({from:se,to:ne.value,len:ne.value-se-(ne.size||0)}),Lt+=ne.value-se-(ne.size||0))}),N.breakArray=mt,Wl(zt)&&Wl(Xt)&&Wl(X.min)&&(N.unitLength=Xt-zt-Lt+_t,gm(X,"afterBreaks"),X.staticScale?X.transA=X.staticScale:N.unitLength&&(X.transA*=(Xt-X.min+_t)/N.unitLength),_t&&(X.minPixelPadding=X.transA*(X.minPointOffset||0)),X.min=zt,X.max=Xt)}}),Dp(B,!0)&&X.chart.redraw()}}T.Additions=P})(On||(On={}));let mm=On;Zt.BrokenAxis=Zt.BrokenAxis||mm,Zt.BrokenAxis.compose(Zt.Axis,Zt.Series);let yl={},{arrayMax:v0,arrayMin:b0,correctFloat:xm,extend:gx,isNumber:kd}=ti;function dy(T){let t=T.length,r=cy(T);return kd(r)&&t&&(r=xm(r/t)),r}function cy(T){let t=T.length,r;if(!t&&T.hasNulls)r=null;else if(t)for(r=0;t--;)r+=T[t];return r}let $u={average:dy,averages:function(){let T=[];return[].forEach.call(arguments,function(t){T.push(dy(t))}),T[0]===void 0?void 0:T},close:function(T){return T.length?T[T.length-1]:T.hasNulls?null:void 0},high:function(T){return T.length?v0(T):T.hasNulls?null:void 0},hlc:function(T,t,r){if(T=yl.high(T),t=yl.low(t),r=yl.close(r),kd(T)||kd(t)||kd(r))return[T,t,r]},low:function(T){return T.length?b0(T):T.hasNulls?null:void 0},ohlc:function(T,t,r,a){if(T=yl.open(T),t=yl.high(t),r=yl.low(r),a=yl.close(a),kd(T)||kd(t)||kd(r)||kd(a))return[T,t,r,a]},open:function(T){return T.length?T[0]:T.hasNulls?null:void 0},range:function(T,t){return T=yl.low(T),t=yl.high(t),kd(T)||kd(t)?[T,t]:T===null&&t===null?null:void 0},sum:cy};gx(yl,$u);let qu={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:mx,extend:_,merge:e,pick:s}=ti;function n(T){let t=this,r=t.series;r.forEach(function(a){a.groupPixelWidth=void 0}),r.forEach(function(a){a.groupPixelWidth=t.getGroupPixelWidth&&t.getGroupPixelWidth(),a.groupPixelWidth&&(a.hasProcessed=!0),a.applyGrouping(!!T.hasExtremesChanged)})}function h(){let T=this.series,t=T.length,r=0,a=!1,d,u;for(;t--;)(u=T[t].options.dataGrouping)&&(r=Math.max(r,s(u.groupPixelWidth,qu.common.groupPixelWidth)),d=(T[t].dataTable.modified||T[t].dataTable).rowCount,(T[t].groupPixelWidth||d>this.chart.plotSizeX/r||d&&u.forced)&&(a=!0));return a?r:0}function p(){this.series.forEach(function(T){T.hasProcessed=!1})}function f(T,t){let r;if(t=s(t,!0),T||(T={forced:!1,units:null}),this instanceof te)for(r=this.series.length;r--;)this.series[r].update({dataGrouping:T},!1);else this.chart.options.series.forEach(function(a){a.dataGrouping=typeof T=="boolean"?T:e(T,a.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}let g={compose:function(T){te=T;let t=T.prototype;t.applyGrouping||(mx(T,"afterSetScale",p),mx(T,"postProcessData",n),_(t,{applyGrouping:n,getGroupPixelWidth:h,setDataGrouping:f}))}},{series:{prototype:b}}=ws,{addEvent:A,defined:R,error:D,extend:G,isNumber:Z,merge:Q,pick:st,splat:rt}=ti,ot=b.generatePoints;function gt(T){var t,r,a;let d,u,m=this.chart,v=this.options.dataGrouping,k=this.allowDG!==!1&&v&&st(v.enabled,m.options.isStock),P=this.reserveSpace(),z=this.currentDataGrouping,C,B,N=!1;k&&!this.requireSorting&&(this.requireSorting=N=!0);let X=(t=this,r=T,!!(t.isCartesian&&!t.isDirty&&!t.xAxis.isDirty&&!t.yAxis.isDirty&&!r)||!k);if(N&&(this.requireSorting=!1),X)return;this.destroyGroupedData();let $=v.groupAll?this.dataTable:this.dataTable.modified||this.dataTable,K=this.getColumn("x",!v.groupAll),J=m.plotSizeX,lt=this.xAxis,mt=lt.getExtremes(),_t=lt.options.ordinal,Lt=this.groupPixelWidth;if(Lt&&K&&$.rowCount&&J&&Z(mt.min)){u=!0,this.isDirty=!0,this.points=null;let Ot=mt.min,Nt=mt.max,zt=_t&&lt.ordinal&&lt.ordinal.getGroupIntervalFactor(Ot,Nt,this)||1,Xt=Lt*(Nt-Ot)/J*zt,se=lt.getTimeTicks(Ah.Additions.prototype.normalizeTimeTickInterval(Xt,v.units||qu.units),Math.min(Ot,K[0]),Math.max(Nt,K[K.length-1]),lt.options.startOfWeek,K,this.closestPointRange),Qt=b.groupData.apply(this,[$,se,v.approximation]),ne=Qt.modified,Ae=ne.getColumn("x",!0),ai=0;for(v!=null&&v.smoothed&&ne.rowCount&&(v.firstAnchor="firstPoint",v.anchor="middle",v.lastAnchor="lastPoint",D(32,!1,m,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),d=1;d<se.length;d++)se.info.segmentStarts&&se.info.segmentStarts.indexOf(d)!==-1||(ai=Math.max(se[d]-se[d-1],ai));(C=se.info).gapSize=ai,this.closestPointRange=se.info.totalRange,this.groupMap=Qt.groupMap,this.currentDataGrouping=C,function(Xe,qe,Qe){let fi=Xe.options.dataGrouping,mi=Xe.currentDataGrouping&&Xe.currentDataGrouping.gapSize,vi=Xe.getColumn("x");if(!(fi&&vi.length&&mi&&Xe.groupMap))return;let Hi=qe.length-1,Sr=fi.anchor,ls=fi.firstAnchor,us=fi.lastAnchor,es=qe.length-1,Zi=0;if(ls&&vi[0]>=qe[0]){let Br;Zi++;let ur=Xe.groupMap[0].start,Wr=Xe.groupMap[0].length;Z(ur)&&Z(Wr)&&(Br=ur+(Wr-1)),qe[0]={start:qe[0],middle:qe[0]+.5*mi,end:qe[0]+mi,firstPoint:vi[0],lastPoint:Br&&vi[Br]}[ls]}if(Hi>0&&us&&mi&&qe[Hi]>=Qe-mi){es--;let Br=Xe.groupMap[Xe.groupMap.length-1].start;qe[Hi]={start:qe[Hi],middle:qe[Hi]+.5*mi,end:qe[Hi]+mi,firstPoint:Br&&vi[Br],lastPoint:vi[vi.length-1]}[us]}if(Sr&&Sr!=="start"){let Br=mi*{middle:.5,end:1}[Sr];for(;es>=Zi;)qe[es]+=Br,es--}}(this,Ae||[],Nt),P&&Ae&&(R((a=Ae)[0])&&Z(lt.min)&&Z(lt.dataMin)&&a[0]<lt.min&&((!R(lt.options.min)&&lt.min<=lt.dataMin||lt.min===lt.dataMin)&&(lt.min=Math.min(a[0],lt.min)),lt.dataMin=Math.min(a[0],lt.dataMin)),R(a[a.length-1])&&Z(lt.max)&&Z(lt.dataMax)&&a[a.length-1]>lt.max&&((!R(lt.options.max)&&Z(lt.dataMax)&&lt.max>=lt.dataMax||lt.max===lt.dataMax)&&(lt.max=Math.max(a[a.length-1],lt.max)),lt.dataMax=Math.max(a[a.length-1],lt.dataMax))),v.groupAll&&(this.allGroupedTable=ne,Ae=(ne=(B=this.cropData(ne,lt.min||0,lt.max||0)).modified).getColumn("x"),this.cropStart=B.start),this.dataTable.modified=ne}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=u,this.preventGraphAnimation=(z&&z.totalRange)!==(C&&C.totalRange)}function vt(){this.groupedData&&(this.groupedData.forEach(function(T,t){T&&(this.groupedData[t]=T.destroy?T.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function Ft(){ot.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function Wt(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function Ht(T,t,r){let a=T.getColumn("x",!0)||[],d=T.getColumn("y",!0),u=this,m=u.data,v=u.options&&u.options.data,k=[],P=new kr,z=[],C=T.rowCount,B=!!d,N=[],X=u.pointArrayMap,$=X&&X.length,K=["x"].concat(X||["y"]),J=(X||["y"]).map(()=>[]),lt=this.options.dataGrouping&&this.options.dataGrouping.groupAll,mt,_t,Lt,Ot=0,Nt=0,zt=typeof r=="function"?r:r&&yl[r]?yl[r]:yl[u.getDGApproximation&&u.getDGApproximation()||"average"];if($){let Qt=X.length;for(;Qt--;)N.push([])}else N.push([]);let Xt=$||1;for(let Qt=0;Qt<=C;Qt++)if(!(a[Qt]<t[0])){for(;t[Ot+1]!==void 0&&a[Qt]>=t[Ot+1]||Qt===C;){if(mt=t[Ot],u.dataGroupInfo={start:lt?Nt:u.cropStart+Nt,length:N[0].length,groupStart:mt},Lt=zt.apply(u,N),u.pointClass&&!R(u.dataGroupInfo.options)&&(u.dataGroupInfo.options=Q(u.pointClass.prototype.optionsToObject.call({series:u},u.options.data[u.cropStart+Nt])),K.forEach(function(ne){delete u.dataGroupInfo.options[ne]})),Lt!==void 0){k.push(mt);let ne=rt(Lt);for(let Ae=0;Ae<ne.length;Ae++)J[Ae].push(ne[Ae]);z.push(u.dataGroupInfo)}Nt=Qt;for(let ne=0;ne<Xt;ne++)N[ne].length=0,N[ne].hasNulls=!1;if(Ot+=1,Qt===C)break}if(Qt===C)break;if(X){let ne,Ae=lt?Qt:u.cropStart+Qt,ai=m&&m[Ae]||u.pointClass.prototype.applyOptions.apply({series:u},[v[Ae]]);for(let Xe=0;Xe<$;Xe++)Z(ne=ai[X[Xe]])?N[Xe].push(ne):ne===null&&(N[Xe].hasNulls=!0)}else Z(_t=B?d[Qt]:null)?N[0].push(_t):_t===null&&(N[0].hasNulls=!0)}let se={x:k};return(X||["y"]).forEach((Qt,ne)=>{se[Qt]=J[ne]}),P.setColumns(se),{groupMap:z,modified:P}}function ce(T){let t=T.options,r=this.type,a=this.chart.options.plotOptions,d=this.useCommonDataGrouping&&qu.common,u=qu.seriesSpecific,m=Di.defaultOptions.plotOptions[r].dataGrouping;if(a&&(u[r]||d)){let v=this.chart.rangeSelector;m||(m=Q(qu.common,u[r])),t.dataGrouping=Q(d,m,a.series&&a.series.dataGrouping,a[r].dataGrouping,this.userOptions.dataGrouping,!t.isInternal&&v&&Z(v.selected)&&v.buttonOptions[v.selected].dataGrouping)}}let Jt={compose:function(T){let t=T.prototype;t.applyGrouping||(A(T.prototype.pointClass,"update",function(){if(this.dataGroup)return D(24,!1,this.series.chart),!1}),A(T,"afterSetOptions",ce),A(T,"destroy",vt),G(t,{applyGrouping:gt,destroyGroupedData:vt,generatePoints:Ft,getDGApproximation:Wt,groupData:Ht}))},groupData:Ht},{format:ie}=Lr,{composed:Pe}=Zt,{addEvent:Re,extend:Ye,isNumber:ei,pick:Si,pushUnique:yi}=ti;function _i(T){var K;let t=this.chart,r=t.time,a=T.point,d=a.series,u=d.options,m=d.tooltipOptions,v=u.dataGrouping,k=d.xAxis,P=m.xDateFormat||"",z,C,B,N,X,$=m[T.isFooter?"footerFormat":"headerFormat"];if(k&&k.options.type==="datetime"&&v&&ei(a.key)){C=d.currentDataGrouping,B=v.dateTimeLabelFormats||qu.common.dateTimeLabelFormats,C?(N=B[C.unitName],C.count===1?P=N[0]:(P=N[1],z=N[2])):!P&&B&&k.dateTime&&(P=k.dateTime.getXDateFormat(a.x,m.dateTimeLabelFormats));let J=Si((K=d.groupMap)==null?void 0:K[a.index].groupStart,a.key),lt=J+((C==null?void 0:C.totalRange)||0)-1;X=r.dateFormat(P,J),z&&(X+=r.dateFormat(z,lt)),d.chart.styledMode&&($=this.styledModeFormat($)),T.text=ie($,{point:Ye(a,{key:X}),series:d},t),T.preventDefault()}}let ui={compose:function(T,t,r){g.compose(T),Jt.compose(t),r&&yi(Pe,"DataGrouping")&&Re(r,"headerFormatter",_i)},groupData:Jt.groupData};Zt.dataGrouping=Zt.dataGrouping||{},Zt.dataGrouping.approximationDefaults=Zt.dataGrouping.approximationDefaults||$u,Zt.dataGrouping.approximations=Zt.dataGrouping.approximations||yl,ui.compose(Zt.Axis,Zt.Series,Zt.Tooltip);let{defined:Yi,isNumber:Cs,pick:fs}=ti,{addEvent:gs,isObject:Ko,pick:vs,defined:qs,merge:ps}=ti,{getAssignedAxis:qi}={getAssignedAxis:function(T){return T.filter(t=>{let r=t.axis.getExtremes(),a=r.min,d=r.max,u=fs(t.axis.minPointOffset,0);return Cs(a)&&Cs(d)&&t.value>=a-u&&t.value<=d+u&&!t.axis.options.isInternal})[0]}},Bo=[],vr={enabled:!0,sensitivity:1.1},$r=T=>(Ko(T)||(T={enabled:T??!0}),ps(vr,T)),Ln=function(T,t,r,a,d,u,m){let v=vs(m.type,T.zooming.type,""),k=[];v==="x"?k=r:v==="y"?k=a:v==="xy"&&(k=T.axes);let P=T.transform({axes:k,to:{x:d-5,y:u-5,width:10,height:10},from:{x:d-5*t,y:u-5*t,width:10*t,height:10*t},trigger:"mousewheel"});return P&&(qs(me)&&clearTimeout(me),me=setTimeout(()=>{var z;(z=T.pointer)==null||z.drop()},400)),P};function lc(){let T=$r(this.zooming.mouseWheel);T.enabled&&gs(this.container,"wheel",t=>{var d,u;t=((d=this.pointer)==null?void 0:d.normalize(t))||t;let{pointer:r}=this,a=r&&!r.inClass(t.target,"highcharts-no-mousewheel");if(this.isInsidePlot(t.chartX-this.plotLeft,t.chartY-this.plotTop)&&a){let m=T.sensitivity||1.1,v=t.detail||(t.deltaY||0)/120,k=qi(r.getCoordinates(t).xAxis),P=qi(r.getCoordinates(t).yAxis);Ln(this,Math.pow(m,v),k?[k.axis]:this.xAxis,P?[P.axis]:this.yAxis,t.chartX,t.chartY,T)&&((u=t.preventDefault)==null||u.call(t))}})}Zt.MouseWheelZoom=Zt.MouseWheelZoom||{compose:function(T){Bo.indexOf(T)===-1&&(Bo.push(T),gs(T,"afterGetContainer",lc))}},Zt.MouseWheelZoom.compose(Zt.Chart),Zt.Navigator=Zt.Navigator||cn,Zt.OrdinalAxis=Zt.OrdinalAxis||uh,Zt.RangeSelector=Zt.RangeSelector||$f,Zt.Scrollbar=Zt.Scrollbar||ph,Zt.stockChart=Zt.stockChart||ax.stockChart,Zt.StockChart=Zt.StockChart||Zt.stockChart,Zt.extend(Zt.StockChart,ax),Mt.compose(Zt.Series,Zt.Axis,Zt.Point),Uu.compose(Zt.Renderer),jc.compose(Zt.Series),Zt.Navigator.compose(Zt.Chart,Zt.Axis,Zt.Series),Zt.OrdinalAxis.compose(Zt.Axis,Zt.Series,Zt.Chart),Zt.RangeSelector.compose(Zt.Axis,Zt.Chart),Zt.Scrollbar.compose(Zt.Axis),Zt.StockChart.compose(Zt.Chart,Zt.Axis,Zt.Series,Zt.SVGRenderer),Zt.product="Highstock";let fh=Zt;return so.default})())}(vy)),vy.exports}Gw();var by={exports:{}},Xw=by.exports,hv;function Yw(){return hv||(hv=1,function(tt,dt){(function(at,It){at._Highcharts=It(),tt.exports=at._Highcharts})(typeof window>"u"?Xw:window,()=>(()=>{var mx;let at,It,Et;var jt,te,me,ee,ae,ue,le,oe,Ce,Be,We,di,Ve,xi,si,zi,Gi,Ds,qr,ke,Kr,co,ii,Xs={};Xs.d=(_,e)=>{for(var s in e)Xs.o(e,s)&&!Xs.o(_,s)&&Object.defineProperty(_,s,{enumerable:!0,get:e[s]})},Xs.o=(_,e)=>Object.prototype.hasOwnProperty.call(_,e);var Wn={};Xs.d(Wn,{default:()=>qu}),function(_){var e,s,n,h,p,f,g;_.SVG_NS="http://www.w3.org/2000/svg",_.product="Highcharts",_.version="12.3.0",_.win=typeof window<"u"?window:{},_.doc=_.win.document,_.svg=!!((n=(s=(e=_.doc)==null?void 0:e.createElementNS)==null?void 0:s.call(e,_.SVG_NS,"svg"))!=null&&n.createSVGRect),_.pageLang=(f=(p=(h=_.doc)==null?void 0:h.documentElement)==null?void 0:p.closest("[lang]"))==null?void 0:f.lang,_.userAgent=((g=_.win.navigator)==null?void 0:g.userAgent)||"",_.isChrome=_.win.chrome,_.isFirefox=_.userAgent.indexOf("Firefox")!==-1,_.isMS=/(edge|msie|trident)/i.test(_.userAgent)&&!_.win.opera,_.isSafari=!_.isChrome&&_.userAgent.indexOf("Safari")!==-1,_.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(_.userAgent),_.isWebKit=_.userAgent.indexOf("AppleWebKit")!==-1,_.deg2rad=2*Math.PI/360,_.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],_.noop=function(){},_.supportsPassiveEvents=function(){let b=!1;if(!_.isMS){let A=Object.defineProperty({},"passive",{get:function(){b=!0}});_.win.addEventListener&&_.win.removeEventListener&&(_.win.addEventListener("testPassive",_.noop,A),_.win.removeEventListener("testPassive",_.noop,A))}return b}(),_.charts=[],_.composed=[],_.dateFormats={},_.seriesTypes={},_.symbolSizes={},_.chartCount=0}(jt||(jt={}));let ge=jt,{charts:On,doc:zs,win:so}=ge;function Zt(_,e,s,n){let h=e?"Highcharts error":"Highcharts warning";_===32&&(_=`${h}: Deprecated member`);let p=ms(_),f=p?`${h} #${_}: www.highcharts.com/errors/${_}/`:_.toString();if(n!==void 0){let g="";p&&(f+="?"),or(n,function(b,A){g+=`
 - ${A}: ${b}`,p&&(f+=encodeURI(A)+"="+encodeURI(b))}),f+=g}Fn(ge,"displayError",{chart:s,code:_,message:f,params:n},function(){if(e)throw Error(f);so.console&&Zt.messages.indexOf(f)===-1&&console.warn(f)}),Zt.messages.push(f)}function Jo(_,e){return parseInt(_,e||10)}function ri(_){return typeof _=="string"}function ks(_){let e=Object.prototype.toString.call(_);return e==="[object Array]"||e==="[object Array Iterator]"}function rr(_,e){return!!_&&typeof _=="object"&&(!e||!ks(_))}function Ts(_){return rr(_)&&typeof _.nodeType=="number"}function _s(_){let e=_==null?void 0:_.constructor;return!!(rr(_,!0)&&!Ts(_)&&(e!=null&&e.name)&&e.name!=="Object")}function ms(_){return typeof _=="number"&&!isNaN(_)&&_<1/0&&_>-1/0}function Xi(_){return _!=null}function po(_,e,s){let n,h=ri(e)&&!Xi(s),p=(f,g)=>{Xi(f)?_.setAttribute(g,f):h?(n=_.getAttribute(g))||g!=="class"||(n=_.getAttribute(g+"Name")):_.removeAttribute(g)};return ri(e)?p(s,e):or(e,p),n}function uo(_){return ks(_)?_:[_]}function zr(_,e){let s;for(s in _||(_={}),e)_[s]=e[s];return _}function fo(){let _=arguments,e=_.length;for(let s=0;s<e;s++){let n=_[s];if(n!=null)return n}}function Ks(_,e){zr(_.style,e)}function ro(_){return Math.pow(10,Math.floor(Math.log(_)/Math.LN10))}function wi(_,e){return _>1e14?_:parseFloat(_.toPrecision(e||14))}(Zt||(Zt={})).messages=[],Math.easeInOutSine=function(_){return-.5*(Math.cos(Math.PI*_)-1)};let Go=Array.prototype.find?function(_,e){return _.find(e)}:function(_,e){let s,n=_.length;for(s=0;s<n;s++)if(e(_[s],s))return _[s]};function or(_,e,s){for(let n in _)Object.hasOwnProperty.call(_,n)&&e.call(s||_[n],_[n],n,_)}function Qo(_,e,s){function n(f,g){let b=_.removeEventListener;b&&b.call(_,f,g,!1)}function h(f){let g,b;_.nodeName&&(e?(g={})[e]=!0:g=f,or(g,function(A,R){if(f[R])for(b=f[R].length;b--;)n(R,f[R][b].fn)}))}let p=typeof _=="function"&&_.prototype||_;if(Object.hasOwnProperty.call(p,"hcEvents")){let f=p.hcEvents;if(e){let g=f[e]||[];s?(f[e]=g.filter(function(b){return s!==b.fn}),n(e,s)):(h(f),f[e]=[])}else h(f),delete p.hcEvents}}function Fn(_,e,s,n){if(s=s||{},(zs==null?void 0:zs.createEvent)&&(_.dispatchEvent||_.fireEvent&&_!==ge)){let h=zs.createEvent("Events");h.initEvent(e,!0,!0),s=zr(h,s),_.dispatchEvent?_.dispatchEvent(s):_.fireEvent(e,s)}else if(_.hcEvents){s.target||zr(s,{preventDefault:function(){s.defaultPrevented=!0},target:_,type:e});let h=[],p=_,f=!1;for(;p.hcEvents;)Object.hasOwnProperty.call(p,"hcEvents")&&p.hcEvents[e]&&(h.length&&(f=!0),h.unshift.apply(h,p.hcEvents[e])),p=Object.getPrototypeOf(p);f&&h.sort((g,b)=>g.order-b.order),h.forEach(g=>{g.fn.call(_,s)===!1&&s.preventDefault()})}n&&!s.defaultPrevented&&n.call(_,s)}let go=function(){let _=Math.random().toString(36).substring(2,9)+"-",e=0;return function(){return"highcharts-"+(at?"":_)+e++}}();so.jQuery&&(so.jQuery.fn.highcharts=function(){let _=[].slice.call(arguments);if(this[0])return _[0]?(new ge[ri(_[0])?_.shift():"Chart"](this[0],_[0],_[1]),this):On[po(this[0],"data-highcharts-chart")]});let Ke={addEvent:function(_,e,s,n={}){let h=typeof _=="function"&&_.prototype||_;Object.hasOwnProperty.call(h,"hcEvents")||(h.hcEvents={});let p=h.hcEvents;ge.Point&&_ instanceof ge.Point&&_.series&&_.series.chart&&(_.series.chart.runTrackerClick=!0);let f=_.addEventListener;f&&f.call(_,e,s,!!ge.supportsPassiveEvents&&{passive:n.passive===void 0?e.indexOf("touch")!==-1:n.passive,capture:!1}),p[e]||(p[e]=[]);let g={fn:s,order:typeof n.order=="number"?n.order:1/0};return p[e].push(g),p[e].sort((b,A)=>b.order-A.order),function(){Qo(_,e,s)}},arrayMax:function(_){let e=_.length,s=_[0];for(;e--;)_[e]>s&&(s=_[e]);return s},arrayMin:function(_){let e=_.length,s=_[0];for(;e--;)_[e]<s&&(s=_[e]);return s},attr:po,clamp:function(_,e,s){return _>e?_<s?_:s:e},clearTimeout:function(_){Xi(_)&&clearTimeout(_)},correctFloat:wi,createElement:function(_,e,s,n,h){let p=zs.createElement(_);return e&&zr(p,e),h&&Ks(p,{padding:"0",border:"none",margin:"0"}),s&&Ks(p,s),n&&n.appendChild(p),p},crisp:function(_,e=0,s){let n=e%2/2,h=s?-1:1;return(Math.round(_*h-n)+n)*h},css:Ks,defined:Xi,destroyObjectProperties:function(_,e,s){or(_,function(n,h){n!==e&&(n!=null&&n.destroy)&&n.destroy(),(n!=null&&n.destroy||!s)&&delete _[h]})},diffObjects:function(_,e,s,n){let h={};return function p(f,g,b,A){let R=s?g:f;or(f,function(D,G){if(!A&&n&&n.indexOf(G)>-1&&g[G]){D=uo(D),b[G]=[];for(let Z=0;Z<Math.max(D.length,g[G].length);Z++)g[G][Z]&&(D[Z]===void 0?b[G][Z]=g[G][Z]:(b[G][Z]={},p(D[Z],g[G][Z],b[G][Z],A+1)))}else rr(D,!0)&&!D.nodeType?(b[G]=ks(D)?[]:{},p(D,g[G]||{},b[G],A+1),Object.keys(b[G]).length===0&&(G!=="colorAxis"||A!==0)&&delete b[G]):(f[G]!==g[G]||G in f&&!(G in g))&&G!=="__proto__"&&G!=="constructor"&&(b[G]=R[G])})}(_,e,h,0),h},discardElement:function(_){var e;(e=_==null?void 0:_.parentElement)==null||e.removeChild(_)},erase:function(_,e){let s=_.length;for(;s--;)if(_[s]===e){_.splice(s,1);break}},error:Zt,extend:zr,extendClass:function(_,e){let s=function(){};return s.prototype=new _,zr(s.prototype,e),s},find:Go,fireEvent:Fn,getAlignFactor:(_="")=>({center:.5,right:1,middle:.5,bottom:1})[_]||0,getClosestDistance:function(_,e){let s,n,h,p=!e;return _.forEach(f=>{if(f.length>1)for(h=f.length-1;h>0;h--)(n=f[h]-f[h-1])<0&&!p?(e==null||e(),e=void 0):n&&(s===void 0||n<s)&&(s=n)}),s},getMagnitude:ro,getNestedProperty:function(_,e){let s=_.split(".");for(;s.length&&Xi(e);){let n=s.shift();if(n===void 0||n==="__proto__")return;if(n==="this"){let p;return rr(e)&&(p=e["@this"]),p??e}let h=e[n.replace(/[\\'"]/g,"")];if(!Xi(h)||typeof h=="function"||typeof h.nodeType=="number"||h===so)return;e=h}return e},getStyle:function _(e,s,n){var f;let h;if(s==="width"){let g=Math.min(e.offsetWidth,e.scrollWidth),b=(f=e.getBoundingClientRect)==null?void 0:f.call(e).width;return b<g&&b>=g-1&&(g=Math.floor(b)),Math.max(0,g-(_(e,"padding-left",!0)||0)-(_(e,"padding-right",!0)||0))}if(s==="height")return Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(_(e,"padding-top",!0)||0)-(_(e,"padding-bottom",!0)||0));let p=so.getComputedStyle(e,void 0);return p&&(h=p.getPropertyValue(s),fo(n,s!=="opacity")&&(h=Jo(h))),h},insertItem:function(_,e){let s,n=_.options.index,h=e.length;for(s=_.options.isInternal?h:0;s<h+1;s++)if(!e[s]||ms(n)&&n<fo(e[s].options.index,e[s]._i)||e[s].options.isInternal){e.splice(s,0,_);break}return s},isArray:ks,isClass:_s,isDOMElement:Ts,isFunction:function(_){return typeof _=="function"},isNumber:ms,isObject:rr,isString:ri,merge:function(_,...e){let s,n=[_,...e],h={},p=function(g,b){return typeof g!="object"&&(g={}),or(b,function(A,R){R!=="__proto__"&&R!=="constructor"&&(!rr(A,!0)||_s(A)||Ts(A)?g[R]=b[R]:g[R]=p(g[R]||{},A))}),g};_===!0&&(h=n[1],n=Array.prototype.slice.call(n,2));let f=n.length;for(s=0;s<f;s++)h=p(h,n[s]);return h},normalizeTickInterval:function(_,e,s,n,h){let p,f=_;s=fo(s,ro(_));let g=_/s;for(!e&&(e=h?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],n===!1&&(s===1?e=e.filter(function(b){return b%1==0}):s<=.1&&(e=[1/s]))),p=0;p<e.length&&(f=e[p],(!h||!(f*s>=_))&&(h||!(g<=(e[p]+(e[p+1]||e[p]))/2)));p++);return wi(f*s,-Math.round(Math.log(.001)/Math.LN10))},objectEach:or,offset:function(_){let e=zs.documentElement,s=_.parentElement||_.parentNode?_.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:s.top+(so.pageYOffset||e.scrollTop)-(e.clientTop||0),left:s.left+(so.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:s.width,height:s.height}},pad:function(_,e,s){return Array((e||2)+1-String(_).replace("-","").length).join(s||"0")+_},pick:fo,pInt:Jo,pushUnique:function(_,e){return 0>_.indexOf(e)&&!!_.push(e)},relativeLength:function(_,e,s){return/%$/.test(_)?e*parseFloat(_)/100+(s||0):parseFloat(_)},removeEvent:Qo,replaceNested:function(_,...e){let s,n;do for(n of(s=_,e))_=_.replace(n[0],n[1]);while(_!==s);return _},splat:uo,stableSort:function(_,e){let s,n,h=_.length;for(n=0;n<h;n++)_[n].safeI=n;for(_.sort(function(p,f){return(s=e(p,f))===0?p.safeI-f.safeI:s}),n=0;n<h;n++)delete _[n].safeI},syncTimeout:function(_,e,s){return e>0?setTimeout(_,e,s):(_.call(0,s),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(_){return ri(_)?_.substring(0,1).toUpperCase()+_.substring(1):String(_)},uniqueKey:go,useSerialIds:function(_){return at=fo(_,at)},wrap:function(_,e,s){let n=_[e];_[e]=function(){let h=arguments,p=this;return s.apply(this,[function(){return n.apply(p,arguments.length?arguments:h)}].concat([].slice.call(arguments)))}}},{pageLang:oo,win:Po}=ge,{defined:mo,error:ti,extend:fr,isNumber:Co,isObject:un,isString:tn,merge:Na,objectEach:ol,pad:Ji,splat:En,timeUnits:_o,ucfirst:gr}=Ke,He=ge.isSafari&&Po.Intl&&!Po.Intl.DateTimeFormat.prototype.formatRange,Ut=_=>_.main===void 0,be=class{constructor(_,e){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Po.Date,this.update(_),this.lang=e}update(_={}){this.dTLCache={},this.options=_=Na(!0,this.options,_);let{timezoneOffset:e,useUTC:s,locale:n}=_;this.Date=_.Date||Po.Date||Date;let h=_.timezone;mo(s)&&(h=s?"UTC":void 0),e&&e%60==0&&(h="Etc/GMT"+(e>0?"+":"")+e/60),this.variableTimezone=h!=="UTC"&&(h==null?void 0:h.indexOf("Etc/GMT"))!==0,this.timezone=h,this.lang&&n&&(this.lang.locale=n),["months","shortMonths","weekdays","shortWeekdays"].forEach(p=>{let f=/months/i.test(p),g=/short/.test(p),b={timeZone:"UTC"};b[f?"month":"weekday"]=g?"short":"long",this[p]=(f?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(A=>this.dateFormat(b,(f?31:1)*24*36e5*A))})}toParts(_){let[e,s,n,h,p,f,g]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},_,"es").split(/(?:, | |\/|:)/g);return[h,n-1,s,p,f,g,Math.floor(Number(_)||0)%1e3,"DLMXJVS".indexOf(e)].map(Number)}dateTimeFormat(_,e,s=this.options.locale||oo){let n=JSON.stringify(_)+s;tn(_)&&(_=this.str2dtf(_));let h=this.dTLCache[n];if(!h){_.timeZone??(_.timeZone=this.timezone);try{h=new Intl.DateTimeFormat(s,_)}catch(p){/Invalid time zone/i.test(p.message)?(ti(34),_.timeZone="UTC",h=new Intl.DateTimeFormat(s,_)):ti(p.message,!1)}}return this.dTLCache[n]=h,(h==null?void 0:h.format(e))||""}str2dtf(_,e={}){let s={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(s).forEach(n=>{_.indexOf(n)!==-1&&fr(e,s[n])}),e}makeTime(_,e,s=1,n=0,h,p,f){let g=this.Date.UTC(_,e,s,n,h||0,p||0,f||0);if(this.timezone!=="UTC"){let b=this.getTimezoneOffset(g);if(g+=b,[2,3,8,9,10,11].indexOf(e)!==-1&&(n<5||n>20)){let A=this.getTimezoneOffset(g);b!==A?g+=A-b:b-36e5!==this.getTimezoneOffset(g-36e5)||He||(g-=36e5)}}return g}parse(_){if(!tn(_))return _??void 0;let e=(_=_.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(_),s=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(_);e||s||(_+="Z");let n=Date.parse(_);if(Co(n))return n+(!e||s?this.getTimezoneOffset(n):0)}getTimezoneOffset(_){if(this.timezone!=="UTC"){let[e,s,n,h,p=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},_,"en").split(/(GMT|:)/).map(Number),f=-(60*(n+p/60)*6e4);if(Co(f))return f}return 0}dateFormat(_,e,s){let n=this.lang;if(!mo(e)||isNaN(e))return(n==null?void 0:n.invalidDate)||"";if(tn(_=_??"%Y-%m-%d %H:%M:%S")){let h,p=/%\[([a-zA-Z]+)\]/g;for(;h=p.exec(_);)_=_.replace(h[0],this.dateTimeFormat(h[1],e,n==null?void 0:n.locale))}if(tn(_)&&_.indexOf("%")!==-1){let h=this,[p,f,g,b,A,R,D,G]=this.toParts(e),Z=(n==null?void 0:n.weekdays)||this.weekdays,Q=(n==null?void 0:n.shortWeekdays)||this.shortWeekdays,st=(n==null?void 0:n.months)||this.months,rt=(n==null?void 0:n.shortMonths)||this.shortMonths;ol(fr({a:Q?Q[G]:Z[G].substr(0,3),A:Z[G],d:Ji(g),e:Ji(g,2," "),w:G,v:(n==null?void 0:n.weekFrom)??"",b:rt[f],B:st[f],m:Ji(f+1),o:f+1,y:p.toString().substr(2,2),Y:p,H:Ji(b),k:b,I:Ji(b%12||12),l:b%12||12,M:Ji(A),p:b<12?"AM":"PM",P:b<12?"am":"pm",S:Ji(R),L:Ji(D,3)},ge.dateFormats),function(ot,gt){if(tn(_))for(;_.indexOf("%"+gt)!==-1;)_=_.replace("%"+gt,typeof ot=="function"?ot.call(h,e):ot)})}else if(un(_)){let h=(this.getTimezoneOffset(e)||0)/36e5,p=this.timezone||"Etc/GMT"+(h>=0?"+":"")+h,{prefix:f="",suffix:g=""}=_;_=f+this.dateTimeFormat(fr({timeZone:p},_),e)+g}return s?gr(_):_}resolveDTLFormat(_){return un(_,!0)?un(_,!0)&&Ut(_)?{main:_}:_:{main:(_=En(_))[0],from:_[1],to:_[2]}}getDateFormat(_,e,s,n){let h=this.dateFormat("%m-%d %H:%M:%S.%L",e),p="01-01 00:00:00.000",f={millisecond:15,second:12,minute:9,hour:6,day:3},g="millisecond",b=g;for(g in _o){if(_&&_===_o.week&&+this.dateFormat("%w",e)===s&&h.substr(6)===p.substr(6)){g="week";break}if(_&&_o[g]>_){g=b;break}if(f[g]&&h.substr(f[g])!==p.substr(f[g]))break;g!=="week"&&(b=g)}return this.resolveDTLFormat(n[g]).main}},{defined:Ee,extend:_e,timeUnits:Me}=Ke,Le=class extends be{getTimeTicks(_,e,s,n){let h=this,p=[],f={},{count:g=1,unitRange:b}=_,[A,R,D,G,Z,Q]=h.toParts(e),st=(e||0)%1e3,rt;if(n??(n=1),Ee(e)){if(st=b>=Me.second?0:g*Math.floor(st/g),b>=Me.second&&(Q=b>=Me.minute?0:g*Math.floor(Q/g)),b>=Me.minute&&(Z=b>=Me.hour?0:g*Math.floor(Z/g)),b>=Me.hour&&(G=b>=Me.day?0:g*Math.floor(G/g)),b>=Me.day&&(D=b>=Me.month?1:Math.max(1,g*Math.floor(D/g))),b>=Me.month&&(R=b>=Me.year?0:g*Math.floor(R/g)),b>=Me.year&&(A-=A%g),b===Me.week){g&&(e=h.makeTime(A,R,D,G,Z,Q,st));let vt=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},e,"es"),Ft="DLMXJVS".indexOf(vt);D+=-Ft+n+(Ft<n?-7:0)}e=h.makeTime(A,R,D,G,Z,Q,st),h.variableTimezone&&Ee(s)&&(rt=s-e>4*Me.month||h.getTimezoneOffset(e)!==h.getTimezoneOffset(s));let ot=e,gt=1;for(;ot<s;)p.push(ot),b===Me.year?ot=h.makeTime(A+gt*g,0):b===Me.month?ot=h.makeTime(A,R+gt*g):rt&&(b===Me.day||b===Me.week)?ot=h.makeTime(A,R,D+gt*g*(b===Me.day?1:7)):rt&&b===Me.hour&&g>1?ot=h.makeTime(A,R,D,G+gt*g):ot+=b*g,gt++;p.push(ot),b<=Me.hour&&p.length<1e4&&p.forEach(vt=>{vt%18e5==0&&h.dateFormat("%H%M%S%L",vt)==="000000000"&&(f[vt]="day")})}return p.info=_e(_,{higherRanks:f,totalRange:b*g}),p}},{isTouchDevice:gi}=ge,{fireEvent:Li,merge:$e}=Ke,ji={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:_=>Math.sqrt(1-Math.pow(_-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:gi?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},os=new Le(ji.time,ji.lang),Ni={defaultOptions:ji,defaultTime:os,getOptions:function(){return ji},setOptions:function(_){var e;return Li(ge,"setOptions",{options:_}),$e(!0,ji,_),_.time&&os.update(ji.time),_.lang&&"locale"in _.lang&&os.update({locale:_.lang.locale}),(e=_.lang)!=null&&e.chartTitle&&(ji.title={...ji.title,text:_.lang.chartTitle}),ji}},{win:Js}=ge,{isNumber:ns,isString:Ii,merge:Di,pInt:Ui,defined:Ns}=Ke,ar=(_,e,s)=>`color-mix(in srgb,${_},${e} ${100*s}%)`,Ls=_=>Ii(_)&&!!_&&_!=="none";class De{static parse(e){return e?new De(e):De.None}constructor(e){let s,n,h,p;this.rgba=[NaN,NaN,NaN,NaN],this.input=e;let f=ge.Color;if(f&&f!==De)return new f(e);if(typeof e=="object"&&e.stops!==void 0)this.stops=e.stops.map(g=>new De(g[1]));else if(typeof e=="string")for(this.input=e=De.names[e.toLowerCase()]||e,h=De.parsers.length;h--&&!n;)(s=(p=De.parsers[h]).regex.exec(e))&&(n=p.parse(s));n&&(this.rgba=n)}get(e){let s=this.input,n=this.rgba;if(this.output)return this.output;if(typeof s=="object"&&this.stops!==void 0){let h=Di(s);return h.stops=[].slice.call(h.stops),this.stops.forEach((p,f)=>{h.stops[f]=[h.stops[f][0],p.get(e)]}),h}return n&&ns(n[0])?e!=="rgb"&&(e||n[3]!==1)?e==="a"?`${n[3]}`:"rgba("+n.join(",")+")":"rgb("+n[0]+","+n[1]+","+n[2]+")":s}brighten(e){let s=this.rgba;if(this.stops)this.stops.forEach(function(n){n.brighten(e)});else if(ns(e)&&e!==0)if(ns(s[0]))for(let n=0;n<3;n++)s[n]+=Ui(255*e),s[n]<0&&(s[n]=0),s[n]>255&&(s[n]=255);else De.useColorMix&&Ls(this.input)&&(this.output=ar(this.input,e>0?"white":"black",Math.abs(e)));return this}setOpacity(e){return this.rgba[3]=e,this}tweenTo(e,s){let n=this.rgba,h=e.rgba;if(!ns(n[0])||!ns(h[0]))return De.useColorMix&&Ls(this.input)&&Ls(e.input)&&s<.99?ar(this.input,e.input,s):e.input||"none";let p=h[3]!==1||n[3]!==1,f=(b,A)=>b+(n[A]-b)*(1-s),g=h.slice(0,3).map(f).map(Math.round);return p&&g.push(f(h[3],3)),(p?"rgba(":"rgb(")+g.join(",")+")"}}De.names={white:"#ffffff",black:"#000000"},De.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(_){return[Ui(_[1]),Ui(_[2]),Ui(_[3]),parseFloat(_[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(_){return[Ui(_[1]),Ui(_[2]),Ui(_[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(_){return[Ui(_[1]+_[1],16),Ui(_[2]+_[2],16),Ui(_[3]+_[3],16),Ns(_[4])?Ui(_[4]+_[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(_){return[Ui(_[1],16),Ui(_[2],16),Ui(_[3],16),Ns(_[4])?Ui(_[4],16)/255:1]}}],De.useColorMix=(mx=Js.CSS)==null?void 0:mx.supports("color","color-mix(in srgb,red,blue 9%)"),De.None=new De("");let{parse:Ar}=De,{win:fn}=ge,{isNumber:Hn,objectEach:Ys}=Ke;class Fr{constructor(e,s,n){this.pos=NaN,this.options=s,this.elem=e,this.prop=n}dSetter(){let e=this.paths,s=e==null?void 0:e[0],n=e==null?void 0:e[1],h=this.now||0,p=[];if(h!==1&&s&&n)if(s.length===n.length&&h<1)for(let f=0;f<n.length;f++){let g=s[f],b=n[f],A=[];for(let R=0;R<b.length;R++){let D=g[R],G=b[R];Hn(D)&&Hn(G)&&(b[0]!=="A"||R!==4&&R!==5)?A[R]=D+h*(G-D):A[R]=G}p.push(A)}else p=n;else p=this.toD||[];this.elem.attr("d",p,void 0,!0)}update(){let e=this.elem,s=this.prop,n=this.now,h=this.options.step;this[s+"Setter"]?this[s+"Setter"]():e.attr?e.element&&e.attr(s,n,null,!0):e.style[s]=n+this.unit,h&&h.call(e,n,this)}run(e,s,n){let h=this,p=h.options,f=function(A){return!f.stopped&&h.step(A)},g=fn.requestAnimationFrame||function(A){setTimeout(A,13)},b=function(){for(let A=0;A<Fr.timers.length;A++)Fr.timers[A]()||Fr.timers.splice(A--,1);Fr.timers.length&&g(b)};e!==s||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=s,this.unit=n,this.now=this.start,this.pos=0,f.elem=this.elem,f.prop=this.prop,f()&&Fr.timers.push(f)===1&&g(b)):(delete p.curAnim[this.prop],p.complete&&Object.keys(p.curAnim).length===0&&p.complete.call(this.elem))}step(e){let s,n,h=+new Date,p=this.options,f=this.elem,g=p.complete,b=p.duration,A=p.curAnim;return f.attr&&!f.element?s=!1:e||h>=b+this.startTime?(this.now=this.end,this.pos=1,this.update(),A[this.prop]=!0,n=!0,Ys(A,function(R){R!==!0&&(n=!1)}),n&&g&&g.call(f),s=!1):(this.pos=p.easing((h-this.startTime)/b),this.now=this.start+(this.end-this.start)*this.pos,this.update(),s=!0),s}initPath(e,s,n){let h=e.startX,p=e.endX,f=n.slice(),g=e.isArea,b=g?2:1,A=s&&n.length>s.length&&n.hasStackedCliffs,R,D,G,Z,Q=s==null?void 0:s.slice();if(!Q||A)return[f,f];function st(ot,gt){for(;ot.length<D;){let vt=ot[0],Ft=gt[D-ot.length];if(Ft&&vt[0]==="M"&&(Ft[0]==="C"?ot[0]=["C",vt[1],vt[2],vt[1],vt[2],vt[1],vt[2]]:ot[0]=["L",vt[1],vt[2]]),ot.unshift(vt),g){let Wt=ot.pop();ot.push(ot[ot.length-1],Wt)}}}function rt(ot){for(;ot.length<D;){let gt=ot[Math.floor(ot.length/b)-1].slice();if(gt[0]==="C"&&(gt[1]=gt[5],gt[2]=gt[6]),g){let vt=ot[Math.floor(ot.length/b)].slice();ot.splice(ot.length/2,0,gt,vt)}else ot.push(gt)}}if(h&&p&&p.length){for(G=0;G<h.length;G++)if(h[G]===p[0]){R=G;break}else if(h[0]===p[p.length-h.length+G]){R=G,Z=!0;break}else if(h[h.length-1]===p[p.length-h.length+G]){R=h.length-G;break}R===void 0&&(Q=[])}return Q.length&&Hn(R)&&(D=f.length+R*b,Z?(st(Q,f),rt(f)):(st(f,Q),rt(Q))),[Q,f]}fillSetter(){Fr.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Ar(this.start).tweenTo(Ar(this.end),this.pos),void 0,!0)}}Fr.timers=[];let{defined:mh,getStyle:Xo,isArray:Hl,isNumber:xo,isObject:Hr,merge:xh,objectEach:Xh,pick:Wa}=Ke;function bl(_){return Hr(_)?xh({duration:500,defer:0},_):{duration:500*!!_,defer:0}}function nl(_,e){let s=Fr.timers.length;for(;s--;)Fr.timers[s].elem!==_||e&&e!==Fr.timers[s].prop||(Fr.timers[s].stopped=!0)}let Gr={animate:function(_,e,s){let n,h="",p,f,g;Hr(s)||(g=arguments,s={duration:g[2],easing:g[3],complete:g[4]}),xo(s.duration)||(s.duration=400),s.easing=typeof s.easing=="function"?s.easing:Math[s.easing]||Math.easeInOutSine,s.curAnim=xh(e),Xh(e,function(b,A){nl(_,A),f=new Fr(_,s,A),p=void 0,A==="d"&&Hl(e.d)?(f.paths=f.initPath(_,_.pathArray,e.d),f.toD=e.d,n=0,p=1):_.attr?n=_.attr(A):(n=parseFloat(Xo(_,A))||0,A!=="opacity"&&(h="px")),p||(p=b),typeof p=="string"&&p.match("px")&&(p=p.replace(/px/g,"")),f.run(n,p,h)})},animObject:bl,getDeferredAnimation:function(_,e,s){let n=bl(e),h=s?[s]:_.series,p=0,f=0;return h.forEach(g=>{let b=bl(g.options.animation);p=Hr(e)&&mh(e.defer)?n.defer:Math.max(p,b.duration+b.defer),f=Math.min(n.duration,b.duration)}),_.renderer.forExport&&(p=0),{defer:Math.max(0,p-f),duration:Math.min(p,f)}},setAnimation:function(_,e){e.renderer.globalAnimation=Wa(_,e.options.chart.animation,!0)},stop:nl},{SVG_NS:wl,win:Gn}=ge,{attr:al,createElement:Jr,css:Xn,error:gn,isFunction:kl,isString:Qs,objectEach:Fa,splat:hs}=Ke,{trustedTypes:js}=Gn,Yn=js&&kl(js.createPolicy)&&js.createPolicy("highcharts",{createHTML:_=>_}),Ha=Yn?Yn.createHTML(""):"";class Es{static filterUserAttributes(e){return Fa(e,(s,n)=>{let h=!0;Es.allowedAttributes.indexOf(n)===-1&&(h=!1),["background","dynsrc","href","lowsrc","src"].indexOf(n)!==-1&&(h=Qs(s)&&Es.allowedReferences.some(p=>s.indexOf(p)===0)),h||(gn(33,!1,void 0,{"Invalid attribute in config":`${n}`}),delete e[n]),Qs(s)&&e[n]&&(e[n]=s.replace(/</g,"&lt;"))}),e}static parseStyle(e){return e.split(";").reduce((s,n)=>{let h=n.split(":").map(f=>f.trim()),p=h.shift();return p&&h.length&&(s[p.replace(/-([a-z])/g,f=>f[1].toUpperCase())]=h.join(":")),s},{})}static setElementHTML(e,s){e.innerHTML=Es.emptyHTML,s&&new Es(s).addToDOM(e)}constructor(e){this.nodes=typeof e=="string"?this.parseMarkup(e):e}addToDOM(e){return function s(n,h){let p;return hs(n).forEach(function(f){let g,b=f.tagName,A=f.textContent?ge.doc.createTextNode(f.textContent):void 0,R=Es.bypassHTMLFiltering;if(b)if(b==="#text")g=A;else if(Es.allowedTags.indexOf(b)!==-1||R){let D=b==="svg"?wl:h.namespaceURI||wl,G=ge.doc.createElementNS(D,b),Z=f.attributes||{};Fa(f,function(Q,st){st!=="tagName"&&st!=="attributes"&&st!=="children"&&st!=="style"&&st!=="textContent"&&(Z[st]=Q)}),al(G,R?Z:Es.filterUserAttributes(Z)),f.style&&Xn(G,f.style),A&&G.appendChild(A),s(f.children||[],G),g=G}else gn(33,!1,void 0,{"Invalid tagName in config":b});g&&h.appendChild(g),p=g}),p}(this.nodes,e)}parseMarkup(e){let s,n=[];e=e.trim().replace(/ style=(["'])/g," data-style=$1");try{s=new DOMParser().parseFromString(Yn?Yn.createHTML(e):e,"text/html")}catch{}if(!s){let p=Jr("div");p.innerHTML=e,s={body:p}}let h=(p,f)=>{let g=p.nodeName.toLowerCase(),b={tagName:g};g==="#text"&&(b.textContent=p.textContent||"");let A=p.attributes;if(A){let R={};[].forEach.call(A,D=>{D.name==="data-style"?b.style=Es.parseStyle(D.value):R[D.name]=D.value}),b.attributes=R}if(p.childNodes.length){let R=[];[].forEach.call(p.childNodes,D=>{h(D,R)}),R.length&&(b.children=R)}f.push(b)};return[].forEach.call(s.body.childNodes,p=>h(p,n)),n}}Es.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Es.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Es.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Es.emptyHTML=Ha,Es.bypassHTMLFiltering=!1;let{defaultOptions:mn,defaultTime:Qi}=Ni,{pageLang:lr}=ge,{extend:tr,getNestedProperty:Ml,isArray:Pr,isNumber:yh,isObject:ll,isString:en,pick:_r,ucfirst:br}=Ke,Os={add:(_,e)=>_+e,divide:(_,e)=>e!==0?_/e:"",eq:(_,e)=>_==e,each:function(_){let e=arguments[arguments.length-1];return!!Pr(_)&&_.map((s,n)=>jo(e.body,tr(ll(s)?s:{"@this":s},{"@index":n,"@first":n===0,"@last":n===_.length-1}))).join("")},ge:(_,e)=>_>=e,gt:(_,e)=>_>e,if:_=>!!_,le:(_,e)=>_<=e,lt:(_,e)=>_<e,multiply:(_,e)=>_*e,ne:(_,e)=>_!=e,subtract:(_,e)=>_-e,ucfirst:br,unless:_=>!_},ua={},Yo=_=>/^["'].+["']$/.test(_);function jo(_="",e,s){var rt;let n=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,h=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,p=[],f=/f$/,g=/\.(\d)/,b=((rt=s==null?void 0:s.options)==null?void 0:rt.lang)||mn.lang,A=(s==null?void 0:s.time)||Qi,R=(s==null?void 0:s.numberFormatter)||jn.bind(s),D=(ot="")=>{let gt;return ot==="true"||ot!=="false"&&((gt=Number(ot)).toString()===ot?gt:Yo(ot)?ot.slice(1,-1):Ml(ot,e))},G,Z,Q=0,st;for(;(G=n.exec(_))!==null;){let ot=G,gt=h.exec(G[1]);gt&&(G=gt,st=!0),Z!=null&&Z.isBlock||(Z={ctx:e,expression:G[1],find:G[0],isBlock:G[1].charAt(0)==="#",start:G.index,startInner:G.index+G[0].length,length:G[0].length});let vt=(Z.isBlock?ot:G)[1].split(" ")[0].replace("#","");Os[vt]&&(Z.isBlock&&vt===Z.fn&&Q++,Z.fn||(Z.fn=vt));let Ft=G[1]==="else";if(Z.isBlock&&Z.fn&&(G[1]===`/${Z.fn}`||Ft))if(Q)!Ft&&Q--;else{let Wt=Z.startInner,Ht=_.substr(Wt,G.index-Wt);Z.body===void 0?(Z.body=Ht,Z.startInner=G.index+G[0].length):Z.elseBody=Ht,Z.find+=Ht+G[0],Ft||(p.push(Z),Z=void 0)}else Z.isBlock||p.push(Z);if(gt&&!(Z!=null&&Z.isBlock))break}return p.forEach(ot=>{let gt,vt,{body:Ft,elseBody:Wt,expression:Ht,fn:ce}=ot;if(ce){let Jt=[ot],ie=[],Pe=Ht.length,Re=0,Ye;for(vt=0;vt<=Pe;vt++){let ei=Ht.charAt(vt);Ye||ei!=='"'&&ei!=="'"?Ye===ei&&(Ye=""):Ye=ei,Ye||ei!==" "&&vt!==Pe||(ie.push(Ht.substr(Re,vt-Re)),Re=vt+1)}for(vt=Os[ce].length;vt--;)Jt.unshift(D(ie[vt+1]));gt=Os[ce].apply(e,Jt),ot.isBlock&&typeof gt=="boolean"&&(gt=jo(gt?Ft:Wt,e,s))}else{let Jt=Yo(Ht)?[Ht]:Ht.split(":"),ie=(gt=D(Jt.shift()||""))%1!=0;if(typeof gt=="number"&&(Jt.length||ie)){let Pe=Jt.join(":");if(f.test(Pe)||ie){let Re=parseInt((Pe.match(g)||["","-1"])[1],10);gt!==null&&(gt=R(gt,Re,b.decimalPoint,Pe.indexOf(",")>-1?b.thousandsSep:""))}else gt=A.dateFormat(Pe,gt)}h.lastIndex=0,h.test(ot.find)&&en(gt)&&(gt=`"${gt}"`)}_=_.replace(ot.find,_r(gt,""))}),st?jo(_,e,s):_}function jn(_,e,s,n){var st;e*=1;let h,p,[f,g]=(_=+_||0).toString().split("e").map(Number),b=((st=this==null?void 0:this.options)==null?void 0:st.lang)||mn.lang,A=(_.toString().split(".")[1]||"").split("e")[0].length,R=e,D={};s??(s=b.decimalPoint),n??(n=b.thousandsSep),e===-1?e=Math.min(A,20):yh(e)?e&&g<0&&((p=e+g)>=0?(f=+f.toExponential(p).split("e")[0],e=p):(f=Math.floor(f),_=e<20?+(f*Math.pow(10,g)).toFixed(e):0,g=0)):e=2,g&&(e??(e=2),_=f),yh(e)&&e>=0&&(D.minimumFractionDigits=e,D.maximumFractionDigits=e),n===""&&(D.useGrouping=!1);let G=n||s,Z=G?"en":(this==null?void 0:this.locale)||b.locale||lr,Q=JSON.stringify(D)+Z;return h=(ua[Q]??(ua[Q]=new Intl.NumberFormat(Z,D))).format(_),G&&(h=h.replace(/([,\.])/g,"_$1").replace(/_\,/g,n??",").replace("_.",s??".")),(e||+h!=0)&&(!(g<0)||R)||(h="0"),g&&+h!=0&&(h+="e"+(g<0?"":"+")+g),h}let hr={dateFormat:function(_,e,s){return Qi.dateFormat(_,e,s)},format:jo,helpers:Os,numberFormat:jn};(function(_){let e;_.rendererTypes={},_.getRendererType=function(s=e){return _.rendererTypes[s]||_.rendererTypes[e]},_.registerRendererType=function(s,n,h){_.rendererTypes[s]=n,(!e||h)&&(e=s,ge.Renderer=n)}})(te||(te={}));let Un=te,{clamp:hl,pick:Ga,pushUnique:Lr,stableSort:Ws}=Ke;(me||(me={})).distribute=function _(e,s,n){let h=e,p=h.reducedLen||s,f=(vt,Ft)=>vt.target-Ft.target,g=[],b=e.length,A=[],R=g.push,D,G,Z,Q=!0,st,rt,ot=0,gt;for(D=b;D--;)ot+=e[D].size;if(ot>p){for(Ws(e,(vt,Ft)=>(Ft.rank||0)-(vt.rank||0)),Z=(gt=e[0].rank===e[e.length-1].rank)?b/2:-1,G=gt?Z:b-1;Z&&ot>p;)st=e[D=Math.floor(G)],Lr(A,D)&&(ot-=st.size),G+=Z,gt&&G>=e.length&&(Z/=2,G=Z);A.sort((vt,Ft)=>Ft-vt).forEach(vt=>R.apply(g,e.splice(vt,1)))}for(Ws(e,f),e=e.map(vt=>({size:vt.size,targets:[vt.target],align:Ga(vt.align,.5)}));Q;){for(D=e.length;D--;)st=e[D],rt=(Math.min.apply(0,st.targets)+Math.max.apply(0,st.targets))/2,st.pos=hl(rt-st.size*st.align,0,s-st.size);for(D=e.length,Q=!1;D--;)D>0&&e[D-1].pos+e[D-1].size>e[D].pos&&(e[D-1].size+=e[D].size,e[D-1].targets=e[D-1].targets.concat(e[D].targets),e[D-1].align=.5,e[D-1].pos+e[D-1].size>s&&(e[D-1].pos=s-e[D-1].size),e.splice(D,1),Q=!0)}return R.apply(h,g),D=0,e.some(vt=>{let Ft=0;return(vt.targets||[]).some(()=>(h[D].pos=vt.pos+Ft,n!==void 0&&Math.abs(h[D].pos-h[D].target)>n?(h.slice(0,D+1).forEach(Wt=>delete Wt.pos),h.reducedLen=(h.reducedLen||s)-.1*s,h.reducedLen>.1*s&&_(h,s,n),!0):(Ft+=h[D].size,D++,!1)))}),Ws(h,f),h};let xn=me,{animate:no,animObject:ts,stop:yo}=Gr,{deg2rad:Ms,doc:sn,svg:Gl,SVG_NS:rn,win:Sl,isFirefox:Fs}=ge,{addEvent:vh,attr:ao,createElement:mr,crisp:on,css:Bt,defined:we,erase:Ne,extend:Mi,fireEvent:wr,getAlignFactor:er,isArray:vo,isFunction:Ci,isNumber:Xa,isObject:Qr,isString:fa,merge:dl,objectEach:ga,pick:Rs,pInt:lo,pushUnique:bh,replaceNested:Xl,syncTimeout:Vn,uniqueKey:yn}=Ke;class Or{_defaultGetter(e){let s=Rs(this[e+"Value"],this[e],this.element?this.element.getAttribute(e):null,0);return/^-?[\d\.]+$/.test(s)&&(s=parseFloat(s)),s}_defaultSetter(e,s,n){n.setAttribute(s,e)}add(e){let s,n=this.renderer,h=this.element;return e&&(this.parentGroup=e),this.textStr!==void 0&&this.element.nodeName==="text"&&n.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(s=this.zIndexSetter()),s||(e?e.element:n.box).appendChild(h),this.onAdd&&this.onAdd(),this}addClass(e,s){let n=s?"":this.attr("class")||"";return(e=(e||"").split(/ /g).reduce(function(h,p){return n.indexOf(p)===-1&&h.push(p),h},n?[n]:[]).join(" "))!==n&&this.attr("class",e),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(e,s,n,h=!0){let p=this.renderer,f=p.alignedObjects,g=!!e;e?(this.alignOptions=e,this.alignByTranslate=s,this.alignTo=n):(e=this.alignOptions||{},s=this.alignByTranslate,n=this.alignTo);let b=!n||fa(n)?n||"renderer":void 0;b&&(g&&bh(f,this),n=void 0);let A=Rs(n,p[b],p),R=(A.x||0)+(e.x||0)+((A.width||0)-(e.width||0))*er(e.align),D=(A.y||0)+(e.y||0)+((A.height||0)-(e.height||0))*er(e.verticalAlign),G={"text-align":e==null?void 0:e.align};return G[s?"translateX":"x"]=Math.round(R),G[s?"translateY":"y"]=Math.round(D),h&&(this[this.placed?"animate":"attr"](G),this.placed=!0),this.alignAttr=G,this}alignSetter(e){let s={left:"start",center:"middle",right:"end"};s[e]&&(this.alignValue=e,this.element.setAttribute("text-anchor",s[e]))}animate(e,s,n){let h=ts(Rs(s,this.renderer.globalAnimation,!0)),p=h.defer;return sn.hidden&&(h.duration=0),h.duration!==0?(n&&(h.complete=n),Vn(()=>{this.element&&no(this,e,h)},p)):(this.attr(e,void 0,n||h.complete),ga(e,function(f,g){h.step&&h.step.call(this,f,{prop:g,pos:1,elem:this})},this)),this}applyTextOutline(e){let s=this.element;e.indexOf("contrast")!==-1&&(e=e.replace(/contrast/g,this.renderer.getContrast(s.style.fill)));let n=e.indexOf(" "),h=e.substring(n+1),p=e.substring(0,n);if(p&&p!=="none"&&ge.svg){this.fakeTS=!0,p=p.replace(/(^[\d\.]+)(.*?)$/g,function(R,D,G){return 2*Number(D)+G}),this.removeTextOutline();let f=sn.createElementNS(rn,"tspan");ao(f,{class:"highcharts-text-outline",fill:h,stroke:h,"stroke-width":p,"stroke-linejoin":"round"});let g=s.querySelector("textPath")||s;[].forEach.call(g.childNodes,R=>{let D=R.cloneNode(!0);D.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(G=>D.removeAttribute(G)),f.appendChild(D)});let b=0;[].forEach.call(g.querySelectorAll("text tspan"),R=>{b+=Number(R.getAttribute("dy"))});let A=sn.createElementNS(rn,"tspan");A.textContent="​",ao(A,{x:Number(s.getAttribute("x")),dy:-b}),f.appendChild(A),g.insertBefore(f,g.firstChild)}}attr(e,s,n,h){let{element:p}=this,f=Or.symbolCustomAttribs,g,b,A=this,R;return typeof e=="string"&&s!==void 0&&(g=e,(e={})[g]=s),typeof e=="string"?A=(this[e+"Getter"]||this._defaultGetter).call(this,e,p):(ga(e,function(D,G){R=!1,h||yo(this,G),this.symbolName&&f.indexOf(G)!==-1&&(b||(this.symbolAttr(e),b=!0),R=!0),this.rotation&&(G==="x"||G==="y")&&(this.doTransform=!0),R||(this[G+"Setter"]||this._defaultSetter).call(this,D,G,p)},this),this.afterSetters()),n&&n.call(this),A}clip(e){if(e&&!e.clipPath){let s=yn()+"-",n=this.renderer.createElement("clipPath").attr({id:s}).add(this.renderer.defs);Mi(e,{clipPath:n,id:s,count:0}),e.add(n)}return this.attr("clip-path",e?`url(${this.renderer.url}#${e.id})`:"none")}crisp(e,s){s=Math.round(s||e.strokeWidth||0);let n=e.x||this.x||0,h=e.y||this.y||0,p=(e.width||this.width||0)+n,f=(e.height||this.height||0)+h,g=on(n,s),b=on(h,s);return Mi(e,{x:g,y:b,width:on(p,s)-g,height:on(f,s)-b}),we(e.strokeWidth)&&(e.strokeWidth=s),e}complexColor(e,s,n){let h=this.renderer,p,f,g,b,A,R,D,G,Z,Q,st=[],rt;wr(this.renderer,"complexColor",{args:arguments},function(){if(e.radialGradient?f="radialGradient":e.linearGradient&&(f="linearGradient"),f){if(g=e[f],A=h.gradients,R=e.stops,Z=n.radialReference,vo(g)&&(e[f]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"}),f==="radialGradient"&&Z&&!we(g.gradientUnits)&&(b=g,g=dl(g,h.getRadialAttr(Z,b),{gradientUnits:"userSpaceOnUse"})),ga(g,function(ot,gt){gt!=="id"&&st.push(gt,ot)}),ga(R,function(ot){st.push(ot)}),A[st=st.join(",")])Q=A[st].attr("id");else{g.id=Q=yn();let ot=A[st]=h.createElement(f).attr(g).add(h.defs);ot.radAttr=b,ot.stops=[],R.forEach(function(gt){gt[1].indexOf("rgba")===0?(D=(p=De.parse(gt[1])).get("rgb"),G=p.get("a")):(D=gt[1],G=1);let vt=h.createElement("stop").attr({offset:gt[0],"stop-color":D,"stop-opacity":G}).add(ot);ot.stops.push(vt)})}rt="url("+h.url+"#"+Q+")",n.setAttribute(s,rt),n.gradient=st,e.toString=function(){return rt}}})}css(e){let s=this.styles,n={},h=this.element,p,f=!s;if(s&&ga(e,function(g,b){s&&s[b]!==g&&(n[b]=g,f=!0)}),f){s&&(e=Mi(s,n)),e.width===null||e.width==="auto"?delete this.textWidth:h.nodeName.toLowerCase()==="text"&&e.width&&(p=this.textWidth=lo(e.width)),Mi(this.styles,e),p&&!Gl&&this.renderer.forExport&&delete e.width;let g=Fs&&e.fontSize||null;g&&(Xa(g)||/^\d+$/.test(g))&&(e.fontSize+="px");let b=dl(e);h.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(A=>b&&delete b[A]),b.color&&(b.fill=b.color,delete b.color)),Bt(h,b)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),e.textOutline&&this.applyTextOutline(e.textOutline)),this}dashstyleSetter(e){let s,n=this["stroke-width"];if(n==="inherit"&&(n=1),e){let h=(e=e.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(s=h.length;s--;)h[s]=""+lo(h[s])*Rs(n,NaN);e=h.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}}destroy(){let e=this,s=e.element||{},n=e.renderer,h=s.ownerSVGElement,p=s.nodeName==="SPAN"&&e.parentGroup||void 0,f,g;if(s.onclick=s.onmouseout=s.onmouseover=s.onmousemove=s.point=null,yo(e),e.clipPath&&h){let b=e.clipPath;[].forEach.call(h.querySelectorAll("[clip-path],[CLIP-PATH]"),function(A){A.getAttribute("clip-path").indexOf(b.element.id)>-1&&A.removeAttribute("clip-path")}),e.clipPath=b.destroy()}if(e.stops){for(g=0;g<e.stops.length;g++)e.stops[g].destroy();e.stops.length=0,e.stops=void 0}for(e.safeRemoveChild(s);p!=null&&p.div&&p.div.childNodes.length===0;)f=p.parentGroup,e.safeRemoveChild(p.div),delete p.div,p=f;e.alignOptions&&Ne(n.alignedObjects,e),ga(e,(b,A)=>{var R,D,G;(((R=e[A])==null?void 0:R.parentGroup)===e||["connector","foreignObject"].indexOf(A)!==-1)&&((G=(D=e[A])==null?void 0:D.destroy)==null||G.call(D)),delete e[A]})}dSetter(e,s,n){vo(e)&&(typeof e[0]=="string"&&(e=this.renderer.pathToSegments(e)),this.pathArray=e,e=e.reduce((h,p,f)=>p!=null&&p.join?(f?h+" ":"")+p.join(" "):(p||"").toString(),"")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),this[s]!==e&&(n.setAttribute(s,e),this[s]=e)}fillSetter(e,s,n){typeof e=="string"?n.setAttribute(s,e):e&&this.complexColor(e,s,n)}hrefSetter(e,s,n){n.setAttributeNS("http://www.w3.org/1999/xlink",s,e)}getBBox(e,s){let n,h,p,f,{alignValue:g,element:b,renderer:A,styles:R,textStr:D}=this,{cache:G,cacheKeys:Z}=A,Q=b.namespaceURI===this.SVG_NS,st=Rs(s,this.rotation,0),rt=A.styledMode?b&&Or.prototype.getStyle.call(b,"font-size"):R.fontSize;if(we(D)&&((f=D.toString()).indexOf("<")===-1&&(f=f.replace(/\d/g,"0")),f+=["",A.rootFontSize,rt,st,this.textWidth,g,R.lineClamp,R.textOverflow,R.fontWeight].join(",")),f&&!e&&(n=G[f]),!n||n.polygon){if(Q||A.forExport){try{p=this.fakeTS&&function(gt){let vt=b.querySelector(".highcharts-text-outline");vt&&Bt(vt,{display:gt})},Ci(p)&&p("none"),n=b.getBBox?Mi({},b.getBBox()):{width:b.offsetWidth,height:b.offsetHeight,x:0,y:0},Ci(p)&&p("")}catch{}(!n||n.width<0)&&(n={x:0,y:0,width:0,height:0})}else n=this.htmlGetBBox();h=n.height,Q&&(n.height=h={"11px,17":14,"13px,20":16}[`${rt||""},${Math.round(h)}`]||h),st&&(n=this.getRotatedBox(n,st));let ot={bBox:n};wr(this,"afterGetBBox",ot),n=ot.bBox}if(f&&(D===""||n.height>0)){for(;Z.length>250;)delete G[Z.shift()];G[f]||Z.push(f),G[f]=n}return n}getRotatedBox(e,s){let{x:n,y:h,width:p,height:f}=e,{alignValue:g,translateY:b,rotationOriginX:A=0,rotationOriginY:R=0}=this,D=er(g),G=Number(this.element.getAttribute("y")||0)-(b?0:h),Z=s*Ms,Q=(s-90)*Ms,st=Math.cos(Z),rt=Math.sin(Z),ot=p*st,gt=p*rt,vt=Math.cos(Q),Ft=Math.sin(Q),[[Wt,Ht],[ce,Jt]]=[A,R].map(gs=>[gs-gs*st,gs*rt]),ie=n+D*(p-ot)+Wt+Jt+G*vt,Pe=ie+ot,Re=Pe-f*vt,Ye=Re-ot,ei=h+G-D*gt-Ht+ce+G*Ft,Si=ei+gt,yi=Si-f*Ft,_i=yi-gt,ui=Math.min(ie,Pe,Re,Ye),Yi=Math.min(ei,Si,yi,_i),Cs=Math.max(ie,Pe,Re,Ye)-ui,fs=Math.max(ei,Si,yi,_i)-Yi;return{x:ui,y:Yi,width:Cs,height:fs,polygon:[[ie,ei],[Pe,Si],[Re,yi],[Ye,_i]]}}getStyle(e){return Sl.getComputedStyle(this.element||this,"").getPropertyValue(e)}hasClass(e){return(""+this.attr("class")).split(" ").indexOf(e)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(e,s){this.onEvents={},this.opacity=1,this.SVG_NS=rn,this.element=s==="span"||s==="body"?mr(s):sn.createElementNS(this.SVG_NS,s),this.renderer=e,this.styles={},wr(this,"afterInit")}on(e,s){let{onEvents:n}=this;return n[e]&&n[e](),n[e]=vh(this.element,e,s),this}opacitySetter(e,s,n){let h=Number(Number(e).toFixed(3));this.opacity=h,n.setAttribute(s,h)}reAlign(){var e;(e=this.alignOptions)!=null&&e.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(e){return this.attr("class",(""+this.attr("class")).replace(fa(e)?RegExp(`(^| )${e}( |$)`):e," ").replace(/ +/g," ").trim())}removeTextOutline(){let e=this.element.querySelector("tspan.highcharts-text-outline");e&&this.safeRemoveChild(e)}safeRemoveChild(e){let s=e.parentNode;s&&s.removeChild(e)}setRadialReference(e){let s=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=e,s!=null&&s.radAttr&&s.animate(this.renderer.getRadialAttr(e,s.radAttr)),this}shadow(e){var p;let{renderer:s}=this,n=dl(((p=this.parentGroup)==null?void 0:p.rotation)===90?{offsetX:-1,offsetY:-1}:{},Qr(e)?e:{}),h=s.shadowDefinition(n);return this.attr({filter:e?`url(${s.url}#${h})`:"none"})}show(e=!0){return this.attr({visibility:e?"inherit":"visible"})}"stroke-widthSetter"(e,s,n){this[s]=e,n.setAttribute(s,e)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let e=this.getStyle("stroke-width"),s=0,n;return/px$/.test(e)?s=lo(e):e!==""&&(ao(n=sn.createElementNS(rn,"rect"),{width:e,"stroke-width":0}),this.element.parentNode.appendChild(n),s=n.getBBox().width,n.parentNode.removeChild(n)),s}symbolAttr(e){let s=this;Or.symbolCustomAttribs.forEach(function(n){s[n]=Rs(e[n],s[n])}),s.attr({d:s.renderer.symbols[s.symbolName](s.x,s.y,s.width,s.height,s)})}textSetter(e){e!==this.textStr&&(delete this.textPxLength,this.textStr=e,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(e){let s=this.element,n=s.getElementsByTagName("title")[0]||sn.createElementNS(this.SVG_NS,"title");s.insertBefore?s.insertBefore(n,s.firstChild):s.appendChild(n),n.textContent=Xl(Rs(e,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let e=this.element;return e.parentNode.appendChild(e),this}translate(e,s){return this.attr({translateX:e,translateY:s})}updateTransform(e="transform"){let{element:s,foreignObject:n,matrix:h,padding:p,rotation:f=0,rotationOriginX:g,rotationOriginY:b,scaleX:A,scaleY:R,text:D,translateX:G=0,translateY:Z=0}=this,Q=["translate("+G+","+Z+")"];we(h)&&Q.push("matrix("+h.join(",")+")"),f&&(Q.push("rotate("+f+" "+(g??s.getAttribute("x")??this.x??0)+" "+(b??s.getAttribute("y")??this.y??0)+")"),(D==null?void 0:D.element.tagName)!=="SPAN"||D!=null&&D.foreignObject||D.attr({rotation:f,rotationOriginX:(g||0)-p,rotationOriginY:(b||0)-p})),(we(A)||we(R))&&Q.push("scale("+Rs(A,1)+" "+Rs(R,1)+")"),Q.length&&!(D||this).textPath&&((n==null?void 0:n.element)||s).setAttribute(e,Q.join(" "))}visibilitySetter(e,s,n){e==="inherit"?n.removeAttribute(s):this[s]!==e&&n.setAttribute(s,e),this[s]=e}xGetter(e){return this.element.nodeName==="circle"&&(e==="x"?e="cx":e==="y"&&(e="cy")),this._defaultGetter(e)}zIndexSetter(e,s){let n=this.renderer,h=this.parentGroup,p=(h||n).element||n.box,f=this.element,g=p===n.box,b,A,R,D=!1,G,Z=this.added,Q;if(we(e)?(f.setAttribute("data-z-index",e),e*=1,this[s]===e&&(Z=!1)):we(this[s])&&f.removeAttribute("data-z-index"),this[s]=e,Z){for((e=this.zIndex)&&h&&(h.handleZ=!0),Q=(b=p.childNodes).length-1;Q>=0&&!D;Q--)G=!we(R=(A=b[Q]).getAttribute("data-z-index")),A!==f&&(e<0&&G&&!g&&!Q?(p.insertBefore(f,b[Q]),D=!0):(lo(R)<=e||G&&(!we(e)||e>=0))&&(p.insertBefore(f,b[Q+1]),D=!0));D||(p.insertBefore(f,b[3*!!g]),D=!0)}return D}}Or.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Or.prototype.strokeSetter=Or.prototype.fillSetter,Or.prototype.yGetter=Or.prototype.xGetter,Or.prototype.matrixSetter=Or.prototype.rotationOriginXSetter=Or.prototype.rotationOriginYSetter=Or.prototype.rotationSetter=Or.prototype.scaleXSetter=Or.prototype.scaleYSetter=Or.prototype.translateXSetter=Or.prototype.translateYSetter=Or.prototype.verticalAlignSetter=function(_,e){this[e]=_,this.doTransform=!0};let dr=Or,{defined:Pd,extend:Uo,getAlignFactor:Gs,isNumber:Lo,merge:zo,pick:Tl,removeEvent:Yl}=Ke;class Ro extends dr{constructor(e,s,n,h,p,f,g,b,A,R){let D;super(e,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=s,this.x=n,this.y=h,this.anchorX=f,this.anchorY=g,this.baseline=A,this.className=R,this.addClass(R==="button"?"highcharts-no-tooltip":"highcharts-label"),R&&this.addClass("highcharts-"+R),this.text=e.text(void 0,0,0,b).attr({zIndex:1}),typeof p=="string"&&((D=/^url\((.*?)\)$/.test(p))||this.renderer.symbols[p])&&(this.symbolKey=p),this.bBox=Ro.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=e.styledMode||D,this.deferredAttr={},this.alignFactor=0}alignSetter(e){let s=Gs(e);this.textAlign=e,s!==this.alignFactor&&(this.alignFactor=s,this.bBox&&Lo(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(e,s){this.anchorX=e,this.boxAttr(s,Math.round(e)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(e,s){this.anchorY=e,this.boxAttr(s,e-this.ySetting)}boxAttr(e,s){this.box?this.box.attr(e,s):this.deferredAttr[e]=s}css(e){if(e){let s={};e=zo(e),Ro.textProps.forEach(n=>{e[n]!==void 0&&(s[n]=e[n],delete e[n])}),this.text.css(s),"fontSize"in s||"fontWeight"in s?this.updateTextPadding():("width"in s||"textOverflow"in s)&&this.updateBoxSize()}return dr.prototype.css.call(this,e)}destroy(){Yl(this.element,"mouseenter"),Yl(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),dr.prototype.destroy.call(this)}fillSetter(e,s){e&&(this.needsBox=!0),this.fill=e,this.boxAttr(s,e)}getBBox(e,s){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:n,height:h=0,translateX:p=0,translateY:f=0,width:g=0}=this,b=Tl(this.paddingLeft,n),A=s??(this.rotation||0),R={width:g,height:h,x:p+this.bBox.x-b,y:f+this.bBox.y-n+this.baselineOffset};return A&&(R=this.getRotatedBox(R,A)),R}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(e){this.heightSetting=e,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Tl(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Pd(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(e,s){Lo(e)?e!==this[s]&&(this[s]=e,this.updateTextPadding()):this[s]=void 0}rSetter(e,s){this.boxAttr(s,e)}strokeSetter(e,s){this.stroke=e,this.boxAttr(s,e)}"stroke-widthSetter"(e,s){e&&(this.needsBox=!0),this["stroke-width"]=e,this.boxAttr(s,e)}"text-alignSetter"(e){this.textAlign=this["text-align"]=e,this.updateTextPadding()}textSetter(e){e!==void 0&&this.text.attr({text:e}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let e,s=this.text,n={},h=this.padding,p=this.bBox=(!Lo(this.widthSetting)||!Lo(this.heightSetting)||this.textAlign)&&Pd(s.textStr)?s.getBBox(void 0,0):Ro.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||p.height||0)+2*h;let f=this.renderer.fontMetrics(s);if(this.baselineOffset=h+Math.min((this.text.firstLineMetrics||f).b,p.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-f.h)/2),this.needsBox&&!s.textPath){if(!this.box){let g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();g.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)}n.x=e=this.getCrispAdjust(),n.y=(this.baseline?-this.baselineOffset:0)+e,n.width=Math.round(this.width),n.height=Math.round(this.height),this.box.attr(Uo(n,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let e=this.text,s=e.styles.textAlign||this.textAlign;if(!e.textPath){this.updateBoxSize();let n=this.baseline?0:this.baselineOffset,h=(this.paddingLeft??this.padding)+Gs(s)*(this.widthSetting??this.bBox.width);(h!==e.x||n!==e.y)&&(e.attr({align:s,x:h}),n!==void 0&&e.attr("y",n)),e.x=h,e.y=n}}widthSetter(e){this.widthSetting=Lo(e)?e:void 0,this.doUpdate=!0}getPaddedWidth(){let e=this.padding,s=Tl(this.paddingLeft,e),n=Tl(this.paddingRight,e);return(this.widthSetting||this.bBox.width||0)+s+n}xSetter(e){this.x=e,this.alignFactor&&(e-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(e),this.attr("translateX",this.xSetting)}ySetter(e){this.ySetting=this.y=Math.round(e),this.attr("translateY",this.ySetting)}}Ro.emptyBBox={width:0,height:0,x:0,y:0},Ro.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Yh,isNumber:jl,pick:Al}=Ke;function vn(_,e,s,n,h){let p=[];if(h){let f=h.start||0,g=h.end||0,b=Al(h.r,s),A=Al(h.r,n||s),R=2e-4/(h.borderRadius?1:Math.max(b,1)),D=Math.abs(g-f-2*Math.PI)<R;D&&(f=Math.PI/2,g=2.5*Math.PI-R);let G=h.innerR,Z=Al(h.open,D),Q=Math.cos(f),st=Math.sin(f),rt=Math.cos(g),ot=Math.sin(g),gt=Al(h.longArc,g-f-Math.PI<R?0:1),vt=["A",b,A,0,gt,Al(h.clockwise,1),_+b*rt,e+A*ot];vt.params={start:f,end:g,cx:_,cy:e},p.push(["M",_+b*Q,e+A*st],vt),Yh(G)&&((vt=["A",G,G,0,gt,Yh(h.clockwise)?1-h.clockwise:0,_+G*Q,e+G*st]).params={start:g,end:f,cx:_,cy:e},p.push(Z?["M",_+G*rt,e+G*ot]:["L",_+G*rt,e+G*ot],vt)),Z||p.push(["Z"])}return p}function Ul(_,e,s,n,h){return h!=null&&h.r?bn(_,e,s,n,h):[["M",_,e],["L",_+s,e],["L",_+s,e+n],["L",_,e+n],["Z"]]}function bn(_,e,s,n,h){let p=(h==null?void 0:h.r)||0;return[["M",_+p,e],["L",_+s-p,e],["A",p,p,0,0,1,_+s,e+p],["L",_+s,e+n-p],["A",p,p,0,0,1,_+s-p,e+n],["L",_+p,e+n],["A",p,p,0,0,1,_,e+n-p],["L",_,e+p],["A",p,p,0,0,1,_+p,e],["Z"]]}let Zn={arc:vn,callout:function(_,e,s,n,h){let p=Math.min((h==null?void 0:h.r)||0,s,n),f=p+6,g=h==null?void 0:h.anchorX,b=(h==null?void 0:h.anchorY)||0,A=bn(_,e,s,n,{r:p});if(!jl(g)||g<s&&g>0&&b<n&&b>0)return A;if(_+g>s-f)if(b>e+f&&b<e+n-f)A.splice(3,1,["L",_+s,b-6],["L",_+s+6,b],["L",_+s,b+6],["L",_+s,e+n-p]);else if(g<s){let R=b<e+f,D=R?e:e+n;A.splice(R?2:5,0,["L",g,b],["L",_+s-p,D])}else A.splice(3,1,["L",_+s,n/2],["L",g,b],["L",_+s,n/2],["L",_+s,e+n-p]);else if(_+g<f)if(b>e+f&&b<e+n-f)A.splice(7,1,["L",_,b+6],["L",_-6,b],["L",_,b-6],["L",_,e+p]);else if(g>0){let R=b<e+f,D=R?e:e+n;A.splice(R?1:6,0,["L",g,b],["L",_+p,D])}else A.splice(7,1,["L",_,n/2],["L",g,b],["L",_,n/2],["L",_,e+p]);else b>n&&g<s-f?A.splice(5,1,["L",g+6,e+n],["L",g,e+n+6],["L",g-6,e+n],["L",_+p,e+n]):b<0&&g>f&&A.splice(1,1,["L",g-6,e],["L",g,e-6],["L",g+6,e],["L",s-p,e]);return A},circle:function(_,e,s,n){return vn(_+s/2,e+n/2,s/2,n/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(_,e,s,n){return[["M",_+s/2,e],["L",_+s,e+n/2],["L",_+s/2,e+n],["L",_,e+n/2],["Z"]]},rect:Ul,roundedRect:bn,square:Ul,triangle:function(_,e,s,n){return[["M",_+s/2,e],["L",_+s,e+n],["L",_,e+n],["Z"]]},"triangle-down":function(_,e,s,n){return[["M",_,e],["L",_+s,e],["L",_+s/2,e+n],["Z"]]}},{doc:Vo,SVG_NS:No,win:jh}=ge,{attr:$n,extend:nn,fireEvent:Cd,isString:cl,objectEach:bo,pick:ma}=Ke,wn=(_,e)=>_.substring(0,e)+"…",cc=class{constructor(_){let e=_.styles;this.renderer=_.renderer,this.svgElement=_,this.width=_.textWidth,this.textLineHeight=e==null?void 0:e.lineHeight,this.textOutline=e==null?void 0:e.textOutline,this.ellipsis=(e==null?void 0:e.textOverflow)==="ellipsis",this.lineClamp=e==null?void 0:e.lineClamp,this.noWrap=(e==null?void 0:e.whiteSpace)==="nowrap"}buildSVG(){let _=this.svgElement,e=_.element,s=_.renderer,n=ma(_.textStr,"").toString(),h=n.indexOf("<")!==-1,p=e.childNodes,f=!_.added&&s.box,g=[n,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,_.getStyle("font-size"),_.styles.lineClamp,this.width].join(",");if(g!==_.textCache){_.textCache=g,delete _.actualWidth;for(let b=p.length;b--;)e.removeChild(p[b]);if(h||this.ellipsis||this.width||_.textPath||n.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(n))){if(n!==""){f&&f.appendChild(e);let b=new Es(n);this.modifyTree(b.nodes),b.addToDOM(e),this.modifyDOM(),this.ellipsis&&(e.textContent||"").indexOf("…")!==-1&&_.attr("title",this.unescapeEntities(_.textStr||"",["&lt;","&gt;"])),f&&f.removeChild(e)}}else e.appendChild(Vo.createTextNode(this.unescapeEntities(n)));cl(this.textOutline)&&_.applyTextOutline&&_.applyTextOutline(this.textOutline)}}modifyDOM(){let _,e=this.svgElement,s=$n(e.element,"x");for(e.firstLineMetrics=void 0;(_=e.element.firstChild)&&/^[\s\u200B]*$/.test(_.textContent||" ");)e.element.removeChild(_);[].forEach.call(e.element.querySelectorAll("tspan.highcharts-br"),(f,g)=>{f.nextSibling&&f.previousSibling&&(g===0&&f.previousSibling.nodeType===1&&(e.firstLineMetrics=e.renderer.fontMetrics(f.previousSibling)),$n(f,{dy:this.getLineHeight(f.nextSibling),x:s}))});let n=this.width||0;if(!n)return;let h=(f,g)=>{var st;let b=f.textContent||"",A=b.replace(/([^\^])-/g,"$1- ").split(" "),R=!this.noWrap&&(A.length>1||e.element.childNodes.length>1),D=this.getLineHeight(g),G=Math.max(0,n-.8*D),Z=0,Q=e.actualWidth;if(R){let rt=[],ot=[];for(;g.firstChild&&g.firstChild!==f;)ot.push(g.firstChild),g.removeChild(g.firstChild);for(;A.length;)if(A.length&&!this.noWrap&&Z>0&&(rt.push(f.textContent||""),f.textContent=A.join(" ").replace(/- /g,"-")),this.truncate(f,void 0,A,Z===0&&Q||0,n,G,(gt,vt)=>A.slice(0,vt).join(" ").replace(/- /g,"-")),Q=e.actualWidth,Z++,this.lineClamp&&Z>=this.lineClamp){A.length&&(this.truncate(f,f.textContent||"",void 0,0,n,G,wn),f.textContent=((st=f.textContent)==null?void 0:st.replace("…",""))+"…");break}ot.forEach(gt=>{g.insertBefore(gt,f)}),rt.forEach(gt=>{g.insertBefore(Vo.createTextNode(gt),f);let vt=Vo.createElementNS(No,"tspan");vt.textContent="​",$n(vt,{dy:D,x:s}),g.insertBefore(vt,f)})}else this.ellipsis&&b&&this.truncate(f,b,void 0,0,n,G,wn)},p=f=>{[].slice.call(f.childNodes).forEach(g=>{g.nodeType===jh.Node.TEXT_NODE?h(g,f):(g.className.baseVal.indexOf("highcharts-br")!==-1&&(e.actualWidth=0),p(g))})};p(e.element)}getLineHeight(_){let e=_.nodeType===jh.Node.TEXT_NODE?_.parentElement:_;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(e||this.svgElement.element).h}modifyTree(_){let e=(s,n)=>{let{attributes:h={},children:p,style:f={},tagName:g}=s,b=this.renderer.styledMode;if(g==="b"||g==="strong"?b?h.class="highcharts-strong":f.fontWeight="bold":(g==="i"||g==="em")&&(b?h.class="highcharts-emphasized":f.fontStyle="italic"),f!=null&&f.color&&(f.fill=f.color),g==="br"){h.class="highcharts-br",s.textContent="​";let A=_[n+1];A!=null&&A.textContent&&(A.textContent=A.textContent.replace(/^ +/gm,""))}else g==="a"&&p&&p.some(A=>A.tagName==="#text")&&(s.children=[{children:p,tagName:"tspan"}]);g!=="#text"&&g!=="a"&&(s.tagName="tspan"),nn(s,{attributes:h,style:f}),p&&p.filter(A=>A.tagName!=="#text").forEach(e)};_.forEach(e),Cd(this.svgElement,"afterModifyTree",{nodes:_})}truncate(_,e,s,n,h,p,f){let g,b,A=this.svgElement,{rotation:R}=A,D=[],G=s&&!n?1:0,Z=(e||s||"").length,Q=Z;s||(h=p);let st=function(rt,ot){let gt=ot||rt,vt=_.parentNode;if(vt&&D[gt]===void 0&&vt.getSubStringLength)try{D[gt]=n+vt.getSubStringLength(0,s?gt+1:gt)}catch{}return D[gt]};if(A.rotation=0,n+(b=st(_.textContent.length))>h){for(;G<=Z;)Q=Math.ceil((G+Z)/2),s&&(g=f(s,Q)),b=st(Q,g&&g.length-1),G===Z?G=Z+1:b>h?Z=Q-1:G=Q;Z===0?_.textContent="":e&&Z===e.length-1||(_.textContent=g||f(e||s,Q)),this.ellipsis&&b>h&&this.truncate(_,_.textContent||"",void 0,0,h,p,wn)}s&&s.splice(0,Q),A.actualWidth=b,A.rotation=R}unescapeEntities(_,e){return bo(this.renderer.escapes,function(s,n){e&&e.indexOf(s)!==-1||(_=_.toString().replace(RegExp(s,"g"),n))}),_}},{defaultOptions:xa}=Ni,{charts:pc,deg2rad:wh,doc:Rr,isFirefox:Ya,isMS:Vl,isWebKit:Xr,noop:qn,SVG_NS:Wo,symbolSizes:ya,win:wo}=ge,{addEvent:Zl,attr:Zo,createElement:Uh,crisp:Oo,css:an,defined:va,destroyObjectProperties:kh,extend:ba,isArray:kn,isNumber:ln,isObject:wa,isString:ka,merge:Kn,pick:In,pInt:$l,replaceNested:Jn,uniqueKey:ql}=Ke;class Bn{constructor(e,s,n,h,p,f,g){let b,A;this.x=0,this.y=0;let R=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),D=R.element;g||R.css(this.getStyle(h||{})),e.appendChild(D),Zo(e,"dir","ltr"),e.innerHTML.indexOf("xmlns")===-1&&Zo(D,"xmlns",this.SVG_NS),this.box=D,this.boxWrapper=R,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Rr.createTextNode("Created with Highcharts 12.3.0")),this.defs=this.createElement("defs").add(),this.allowHTML=f,this.forExport=p,this.styledMode=g,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=R.getStyle("font-size"),this.setSize(s,n,!1),Ya&&e.getBoundingClientRect&&((b=function(){an(e,{left:0,top:0}),A=e.getBoundingClientRect(),an(e,{left:Math.ceil(A.left)-A.left+"px",top:Math.ceil(A.top)-A.top+"px"})})(),this.unSubPixelFix=Zl(wo,"resize",b))}definition(e){return new Es([e]).addToDOM(this.defs.element)}getReferenceURL(){if((Ya||Xr)&&Rr.getElementsByTagName("base").length){if(!va(It)){let e=ql(),s=new Es([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${e})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Rr.body);an(s,{position:"fixed",top:0,left:0,zIndex:9e5});let n=Rr.elementFromPoint(6,6);It=(n==null?void 0:n.id)==="hitme",Rr.body.removeChild(s)}if(It)return Jn(wo.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(e){return this.style=ba({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},e),this.style}setStyle(e){this.boxWrapper.css(this.getStyle(e))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),kh(this.gradients||{}),this.gradients=null,this.defs=e.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(e){return new this.Element(this,e)}getRadialAttr(e,s){return{cx:e[0]-e[2]/2+(s.cx||0)*e[2],cy:e[1]-e[2]/2+(s.cy||0)*e[2],r:(s.r||0)*e[2]}}shadowDefinition(e){let s=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(e).map(h=>`${h}-${e[h]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),n=Kn({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},e);return this.defs.element.querySelector(`#${s}`)||this.definition({tagName:"filter",attributes:{id:s,filterUnits:n.filterUnits},children:this.getShadowFilterContent(n)}),s}getShadowFilterContent(e){return[{tagName:"feDropShadow",attributes:{dx:e.offsetX,dy:e.offsetY,"flood-color":e.color,"flood-opacity":Math.min(5*e.opacity,1),stdDeviation:e.width/2}}]}buildText(e){new cc(e).buildSVG()}getContrast(e){if(e==="transparent")return"#000000";let s=De.parse(e).rgba,n=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(ln(s[0])||!De.useColorMix){let h=s.map(f=>{let g=f/255;return g<=.04?g/12.92:Math.pow((g+.055)/1.055,2.4)}),p=.2126*h[0]+.7152*h[1]+.0722*h[2];return 1.05/(p+.05)>(p+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+e+" srgb"+n+n+n+")"}button(e,s,n,h,p={},f,g,b,A,R){let D=this.label(e,s,n,A,void 0,void 0,R,void 0,"button"),G=this.styledMode,Z=arguments,Q=0;p=Kn(xa.global.buttonTheme,p),G&&(delete p.fill,delete p.stroke,delete p["stroke-width"]);let st=p.states||{},rt=p.style||{};delete p.states,delete p.style;let ot=[Es.filterUserAttributes(p)],gt=[rt];return G||["hover","select","disabled"].forEach((vt,Ft)=>{ot.push(Kn(ot[0],Es.filterUserAttributes(Z[Ft+5]||st[vt]||{}))),gt.push(ot[Ft+1].style),delete ot[Ft+1].style}),Zl(D.element,Vl?"mouseover":"mouseenter",function(){Q!==3&&D.setState(1)}),Zl(D.element,Vl?"mouseout":"mouseleave",function(){Q!==3&&D.setState(Q)}),D.setState=(vt=0)=>{if(vt!==1&&(D.state=Q=vt),D.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][vt]),!G){D.attr(ot[vt]);let Ft=gt[vt];wa(Ft)&&D.css(Ft)}},D.attr(ot[0]),!G&&(D.css(ba({cursor:"default"},rt)),R&&D.text.css({pointerEvents:"none"})),D.on("touchstart",vt=>vt.stopPropagation()).on("click",function(vt){Q!==3&&(h==null||h.call(D,vt))})}crispLine(e,s){let[n,h]=e;return va(n[1])&&n[1]===h[1]&&(n[1]=h[1]=Oo(n[1],s)),va(n[2])&&n[2]===h[2]&&(n[2]=h[2]=Oo(n[2],s)),e}path(e){let s=this.styledMode?{}:{fill:"none"};return kn(e)?s.d=e:wa(e)&&ba(s,e),this.createElement("path").attr(s)}circle(e,s,n){let h=wa(e)?e:e===void 0?{}:{x:e,y:s,r:n},p=this.createElement("circle");return p.xSetter=p.ySetter=function(f,g,b){b.setAttribute("c"+g,f)},p.attr(h)}arc(e,s,n,h,p,f){let g;wa(e)?(s=(g=e).y,n=g.r,h=g.innerR,p=g.start,f=g.end,e=g.x):g={innerR:h,start:p,end:f};let b=this.symbol("arc",e,s,n,n,g);return b.r=n,b}rect(e,s,n,h,p,f){let g=wa(e)?e:e===void 0?{}:{x:e,y:s,r:p,width:Math.max(n||0,0),height:Math.max(h||0,0)},b=this.createElement("rect");return this.styledMode||(f!==void 0&&(g["stroke-width"]=f,ba(g,b.crisp(g))),g.fill="none"),b.rSetter=function(A,R,D){b.r=A,Zo(D,{rx:A,ry:A})},b.rGetter=function(){return b.r||0},b.attr(g)}roundedRect(e){return this.symbol("roundedRect").attr(e)}setSize(e,s,n){this.width=e,this.height=s,this.boxWrapper.animate({width:e,height:s},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:In(n,!0)?void 0:0}),this.alignElements()}g(e){let s=this.createElement("g");return e?s.attr({class:"highcharts-"+e}):s}image(e,s,n,h,p,f){let g={preserveAspectRatio:"none"};ln(s)&&(g.x=s),ln(n)&&(g.y=n),ln(h)&&(g.width=h),ln(p)&&(g.height=p);let b=this.createElement("image").attr(g),A=function(R){b.attr({href:e}),f.call(b,R)};if(f){b.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let R=new wo.Image;Zl(R,"load",A),R.src=e,R.complete&&A({})}else b.attr({href:e});return b}symbol(e,s,n,h,p,f){var rt,ot;let g,b,A,R,D=this,G=/^url\((.*?)\)$/,Z=G.test(e),Q=!Z&&(this.symbols[e]?e:"circle"),st=Q&&this.symbols[Q];if(st)typeof s=="number"&&(b=st.call(this.symbols,s||0,n||0,h||0,p||0,f)),g=this.path(b),D.styledMode||g.attr("fill","none"),ba(g,{symbolName:Q||void 0,x:s,y:n,width:h,height:p}),f&&ba(g,f);else if(Z){A=e.match(G)[1];let gt=g=this.image(A);gt.imgwidth=In(f==null?void 0:f.width,(rt=ya[A])==null?void 0:rt.width),gt.imgheight=In(f==null?void 0:f.height,(ot=ya[A])==null?void 0:ot.height),R=vt=>vt.attr({width:vt.width,height:vt.height}),["width","height"].forEach(vt=>{gt[`${vt}Setter`]=function(Ft,Wt){this[Wt]=Ft;let{alignByTranslate:Ht,element:ce,width:Jt,height:ie,imgwidth:Pe,imgheight:Re}=this,Ye=Wt==="width"?Pe:Re,ei=1;f&&f.backgroundSize==="within"&&Jt&&ie&&Pe&&Re?(ei=Math.min(Jt/Pe,ie/Re),Zo(ce,{width:Math.round(Pe*ei),height:Math.round(Re*ei)})):ce&&Ye&&ce.setAttribute(Wt,Ye),!Ht&&Pe&&Re&&this.translate(((Jt||0)-Pe*ei)/2,((ie||0)-Re*ei)/2)}}),va(s)&&gt.attr({x:s,y:n}),gt.isImg=!0,gt.symbolUrl=e,va(gt.imgwidth)&&va(gt.imgheight)?R(gt):(gt.attr({width:0,height:0}),Uh("img",{onload:function(){let vt=pc[D.chartIndex];this.width===0&&(an(this,{position:"absolute",top:"-999em"}),Rr.body.appendChild(this)),ya[A]={width:this.width,height:this.height},gt.imgwidth=this.width,gt.imgheight=this.height,gt.element&&R(gt),this.parentNode&&this.parentNode.removeChild(this),D.imgCount--,D.imgCount||!vt||vt.hasLoaded||vt.onload()},src:A}),this.imgCount++)}return g}clipRect(e,s,n,h){return this.rect(e,s,n,h,0)}text(e,s,n,h){let p={};if(h&&(this.allowHTML||!this.forExport))return this.html(e,s,n);p.x=Math.round(s||0),n&&(p.y=Math.round(n)),va(e)&&(p.text=e);let f=this.createElement("text").attr(p);return h&&(!this.forExport||this.allowHTML)||(f.xSetter=function(g,b,A){let R=A.getElementsByTagName("tspan"),D=A.getAttribute(b);for(let G=0,Z;G<R.length;G++)(Z=R[G]).getAttribute(b)===D&&Z.setAttribute(b,g);A.setAttribute(b,g)}),f}fontMetrics(e){let s=$l(dr.prototype.getStyle.call(e,"font-size")||0),n=s<24?s+3:Math.round(1.2*s),h=Math.round(.8*n);return{h:n,b:h,f:s}}rotCorr(e,s,n){let h=e;return s&&n&&(h=Math.max(h*Math.cos(s*wh),4)),{x:-e/3*Math.sin(s*wh),y:h}}pathToSegments(e){let s=[],n=[],h={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let p=0;p<e.length;p++)ka(n[0])&&ln(e[p])&&n.length===h[n[0].toUpperCase()]&&e.splice(p,0,n[0].replace("M","L").replace("m","l")),typeof e[p]=="string"&&(n.length&&s.push(n.slice(0)),n.length=0),n.push(e[p]);return s.push(n.slice(0)),s}label(e,s,n,h,p,f,g,b,A){return new Ro(this,e,s,n,h,p,f,g,b,A)}alignElements(){this.alignedObjects.forEach(e=>e.align())}}ba(Bn.prototype,{Element:dr,SVG_NS:Wo,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Zn,draw:qn}),Un.registerRendererType("svg",Bn,!0);let{composed:Vh,isFirefox:Ma}=ge,{attr:Dn,css:$o,createElement:uc,defined:_d,extend:Zh,getAlignFactor:Mn,isNumber:Qn,pInt:Ld,pushUnique:Od}=Ke;function fc(_,e,s){var h;let n=(h=this.div)==null?void 0:h.style;dr.prototype[`${e}Setter`].call(this,_,e,s),n&&(s.style[e]=n[e]=_)}let Sn=(_,e)=>{var s;if(!_.div){let n=Dn(_.element,"class"),h=_.css,p=uc("div",n?{className:n}:void 0,{position:"absolute",left:`${_.translateX||0}px`,top:`${_.translateY||0}px`,..._.styles,display:_.display,opacity:_.opacity,visibility:_.visibility},((s=_.parentGroup)==null?void 0:s.div)||e);_.classSetter=(f,g,b)=>{b.setAttribute("class",f),p.className=f},_.translateXSetter=_.translateYSetter=(f,g)=>{_[g]=f,p.style[g==="translateX"?"left":"top"]=`${f}px`,_.doTransform=!0},_.scaleXSetter=_.scaleYSetter=(f,g)=>{_[g]=f,_.doTransform=!0},_.opacitySetter=_.visibilitySetter=fc,_.css=f=>(h.call(_,f),f.cursor&&(p.style.cursor=f.cursor),f.pointerEvents&&(p.style.pointerEvents=f.pointerEvents),_),_.on=function(){return dr.prototype.on.apply({element:p,onEvents:_.onEvents},arguments),_},_.div=p}return _.div};class ja extends dr{static compose(e){Od(Vh,this.compose)&&(e.prototype.html=function(s,n,h){return new ja(this,"span").attr({text:s,x:Math.round(n),y:Math.round(h)})})}constructor(e,s){super(e,s),ja.useForeignObject?this.foreignObject=e.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...e.styledMode?{}:{fontFamily:e.style.fontFamily,fontSize:e.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(e,s,n){this.xCorr=-e*n,this.yCorr=-s}css(e){let s,{element:n}=this,h=n.tagName==="SPAN"&&e&&"width"in e,p=h&&e.width;return h&&(delete e.width,this.textWidth=Ld(p)||void 0,s=!0),(e==null?void 0:e.textOverflow)==="ellipsis"&&(e.overflow="hidden",e.whiteSpace="nowrap"),e!=null&&e.lineClamp&&(e.display="-webkit-box",e.WebkitLineClamp=e.lineClamp,e.WebkitBoxOrient="vertical",e.overflow="hidden"),Qn(Number(e==null?void 0:e.fontSize))&&(e.fontSize+="px"),Zh(this.styles,e),$o(n,e),s&&this.updateTransform(),this}htmlGetBBox(){let{element:e}=this;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}updateTransform(){var gt;if(!this.added){this.alignOnAdd=!0;return}let{element:e,foreignObject:s,oldTextWidth:n,renderer:h,rotation:p,rotationOriginX:f,rotationOriginY:g,scaleX:b,scaleY:A,styles:{display:R="inline-block",whiteSpace:D},textAlign:G="left",textWidth:Z,translateX:Q=0,translateY:st=0,x:rt=0,y:ot=0}=this;if(s||$o(e,{marginLeft:`${Q}px`,marginTop:`${st}px`}),e.tagName==="SPAN"){let vt,Ft=[p,G,e.innerHTML,Z,this.textAlign].join(","),Wt=-(((gt=this.parentGroup)==null?void 0:gt.padding)*1)||0;if(Z!==n){let ie=this.textPxLength?this.textPxLength:($o(e,{width:"",whiteSpace:D||"nowrap"}),e.offsetWidth),Pe=Z||0,Re=e.style.textOverflow===""&&e.style.webkitLineClamp;(Pe>n||ie>Pe||Re)&&(/[\-\s\u00AD]/.test(e.textContent||e.innerText)||e.style.textOverflow==="ellipsis")&&($o(e,{width:(p||b||ie>Pe||Re)&&Qn(Z)?Z+"px":"auto",display:R,whiteSpace:D||"normal"}),this.oldTextWidth=Z)}s&&($o(e,{display:"inline-block",verticalAlign:"top"}),s.attr({width:h.width,height:h.height})),Ft!==this.cTT&&(vt=h.fontMetrics(e).b,_d(p)&&!s&&(p!==(this.oldRotation||0)||G!==this.oldAlign)&&$o(e,{transform:`rotate(${p}deg)`,transformOrigin:`${Wt}% ${Wt}px`}),this.getSpanCorrection(!_d(p)&&!this.textWidth&&this.textPxLength||e.offsetWidth,vt,Mn(G)));let{xCorr:Ht=0,yCorr:ce=0}=this,Jt={left:`${rt+Ht}px`,top:`${ot+ce}px`,textAlign:G,transformOrigin:`${(f??rt)-Ht-rt-Wt}px ${(g??ot)-ce-ot-Wt}px`};(b||A)&&(Jt.transform=`scale(${b??1},${A??1})`),s?(super.updateTransform(),Qn(rt)&&Qn(ot)?(s.attr({x:rt+Ht,y:ot+ce,width:e.offsetWidth+3,height:e.offsetHeight,"transform-origin":e.getAttribute("transform-origin")||"0 0"}),$o(e,{display:R,textAlign:G})):Ma&&s.attr({width:0,height:0})):$o(e,Jt),this.cTT=Ft,this.oldRotation=p,this.oldAlign=G}}add(e){let{foreignObject:s,renderer:n}=this,h=n.box.parentNode,p=[];if(s)s.add(e),super.add(n.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(s));else{let f;if(this.parentGroup=e,e&&!(f=e.div)){let g=e;for(;g;)p.push(g),g=g.parentGroup;for(let b of p.reverse())f=Sn(b,h)}(f||h).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(e){e!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Es.setElementHTML(this.element,e??""),this.textStr=e,this.doTransform=!0)}alignSetter(e){this.alignValue=this.textAlign=e,this.doTransform=!0}xSetter(e,s){this[s]=e,this.doTransform=!0}}let Sa=ja.prototype;Sa.visibilitySetter=Sa.opacitySetter=fc,Sa.ySetter=Sa.rotationSetter=Sa.rotationOriginXSetter=Sa.rotationOriginYSetter=Sa.xSetter,function(_){_.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},_.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:e}=this.axis.chart;return e(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(ee||(ee={}));let Pl=ee,{addEvent:$h,isFunction:Ta,objectEach:Aa,removeEvent:Kl}=Ke;(ae||(ae={})).registerEventOptions=function(_,e){_.eventOptions=_.eventOptions||{},Aa(e.events,function(s,n){_.eventOptions[n]!==s&&(_.eventOptions[n]&&(Kl(_,n,_.eventOptions[n]),delete _.eventOptions[n]),Ta(s)&&(_.eventOptions[n]=s,$h(_,n,s,{order:0})))})};let Jl=ae,{deg2rad:zn}=ge,{clamp:Ql,correctFloat:Pa,defined:th,destroyObjectProperties:ta,extend:Tn,fireEvent:ko,getAlignFactor:Ua,isNumber:ea,merge:Va,objectEach:ia,pick:sa}=Ke,Ca=class{constructor(_,e,s,n,h){this.isNew=!0,this.isNewLabel=!0,this.axis=_,this.pos=e,this.type=s||"",this.parameters=h||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ko(this,"init"),s||n||this.addLabel()}addLabel(){var ce,Jt;let _=this,e=_.axis,s=e.options,n=e.chart,h=e.categories,p=e.logarithmic,f=e.names,g=_.pos,b=sa((ce=_.options)==null?void 0:ce.labels,s.labels),A=e.tickPositions,R=g===A[0],D=g===A[A.length-1],G=(!b.step||b.step===1)&&e.tickInterval===1,Z=A.info,Q=_.label,st,rt,ot,gt=this.parameters.category||(h?sa(h[g],f[g],g):g);p&&ea(gt)&&(gt=Pa(p.lin2log(gt))),e.dateTime&&(Z?st=(rt=n.time.resolveDTLFormat(s.dateTimeLabelFormats[!((Jt=s.grid)!=null&&Jt.enabled)&&Z.higherRanks[g]||Z.unitName])).main:ea(gt)&&(st=e.dateTime.getXDateFormat(gt,s.dateTimeLabelFormats||{}))),_.isFirst=R,_.isLast=D;let vt={axis:e,chart:n,dateTimeLabelFormat:st,isFirst:R,isLast:D,pos:g,tick:_,tickPositionInfo:Z,value:gt};ko(this,"labelFormat",vt);let Ft=ie=>b.formatter?b.formatter.call(ie,ie):b.format?(ie.text=e.defaultLabelFormatter.call(ie),hr.format(b.format,ie,n)):e.defaultLabelFormatter.call(ie),Wt=Ft.call(vt,vt),Ht=rt==null?void 0:rt.list;Ht?_.shortenLabel=function(){for(ot=0;ot<Ht.length;ot++)if(Tn(vt,{dateTimeLabelFormat:Ht[ot]}),Q.attr({text:Ft.call(vt,vt)}),Q.getBBox().width<e.getSlotWidth(_)-2*(b.padding||0))return;Q.attr({text:""})}:_.shortenLabel=void 0,G&&e._addedPlotLB&&_.moveLabel(Wt,b),th(Q)||_.movedLabel?Q&&Q.textStr!==Wt&&!G&&(!Q.textWidth||b.style.width||Q.styles.width||Q.css({width:null}),Q.attr({text:Wt}),Q.textPxLength=Q.getBBox().width):(_.label=Q=_.createLabel(Wt,b),_.rotation=0)}createLabel(_,e,s){let n=this.axis,{renderer:h,styledMode:p}=n.chart,f=e.style.whiteSpace,g=th(_)&&e.enabled?h.text(_,s==null?void 0:s.x,s==null?void 0:s.y,e.useHTML).add(n.labelGroup):void 0;return g&&(p||g.css(Va(e.style)),g.textPxLength=g.getBBox().width,!p&&f&&g.css({whiteSpace:f})),g}destroy(){ta(this,this.axis)}getPosition(_,e,s,n){let h=this.axis,p=h.chart,f=n&&p.oldChartHeight||p.chartHeight,g={x:_?Pa(h.translate(e+s,void 0,void 0,n)+h.transB):h.left+h.offset+(h.opposite?(n&&p.oldChartWidth||p.chartWidth)-h.right-h.left:0),y:_?f-h.bottom+h.offset-(h.opposite?h.height:0):Pa(f-h.translate(e+s,void 0,void 0,n)-h.transB)};return g.y=Ql(g.y,-1e9,1e9),ko(this,"afterGetPosition",{pos:g}),g}getLabelPosition(_,e,s,n,h,p,f,g){let b,A,R=this.axis,D=R.transA,G=R.isLinked&&R.linkedParent?R.linkedParent.reversed:R.reversed,Z=R.staggerLines,Q=R.tickRotCorr||{x:0,y:0},st=n||R.reserveSpaceDefault?0:-R.labelOffset*(R.labelAlign==="center"?.5:1),rt=h.distance,ot={};return b=R.side===0?s.rotation?-rt:-s.getBBox().height:R.side===2?Q.y+rt:Math.cos(s.rotation*zn)*(Q.y-s.getBBox(!1,0).height/2),th(h.y)&&(b=R.side===0&&R.horiz?h.y+b:h.y),_=_+sa(h.x,[0,1,0,-1][R.side]*rt)+st+Q.x-(p&&n?p*D*(G?-1:1):0),e=e+b-(p&&!n?p*D*(G?1:-1):0),Z&&(A=f/(g||1)%Z,R.opposite&&(A=Z-A-1),e+=A*(R.labelOffset/Z)),ot.x=_,ot.y=Math.round(e),ko(this,"afterGetLabelPosition",{pos:ot,tickmarkOffset:p,index:f}),ot}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(_,e,s,n,h=!1,p){return p.crispLine([["M",_,e],["L",_+(h?0:-s),e+(h?s:0)]],n)}handleOverflow(_){var rt;let e=this.axis,s=e.options.labels,n=_.x,h=e.chart.chartWidth,p=e.chart.spacing,f=sa(e.labelLeft,Math.min(e.pos,p[3])),g=sa(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,h-p[1])),b=this.label,A=this.rotation,R=Ua(e.labelAlign||b.attr("align")),D=b.getBBox().width,G=e.getSlotWidth(this),Z=G,Q=1,st;A||s.overflow!=="justify"?A<0&&n-R*D<f?st=Math.round(n/Math.cos(A*zn)-f):A>0&&n+R*D>g&&(st=Math.round((h-n)/Math.cos(A*zn))):(n-R*D<f?Z=_.x+Z*(1-R)-f:n+(1-R)*D>g&&(Z=g-_.x+Z*R,Q=-1),(Z=Math.min(G,Z))<G&&e.labelAlign==="center"&&(_.x+=Q*(G-Z-R*(G-Math.min(D,Z)))),(D>Z||e.autoRotation&&((rt=b==null?void 0:b.styles)!=null&&rt.width))&&(st=Z)),st&&b&&(this.shortenLabel?this.shortenLabel():b.css(Tn({},{width:Math.floor(st)+"px",lineClamp:+!e.isRadial})))}moveLabel(_,e){let s=this,n=s.label,h=s.axis,p=!1,f;n&&n.textStr===_?(s.movedLabel=n,p=!0,delete s.label):ia(h.ticks,function(g){p||g.isNew||g===s||!g.label||g.label.textStr!==_||(s.movedLabel=g.label,p=!0,g.labelPos=s.movedLabel.xy,delete g.label)}),!p&&(s.labelPos||n)&&(f=s.labelPos||n.xy,s.movedLabel=s.createLabel(_,e,f),s.movedLabel&&s.movedLabel.attr({opacity:0}))}render(_,e,s){var Q;let n=this.axis,h=n.horiz,p=this.pos,f=sa(this.tickmarkOffset,n.tickmarkOffset),g=this.getPosition(h,p,f,e),b=g.x,A=g.y,R=n.pos,D=R+n.len,G=h?b:A,Z=sa(s,(Q=this.label)==null?void 0:Q.newOpacity,1);!n.chart.polar&&(Pa(G)<R||G>D)&&(s=0),s??(s=1),this.isActive=!0,this.renderGridLine(e,s),this.renderMark(g,s),this.renderLabel(g,e,Z,_),this.isNew=!1,ko(this,"afterRender")}renderGridLine(_,e){let s=this.axis,n=s.options,h={},p=this.pos,f=this.type,g=sa(this.tickmarkOffset,s.tickmarkOffset),b=s.chart.renderer,A=this.gridLine,R,D=n.gridLineWidth,G=n.gridLineColor,Z=n.gridLineDashStyle;this.type==="minor"&&(D=n.minorGridLineWidth,G=n.minorGridLineColor,Z=n.minorGridLineDashStyle),A||(s.chart.styledMode||(h.stroke=G,h["stroke-width"]=D||0,h.dashstyle=Z),f||(h.zIndex=1),_&&(e=0),this.gridLine=A=b.path().attr(h).addClass("highcharts-"+(f?f+"-":"")+"grid-line").add(s.gridGroup)),A&&(R=s.getPlotLinePath({value:p+g,lineWidth:A.strokeWidth(),force:"pass",old:_,acrossPanes:!1}))&&A[_||this.isNew?"attr":"animate"]({d:R,opacity:e})}renderMark(_,e){let s=this.axis,n=s.options,h=s.chart.renderer,p=this.type,f=s.tickSize(p?p+"Tick":"tick"),g=_.x,b=_.y,A=sa(n[p!=="minor"?"tickWidth":"minorTickWidth"],!p&&s.isXAxis?1:0),R=n[p!=="minor"?"tickColor":"minorTickColor"],D=this.mark,G=!D;f&&(s.opposite&&(f[0]=-f[0]),!D&&(this.mark=D=h.path().addClass("highcharts-"+(p?p+"-":"")+"tick").add(s.axisGroup),s.chart.styledMode||D.attr({stroke:R,"stroke-width":A})),D[G?"attr":"animate"]({d:this.getMarkPath(g,b,f[0],D.strokeWidth(),s.horiz,h),opacity:e}))}renderLabel(_,e,s,n){let h=this.axis,p=h.horiz,f=h.options,g=this.label,b=f.labels,A=b.step,R=sa(this.tickmarkOffset,h.tickmarkOffset),D=_.x,G=_.y,Z=!0;g&&ea(D)&&(g.xy=_=this.getLabelPosition(D,G,g,p,b,R,n,A),(!this.isFirst||this.isLast||f.showFirstLabel)&&(!this.isLast||this.isFirst||f.showLastLabel)?!p||b.step||b.rotation||e||s===0||this.handleOverflow(_):Z=!1,A&&n%A&&(Z=!1),Z&&ea(_.y)?(_.opacity=s,g[this.isNewLabel?"attr":"animate"](_).show(!0),this.isNewLabel=!1):(g.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let _=this.label,e=this.axis;_&&!this.isNew&&(_.animate({opacity:0},void 0,_.destroy),delete this.label),e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Mh}=Gr,{xAxis:Ed,yAxis:An}=Pl,{defaultOptions:Er}=Ni,{registerEventOptions:ir}=Jl,{deg2rad:Id}=ge,{arrayMax:Bd,arrayMin:ra,clamp:Cl,correctFloat:bs,defined:o,destroyObjectProperties:x,erase:I,error:j,extend:nt,fireEvent:bt,getClosestDistance:$t,insertItem:ye,isArray:de,isNumber:pe,isString:ci,merge:Wi,normalizeTickInterval:ds,objectEach:bi,pick:Ai,relativeLength:to,removeEvent:hn,splat:Za,syncTimeout:rs}=Ke,Sh=(_,e)=>ds(e,void 0,void 0,Ai(_.options.allowDecimals,e<.5||_.tickAmount!==void 0),!!_.tickAmount);nt(Er,{xAxis:Ed,yAxis:Wi(Ed,An)});class Th{constructor(e,s,n){this.init(e,s,n)}init(e,s,n=this.coll){let h=n==="xAxis",p=this.isZAxis||(e.inverted?!h:h);this.chart=e,this.horiz=p,this.isXAxis=h,this.coll=n,bt(this,"init",{userOptions:s}),this.opposite=Ai(s.opposite,this.opposite),this.side=Ai(s.side,this.side,p?2*!this.opposite:this.opposite?1:3),this.setOptions(s);let f=this.options,g=f.labels;this.type??(this.type=f.type||"linear"),this.uniqueNames??(this.uniqueNames=f.uniqueNames??!0),bt(this,"afterSetType"),this.userOptions=s,this.minPixelPadding=0,this.reversed=Ai(f.reversed,this.reversed),this.visible=f.visible,this.zoomEnabled=f.zoomEnabled,this.hasNames=this.type==="category"||f.categories===!0,this.categories=de(f.categories)&&f.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=o(f.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=f.minRange||f.maxZoom,this.range=f.range,this.offset=f.offset||0,this.max=void 0,this.min=void 0;let b=Ai(f.crosshair,Za(e.options.tooltip.crosshairs)[+!h]);this.crosshair=b===!0?{}:b,e.axes.indexOf(this)===-1&&(h?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),ye(this,e[this.coll])),e.orderItems(this.coll),this.series=this.series||[],e.inverted&&!this.isZAxis&&h&&!o(this.reversed)&&(this.reversed=!0),this.labelRotation=pe(g.rotation)?g.rotation:void 0,ir(this,f),bt(this,"afterInit")}setOptions(e){let s=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Wi(s,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Er[this.coll],e),bt(this,"afterSetOptions",{userOptions:e})}defaultLabelFormatter(){let e=this.axis,{numberFormatter:s}=this.chart,n=pe(this.value)?this.value:NaN,h=e.chart.time,p=e.categories,f=this.dateTimeLabelFormat,g=Er.lang,b=g.numericSymbols,A=g.numericSymbolMagnitude||1e3,R=e.logarithmic?Math.abs(n):e.tickInterval,D=b==null?void 0:b.length,G,Z;if(p)Z=`${this.value}`;else if(f)Z=h.dateFormat(f,n,!0);else if(D&&b&&R>=1e3)for(;D--&&Z===void 0;)R>=(G=Math.pow(A,D+1))&&10*n%G==0&&b[D]!==null&&n!==0&&(Z=s(n/G,-1)+b[D]);return Z===void 0&&(Z=Math.abs(n)>=1e4?s(n,-1):s(n,-1,void 0,"")),Z}getSeriesExtremes(){let e,s=this;bt(this,"getSeriesExtremes",null,function(){s.hasVisibleSeries=!1,s.dataMin=s.dataMax=s.threshold=void 0,s.softThreshold=!s.isXAxis,s.series.forEach(n=>{if(n.reserveSpace()){let h=n.options,p,f=h.threshold,g,b;if(s.hasVisibleSeries=!0,s.positiveValuesOnly&&0>=(f||0)&&(f=void 0),s.isXAxis)(p=n.getColumn("x")).length&&(p=s.logarithmic?p.filter(A=>A>0):p,g=(e=n.getXExtremes(p)).min,b=e.max,pe(g)||g instanceof Date||(p=p.filter(pe),g=(e=n.getXExtremes(p)).min,b=e.max),p.length&&(s.dataMin=Math.min(Ai(s.dataMin,g),g),s.dataMax=Math.max(Ai(s.dataMax,b),b)));else{let A=n.applyExtremes();pe(A.dataMin)&&(g=A.dataMin,s.dataMin=Math.min(Ai(s.dataMin,g),g)),pe(A.dataMax)&&(b=A.dataMax,s.dataMax=Math.max(Ai(s.dataMax,b),b)),o(f)&&(s.threshold=f),(!h.softThreshold||s.positiveValuesOnly)&&(s.softThreshold=!1)}}})}),bt(this,"afterGetSeriesExtremes")}translate(e,s,n,h,p,f){var st;let g=this.linkedParent||this,b=h&&g.old?g.old.min:g.min;if(!pe(b))return NaN;let A=g.minPixelPadding,R=(g.isOrdinal||((st=g.brokenAxis)==null?void 0:st.hasBreaks)||g.logarithmic&&p)&&g.lin2val,D=1,G=0,Z=h&&g.old?g.old.transA:g.transA,Q=0;return Z||(Z=g.transA),n&&(D*=-1,G=g.len),g.reversed&&(D*=-1,G-=D*(g.sector||g.len)),s?(Q=(e=e*D+G-A)/Z+b,R&&(Q=g.lin2val(Q))):(R&&(e=g.val2lin(e)),Q=D*(e-b)*Z+G+D*A+(pe(f)?Z*f:0),g.isRadial||(Q=bs(Q))),Q}toPixels(e,s){var n;return this.translate(((n=this.chart)==null?void 0:n.time.parse(e))??NaN,!1,!this.horiz,void 0,!0)+(s?0:this.pos)}toValue(e,s){return this.translate(e-(s?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(e){let s=this,n=s.chart,h=s.left,p=s.top,f=e.old,g=e.value,b=e.lineWidth,A=f&&n.oldChartHeight||n.chartHeight,R=f&&n.oldChartWidth||n.chartWidth,D=s.transB,G=e.translatedValue,Z=e.force,Q,st,rt,ot,gt;function vt(Wt,Ht,ce){return Z!=="pass"&&(Wt<Ht||Wt>ce)&&(Z?Wt=Cl(Wt,Ht,ce):gt=!0),Wt}let Ft={value:g,lineWidth:b,old:f,force:Z,acrossPanes:e.acrossPanes,translatedValue:G};return bt(this,"getPlotLinePath",Ft,function(Wt){Q=rt=(G=Cl(G=Ai(G,s.translate(g,void 0,void 0,f)),-1e9,1e9))+D,st=ot=A-G-D,pe(G)?s.horiz?(st=p,ot=A-s.bottom+(s.options.isInternal?0:n.scrollablePixelsY||0),Q=rt=vt(Q,h,h+s.width)):(Q=h,rt=R-s.right+(n.scrollablePixelsX||0),st=ot=vt(st,p,p+s.height)):(gt=!0,Z=!1),Wt.path=gt&&!Z?void 0:n.renderer.crispLine([["M",Q,st],["L",rt,ot]],b||1)}),Ft.path}getLinearTickPositions(e,s,n){let h,p,f,g=bs(Math.floor(s/e)*e),b=bs(Math.ceil(n/e)*e),A=[];if(bs(g+e)===g&&(f=20),this.single)return[s];for(h=g;h<=b&&(A.push(h),(h=bs(h+e,f))!==p);)p=h;return A}getMinorTickInterval(){let{minorTicks:e,minorTickInterval:s}=this.options;return e===!0?Ai(s,"auto"):e!==!1?s:void 0}getMinorTickPositions(){var R;let e=this.options,s=this.tickPositions,n=this.minorTickInterval,h=this.pointRangePadding||0,p=(this.min||0)-h,f=(this.max||0)+h,g=(R=this.brokenAxis)!=null&&R.hasBreaks?this.brokenAxis.unitLength:f-p,b=[],A;if(g&&g/n<this.len/3){let D=this.logarithmic;if(D)this.paddedTicks.forEach(function(G,Z,Q){Z&&b.push.apply(b,D.getLogTickPositions(n,Q[Z-1],Q[Z],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")b=b.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(n),p,f,e.startOfWeek));else for(A=p+(s[0]-p)%n;A<=f&&A!==b[0];A+=n)b.push(A)}return b.length!==0&&this.trimTicks(b),b}adjustForMinRange(){let e=this.options,s=this.logarithmic,n=this.chart.time,{max:h,min:p,minRange:f}=this,g,b,A,R;this.isXAxis&&f===void 0&&!s&&(f=o(e.min)||o(e.max)||o(e.floor)||o(e.ceiling)?null:Math.min(5*($t(this.series.map(D=>{let G=D.getColumn("x");return D.xIncrement?G.slice(0,2):G}))||0),this.dataMax-this.dataMin)),pe(h)&&pe(p)&&pe(f)&&h-p<f&&(b=this.dataMax-this.dataMin>=f,g=(f-h+p)/2,A=[p-g,n.parse(e.min)??p-g],b&&(A[2]=s?s.log2lin(this.dataMin):this.dataMin),R=[(p=Bd(A))+f,n.parse(e.max)??p+f],b&&(R[2]=s?s.log2lin(this.dataMax):this.dataMax),(h=ra(R))-p<f&&(A[0]=h-f,A[1]=n.parse(e.min)??h-f,p=Bd(A))),this.minRange=f,this.min=p,this.max=h}getClosest(){let e,s;if(this.categories)s=1;else{let n=[];this.series.forEach(function(h){let p=h.closestPointRange,f=h.getColumn("x");f.length===1?n.push(f[0]):h.sorted&&o(p)&&h.reserveSpace()&&(s=o(s)?Math.min(s,p):p)}),n.length&&(n.sort((h,p)=>h-p),e=$t([n]))}return e&&s?Math.min(e,s):e||s}nameToX(e){let s=de(this.options.categories),n=s?this.categories:this.names,h=e.options.x,p;return e.series.requireSorting=!1,o(h)||(h=this.uniqueNames&&n?s?n.indexOf(e.name):Ai(n.keys[e.name],-1):e.series.autoIncrement()),h===-1?!s&&n&&(p=n.length):pe(h)&&(p=h),p!==void 0?(this.names[p]=e.name,this.names.keys[e.name]=p):e.x&&(p=e.x),p}updateNames(){let e=this,s=this.names;s.length>0&&(Object.keys(s.keys).forEach(function(n){delete s.keys[n]}),s.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(n=>{n.xIncrement=null,(!n.points||n.isDirtyData)&&(e.max=Math.max(e.max||0,n.dataTable.rowCount-1),n.processData(),n.generatePoints());let h=n.getColumn("x").slice();n.data.forEach((p,f)=>{let g=h[f];p!=null&&p.options&&p.name!==void 0&&(g=e.nameToX(p))!==void 0&&g!==p.x&&(h[f]=p.x=g)}),n.dataTable.setColumn("x",h)}))}setAxisTranslation(){var G;let e=this,s=e.max-e.min,n=e.linkedParent,h=!!e.categories,p=e.isXAxis,f=e.axisPointRange||0,g,b=0,A=0,R,D=e.transA;(p||h||f)&&(g=e.getClosest(),n?(b=n.minPointOffset,A=n.pointRangePadding):e.series.forEach(function(Z){let Q=h?1:p?Ai(Z.options.pointRange,g,0):e.axisPointRange||0,st=Z.options.pointPlacement;if(f=Math.max(f,Q),!e.single||h){let rt=Z.is("xrange")?!p:p;b=Math.max(b,rt&&ci(st)?0:Q/2),A=Math.max(A,rt&&st==="on"?0:Q)}}),R=(G=e.ordinal)!=null&&G.slope&&g?e.ordinal.slope/g:1,e.minPointOffset=b*=R,e.pointRangePadding=A*=R,e.pointRange=Math.min(f,e.single&&h?1:s),p&&(e.closestPointRange=g)),e.translationSlope=e.transA=D=e.staticScale||e.len/(s+A||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=D*b,bt(this,"afterSetAxisTranslation")}minFromRange(){let{max:e,min:s}=this;return pe(e)&&pe(s)&&e-s||void 0}setTickInterval(e){var yi,_i,ui,Yi;let{categories:s,chart:n,dataMax:h,dataMin:p,dateTime:f,isXAxis:g,logarithmic:b,options:A,softThreshold:R}=this,D=n.time,G=pe(this.threshold)?this.threshold:void 0,Z=this.minRange||0,{ceiling:Q,floor:st,linkedTo:rt,softMax:ot,softMin:gt}=A,vt=pe(rt)&&((yi=n[this.coll])==null?void 0:yi[rt]),Ft=A.tickPixelInterval,Wt=A.maxPadding,Ht=A.minPadding,ce=0,Jt,ie=pe(A.tickInterval)&&A.tickInterval>=0?A.tickInterval:void 0,Pe,Re,Ye,ei;if(f||s||vt||this.getTickAmount(),Ye=Ai(this.userMin,D.parse(A.min)),ei=Ai(this.userMax,D.parse(A.max)),vt?(this.linkedParent=vt,Jt=vt.getExtremes(),this.min=Ai(Jt.min,Jt.dataMin),this.max=Ai(Jt.max,Jt.dataMax),this.type!==vt.type&&j(11,!0,n)):(R&&o(G)&&pe(h)&&pe(p)&&(p>=G?(Pe=G,Ht=0):h<=G&&(Re=G,Wt=0)),this.min=Ai(Ye,Pe,p),this.max=Ai(ei,Re,h)),pe(this.max)&&pe(this.min)&&(b&&(this.positiveValuesOnly&&!e&&0>=Math.min(this.min,Ai(p,this.min))&&j(10,!0,n),this.min=bs(b.log2lin(this.min),16),this.max=bs(b.log2lin(this.max),16)),this.range&&pe(p)&&(this.userMin=this.min=Ye=Math.max(p,this.minFromRange()||0),this.userMax=ei=this.max,this.range=void 0)),bt(this,"foundExtremes"),this.adjustForMinRange(),pe(this.min)&&pe(this.max)){if(!pe(this.userMin)&&pe(gt)&&gt<this.min&&(this.min=Ye=gt),!pe(this.userMax)&&pe(ot)&&ot>this.max&&(this.max=ei=ot),s||this.axisPointRange||(_i=this.stacking)!=null&&_i.usePercentage||vt||(ce=this.max-this.min)&&(!o(Ye)&&Ht&&(this.min-=ce*Ht),!o(ei)&&Wt&&(this.max+=ce*Wt)),!pe(this.userMin)&&pe(st)&&(this.min=Math.max(this.min,st)),!pe(this.userMax)&&pe(Q)&&(this.max=Math.min(this.max,Q)),R&&pe(p)&&pe(h)){let Cs=G||0;!o(Ye)&&this.min<Cs&&p>=Cs?this.min=A.minRange?Math.min(Cs,this.max-Z):Cs:!o(ei)&&this.max>Cs&&h<=Cs&&(this.max=A.minRange?Math.max(Cs,this.min+Z):Cs)}!n.polar&&this.min>this.max&&(o(A.min)?this.max=this.min:o(A.max)&&(this.min=this.max)),ce=this.max-this.min}if(this.min!==this.max&&pe(this.min)&&pe(this.max)?vt&&!ie&&Ft===vt.options.tickPixelInterval?this.tickInterval=ie=vt.tickInterval:this.tickInterval=Ai(ie,this.tickAmount?ce/Math.max(this.tickAmount-1,1):void 0,s?1:ce*Ft/Math.max(this.len,Ft)):this.tickInterval=1,g&&!e){let Cs=this.min!==((ui=this.old)==null?void 0:ui.min)||this.max!==((Yi=this.old)==null?void 0:Yi.max);this.series.forEach(function(fs){var gs;fs.forceCrop=(gs=fs.forceCropping)==null?void 0:gs.call(fs),fs.processData(Cs)}),bt(this,"postProcessData",{hasExtremesChanged:Cs})}this.setAxisTranslation(),bt(this,"initialAxisTranslation"),this.pointRange&&!ie&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Si=Ai(A.minTickInterval,f&&!this.series.some(Cs=>!Cs.sorted)?this.closestPointRange:0);!ie&&Si&&this.tickInterval<Si&&(this.tickInterval=Si),f||b||ie||(this.tickInterval=Sh(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var R,D;let e=this.options,s=e.tickPositions,n=e.tickPositioner,h=this.getMinorTickInterval(),p=!this.isPanning,f=p&&e.startOnTick,g=p&&e.endOnTick,b=[],A;if(this.tickmarkOffset=this.categories&&e.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&o(this.min)&&!this.tickAmount&&(this.min%1==0||e.allowDecimals!==!1),s)b=s.slice();else if(pe(this.min)&&pe(this.max)){if(!((R=this.ordinal)!=null&&R.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))b=[this.min,this.max],j(19,!1,this.chart);else if(this.dateTime)b=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,(D=this.ordinal)==null?void 0:D.positions,this.closestPointRange,!0);else if(this.logarithmic)b=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let G=this.tickInterval,Z=G;for(;Z<=2*G&&(b=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&b.length>this.tickAmount);)this.tickInterval=Sh(this,Z*=1.1)}b.length>this.len&&(b=[b[0],b[b.length-1]])[0]===b[1]&&(b.length=1),n&&(this.tickPositions=b,(A=n.apply(this,[this.min,this.max]))&&(b=A))}this.tickPositions=b,this.minorTickInterval=h==="auto"&&this.tickInterval?this.tickInterval/e.minorTicksPerMajor:h,this.paddedTicks=b.slice(0),this.trimTicks(b,f,g),!this.isLinked&&pe(this.min)&&pe(this.max)&&(this.single&&b.length<2&&!this.categories&&!this.series.some(G=>G.is("heatmap")&&G.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),s||A||this.adjustTickAmount()),bt(this,"afterSetTickPositions")}trimTicks(e,s,n){let h=e[0],p=e[e.length-1],f=!this.isOrdinal&&this.minPointOffset||0;if(bt(this,"trimTicks"),!this.isLinked||!this.grid){if(s&&h!==-1/0)this.min=h;else for(;this.min-f>e[0];)e.shift();if(n)this.max=p;else for(;this.max+f<e[e.length-1];)e.pop();e.length===0&&o(h)&&!this.options.tickPositions&&e.push((p+h)/2)}}alignToOthers(){let e,s=this,n=s.chart,h=[this],p=s.options,f=n.options.chart,g=this.coll==="yAxis"&&f.alignThresholds,b=[];if(s.thresholdAlignment=void 0,(f.alignTicks!==!1&&p.alignTicks||g)&&p.startOnTick!==!1&&p.endOnTick!==!1&&!s.logarithmic){let A=D=>{let{horiz:G,options:Z}=D;return[G?Z.left:Z.top,Z.width,Z.height,Z.pane].join(",")},R=A(this);n[this.coll].forEach(function(D){let{series:G}=D;G.length&&G.some(Z=>Z.visible)&&D!==s&&A(D)===R&&(e=!0,h.push(D))})}if(e&&g){h.forEach(R=>{let D=R.getThresholdAlignment(s);pe(D)&&b.push(D)});let A=b.length>1?b.reduce((R,D)=>R+=D,0)/b.length:void 0;h.forEach(R=>{R.thresholdAlignment=A})}return e}getThresholdAlignment(e){if((!pe(this.dataMin)||this!==e&&this.series.some(s=>s.isDirty||s.isDirtyData))&&this.getSeriesExtremes(),pe(this.threshold)){let s=Cl((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(s=1-s),s}}getTickAmount(){let e=this.options,s=e.tickPixelInterval,n=e.tickAmount;o(e.tickInterval)||n||!(this.len<s)||this.isRadial||this.logarithmic||!e.startOnTick||!e.endOnTick||(n=2),!n&&this.alignToOthers()&&(n=Math.ceil(this.len/s)+1),n<4&&(this.finalTickAmt=n,n=5),this.tickAmount=n}adjustTickAmount(){let e=this,{finalTickAmt:s,max:n,min:h,options:p,tickPositions:f,tickAmount:g,thresholdAlignment:b}=e,A=f==null?void 0:f.length,R=Ai(e.threshold,e.softThreshold?0:null),D,G,Z=e.tickInterval,Q,st=()=>f.push(bs(f[f.length-1]+Z)),rt=()=>f.unshift(bs(f[0]-Z));if(pe(b)&&(Q=b<.5?Math.ceil(b*(g-1)):Math.floor(b*(g-1)),p.reversed&&(Q=g-1-Q)),e.hasData()&&pe(h)&&pe(n)){let ot=()=>{e.transA*=(A-1)/(g-1),e.min=p.startOnTick?f[0]:Math.min(h,f[0]),e.max=p.endOnTick?f[f.length-1]:Math.max(n,f[f.length-1])};if(pe(Q)&&pe(e.threshold)){for(;f[Q]!==R||f.length!==g||f[0]>h||f[f.length-1]<n;){for(f.length=0,f.push(e.threshold);f.length<g;)f[Q]===void 0||f[Q]>e.threshold?rt():st();if(Z>8*e.tickInterval)break;Z*=2}ot()}else if(A<g){for(;f.length<g;)f.length%2||h===R?st():rt();ot()}if(o(s)){for(G=D=f.length;G--;)(s===3&&G%2==1||s<=2&&G>0&&G<D-1)&&f.splice(G,1);e.finalTickAmt=void 0}}}setScale(){var f,g,b,A,R;let{coll:e,stacking:s}=this,n=!1,h=!1;this.series.forEach(D=>{var G;n=n||D.isDirtyData||D.isDirty,h=h||((G=D.xAxis)==null?void 0:G.isDirty)||!1}),this.setAxisSize();let p=this.len!==((f=this.old)==null?void 0:f.len);p||n||h||this.isLinked||this.forceRedraw||this.userMin!==((g=this.old)==null?void 0:g.userMin)||this.userMax!==((b=this.old)==null?void 0:b.userMax)||this.alignToOthers()?(s&&e==="yAxis"&&s.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),s&&e==="xAxis"&&s.buildStacks(),this.isDirty||(this.isDirty=p||this.min!==((A=this.old)==null?void 0:A.min)||this.max!==((R=this.old)==null?void 0:R.max))):s&&s.cleanStacks(),n&&delete this.allExtremes,bt(this,"afterSetScale")}setExtremes(e,s,n=!0,h,p){let f=this.chart;this.series.forEach(g=>{delete g.kdTree}),e=f.time.parse(e),s=f.time.parse(s),bt(this,"setExtremes",p=nt(p,{min:e,max:s}),g=>{this.userMin=g.min,this.userMax=g.max,this.eventArgs=g,n&&f.redraw(h)})}setAxisSize(){let e=this.chart,s=this.options,n=s.offsets||[0,0,0,0],h=this.horiz,p=this.width=Math.round(to(Ai(s.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),f=this.height=Math.round(to(Ai(s.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),g=this.top=Math.round(to(Ai(s.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),b=this.left=Math.round(to(Ai(s.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-f-g,this.right=e.chartWidth-p-b,this.len=Math.max(h?p:f,0),this.pos=h?b:g}getExtremes(){let e=this.logarithmic;return{min:e?bs(e.lin2log(this.min)):this.min,max:e?bs(e.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(e){let s=this.logarithmic,n=s?s.lin2log(this.min):this.min,h=s?s.lin2log(this.max):this.max;return e===null||e===-1/0?e=n:e===1/0?e=h:n>e?e=n:h<e&&(e=h),this.translate(e,0,1,0,1)}autoLabelAlign(e){let s=(Ai(e,0)-90*this.side+720)%360,n={align:"center"};return bt(this,"autoLabelAlign",n,function(h){s>15&&s<165?h.align="right":s>195&&s<345&&(h.align="left")}),n.align}tickSize(e){let s=this.options,n=Ai(s[e==="tick"?"tickWidth":"minorTickWidth"],e==="tick"&&this.isXAxis&&!this.categories?1:0),h=s[e==="tick"?"tickLength":"minorTickLength"],p;n&&h&&(s[e+"Position"]==="inside"&&(h=-h),p=[h,n]);let f={tickSize:p};return bt(this,"afterTickSize",f),f.tickSize}labelMetrics(){let e=this.chart.renderer,s=this.ticks,n=s[Object.keys(s)[0]]||{};return this.chart.renderer.fontMetrics(n.label||n.movedLabel||e.box)}unsquish(){let e=this.options.labels,s=e.padding||0,n=this.horiz,h=this.tickInterval,p=this.len/((+!!this.categories+this.max-this.min)/h),f=e.rotation,g=bs(.8*this.labelMetrics().h),b=Math.max(this.max-this.min,0),A=function(Q){let st=(Q+2*s)/(p||1);return(st=st>1?Math.ceil(st):1)*h>b&&Q!==1/0&&p!==1/0&&b&&(st=Math.ceil(b/h)),bs(st*h)},R=h,D,G=Number.MAX_VALUE,Z;if(n){if(!e.staggerLines&&(pe(f)?Z=[f]:p<e.autoRotationLimit&&(Z=e.autoRotation)),Z){let Q,st;for(let rt of Z)(rt===f||rt&&rt>=-90&&rt<=90)&&(st=(Q=A(Math.abs(g/Math.sin(Id*rt))))+Math.abs(rt/360))<G&&(G=st,D=rt,R=Q)}}else R=A(.75*g);return this.autoRotation=Z,this.labelRotation=Ai(D,pe(f)?f:0),e.step?h:R}getSlotWidth(e){let s=this.chart,n=this.horiz,h=this.options.labels,p=Math.max(this.tickPositions.length-!this.categories,1),f=s.margin[3];if(e&&pe(e.slotWidth))return e.slotWidth;if(n&&h.step<2&&!this.isRadial)return h.rotation?0:(this.staggerLines||1)*this.len/p;if(!n){let g=h.style.width;if(g!==void 0)return parseInt(String(g),10);if(f)return f-s.spacing[3]}return .33*s.chartWidth}renderUnsquish(){let e=this.chart,s=e.renderer,n=this.tickPositions,h=this.ticks,p=this.options.labels,f=p.style,g=this.horiz,b=this.getSlotWidth(),A=Math.max(1,Math.round(b-(g?2*(p.padding||0):p.distance||0))),R={},D=this.labelMetrics(),G=f.lineClamp,Z,Q=G??(Math.floor(this.len/(n.length*D.h))||1),st=0;ci(p.rotation)||(R.rotation=p.rotation||0),n.forEach(function(rt){var vt;let ot=h[rt];ot.movedLabel&&ot.replaceMovedLabel();let gt=((vt=ot.label)==null?void 0:vt.textPxLength)||0;gt>st&&(st=gt)}),this.maxLabelLength=st,this.autoRotation?st>A&&st>D.h?R.rotation=this.labelRotation:this.labelRotation=0:b&&(Z=A),R.rotation&&(Z=st>.5*e.chartHeight?.33*e.chartHeight:st,G||(Q=1)),this.labelAlign=p.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(R.align=this.labelAlign),n.forEach(function(rt){let ot=h[rt],gt=ot==null?void 0:ot.label,vt=f.width,Ft={};gt&&(gt.attr(R),ot.shortenLabel?ot.shortenLabel():Z&&!vt&&f.whiteSpace!=="nowrap"&&(Z<(gt.textPxLength||0)||gt.element.tagName==="SPAN")?gt.css(nt(Ft,{width:`${Z}px`,lineClamp:Q})):!gt.styles.width||Ft.width||vt||gt.css({width:"auto"}),ot.rotation=R.rotation)},this),this.tickRotCorr=s.rotCorr(D.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(e){return e.hasData()})||this.options.showEmpty&&o(this.min)&&o(this.max)}addTitle(e){let s,n=this.chart.renderer,h=this.horiz,p=this.opposite,f=this.options.title,g=this.chart.styledMode;this.axisTitle||((s=f.textAlign)||(s=(h?{low:"left",middle:"center",high:"right"}:{low:p?"right":"left",middle:"center",high:p?"left":"right"})[f.align]),this.axisTitle=n.text(f.text||"",0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:s}).addClass("highcharts-axis-title"),g||this.axisTitle.css(Wi(f.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),g||f.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[e?"show":"hide"](e)}generateTick(e){let s=this.ticks;s[e]?s[e].addLabel():s[e]=new Ca(this,e)}createGroups(){let{axisParent:e,chart:s,coll:n,options:h}=this,p=s.renderer,f=(g,b,A)=>p.g(g).attr({zIndex:A}).addClass(`highcharts-${n.toLowerCase()}${b} `+(this.isRadial?`highcharts-radial-axis${b} `:"")+(h.className||"")).add(e);this.axisGroup||(this.gridGroup=f("grid","-grid",h.gridZIndex),this.axisGroup=f("axis","",h.zIndex),this.labelGroup=f("axis-labels","-labels",h.labels.zIndex))}getOffset(){let e=this,{chart:s,horiz:n,options:h,side:p,ticks:f,tickPositions:g,coll:b}=e,A=s.inverted&&!e.isZAxis?[1,0,3,2][p]:p,R=e.hasData(),D=h.title,G=h.labels,Z=pe(h.crossing),Q=s.axisOffset,st=s.clipOffset,rt=[-1,1,1,-1][p],ot,gt=0,vt,Ft=0,Wt=0,Ht,ce;if(e.showAxis=ot=R||h.showEmpty,e.staggerLines=e.horiz&&G.staggerLines||void 0,e.createGroups(),R||e.isLinked?(g.forEach(function(Jt){e.generateTick(Jt)}),e.renderUnsquish(),e.reserveSpaceDefault=p===0||p===2||{1:"left",3:"right"}[p]===e.labelAlign,Ai(G.reserveSpace,!Z&&null,e.labelAlign==="center"||null,e.reserveSpaceDefault)&&g.forEach(function(Jt){Wt=Math.max(f[Jt].getLabelSize(),Wt)}),e.staggerLines&&(Wt*=e.staggerLines),e.labelOffset=Wt*(e.opposite?-1:1)):bi(f,function(Jt,ie){Jt.destroy(),delete f[ie]}),D!=null&&D.text&&D.enabled!==!1&&(e.addTitle(ot),ot&&!Z&&D.reserveSpace!==!1&&(e.titleOffset=gt=e.axisTitle.getBBox()[n?"height":"width"],Ft=o(vt=D.offset)?0:Ai(D.margin,n?5:10))),e.renderLine(),e.offset=rt*Ai(h.offset,Q[p]?Q[p]+(h.margin||0):0),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},ce=p===0?-e.labelMetrics().h:p===2?e.tickRotCorr.y:0,Ht=Math.abs(Wt)+Ft,Wt&&(Ht-=ce,Ht+=rt*(n?Ai(G.y,e.tickRotCorr.y+rt*G.distance):Ai(G.x,rt*G.distance))),e.axisTitleMargin=Ai(vt,Ht),e.getMaxLabelDimensions&&(e.maxLabelDimensions=e.getMaxLabelDimensions(f,g)),b!=="colorAxis"&&st){let Jt=this.tickSize("tick");Q[p]=Math.max(Q[p],(e.axisTitleMargin||0)+gt+rt*e.offset,Ht,g!=null&&g.length&&Jt?Jt[0]+rt*e.offset:0);let ie=!e.axisLine||h.offset?0:e.axisLine.strokeWidth()/2;st[A]=Math.max(st[A],ie)}bt(this,"afterGetOffset")}getLinePath(e){let s=this.chart,n=this.opposite,h=this.offset,p=this.horiz,f=this.left+(n?this.width:0)+h,g=s.chartHeight-this.bottom-(n?this.height:0)+h;return n&&(e*=-1),s.renderer.crispLine([["M",p?this.left:f,p?g:this.top],["L",p?s.chartWidth-this.right:f,p?g:s.chartHeight-this.bottom]],e)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(e){let s=this.horiz,n=this.left,h=this.top,p=this.len,f=this.options.title,g=s?n:h,b=this.opposite,A=this.offset,R=f.x,D=f.y,G=this.chart.renderer.fontMetrics(e),Z=e?Math.max(e.getBBox(!1,0).height-G.h-1,0):0,Q={low:g+(s?0:p),middle:g+p/2,high:g+(s?p:0)}[f.align],st=(s?h+this.height:n)+(s?1:-1)*(b?-1:1)*(this.axisTitleMargin||0)+[-Z,Z,G.f,-Z][this.side],rt={x:s?Q+R:st+(b?this.width:0)+A+R,y:s?st+D-(b?this.height:0)+A:Q+D};return bt(this,"afterGetTitlePosition",{titlePosition:rt}),rt}renderMinorTick(e,s){let n=this.minorTicks;n[e]||(n[e]=new Ca(this,e,"minor")),s&&n[e].isNew&&n[e].render(null,!0),n[e].render(null,!1,1)}renderTick(e,s,n){var f;let h=this.isLinked,p=this.ticks;(!h||e>=this.min&&e<=this.max||(f=this.grid)!=null&&f.isColumn)&&(p[e]||(p[e]=new Ca(this,e)),n&&p[e].isNew&&p[e].render(s,!0,-1),p[e].render(s))}render(){let e,s,n=this,h=n.chart,p=n.logarithmic,f=h.renderer,g=n.options,b=n.isLinked,A=n.tickPositions,R=n.axisTitle,D=n.ticks,G=n.minorTicks,Z=n.alternateBands,Q=g.stackLabels,st=g.alternateGridColor,rt=g.crossing,ot=n.tickmarkOffset,gt=n.axisLine,vt=n.showAxis,Ft=Mh(f.globalAnimation);if(n.labelEdge.length=0,n.overlap=!1,[D,G,Z].forEach(function(Wt){bi(Wt,function(Ht){Ht.isActive=!1})}),pe(rt)){let Wt=this.isXAxis?h.yAxis[0]:h.xAxis[0],Ht=[1,-1,-1,1][this.side];if(Wt){let ce=Wt.toPixels(rt,!0);n.horiz&&(ce=Wt.len-ce),n.offset=Ht*ce}}if(n.hasData()||b){let Wt=n.chart.hasRendered&&n.old&&pe(n.old.min);n.minorTickInterval&&!n.categories&&n.getMinorTickPositions().forEach(function(Ht){n.renderMinorTick(Ht,Wt)}),A.length&&(A.forEach(function(Ht,ce){n.renderTick(Ht,ce,Wt)}),ot&&(n.min===0||n.single)&&(D[-1]||(D[-1]=new Ca(n,-1,null,!0)),D[-1].render(-1))),st&&A.forEach(function(Ht,ce){s=A[ce+1]!==void 0?A[ce+1]+ot:n.max-ot,ce%2==0&&Ht<n.max&&s<=n.max+(h.polar?-ot:ot)&&(Z[Ht]||(Z[Ht]=new ge.PlotLineOrBand(n,{})),e=Ht+ot,Z[Ht].options={from:p?p.lin2log(e):e,to:p?p.lin2log(s):s,color:st,className:"highcharts-alternate-grid"},Z[Ht].render(),Z[Ht].isActive=!0)}),n._addedPlotLB||(n._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(Ht){n.addPlotBandOrLine(Ht)}))}[D,G,Z].forEach(function(Wt){let Ht=[],ce=Ft.duration;bi(Wt,function(Jt,ie){Jt.isActive||(Jt.render(ie,!1,0),Jt.isActive=!1,Ht.push(ie))}),rs(function(){let Jt=Ht.length;for(;Jt--;)Wt[Ht[Jt]]&&!Wt[Ht[Jt]].isActive&&(Wt[Ht[Jt]].destroy(),delete Wt[Ht[Jt]])},Wt!==Z&&h.hasRendered&&ce?ce:0)}),gt&&(gt[gt.isPlaced?"animate":"attr"]({d:this.getLinePath(gt.strokeWidth())}),gt.isPlaced=!0,gt[vt?"show":"hide"](vt)),R&&vt&&(R[R.isNew?"attr":"animate"](n.getTitlePosition(R)),R.isNew=!1),Q!=null&&Q.enabled&&n.stacking&&n.stacking.renderStackTotals(),n.old={len:n.len,max:n.max,min:n.min,transA:n.transA,userMax:n.userMax,userMin:n.userMin},n.isDirty=!1,bt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(e){e.render()})),this.series.forEach(function(e){e.isDirty=!0})}getKeepProps(){return this.keepProps||Th.keepProps}destroy(e){let s=this,n=s.plotLinesAndBands,h=this.eventOptions;if(bt(this,"destroy",{keepEvents:e}),e||hn(s),[s.ticks,s.minorTicks,s.alternateBands].forEach(function(p){x(p)}),n){let p=n.length;for(;p--;)n[p].destroy()}for(let p in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(f){s[f]&&(s[f]=s[f].destroy())}),s.plotLinesAndBandsGroups)s.plotLinesAndBandsGroups[p]=s.plotLinesAndBandsGroups[p].destroy();bi(s,function(p,f){s.getKeepProps().indexOf(f)===-1&&delete s[f]}),this.eventOptions=h}drawCrosshair(e,s){var D;let n=this.crosshair,h=(n==null?void 0:n.snap)??!0,p=this.chart,f,g,b,A=this.cross,R;if(bt(this,"drawCrosshair",{e,point:s}),e||(e=(D=this.cross)==null?void 0:D.e),n&&(o(s)||!h)!==!1){if(h?o(s)&&(g=Ai(this.coll!=="colorAxis"?s.crosshairPos:null,this.isXAxis?s.plotX:this.len-s.plotY)):g=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),o(g)&&(R={value:s&&(this.isXAxis?s.x:Ai(s.stackY,s.y)),translatedValue:g},p.polar&&nt(R,{isCrosshair:!0,chartX:e==null?void 0:e.chartX,chartY:e==null?void 0:e.chartY,point:s}),f=this.getPlotLinePath(R)||null),!o(f))return void this.hideCrosshair();b=this.categories&&!this.isRadial,A||(this.cross=A=p.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(b?"category ":"thin ")+(n.className||"")).attr({zIndex:Ai(n.zIndex,2)}).add(),!p.styledMode&&(A.attr({stroke:n.color||(b?De.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Ai(n.width,1)}).css({"pointer-events":"none"}),n.dashStyle&&A.attr({dashstyle:n.dashStyle}))),A.show().attr({d:f}),b&&!n.width&&A.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();bt(this,"afterDrawCrosshair",{e,point:s})}hideCrosshair(){this.cross&&this.cross.hide(),bt(this,"afterHideCrosshair")}update(e,s){let n=this.chart;e=Wi(this.userOptions,e),this.destroy(!0),this.init(n,e),n.isDirtyBox=!0,Ai(s,!0)&&n.redraw()}remove(e){let s=this.chart,n=this.coll,h=this.series,p=h.length;for(;p--;)h[p]&&h[p].remove(!1);I(s.axes,this),I(s[n]||[],this),s.orderItems(n),this.destroy(),s.isDirtyBox=!0,Ai(e,!0)&&s.redraw()}setTitle(e,s){this.update({title:e},s)}setCategories(e,s){this.update({categories:e},s)}}Th.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let eh=Th,{addEvent:qc,getMagnitude:Dd,normalizeTickInterval:nr,timeUnits:_l}=Ke;(function(_){function e(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function s(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new n(this))}_.compose=function(h){return h.keepProps.includes("dateTime")||(h.keepProps.push("dateTime"),h.prototype.getTimeTicks=e,qc(h,"afterSetType",s)),h};class n{constructor(p){this.axis=p}normalizeTimeTickInterval(p,f){let g=f||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],b=g[g.length-1],A=_l[b[0]],R=b[1],D;for(D=0;D<g.length&&(A=_l[(b=g[D])[0]],R=b[1],!g[D+1]||!(p<=(A*R[R.length-1]+_l[g[D+1][0]])/2));D++);A===_l.year&&p<5*A&&(R=[1,2,5]);let G=nr(p/A,R,b[0]==="year"?Math.max(Dd(p/A),1):1);return{unitRange:A,count:G,unitName:b[0]}}getXDateFormat(p,f){let{axis:g}=this,b=g.chart.time;return g.closestPointRange?b.getDateFormat(g.closestPointRange,p,g.options.startOfWeek,f)||b.resolveDTLFormat(f.year).main:b.resolveDTLFormat(f.day).main}}_.Additions=n})(ue||(ue={}));let gc=ue,{addEvent:mc,normalizeTickInterval:qh,pick:Ah}=Ke;(function(_){function e(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new n(this))}function s(){let h=this.logarithmic;h&&(this.lin2val=function(p){return h.lin2log(p)},this.val2lin=function(p){return h.log2lin(p)})}_.compose=function(h){return h.keepProps.includes("logarithmic")||(h.keepProps.push("logarithmic"),mc(h,"afterSetType",e),mc(h,"afterInit",s)),h};class n{constructor(p){this.axis=p}getLogTickPositions(p,f,g,b){let A=this.axis,R=A.len,D=A.options,G=[];if(b||(this.minorAutoInterval=void 0),p>=.5)p=Math.round(p),G=A.getLinearTickPositions(p,f,g);else if(p>=.08){let Z,Q,st,rt,ot,gt,vt,Ft=Math.floor(f);for(Z=p>.3?[1,2,4]:p>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],Q=Ft;Q<g+1&&!vt;Q++)for(st=0,rt=Z.length;st<rt&&!vt;st++)(ot=this.log2lin(this.lin2log(Q)*Z[st]))>f&&(!b||gt<=g)&&gt!==void 0&&G.push(gt),gt>g&&(vt=!0),gt=ot}else{let Z=this.lin2log(f),Q=this.lin2log(g),st=b?A.getMinorTickInterval():D.tickInterval,rt=D.tickPixelInterval/(b?5:1),ot=b?R/A.tickPositions.length:R;p=qh(p=Ah(st==="auto"?null:st,this.minorAutoInterval,(Q-Z)*rt/(ot||1))),G=A.getLinearTickPositions(p,Z,Q).map(this.log2lin),b||(this.minorAutoInterval=p/5)}return b||(A.tickInterval=p),G}lin2log(p){return Math.pow(10,p)}log2lin(p){return Math.log(p)/Math.LN10}}_.Additions=n})(le||(le={}));let Kh=le,{erase:_a,extend:of,isNumber:Xp}=Ke;(function(_){let e;function s(A){return this.addPlotBandOrLine(A,"plotBands")}function n(A,R){let D=this.userOptions,G=new e(this,A);if(this.visible&&(G=G.render()),G){if(this._addedPlotLB||(this._addedPlotLB=!0,(D.plotLines||[]).concat(D.plotBands||[]).forEach(Z=>{this.addPlotBandOrLine(Z)})),R){let Z=D[R]||[];Z.push(A),D[R]=Z}this.plotLinesAndBands.push(G)}return G}function h(A){return this.addPlotBandOrLine(A,"plotLines")}function p(A,R,D){D=D||this.options;let G=this.getPlotLinePath({value:R,force:!0,acrossPanes:D.acrossPanes}),Z=[],Q=this.horiz,st=!Xp(this.min)||!Xp(this.max)||A<this.min&&R<this.min||A>this.max&&R>this.max,rt=this.getPlotLinePath({value:A,force:!0,acrossPanes:D.acrossPanes}),ot,gt=1,vt;if(rt&&G)for(st&&(vt=rt.toString()===G.toString(),gt=0),ot=0;ot<rt.length;ot+=2){let Ft=rt[ot],Wt=rt[ot+1],Ht=G[ot],ce=G[ot+1];(Ft[0]==="M"||Ft[0]==="L")&&(Wt[0]==="M"||Wt[0]==="L")&&(Ht[0]==="M"||Ht[0]==="L")&&(ce[0]==="M"||ce[0]==="L")&&(Q&&Ht[1]===Ft[1]?(Ht[1]+=gt,ce[1]+=gt):Q||Ht[2]!==Ft[2]||(Ht[2]+=gt,ce[2]+=gt),Z.push(["M",Ft[1],Ft[2]],["L",Wt[1],Wt[2]],["L",ce[1],ce[2]],["L",Ht[1],Ht[2]],["Z"])),Z.isFlat=vt}return Z}function f(A){this.removePlotBandOrLine(A)}function g(A){let R=this.plotLinesAndBands,D=this.options,G=this.userOptions;if(R){let Z=R.length;for(;Z--;)R[Z].id===A&&R[Z].destroy();[D.plotLines||[],G.plotLines||[],D.plotBands||[],G.plotBands||[]].forEach(function(Q){var st;for(Z=Q.length;Z--;)((st=Q[Z])==null?void 0:st.id)===A&&_a(Q,Q[Z])})}}function b(A){this.removePlotBandOrLine(A)}_.compose=function(A,R){let D=R.prototype;return D.addPlotBand||(e=A,of(D,{addPlotBand:s,addPlotLine:h,addPlotBandOrLine:n,getPlotBandPath:p,removePlotBand:f,removePlotLine:b,removePlotBandOrLine:g})),R}})(oe||(oe={}));let nf=oe,{addEvent:Yp,arrayMax:xc,arrayMin:Kc,defined:Pn,destroyObjectProperties:Jc,erase:Jh,fireEvent:pl,merge:yc,objectEach:Qc,pick:Qh}=Ke;class td{static compose(e,s){return Yp(e,"afterInit",function(){this.labelCollectors.push(()=>{var h;let n=[];for(let p of this.axes)for(let{label:f,options:g}of p.plotLinesAndBands)f&&!((h=g==null?void 0:g.label)!=null&&h.allowOverlap)&&n.push(f);return n})}),nf.compose(td,s)}constructor(e,s){this.axis=e,this.options=s,this.id=s.id}render(){pl(this,"render");let{axis:e,options:s}=this,{horiz:n,logarithmic:h}=e,{color:p,events:f,zIndex:g=0}=s,{renderer:b,time:A}=e.chart,R={},D=A.parse(s.to),G=A.parse(s.from),Z=A.parse(s.value),Q=s.borderWidth,st=s.label,{label:rt,svgElem:ot}=this,gt=[],vt,Ft=Pn(G)&&Pn(D),Wt=Pn(Z),Ht=!ot,ce={class:"highcharts-plot-"+(Ft?"band ":"line ")+(s.className||"")},Jt=Ft?"bands":"lines";if(!e.chart.styledMode&&(Wt?(ce.stroke=p||"#999999",ce["stroke-width"]=Qh(s.width,1),s.dashStyle&&(ce.dashstyle=s.dashStyle)):Ft&&(ce.fill=p||"#e6e9ff",Q&&(ce.stroke=s.borderColor,ce["stroke-width"]=Q))),R.zIndex=g,Jt+="-"+g,(vt=e.plotLinesAndBandsGroups[Jt])||(e.plotLinesAndBandsGroups[Jt]=vt=b.g("plot-"+Jt).attr(R).add()),ot||(this.svgElem=ot=b.path().attr(ce).add(vt)),Pn(Z))gt=e.getPlotLinePath({value:(h==null?void 0:h.log2lin(Z))??Z,lineWidth:ot.strokeWidth(),acrossPanes:s.acrossPanes});else{if(!(Pn(G)&&Pn(D)))return;gt=e.getPlotBandPath((h==null?void 0:h.log2lin(G))??G,(h==null?void 0:h.log2lin(D))??D,s)}return!this.eventsAdded&&f&&(Qc(f,(ie,Pe)=>{ot==null||ot.on(Pe,Re=>{f[Pe].apply(this,[Re])})}),this.eventsAdded=!0),(Ht||!ot.d)&&(gt!=null&&gt.length)?ot.attr({d:gt}):ot&&(gt?(ot.show(),ot.animate({d:gt})):ot.d&&(ot.hide(),rt&&(this.label=rt=rt.destroy()))),st&&(Pn(st.text)||Pn(st.formatter))&&(gt!=null&&gt.length)&&e.width>0&&e.height>0&&!gt.isFlat?(st=yc({align:n&&Ft?"center":void 0,x:n?!Ft&&4:10,verticalAlign:!n&&Ft?"middle":void 0,y:n?Ft?16:10:Ft?6:-4,rotation:n&&!Ft?90:0,...Ft?{inside:!0}:{}},st),this.renderLabel(st,gt,Ft,g)):rt&&rt.hide(),this}renderLabel(e,s,n,h){var Q,st;let p=this.axis,f=p.chart.renderer,g=e.inside,b=this.label;b||(this.label=b=f.text(this.getLabelText(e),0,0,e.useHTML).attr({align:e.textAlign||e.align,rotation:e.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(e.className||""),zIndex:h}),p.chart.styledMode||b.css(yc({color:(Q=p.chart.options.title)==null?void 0:Q.style.color,fontSize:"0.8em",textOverflow:n&&!g?"":"ellipsis"},e.style)),b.add());let A=s.xBounds||[s[0][1],s[1][1],n?s[2][1]:s[0][1]],R=s.yBounds||[s[0][2],s[1][2],n?s[2][2]:s[0][2]],D=Kc(A),G=Kc(R),Z=xc(A)-D;b.align(e,!1,{x:D,y:G,width:Z,height:xc(R)-G}),b.alignAttr.y-=f.fontMetrics(b).b,(!b.alignValue||b.alignValue==="left"||Pn(g))&&b.css({width:(((st=e.style)==null?void 0:st.width)||(n&&g?Z:b.rotation===90?p.height-(b.alignAttr.y-p.top):(e.clip?p.width:p.chart.chartWidth)-(b.alignAttr.x-p.left)))+"px"}),b.show(!0)}getLabelText(e){return Pn(e.formatter)?e.formatter.call(this):e.text}destroy(){Jh(this.axis.plotLinesAndBands,this),delete this.axis,Jc(this)}}let{animObject:af}=Gr,{format:Ph}=hr,{composed:zd,dateFormats:jp,doc:Up,isSafari:tp}=ge,{distribute:vc}=xn,{addEvent:ed,clamp:ih,css:Vp,discardElement:Zp,extend:id,fireEvent:oa,getAlignFactor:$p,isArray:ep,isNumber:ip,isObject:bc,isString:ul,merge:qp,pick:Ch,pushUnique:wc,splat:sp,syncTimeout:Ll}=Ke;class Rd{constructor(e,s,n){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=e,this.init(e,s),this.pointer=n}bodyFormatter(e){return e.map(s=>{let n=s.series.tooltipOptions,h=s.formatPrefix||"point";return(n[h+"Formatter"]||s.tooltipFormatter).call(s,n[h+"Format"]||"")})}cleanSplit(e){this.chart.series.forEach(function(s){let n=s==null?void 0:s.tt;n&&(!n.isActive||e?s.tt=n.destroy():n.isActive=!1)})}defaultFormatter(e){let s,n=this.points||sp(this);return(s=(s=[e.headerFooterFormatter(n[0])]).concat(e.bodyFormatter(n))).push(e.headerFooterFormatter(n[0],!0)),s}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Zp(this.container)),Ke.clearTimeout(this.hideTimer)}getAnchor(e,s){var R;let n,{chart:h,pointer:p}=this,f=h.inverted,g=h.plotTop,b=h.plotLeft;if(e=sp(e),(R=e[0].series)!=null&&R.yAxis&&!e[0].series.yAxis.options.reversedStacks&&(e=e.slice().reverse()),this.followPointer&&s)s.chartX===void 0&&(s=p.normalize(s)),n=[s.chartX-b,s.chartY-g];else if(e[0].tooltipPos)n=e[0].tooltipPos;else{let D=0,G=0;e.forEach(function(Z){let Q=Z.pos(!0);Q&&(D+=Q[0],G+=Q[1])}),D/=e.length,G/=e.length,this.shared&&e.length>1&&s&&(f?D=s.chartX:G=s.chartY),n=[D-b,G-g]}let A={point:e[0],ret:n};return oa(this,"getAnchor",A),A.ret.map(Math.round)}getClassName(e,s,n){let h=this.options,p=e.series,f=p.options;return[h.className,"highcharts-label",n&&"highcharts-tooltip-header",s?"highcharts-tooltip-box":"highcharts-tooltip",!n&&"highcharts-color-"+Ch(e.colorIndex,p.colorIndex),f==null?void 0:f.className].filter(ul).join(" ")}getLabel({anchorX:e,anchorY:s}={anchorX:0,anchorY:0}){let n=this,h=this.chart.styledMode,p=this.options,f=this.split&&this.allowShared,g=this.container,b=this.chart.renderer;if(this.label){let A=!this.label.hasClass("highcharts-label");(!f&&A||f&&!A)&&this.destroy()}if(!this.label){if(this.outside){let A=this.chart,R=A.options.chart.style,D=Un.getRendererType();this.container=g=ge.doc.createElement("div"),g.className="highcharts-tooltip-container "+(A.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Vp(g,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((R==null?void 0:R.zIndex)||0)+3)}),this.renderer=b=new D(g,0,0,R,void 0,void 0,b.styledMode)}if(f?this.label=b.g("tooltip"):(this.label=b.label("",e,s,p.shape||"callout",void 0,void 0,p.useHTML,void 0,"tooltip").attr({padding:p.padding,r:p.borderRadius}),h||this.label.attr({fill:p.backgroundColor,"stroke-width":p.borderWidth||0}).css(p.style).css({pointerEvents:p.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),n.outside){let A=this.label;[A.xSetter,A.ySetter].forEach((R,D)=>{A[D?"ySetter":"xSetter"]=G=>{R.call(A,n.distance),A[D?"y":"x"]=G,g&&(g.style[D?"top":"left"]=`${G}px`)}})}this.label.attr({zIndex:8}).shadow(p.shadow??!p.fixed).add()}return g&&!g.parentElement&&ge.doc.body.appendChild(g),this.label}getPlayingField(){let{body:e,documentElement:s}=Up,{chart:n,distance:h,outside:p}=this;return{width:p?Math.max(e.scrollWidth,s.scrollWidth,e.offsetWidth,s.offsetWidth,s.clientWidth)-2*h-2:n.chartWidth,height:p?Math.max(e.scrollHeight,s.scrollHeight,e.offsetHeight,s.offsetHeight,s.clientHeight):n.chartHeight}}getPosition(e,s,n){var yi,_i;let{distance:h,chart:p,outside:f,pointer:g}=this,{inverted:b,plotLeft:A,plotTop:R,polar:D}=p,{plotX:G=0,plotY:Z=0}=n,Q={},st=b&&n.h||0,{height:rt,width:ot}=this.getPlayingField(),gt=g.getChartPosition(),vt=ui=>ui*gt.scaleX,Ft=ui=>ui*gt.scaleY,Wt=ui=>{let Yi=ui==="x";return[ui,Yi?ot:rt,Yi?e:s].concat(f?[Yi?vt(e):Ft(s),Yi?gt.left-h+vt(G+A):gt.top-h+Ft(Z+R),0,Yi?ot:rt]:[Yi?e:s,Yi?G+A:Z+R,Yi?A:R,Yi?A+p.plotWidth:R+p.plotHeight])},Ht=Wt("y"),ce=Wt("x"),Jt,ie=!!n.negative;!D&&((_i=(yi=p.hoverSeries)==null?void 0:yi.yAxis)!=null&&_i.reversed)&&(ie=!ie);let Pe=!this.followPointer&&Ch(n.ttBelow,!D&&!b===ie),Re=function(ui,Yi,Cs,fs,gs,Ko,vs){let qs=f?ui==="y"?Ft(h):vt(h):h,ps=(Cs-fs)/2,qi=fs<gs-h,Bo=gs+h+fs<Yi,vr=gs-qs-Cs+ps,$r=gs+qs-ps;if(Pe&&Bo)Q[ui]=$r;else if(!Pe&&qi)Q[ui]=vr;else if(qi)Q[ui]=Math.min(vs-fs,vr-st<0?vr:vr-st);else{if(!Bo)return Q[ui]=0,!1;Q[ui]=Math.max(Ko,$r+st+Cs>Yi?$r:$r+st)}},Ye=function(ui,Yi,Cs,fs,gs){if(gs<h||gs>Yi-h)return!1;gs<Cs/2?Q[ui]=1:gs>Yi-fs/2?Q[ui]=Yi-fs-2:Q[ui]=gs-Cs/2},ei=function(ui){[Ht,ce]=[ce,Ht],Jt=ui},Si=()=>{Re.apply(0,Ht)!==!1?Ye.apply(0,ce)!==!1||Jt||(ei(!0),Si()):Jt?Q.x=Q.y=0:(ei(!0),Si())};return(b&&!D||this.len>1)&&ei(),Si(),Q}getFixedPosition(e,s,n){var G;let h=n.series,{chart:p,options:f,split:g}=this,b=f.position,A=b.relativeTo,R=f.shared||(G=h==null?void 0:h.yAxis)!=null&&G.isRadial&&(A==="pane"||!A)?"plotBox":A,D=R==="chart"?p.renderer:p[R]||p.getClipBox(h,!0);return{x:D.x+(D.width-e)*$p(b.align)+b.x,y:D.y+(D.height-s)*$p(b.verticalAlign)+(!g&&b.y||0)}}hide(e){let s=this;Ke.clearTimeout(this.hideTimer),e=Ch(e,this.options.hideDelay),this.isHidden||(this.hideTimer=Ll(function(){let n=s.getLabel();s.getLabel().animate({opacity:0},{duration:e&&150,complete:()=>{n.hide(),s.container&&s.container.remove()}}),s.isHidden=!0},e))}init(e,s){this.chart=e,this.options=s,this.crosshairs=[],this.isHidden=!0,this.split=s.split&&!e.inverted&&!e.polar,this.shared=s.shared||this.split,this.outside=Ch(s.outside,!!(e.scrollablePixelsX||e.scrollablePixelsY))}shouldStickOnContact(e){return!!(!this.followPointer&&this.options.stickOnContact&&(!e||this.pointer.inClass(e.target,"highcharts-tooltip")))}move(e,s,n,h){let{followPointer:p,options:f}=this,g=af(!p&&!this.isHidden&&!f.fixed&&f.animation),b=p||(this.len||0)>1,A={x:e,y:s};b?A.anchorX=A.anchorY=NaN:(A.anchorX=n,A.anchorY=h),g.step=()=>this.drawTracker(),this.getLabel().animate(A,g)}refresh(e,s){let{chart:n,options:h,pointer:p,shared:f}=this,g=sp(e),b=g[0],A=h.format,R=h.formatter||this.defaultFormatter,D=n.styledMode,G=this.allowShared;if(!h.enabled||!b.series)return;Ke.clearTimeout(this.hideTimer),this.allowShared=!(!ep(e)&&e.series&&e.series.noSharedTooltip),G=G&&!this.allowShared,this.followPointer=!this.split&&b.series.tooltipOptions.followPointer;let Z=this.getAnchor(e,s),Q=Z[0],st=Z[1];f&&this.allowShared&&(p.applyInactiveState(g),g.forEach(gt=>gt.setState("hover")),b.points=g),this.len=g.length;let rt=ul(A)?Ph(A,b,n):R.call(b,this);b.points=void 0;let ot=b.series;if(this.distance=Ch(ot.tooltipOptions.distance,16),rt===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(rt,g);else{let gt=Q,vt=st;if(s&&p.isDirectTouch&&(gt=s.chartX-n.plotLeft,vt=s.chartY-n.plotTop),!(n.polar||ot.options.clip===!1||g.some(Ft=>p.isDirectTouch||Ft.series.shouldShowTooltip(gt,vt))))return void this.hide();{let Ft=this.getLabel(G&&this.tt||{});(!h.style.width||D)&&Ft.css({width:(this.outside?this.getPlayingField():n.spacingBox).width+"px"}),Ft.attr({class:this.getClassName(b),text:rt&&rt.join?rt.join(""):rt}),this.outside&&Ft.attr({x:ih(Ft.x||0,0,this.getPlayingField().width-(Ft.width||0)-1)}),D||Ft.attr({stroke:h.borderColor||b.color||ot.color||"#666666"}),this.updatePosition({plotX:Q,plotY:st,negative:b.negative,ttBelow:b.ttBelow,series:ot,h:Z[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}oa(this,"refresh")}renderSplit(e,s){var gs,Ko;let n=this,{chart:h,chart:{chartWidth:p,chartHeight:f,plotHeight:g,plotLeft:b,plotTop:A,scrollablePixelsY:R=0,scrollablePixelsX:D,styledMode:G},distance:Z,options:Q,options:{fixed:st,position:rt,positioner:ot},pointer:gt}=n,{scrollLeft:vt=0,scrollTop:Ft=0}=((gs=h.scrollablePlotArea)==null?void 0:gs.scrollingContainer)||{},Wt=n.outside&&typeof D!="number"?Up.documentElement.getBoundingClientRect():{left:vt,right:vt+p},Ht=n.getLabel(),ce=this.renderer||h.renderer,Jt=!!((Ko=h.xAxis[0])!=null&&Ko.opposite),{left:ie,top:Pe}=gt.getChartPosition(),Re=ot||st,Ye=A+Ft,ei=0,Si=g-R,yi=function(vs,qs,ps,qi=[0,0],Bo=!0){let vr,$r;if(ps.isHeader)$r=Jt?0:Si,vr=ih(qi[0]-vs/2,Wt.left,Wt.right-vs-(n.outside?ie:0));else if(st&&ps){let Ln=n.getFixedPosition(vs,qs,ps);vr=Ln.x,$r=Ln.y-Ye}else $r=qi[1]-Ye,vr=ih(vr=Bo?qi[0]-vs-Z:qi[0]+Z,Bo?vr:Wt.left,Wt.right);return{x:vr,y:$r}};ul(e)&&(e=[!1,e]);let _i=e.slice(0,s.length+1).reduce(function(vs,qs,ps){if(qs!==!1&&qs!==""){let qi=s[ps-1]||{isHeader:!0,plotX:s[0].plotX,plotY:g,series:{}},Bo=qi.isHeader,vr=Bo?n:qi.series,$r=vr.tt=function(T,t,r){let a=T,{isHeader:d,series:u}=t,m=u.tooltipOptions||Q;if(!a){let v={padding:m.padding,r:m.borderRadius};G||(v.fill=m.backgroundColor,v["stroke-width"]=m.borderWidth??(st&&!d?0:1)),a=ce.label("",0,0,m[d?"headerShape":"shape"]||(st&&!d?"rect":"callout"),void 0,void 0,m.useHTML).addClass(n.getClassName(t,!0,d)).attr(v).add(Ht)}return a.isActive=!0,a.attr({text:r}),G||a.css(m.style).attr({stroke:m.borderColor||t.color||u.color||"#333333"}),a}(vr.tt,qi,qs.toString()),Ln=$r.getBBox(),lc=Ln.width+$r.strokeWidth();Bo&&(ei=Ln.height,Si+=ei,Jt&&(Ye-=ei));let{anchorX:fh,anchorY:Rn}=function(T){let t,r,{isHeader:a,plotX:d=0,plotY:u=0,series:m}=T;if(a)t=Math.max(b+d,b),r=A+g/2;else{let{xAxis:v,yAxis:k}=m;t=v.pos+ih(d,-Z,v.len+Z),m.shouldShowTooltip(0,k.pos-A+u,{ignoreX:!0})&&(r=k.pos+u)}return{anchorX:t=ih(t,Wt.left-Z,Wt.right+Z),anchorY:r}}(qi);if(typeof Rn=="number"){let T=Ln.height+1,t=(ot||yi).call(n,lc,T,qi,[fh,Rn]);vs.push({align:Re?0:void 0,anchorX:fh,anchorY:Rn,boxWidth:lc,point:qi,rank:Ch(t.rank,+!!Bo),size:T,target:t.y,tt:$r,x:t.x})}else $r.isActive=!1}return vs},[]);!Re&&_i.some(vs=>{let{outside:qs}=n,ps=(qs?ie:0)+vs.anchorX;return ps<Wt.left&&ps+vs.boxWidth<Wt.right||ps<ie-Wt.left+vs.boxWidth&&Wt.right-ps>ps})&&(_i=_i.map(vs=>{let{x:qs,y:ps}=yi.call(this,vs.boxWidth,vs.size,vs.point,[vs.anchorX,vs.anchorY],!1);return id(vs,{target:ps,x:qs})})),n.cleanSplit(),vc(_i,Si);let ui={left:ie,right:ie};_i.forEach(function(vs){let{x:qs,boxWidth:ps,isHeader:qi}=vs;!qi&&(n.outside&&ie+qs<ui.left&&(ui.left=ie+qs),!qi&&n.outside&&ui.left+ps>ui.right&&(ui.right=ie+qs))}),_i.forEach(function(vs){let{x:qs,anchorX:ps,anchorY:qi,pos:Bo,point:{isHeader:vr}}=vs,$r={visibility:Bo===void 0?"hidden":"inherit",x:qs,y:(Bo||0)+Ye+(st&&rt.y||0),anchorX:ps,anchorY:qi};if(n.outside&&qs<ps){let Ln=ie-ui.left;Ln>0&&(vr||($r.x=qs+Ln,$r.anchorX=ps+Ln),vr&&($r.x=(ui.right-ui.left)/2,$r.anchorX=ps+Ln))}vs.tt.attr($r)});let{container:Yi,outside:Cs,renderer:fs}=n;if(Cs&&Yi&&fs){let{width:vs,height:qs,x:ps,y:qi}=Ht.getBBox();fs.setSize(vs+ps,qs+qi,!1),Yi.style.left=ui.left+"px",Yi.style.top=Pe+"px"}tp&&Ht.attr({opacity:Ht.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let e=this.chart,s=this.label,n=this.shared?e.hoverPoints:e.hoverPoint;if(!s||!n)return;let h={x:0,y:0,width:0,height:0},p=this.getAnchor(n),f=s.getBBox();p[0]+=e.plotLeft-(s.translateX||0),p[1]+=e.plotTop-(s.translateY||0),h.x=Math.min(0,p[0]),h.y=Math.min(0,p[1]),h.width=p[0]<0?Math.max(Math.abs(p[0]),f.width-p[0]):Math.max(Math.abs(p[0]),f.width),h.height=p[1]<0?Math.max(Math.abs(p[1]),f.height-Math.abs(p[1])):Math.max(Math.abs(p[1]),f.height),this.tracker?this.tracker.attr(h):(this.tracker=s.renderer.rect(h).addClass("highcharts-tracker").add(s),e.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(e){return e.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(e,s){let n=e.series,h=n.tooltipOptions,p=n.xAxis,f=p==null?void 0:p.dateTime,g={isFooter:s,point:e},b=h.xDateFormat||"",A=h[s?"footerFormat":"headerFormat"];return oa(this,"headerFormatter",g,function(R){if(f&&!b&&ip(e.key)&&(b=f.getXDateFormat(e.key,h.dateTimeLabelFormats)),f&&b){if(bc(b)){let D=b;jp[0]=G=>n.chart.time.dateFormat(D,G),b="%0"}(e.tooltipDateKeys||["key"]).forEach(D=>{A=A.replace(RegExp("point\\."+D+"([ \\)}])"),`(point.${D}:${b})$1`)})}n.chart.styledMode&&(A=this.styledModeFormat(A)),R.text=Ph(A,e,this.chart)}),g.text||""}update(e){this.destroy(),this.init(this.chart,qp(!0,this.options,e))}updatePosition(e){var Wt;let{chart:s,container:n,distance:h,options:p,pointer:f,renderer:g}=this,{height:b=0,width:A=0}=this.getLabel(),{fixed:R,positioner:D}=p,{left:G,top:Z,scaleX:Q,scaleY:st}=f.getChartPosition(),rt=(D||R&&this.getFixedPosition||this.getPosition).call(this,A,b,e),ot=ge.doc,gt=(e.plotX||0)+s.plotLeft,vt=(e.plotY||0)+s.plotTop,Ft;if(g&&n){if(D||R){let{scrollLeft:Ht=0,scrollTop:ce=0}=((Wt=s.scrollablePlotArea)==null?void 0:Wt.scrollingContainer)||{};rt.x+=Ht+G-h,rt.y+=ce+Z-h}Ft=(p.borderWidth||0)+2*h+2,g.setSize(ih(A+Ft,0,ot.documentElement.clientWidth)-1,b+Ft,!1),(Q!==1||st!==1)&&(Vp(n,{transform:`scale(${Q}, ${st})`}),gt*=Q,vt*=st),gt+=G-rt.x,vt+=Z-rt.y}this.move(Math.round(rt.x),Math.round(rt.y||0),gt,vt)}}(function(_){_.compose=function(e){wc(zd,"Core.Tooltip")&&ed(e,"afterInit",function(){let s=this.chart;s.options.tooltip&&(s.tooltip=new _(s,s.options.tooltip,this))})}})(Rd||(Rd={}));let sh=Rd,{animObject:kc}=Gr,{defaultOptions:rp}=Ni,{format:Kp}=hr,{addEvent:lf,crisp:rh,erase:Nd,extend:Wd,fireEvent:La,getNestedProperty:hf,isArray:Fd,isFunction:op,isNumber:Cn,isObject:As,merge:Jp,pick:ct,syncTimeout:O,removeEvent:Y,uniqueKey:V}=Ke;class et{animateBeforeDestroy(){let e=this,s={x:e.startXPos,opacity:0},n=e.getGraphicalProps();n.singular.forEach(function(h){e[h]=e[h].animate(h==="dataLabel"?{x:e[h].startXPos,y:e[h].startYPos,opacity:0}:s)}),n.plural.forEach(function(h){e[h].forEach(function(p){p.element&&p.animate(Wd({x:e.startXPos},p.startYPos?{x:p.startXPos,y:p.startYPos}:{}))})})}applyOptions(e,s){let n=this.series,h=n.options.pointValKey||n.pointValKey;return Wd(this,e=et.prototype.optionsToObject.call(this,e)),this.options=this.options?Wd(this.options,e):e,e.group&&delete this.group,e.dataLabels&&delete this.dataLabels,h&&(this.y=et.prototype.getNestedProperty.call(this,h)),this.selected&&(this.state="select"),"name"in this&&s===void 0&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),this.x===void 0&&n?this.x=s??n.autoIncrement():Cn(e.x)&&n.options.relativeXValue?this.x=n.autoIncrement(e.x):typeof this.x=="string"&&(s??(s=n.chart.time.parse(this.x)),Cn(s)&&(this.x=s)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let e=this,s=e.series,n=s.chart,h=s.options.dataSorting,p=n.hoverPoints,f=kc(e.series.chart.renderer.globalAnimation),g=()=>{for(let b in(e.graphic||e.graphics||e.dataLabel||e.dataLabels)&&(Y(e),e.destroyElements()),e)delete e[b]};e.legendItem&&n.legend.destroyItem(e),p&&(e.setState(),Nd(p,e),p.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),h!=null&&h.enabled?(this.animateBeforeDestroy(),O(g,f.duration)):g(),n.pointCount--}this.destroyed=!0}destroyElements(e){let s=this,n=s.getGraphicalProps(e);n.singular.forEach(function(h){s[h]=s[h].destroy()}),n.plural.forEach(function(h){s[h].forEach(function(p){p!=null&&p.element&&p.destroy()}),delete s[h]})}firePointEvent(e,s,n){let h=this,p=this.series.options;h.manageEvent(e),e==="click"&&p.allowPointSelect&&(n=function(f){!h.destroyed&&h.select&&h.select(null,f.ctrlKey||f.metaKey||f.shiftKey)}),La(h,e,s,n)}getClassName(){var e;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((e=this.zone)!=null&&e.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(e){let s,n,h=this,p=[],f={singular:[],plural:[]};for((e=e||{graphic:1,dataLabel:1}).graphic&&p.push("graphic","connector"),e.dataLabel&&p.push("dataLabel","dataLabelPath","dataLabelUpper"),n=p.length;n--;)h[s=p[n]]&&f.singular.push(s);return["graphic","dataLabel"].forEach(function(g){let b=g+"s";e[g]&&h[b]&&f.plural.push(b)}),f}getNestedProperty(e){if(e)return e.indexOf("custom.")===0?hf(e,this.options):this[e]}getZone(){let e=this.series,s=e.zones,n=e.zoneAxis||"y",h,p=0;for(h=s[0];this[n]>=h.value;)h=s[++p];return this.nonZonedColor||(this.nonZonedColor=this.color),h!=null&&h.color&&!this.options.color?this.color=h.color:this.color=this.nonZonedColor,h}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(e,s,n){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=e,this.applyOptions(s,n),this.id??(this.id=V()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=e.options.nullInteraction),e.chart.pointCount++,La(this,"afterInit")}isValid(){return(Cn(this.x)||this.x instanceof Date)&&Cn(this.y)}optionsToObject(e){var R;let s=this.series,n=s.options.keys,h=n||s.pointArrayMap||["y"],p=h.length,f={},g,b=0,A=0;if(Cn(e)||e===null)f[h[0]]=e;else if(Fd(e))for(!n&&e.length>p&&((g=typeof e[0])=="string"?(R=s.xAxis)!=null&&R.dateTime?f.x=s.chart.time.parse(e[0]):f.name=e[0]:g==="number"&&(f.x=e[0]),b++);A<p;)n&&e[b]===void 0||(h[A].indexOf(".")>0?et.prototype.setNestedProperty(f,e[b],h[A]):f[h[A]]=e[b]),b++,A++;else typeof e=="object"&&(f=e,e.dataLabels&&(s.hasDataLabels=()=>!0),e.marker&&(s._hasPointMarkers=!0));return f}pos(e,s=this.plotY){if(!this.destroyed){let{plotX:n,series:h}=this,{chart:p,xAxis:f,yAxis:g}=h,b=0,A=0;if(Cn(n)&&Cn(s))return e&&(b=f?f.pos:p.plotLeft,A=g?g.pos:p.plotTop),p.inverted&&f&&g?[g.len-s+A,f.len-n+b]:[n+b,s+A]}}resolveColor(){let e=this.series,s=e.chart.options.chart,n=e.chart.styledMode,h,p,f=s.colorCount,g;delete this.nonZonedColor,e.options.colorByPoint?(n||(h=(p=e.options.colors||e.chart.options.colors)[e.colorCounter],f=p.length),g=e.colorCounter,e.colorCounter++,e.colorCounter===f&&(e.colorCounter=0)):(n||(h=e.color),g=e.colorIndex),this.colorIndex=ct(this.options.colorIndex,g),this.color=ct(this.options.color,h)}setNestedProperty(e,s,n){return n.split(".").reduce(function(h,p,f,g){let b=g.length-1===f;return h[p]=b?s:As(h[p],!0)?h[p]:{},h[p]},e),e}shouldDraw(){return!this.isNull}tooltipFormatter(e){var b;let{chart:s,pointArrayMap:n=["y"],tooltipOptions:h}=this.series,{valueDecimals:p="",valuePrefix:f="",valueSuffix:g=""}=h;return s.styledMode&&(e=((b=s.tooltip)==null?void 0:b.styledModeFormat(e))||e),n.forEach(A=>{A="{point."+A,(f||g)&&(e=e.replace(RegExp(A+"}","g"),f+A+"}"+g)),e=e.replace(RegExp(A+"}","g"),A+":,."+p+"f}")}),Kp(e,this,s)}update(e,s,n,h){let p,f=this,g=f.series,b=f.graphic,A=g.chart,R=g.options;function D(){f.applyOptions(e);let G=b&&f.hasMockGraphic,Z=f.y===null?!G:G;b&&Z&&(f.graphic=b.destroy(),delete f.hasMockGraphic),As(e,!0)&&(b!=null&&b.element&&e&&e.marker&&e.marker.symbol!==void 0&&(f.graphic=b.destroy()),e!=null&&e.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy())),p=f.index;let Q={};for(let st of g.dataColumnKeys())Q[st]=f[st];g.dataTable.setRow(Q,p),R.data[p]=As(R.data[p],!0)||As(e,!0)?f.options:ct(e,R.data[p]),g.isDirty=g.isDirtyData=!0,!g.fixedBox&&g.hasCartesianSeries&&(A.isDirtyBox=!0),R.legendType==="point"&&(A.isDirtyLegend=!0),s&&A.redraw(n)}s=ct(s,!0),h===!1?D():f.firePointEvent("update",{options:e},D)}remove(e,s){this.series.removePoint(this.series.data.indexOf(this),e,s)}select(e,s){let n=this,h=n.series,p=h.chart;e=ct(e,!n.selected),this.selectedStaging=e,n.firePointEvent(e?"select":"unselect",{accumulate:s},function(){n.selected=n.options.selected=e,h.options.data[h.data.indexOf(n)]=n.options,n.setState(e&&"select"),s||p.getSelectedPoints().forEach(function(f){let g=f.series;f.selected&&f!==n&&(f.selected=f.options.selected=!1,g.options.data[g.data.indexOf(f)]=f.options,f.setState(p.hoverPoints&&g.options.inactiveOtherPoints?"inactive":""),f.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(e){let{inverted:s,pointer:n}=this.series.chart;n&&(e=e?n.normalize(e):n.getChartCoordinatesFromPoint(this,s),n.runPointActions(e,this))}onMouseOut(){let e=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(e.hoverPoints||[]).forEach(function(s){s.setState()}),e.hoverPoints=e.hoverPoint=null}manageEvent(e){var h,p,f,g,b,A,R;let s=Jp(this.series.options.point,this.options),n=(h=s.events)==null?void 0:h[e];op(n)&&(!((p=this.hcEvents)!=null&&p[e])||((g=(f=this.hcEvents)==null?void 0:f[e])==null?void 0:g.map(D=>D.fn).indexOf(n))===-1)?((b=this.importedUserEvent)==null||b.call(this),this.importedUserEvent=lf(this,e,n),this.hcEvents&&(this.hcEvents[e].userEvent=!0)):this.importedUserEvent&&!n&&((A=this.hcEvents)!=null&&A[e])&&((R=this.hcEvents)!=null&&R[e].userEvent)&&(Y(this,e),delete this.hcEvents[e],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(e,s){var Ht,ce;let n=this.series,h=this.state,p=n.options.states[e||"normal"]||{},f=rp.plotOptions[n.type].marker&&n.options.marker,g=f&&f.enabled===!1,b=((Ht=f==null?void 0:f.states)==null?void 0:Ht[e||"normal"])||{},A=b.enabled===!1,R=this.marker||{},D=n.chart,G=f&&n.markerAttribs,Z=n.halo,Q,st,rt,ot=n.stateMarkerGraphic,gt;if((e=e||"")===this.state&&!s||this.selected&&e!=="select"||p.enabled===!1||e&&(A||g&&b.enabled===!1)||e&&R.states&&R.states[e]&&R.states[e].enabled===!1)return;if(this.state=e,G&&(Q=n.markerAttribs(this,e)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),e&&this.graphic.addClass("highcharts-point-"+e),!D.styledMode){st=n.pointAttribs(this,e),rt=ct(D.options.chart.animation,p.animation);let Jt=st.opacity;n.options.inactiveOtherPoints&&Cn(Jt)&&(this.dataLabels||[]).forEach(function(ie){ie&&!ie.hasClass("highcharts-data-label-hidden")&&(ie.animate({opacity:Jt},rt),ie.connector&&ie.connector.animate({opacity:Jt},rt))}),this.graphic.animate(st,rt)}Q&&this.graphic.animate(Q,ct(D.options.chart.animation,b.animation,f.animation)),ot&&ot.hide()}else e&&b&&(gt=R.symbol||n.symbol,ot&&ot.currentSymbol!==gt&&(ot=ot.destroy()),Q&&(ot?ot[s?"animate":"attr"]({x:Q.x,y:Q.y}):gt&&(n.stateMarkerGraphic=ot=D.renderer.symbol(gt,Q.x,Q.y,Q.width,Q.height,Jp(f,b)).add(n.markerGroup),ot.currentSymbol=gt)),!D.styledMode&&ot&&this.state!=="inactive"&&ot.attr(n.pointAttribs(this,e))),ot&&(ot[e&&this.isInside?"show":"hide"](),ot.element.point=this,ot.addClass(this.getClassName(),!0));let vt=p.halo,Ft=this.graphic||ot,Wt=(Ft==null?void 0:Ft.visibility)||"inherit";vt!=null&&vt.size&&Ft&&Wt!=="hidden"&&!this.isCluster?(Z||(n.halo=Z=D.renderer.path().add(Ft.parentGroup)),Z.show()[s?"animate":"attr"]({d:this.haloPath(vt.size)}),Z.attr({class:"highcharts-halo highcharts-color-"+ct(this.colorIndex,n.colorIndex)+(this.className?" "+this.className:""),visibility:Wt,zIndex:-1}),Z.point=this,D.styledMode||Z.attr(Wd({fill:this.color||n.color,"fill-opacity":vt.opacity},Es.filterUserAttributes(vt.attributes||{})))):(ce=Z==null?void 0:Z.point)!=null&&ce.haloPath&&!Z.point.destroyed&&Z.animate({d:Z.point.haloPath(0)},null,Z.hide),La(this,"afterSetState",{state:e})}haloPath(e){let s=this.pos();return s?this.series.chart.renderer.symbols.circle(rh(s[0],1)-e,s[1]-e,2*e,2*e):[]}}let pt=et,{parse:ft}=De,{charts:kt,composed:Pt,isTouchDevice:Rt}=ge,{addEvent:St,attr:Dt,css:Ct,extend:At,find:Tt,fireEvent:Yt,isNumber:Gt,isObject:re,objectEach:Se,offset:Fe,pick:xe,pushUnique:Oe,splat:Ze}=Ke;class Te{applyInactiveState(e=[]){let s=[];e.forEach(n=>{let h=n.series;s.push(h),h.linkedParent&&s.push(h.linkedParent),h.linkedSeries&&s.push.apply(s,h.linkedSeries),h.navigatorSeries&&s.push(h.navigatorSeries),h.boosted&&h.markerGroup&&s.push.apply(s,this.chart.series.filter(p=>p.markerGroup===h.markerGroup))}),this.chart.series.forEach(n=>{s.indexOf(n)===-1?n.setState("inactive",!0):n.options.inactiveOtherPoints&&n.setAllPointsToState("inactive")})}destroy(){let e=this;this.eventsToUnbind.forEach(s=>s()),this.eventsToUnbind=[],!ge.chartCount&&(Te.unbindDocumentMouseUp.forEach(s=>s.unbind()),Te.unbindDocumentMouseUp.length=0,Te.unbindDocumentTouchEnd&&(Te.unbindDocumentTouchEnd=Te.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),Se(e,function(s,n){e[n]=void 0})}getSelectionMarkerAttrs(e,s){let n={args:{chartX:e,chartY:s},attrs:{},shapeType:"rect"};return Yt(this,"getSelectionMarkerAttrs",n,h=>{let p,{chart:f,zoomHor:g,zoomVert:b}=this,{mouseDownX:A=0,mouseDownY:R=0}=f,D=h.attrs;D.x=f.plotLeft,D.y=f.plotTop,D.width=g?1:f.plotWidth,D.height=b?1:f.plotHeight,g&&(D.width=Math.max(1,Math.abs(p=e-A)),D.x=(p>0?0:p)+A),b&&(D.height=Math.max(1,Math.abs(p=s-R)),D.y=(p>0?0:p)+R)}),n}drag(e){let{chart:s}=this,{mouseDownX:n=0,mouseDownY:h=0}=s,{panning:p,panKey:f,selectionMarkerFill:g}=s.options.chart,b=s.plotLeft,A=s.plotTop,R=s.plotWidth,D=s.plotHeight,G=re(p)?p.enabled:p,Z=f&&e[`${f}Key`],Q=e.chartX,st=e.chartY,rt,ot=this.selectionMarker;if((!ot||!ot.touch)&&(Q<b?Q=b:Q>b+R&&(Q=b+R),st<A?st=A:st>A+D&&(st=A+D),this.hasDragged=Math.sqrt(Math.pow(n-Q,2)+Math.pow(h-st,2)),this.hasDragged>10)){rt=s.isInsidePlot(n-b,h-A,{visiblePlotOnly:!0});let{shapeType:gt,attrs:vt}=this.getSelectionMarkerAttrs(Q,st);this.hasZoom&&rt&&!Z&&!ot&&(this.selectionMarker=ot=s.renderer[gt](),ot.attr({class:"highcharts-selection-marker",zIndex:7}).add(),s.styledMode||ot.attr({fill:g||ft("#334eff").setOpacity(.25).get()})),ot&&ot.attr(vt),rt&&!ot&&G&&s.pan(e,p)}}dragStart(e){let s=this.chart;s.mouseIsDown=e.type,s.cancelClick=!1,s.mouseDownX=e.chartX,s.mouseDownY=e.chartY}getSelectionBox(e){let s={args:{marker:e},result:e.getBBox()};return Yt(this,"getSelectionBox",s),s.result}drop(e){let s,{chart:n,selectionMarker:h}=this;for(let p of n.axes)p.isPanning&&(p.isPanning=!1,(p.options.startOnTick||p.options.endOnTick||p.series.some(f=>f.boosted))&&(p.forceRedraw=!0,p.setExtremes(p.userMin,p.userMax,!1),s=!0));if(s&&n.redraw(),h&&e){if(this.hasDragged){let p=this.getSelectionBox(h);n.transform({axes:n.axes.filter(f=>f.zoomEnabled&&(f.coll==="xAxis"&&this.zoomX||f.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:e,xAxis:[],yAxis:[],...p},from:p})}Gt(n.index)&&(this.selectionMarker=h.destroy())}n&&Gt(n.index)&&(Ct(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(e,s,n){let h;return e.forEach(function(p){let f=!(p.noSharedTooltip&&s)&&0>p.options.findNearestPointBy.indexOf("y"),g=p.searchPoint(n,f);re(g,!0)&&g.series&&(!re(h,!0)||function(b,A){var Z,Q;let R=b.distX-A.distX,D=b.dist-A.dist,G=((Z=A.series.group)==null?void 0:Z.zIndex)-((Q=b.series.group)==null?void 0:Q.zIndex);return R!==0&&s?R:D!==0?D:G!==0?G:b.series.index>A.series.index?-1:1}(h,g)>0)&&(h=g)}),h}getChartCoordinatesFromPoint(e,s){let{xAxis:n,yAxis:h}=e.series,p=e.shapeArgs;if(n&&h){let f=e.clientX??e.plotX??0,g=e.plotY||0;return e.isNode&&p&&Gt(p.x)&&Gt(p.y)&&(f=p.x,g=p.y),s?{chartX:h.len+h.pos-g,chartY:n.len+n.pos-f}:{chartX:f+n.pos,chartY:g+h.pos}}if(p!=null&&p.x&&p.y)return{chartX:p.x,chartY:p.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:e}=this.chart,s=Fe(e);this.chartPosition={left:s.left,top:s.top,scaleX:1,scaleY:1};let{offsetHeight:n,offsetWidth:h}=e;return h>2&&n>2&&(this.chartPosition.scaleX=s.width/h,this.chartPosition.scaleY=s.height/n),this.chartPosition}getCoordinates(e){let s={xAxis:[],yAxis:[]};for(let n of this.chart.axes)s[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])});return s}getHoverData(e,s,n,h,p,f){let g=[],b=function(Z){return Z.visible&&!(!p&&Z.directTouch)&&xe(Z.options.enableMouseTracking,!0)},A=s,R,D={chartX:f?f.chartX:void 0,chartY:f?f.chartY:void 0,shared:p};Yt(this,"beforeGetHoverData",D),R=A&&!A.stickyTracking?[A]:n.filter(Z=>Z.stickyTracking&&(D.filter||b)(Z));let G=h&&e||!f?e:this.findNearestKDPoint(R,p,f);return A=G==null?void 0:G.series,G&&(p&&!A.noSharedTooltip?(R=n.filter(function(Z){return D.filter?D.filter(Z):b(Z)&&!Z.noSharedTooltip})).forEach(function(Z){var rt;let Q=(rt=Z.options)==null?void 0:rt.nullInteraction,st=Tt(Z.points,function(ot){return ot.x===G.x&&(!ot.isNull||!!Q)});re(st)&&(Z.boosted&&Z.boost&&(st=Z.boost.getPoint(st)),g.push(st))}):g.push(G)),Yt(this,"afterGetHoverData",D={hoverPoint:G}),{hoverPoint:D.hoverPoint,hoverSeries:A,hoverPoints:g}}getPointFromEvent(e){let s=e.target,n;for(;s&&!n;)n=s.point,s=s.parentNode;return n}onTrackerMouseOut(e){let s=this.chart,n=e.relatedTarget,h=s.hoverSeries;this.isDirectTouch=!1,!h||!n||h.stickyTracking||this.inClass(n,"highcharts-tooltip")||this.inClass(n,"highcharts-series-"+h.index)&&this.inClass(n,"highcharts-tracker")||h.onMouseOut()}inClass(e,s){let n=e,h;for(;n;){if(h=Dt(n,"class")){if(h.indexOf(s)!==-1)return!0;if(h.indexOf("highcharts-container")!==-1)return!1}n=n.parentElement}}constructor(e,s){var n;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=s,this.chart=e,this.runChartClick=!!((n=s.chart.events)!=null&&n.click),this.pinchDown=[],this.setDOMEvents(),Yt(this,"afterInit")}normalize(e,s){let n=e.touches,h=n?n.length?n.item(0):xe(n.changedTouches,e.changedTouches)[0]:e;s||(s=this.getChartPosition());let p=h.pageX-s.left,f=h.pageY-s.top;return At(e,{chartX:Math.round(p/=s.scaleX),chartY:Math.round(f/=s.scaleY)})}onContainerClick(e){let s=this.chart,n=s.hoverPoint,h=this.normalize(e),p=s.plotLeft,f=s.plotTop;!s.cancelClick&&(n&&this.inClass(h.target,"highcharts-tracker")?(Yt(n.series,"click",At(h,{point:n})),s.hoverPoint&&n.firePointEvent("click",h)):(At(h,this.getCoordinates(h)),s.isInsidePlot(h.chartX-p,h.chartY-f,{visiblePlotOnly:!0})&&Yt(s,"click",h)))}onContainerMouseDown(e){var n;let s=(1&(e.buttons||e.button))==1;e=this.normalize(e),ge.isFirefox&&e.button!==0&&this.onContainerMouseMove(e),(e.button===void 0||s)&&(this.zoomOption(e),s&&((n=e.preventDefault)==null||n.call(e)),this.dragStart(e))}onContainerMouseLeave(e){let{pointer:s}=kt[xe(Te.hoverChartIndex,-1)]||{};e=this.normalize(e),this.onContainerMouseMove(e),s&&!this.inClass(e.relatedTarget,"highcharts-tooltip")&&(s.reset(),s.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(e){var p;let s=this.chart,n=s.tooltip,h=this.normalize(e);this.setHoverChartIndex(e),(s.mouseIsDown==="mousedown"||this.touchSelect(h))&&this.drag(h),!((p=s.exporting)!=null&&p.openMenu)&&(this.inClass(h.target,"highcharts-tracker")||s.isInsidePlot(h.chartX-s.plotLeft,h.chartY-s.plotTop,{visiblePlotOnly:!0}))&&!(n!=null&&n.shouldStickOnContact(h))&&(this.inClass(h.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(h))}onDocumentTouchEnd(e){this.onDocumentMouseUp(e)}onContainerTouchMove(e){this.touchSelect(e)?this.onContainerMouseMove(e):this.touch(e)}onContainerTouchStart(e){this.touchSelect(e)?this.onContainerMouseDown(e):(this.zoomOption(e),this.touch(e,!0))}onDocumentMouseMove(e){let s=this.chart,n=s.tooltip,h=this.chartPosition,p=this.normalize(e,h);!h||s.isInsidePlot(p.chartX-s.plotLeft,p.chartY-s.plotTop,{visiblePlotOnly:!0})||n!=null&&n.shouldStickOnContact(p)||p.target!==s.container.ownerDocument&&this.inClass(p.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(e){var s,n;(n=(s=kt[xe(Te.hoverChartIndex,-1)])==null?void 0:s.pointer)==null||n.drop(e)}pinch(e){let s=this,{chart:n,hasZoom:h,lastTouches:p}=s,f=[].map.call(e.touches||[],D=>s.normalize(D)),g=f.length,b=g===1&&(s.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||s.runChartClick),A=n.tooltip,R=g===1&&xe(A==null?void 0:A.options.followTouchMove,!0);g>1?s.initiated=!0:R&&(s.initiated=!1),h&&s.initiated&&!b&&e.cancelable!==!1&&e.preventDefault(),e.type==="touchstart"?(s.pinchDown=f,s.res=!0,n.mouseDownX=e.chartX):R?this.runPointActions(s.normalize(e)):p&&(Yt(n,"touchpan",{originalEvent:e,touches:f},()=>{let D=G=>{let Z=G[0],Q=G[1]||Z;return{x:Z.chartX,y:Z.chartY,width:Q.chartX-Z.chartX,height:Q.chartY-Z.chartY}};n.transform({axes:n.axes.filter(G=>G.zoomEnabled&&(this.zoomHor&&G.horiz||this.zoomVert&&!G.horiz)),to:D(f),from:D(p),trigger:e.type})}),s.res&&(s.res=!1,this.reset(!1,0))),s.lastTouches=f}reset(e,s){let n=this.chart,h=n.hoverSeries,p=n.hoverPoint,f=n.hoverPoints,g=n.tooltip,b=g!=null&&g.shared?f:p;e&&b&&Ze(b).forEach(function(A){A.series.isCartesian&&A.plotX===void 0&&(e=!1)}),e?g&&b&&Ze(b).length&&(g.refresh(b),g.shared&&f?f.forEach(function(A){A.setState(A.state,!0),A.series.isCartesian&&(A.series.xAxis.crosshair&&A.series.xAxis.drawCrosshair(null,A),A.series.yAxis.crosshair&&A.series.yAxis.drawCrosshair(null,A))}):p&&(p.setState(p.state,!0),n.axes.forEach(function(A){A.crosshair&&p.series[A.coll]===A&&A.drawCrosshair(null,p)}))):(p&&p.onMouseOut(),f&&f.forEach(function(A){A.setState()}),h&&h.onMouseOut(),g&&g.hide(s),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach(function(A){A.hideCrosshair()}),n.hoverPoints=n.hoverPoint=void 0)}runPointActions(e,s,n){var st;let h=this.chart,p=h.series,f=(st=h.tooltip)!=null&&st.options.enabled?h.tooltip:void 0,g=!!f&&f.shared,b=s||h.hoverPoint,A=(b==null?void 0:b.series)||h.hoverSeries,R=(!e||e.type!=="touchmove")&&(!!s||(A==null?void 0:A.directTouch)&&this.isDirectTouch),D=this.getHoverData(b,A,p,R,g,e);b=D.hoverPoint,A=D.hoverSeries;let G=D.hoverPoints,Z=(A==null?void 0:A.tooltipOptions.followPointer)&&!A.tooltipOptions.split,Q=g&&A&&!A.noSharedTooltip;if(b&&(n||b!==h.hoverPoint||f!=null&&f.isHidden)){if((h.hoverPoints||[]).forEach(function(rt){G.indexOf(rt)===-1&&rt.setState()}),h.hoverSeries!==A&&A.onMouseOver(),this.applyInactiveState(G),(G||[]).forEach(function(rt){rt.setState("hover")}),h.hoverPoint&&h.hoverPoint.firePointEvent("mouseOut"),!b.series)return;h.hoverPoints=G,h.hoverPoint=b,b.firePointEvent("mouseOver",void 0,()=>{f&&b&&f.refresh(Q?G:b,e)})}else if(Z&&f&&!f.isHidden){let rt=f.getAnchor([{}],e);h.isInsidePlot(rt[0],rt[1],{visiblePlotOnly:!0})&&f.updatePosition({plotX:rt[0],plotY:rt[1]})}this.unDocMouseMove||(this.unDocMouseMove=St(h.container.ownerDocument,"mousemove",rt=>{var ot,gt;return(gt=(ot=kt[Te.hoverChartIndex??-1])==null?void 0:ot.pointer)==null?void 0:gt.onDocumentMouseMove(rt)}),this.eventsToUnbind.push(this.unDocMouseMove)),h.axes.forEach(function(rt){var vt;let ot,gt=((vt=rt.crosshair)==null?void 0:vt.snap)??!0;gt&&((ot=h.hoverPoint)&&ot.series[rt.coll]===rt||(ot=Tt(G,Ft=>{var Wt;return((Wt=Ft.series)==null?void 0:Wt[rt.coll])===rt}))),ot||!gt?rt.drawCrosshair(e,ot):rt.hideCrosshair()})}setDOMEvents(){let e=this.chart.container,s=e.ownerDocument;e.onmousedown=this.onContainerMouseDown.bind(this),e.onmousemove=this.onContainerMouseMove.bind(this),e.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(St(e,"mouseenter",this.onContainerMouseEnter.bind(this)),St(e,"mouseleave",this.onContainerMouseLeave.bind(this))),Te.unbindDocumentMouseUp.some(h=>h.doc===s)||Te.unbindDocumentMouseUp.push({doc:s,unbind:St(s,"mouseup",this.onDocumentMouseUp.bind(this))});let n=this.chart.renderTo.parentElement;for(;n&&n.tagName!=="BODY";)this.eventsToUnbind.push(St(n,"scroll",()=>{delete this.chartPosition})),n=n.parentElement;this.eventsToUnbind.push(St(e,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),St(e,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Te.unbindDocumentTouchEnd||(Te.unbindDocumentTouchEnd=St(s,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),St(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var p,f;if(!Rt)return;let e=this.pointerCaptureEventsToUnbind,s=this.chart,n=s.container,h=xe((p=s.options.tooltip)==null?void 0:p.followTouchMove,!0)&&s.series.some(g=>g.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&h?(e.push(St(n,"pointerdown",g=>{var b,A;(b=g.target)!=null&&b.hasPointerCapture(g.pointerId)&&((A=g.target)==null||A.releasePointerCapture(g.pointerId))}),St(n,"pointermove",g=>{var b,A;(A=(b=s.pointer)==null?void 0:b.getPointFromEvent(g))==null||A.onMouseOver(g)})),s.styledMode||Ct(n,{"touch-action":"none"}),n.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!h&&(e.forEach(g=>g()),e.length=0,s.styledMode||Ct(n,{"touch-action":xe((f=s.options.chart.style)==null?void 0:f["touch-action"],"manipulation")}),n.className=n.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(e){var h;let s=this.chart,n=ge.charts[xe(Te.hoverChartIndex,-1)];if(n&&n!==s){let p={relatedTarget:s.container};e&&!(e!=null&&e.relatedTarget)&&Object.assign({},e,p),(h=n.pointer)==null||h.onContainerMouseLeave(e||p)}n!=null&&n.mouseIsDown||(Te.hoverChartIndex=s.index)}touch(e,s){var f;let n,{chart:h,pinchDown:p=[]}=this;this.setHoverChartIndex(),(e=this.normalize(e)).touches.length===1?h.isInsidePlot(e.chartX-h.plotLeft,e.chartY-h.plotTop,{visiblePlotOnly:!0})&&!((f=h.exporting)!=null&&f.openMenu)?(s&&this.runPointActions(e),e.type==="touchmove"&&(n=!!p[0]&&Math.pow(p[0].chartX-e.chartX,2)+Math.pow(p[0].chartY-e.chartY,2)>=16),xe(n,!0)&&this.pinch(e)):s&&this.reset():e.touches.length===2&&this.pinch(e)}touchSelect(e){return!!(this.chart.zooming.singleTouch&&e.touches&&e.touches.length===1)}zoomOption(e){let s=this.chart,n=s.inverted,h=s.zooming.type||"",p,f;/touch/.test(e.type)&&(h=xe(s.zooming.pinchType,h)),this.zoomX=p=/x/.test(h),this.zoomY=f=/y/.test(h),this.zoomHor=p&&!n||f&&n,this.zoomVert=f&&!n||p&&n,this.hasZoom=p||f}}Te.unbindDocumentMouseUp=[],function(_){_.compose=function(e){Oe(Pt,"Core.Pointer")&&St(e,"beforeRender",function(){this.pointer=new _(this,this.options)})}}(Te||(Te={}));let Ge=Te;(function(_){_.setLength=function(e,s,n){return Array.isArray(e)?(e.length=s,e):e[n?"subarray":"slice"](0,s)},_.splice=function(e,s,n,h,p=[]){if(Array.isArray(e))return Array.isArray(p)||(p=Array.from(p)),{removed:e.splice(s,n,...p),array:e};let f=Object.getPrototypeOf(e).constructor,g=e[h?"subarray":"slice"](s,s+n),b=new f(e.length-n+p.length);return b.set(e.subarray(0,s),0),b.set(p,s),b.set(e.subarray(s+n),s+p.length),{removed:g,array:b}}})(Ce||(Ce={}));let{setLength:Ue,splice:hi}=Ce,{fireEvent:je,objectEach:oi,uniqueKey:Ti}=Ke,Is=class{constructor(_={}){this.autoId=!_.id,this.columns={},this.id=_.id||Ti(),this.modified=this,this.rowCount=0,this.versionTag=Ti();let e=0;oi(_.columns||{},(s,n)=>{this.columns[n]=s.slice(),e=Math.max(e,s.length)}),this.applyRowCount(e)}applyRowCount(_){this.rowCount=_,oi(this.columns,(e,s)=>{e.length!==_&&(this.columns[s]=Ue(e,_))})}deleteRows(_,e=1){if(e>0&&_<this.rowCount){let s=0;oi(this.columns,(n,h)=>{this.columns[h]=hi(n,_,e).array,s=n.length}),this.rowCount=s}je(this,"afterDeleteRows",{rowIndex:_,rowCount:e}),this.versionTag=Ti()}getColumn(_,e){return this.columns[_]}getColumns(_,e){return(_||Object.keys(this.columns)).reduce((s,n)=>(s[n]=this.columns[n],s),{})}getRow(_,e){return(e||Object.keys(this.columns)).map(s=>{var n;return(n=this.columns[s])==null?void 0:n[_]})}setColumn(_,e=[],s=0,n){this.setColumns({[_]:e},s,n)}setColumns(_,e,s){let n=this.rowCount;oi(_,(h,p)=>{this.columns[p]=h.slice(),n=h.length}),this.applyRowCount(n),s!=null&&s.silent||(je(this,"afterSetColumns"),this.versionTag=Ti())}setRow(_,e=this.rowCount,s,n){let{columns:h}=this,p=s?this.rowCount+1:e+1;oi(_,(f,g)=>{let b=h[g]||(n==null?void 0:n.addColumns)!==!1&&Array(p);b&&(s?b=hi(b,e,0,!0,[f]).array:b[e]=f,h[g]=b)}),p>this.rowCount&&this.applyRowCount(p),n!=null&&n.silent||(je(this,"afterSetRows"),this.versionTag=Ti())}},{extend:is,merge:Vi,pick:kr}=Ke;(function(_){function e(s,n,h){var Ft,Wt;let p=this.legendItem=this.legendItem||{},{chart:f,options:g}=this,{baseline:b=0,symbolWidth:A,symbolHeight:R}=s,D=this.symbol||"circle",G=R/2,Z=f.renderer,Q=p.group,st=b-Math.round((((Ft=s.fontMetrics)==null?void 0:Ft.b)||R)*(h?.4:.3)),rt={},ot,gt=g.marker,vt=0;if(f.styledMode||(rt["stroke-width"]=Math.min(g.lineWidth||0,24),g.dashStyle?rt.dashstyle=g.dashStyle:g.linecap!=="square"&&(rt["stroke-linecap"]="round")),p.line=Z.path().addClass("highcharts-graph").attr(rt).add(Q),h&&(p.area=Z.path().addClass("highcharts-area").add(Q)),rt["stroke-linecap"]&&(vt=Math.min(p.line.strokeWidth(),A)/2),A){let Ht=[["M",vt,st],["L",A-vt,st]];p.line.attr({d:Ht}),(Wt=p.area)==null||Wt.attr({d:[...Ht,["L",A-vt,b],["L",vt,b]]})}if(gt&&gt.enabled!==!1&&A){let Ht=Math.min(kr(gt.radius,G),G);D.indexOf("url")===0&&(gt=Vi(gt,{width:R,height:R}),Ht=0),p.symbol=ot=Z.symbol(D,A/2-Ht,st-Ht,2*Ht,2*Ht,is({context:"legend"},gt)).addClass("highcharts-point").add(Q),ot.isMarker=!0}}_.areaMarker=function(s,n){e.call(this,s,n,!0)},_.lineMarker=e,_.rectangle=function(s,n){let h=n.legendItem||{},p=s.options,f=s.symbolHeight,g=p.squareSymbol,b=g?f:s.symbolWidth;h.symbol=this.chart.renderer.rect(g?(s.symbolWidth-f)/2:0,s.baseline-f+1,b,f,kr(s.options.symbolRadius,f/2)).addClass("highcharts-point").attr({zIndex:3}).add(h.group)}})(Be||(Be={}));let Cr=Be,{defaultOptions:xr}=Ni,{extend:Us,extendClass:qo,merge:Fo}=Ke;(function(_){function e(s,n){let h=xr.plotOptions||{},p=n.defaultOptions,f=n.prototype;return f.type=s,f.pointClass||(f.pointClass=pt),!_.seriesTypes[s]&&(p&&(h[s]=p),_.seriesTypes[s]=n,!0)}_.seriesTypes=ge.seriesTypes,_.registerSeriesType=e,_.seriesType=function(s,n,h,p,f){let g=xr.plotOptions||{};if(n=n||"",g[s]=Fo(g[n],h),delete _.seriesTypes[s],e(s,qo(_.seriesTypes[n]||function(){},p)),_.seriesTypes[s].prototype.type=s,f){class b extends pt{}Us(b.prototype,f),_.seriesTypes[s].prototype.pointClass=b}return _.seriesTypes[s]}})(We||(We={}));let ss=We,{animObject:Oa,setAnimation:np}=Gr,{defaultOptions:ws}=Ni,{registerEventOptions:df}=Jl,{svg:sg,win:Qp}=ge,{seriesTypes:Yr}=ss,{format:Pm}=hr,{arrayMax:cf,arrayMin:sd,clamp:ap,correctFloat:_h,crisp:rg,defined:xs,destroyObjectProperties:og,diffObjects:ng,erase:Mo,error:lp,extend:eo,find:ag,fireEvent:cr,getClosestDistance:rd,getNestedProperty:jr,insertItem:Ur,isArray:pf,isNumber:yr,isString:Ea,merge:Mc,objectEach:Eo,pick:Vr,removeEvent:hp,syncTimeout:dp}=Ke;class Vs{constructor(){this.zoneAxis="y"}init(e,s){var b,A,R;let n;cr(this,"init",{options:s}),this.dataTable??(this.dataTable=new Is);let h=e.series;this.eventsToUnbind=[],this.chart=e,this.options=this.setOptions(s);let p=this.options,f=p.visible!==!1;this.linkedSeries=[],this.bindAxes(),eo(this,{name:p.name,state:"",visible:f,selected:p.selected===!0}),df(this,p);let g=p.events;(g!=null&&g.click||(A=(b=p.point)==null?void 0:b.events)!=null&&A.click||p.allowPointSelect)&&(e.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(e.hasCartesianSeries=!0),h.length&&(n=h[h.length-1]),this._i=Vr(n==null?void 0:n._i,-1)+1,this.opacity=this.options.opacity,e.orderItems("series",Ur(this,h)),(R=p.dataSorting)!=null&&R.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(p.data,!1),cr(this,"afterInit")}is(e){return Yr[e]&&this instanceof Yr[e]}bindAxes(){let e,s=this,n=s.options,h=s.chart;cr(this,"bindAxes",null,function(){(s.axisTypes||[]).forEach(function(p){(h[p]||[]).forEach(function(f){e=f.options,(Vr(n[p],0)===f.index||n[p]!==void 0&&n[p]===e.id)&&(Ur(s,f.series),s[p]=f,f.isDirty=!0)}),s[p]||s.optionalAxis===p||lp(18,!0,h)})}),cr(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(e,s){let n=e.marker,h=s.marker||{};return n&&(h.enabled&&!n.enabled||h.symbol!==n.symbol||h.height!==n.height||h.width!==n.width)}autoIncrement(e){let s,n=this.options,{pointIntervalUnit:h,relativeXValue:p}=this.options,f=this.chart.time,g=this.xIncrement??f.parse(n.pointStart)??0;if(this.pointInterval=s=Vr(this.pointInterval,n.pointInterval,1),p&&yr(e)&&(s*=e),h){let b=f.toParts(g);h==="day"?b[2]+=s:h==="month"?b[1]+=s:h==="year"&&(b[0]+=s),s=f.makeTime.apply(f,b)-g}return p&&yr(e)?g+s:(this.xIncrement=g+s,g)}setDataSortingOptions(){let e=this.options;eo(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),xs(e.pointRange)||(e.pointRange=1)}setOptions(e){var rt,ot;let s,n=this.chart,h=n.options.plotOptions,p=n.userOptions||{},f=Mc(e),g=n.styledMode,b={plotOptions:h,userOptions:f};cr(this,"setOptions",b);let A=b.plotOptions[this.type],R=p.plotOptions||{},D=R.series||{},G=ws.plotOptions[this.type]||{},Z=R[this.type]||{};A.dataLabels=this.mergeArrays(G.dataLabels,A.dataLabels),this.userOptions=b.userOptions;let Q=Mc(A,h.series,Z,f);this.tooltipOptions=Mc(ws.tooltip,(rt=ws.plotOptions.series)==null?void 0:rt.tooltip,G==null?void 0:G.tooltip,n.userOptions.tooltip,(ot=R.series)==null?void 0:ot.tooltip,Z.tooltip,f.tooltip),this.stickyTracking=Vr(f.stickyTracking,Z.stickyTracking,D.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||Q.stickyTracking),A.marker===null&&delete Q.marker,this.zoneAxis=Q.zoneAxis||"y";let st=this.zones=(Q.zones||[]).map(gt=>({...gt}));return(Q.negativeColor||Q.negativeFillColor)&&!Q.zones&&(s={value:Q[this.zoneAxis+"Threshold"]||Q.threshold||0,className:"highcharts-negative"},g||(s.color=Q.negativeColor,s.fillColor=Q.negativeFillColor),st.push(s)),st.length&&xs(st[st.length-1].value)&&st.push(g?{}:{color:this.color,fillColor:this.fillColor}),cr(this,"afterSetOptions",{options:Q}),Q}getName(){return this.options.name??Pm(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(e,s,n){let h,p,f=this.chart,g=`${e}Index`,b=`${e}Counter`,A=(n==null?void 0:n.length)||f.options.chart.colorCount;!s&&(xs(p=Vr(e==="color"?this.options.colorIndex:void 0,this[g]))?h=p:(f.series.length||(f[b]=0),h=f[b]%A,f[b]+=1),n&&(s=n[h])),h!==void 0&&(this[g]=h),this[e]=s}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||ws.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols)}getColumn(e,s){return(s?this.dataTable.modified:this.dataTable).getColumn(e,!0)||[]}findPointIndex(e,s){var D;let n,h,p,{id:f,x:g}=e,b=this.points,A=this.options.dataSorting,R=this.cropStart||0;if(f){let G=this.chart.get(f);G instanceof pt&&(n=G)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let G=Z=>!Z.touched&&Z.index===e.index;if(A!=null&&A.matchByName?G=Z=>!Z.touched&&Z.name===e.name:this.options.relativeXValue&&(G=Z=>!Z.touched&&Z.options.x===e.x),!(n=ag(b,G)))return}return n&&(p=n==null?void 0:n.index)!==void 0&&(h=!0),p===void 0&&yr(g)&&(p=this.getColumn("x").indexOf(g,s)),p!==-1&&p!==void 0&&this.cropped&&(p=p>=R?p-R:p),!h&&yr(p)&&((D=b[p])!=null&&D.touched)&&(p=void 0),p}updateData(e,s){var st;let{options:n,requireSorting:h}=this,p=n.dataSorting,f=this.points,g=[],b=e.length===f.length,A,R,D,G,Z=!0;if(this.xIncrement=null,e.forEach((rt,ot)=>{var Ht;let gt,vt=xs(rt)&&this.pointClass.prototype.optionsToObject.call({series:this},rt)||{},{id:Ft,x:Wt}=vt;Ft||yr(Wt)?((gt=this.findPointIndex(vt,G))===-1||gt===void 0?g.push(rt):f[gt]&&rt!==((Ht=n.data)==null?void 0:Ht[gt])?(f[gt].update(rt,!1,void 0,!1),f[gt].touched=!0,h&&(G=gt+1)):f[gt]&&(f[gt].touched=!0),(!b||ot!==gt||p!=null&&p.enabled||this.hasDerivedData)&&(A=!0)):g.push(rt)},this),A)for(R=f.length;R--;)(D=f[R])&&!D.touched&&((st=D.remove)==null||st.call(D,!1,s));else b&&!(p!=null&&p.enabled)?(e.forEach((rt,ot)=>{rt===f[ot].y||f[ot].destroyed||f[ot].update(rt,!1,void 0,!1)}),g.length=0):Z=!1;if(f.forEach(rt=>{rt&&(rt.touched=!1)}),!Z)return!1;g.forEach(rt=>{this.addPoint(rt,!1,void 0,void 0,!1)},this);let Q=this.getColumn("x");return this.xIncrement===null&&Q.length&&(this.xIncrement=cf(Q),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(e,s=!0,n,h){var ce,Jt;let p=this.points,f=(p==null?void 0:p.length)||0,g=this.options,b=this.chart,A=g.dataSorting,R=this.xAxis,D=g.turboThreshold,G=this.dataTable,Z=this.dataColumnKeys(),Q=this.pointValKey||"y",st=(this.pointArrayMap||[]).length,rt=g.keys,ot,gt,vt=0,Ft=1,Wt;b.options.chart.allowMutatingData||(g.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Wt=Mc(!0,e));let Ht=(e=Wt||e||[]).length;if(A!=null&&A.enabled&&(e=this.sortData(e)),b.options.chart.allowMutatingData&&h!==!1&&Ht&&f&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(gt=this.updateData(e,n)),!gt){this.xIncrement=null,this.colorCounter=0;let ie=D&&!g.relativeXValue&&Ht>D;if(ie){let Pe=this.getFirstValidPoint(e),Re=this.getFirstValidPoint(e,Ht-1,-1),Ye=ei=>!!(pf(ei)&&(rt||yr(ei[0])));if(yr(Pe)&&yr(Re)){let ei=[],Si=[];for(let yi of e)ei.push(this.autoIncrement()),Si.push(yi);G.setColumns({x:ei,[Q]:Si})}else if(Ye(Pe)&&Ye(Re))if(st){let ei=+(Pe.length===st),Si=Array(Z.length).fill(0).map(()=>[]);for(let yi of e){ei&&Si[0].push(this.autoIncrement());for(let _i=ei;_i<=st;_i++)(ce=Si[_i])==null||ce.push(yi[_i-ei])}G.setColumns(Z.reduce((yi,_i,ui)=>(yi[_i]=Si[ui],yi),{}))}else{rt&&(vt=rt.indexOf("x"),Ft=rt.indexOf("y"),vt=vt>=0?vt:0,Ft=Ft>=0?Ft:1),Pe.length===1&&(Ft=0);let ei=[],Si=[];if(vt===Ft)for(let yi of e)ei.push(this.autoIncrement()),Si.push(yi[Ft]);else for(let yi of e)ei.push(yi[vt]),Si.push(yi[Ft]);G.setColumns({x:ei,[Q]:Si})}else ie=!1}if(!ie){let Pe=Z.reduce((Re,Ye)=>(Re[Ye]=[],Re),{});for(ot=0;ot<Ht;ot++){let Re=this.pointClass.prototype.applyOptions.apply({series:this},[e[ot]]);for(let Ye of Z)Pe[Ye][ot]=Re[Ye]}G.setColumns(Pe)}for(Ea(this.getColumn("y")[0])&&lp(14,!0,b),this.data=[],this.options.data=this.userOptions.data=e,ot=f;ot--;)(Jt=p[ot])==null||Jt.destroy();R&&(R.minRange=R.userMinRange),this.isDirty=b.isDirtyBox=!0,this.isDirtyData=!!p,n=!1}g.legendType==="point"&&(this.processData(),this.generatePoints()),s&&b.redraw(n)}sortData(e){let s=this,n=s.options.dataSorting.sortKey||"y",h=function(p,f){return xs(f)&&p.pointClass.prototype.optionsToObject.call({series:p},f)||{}};return e.forEach(function(p,f){e[f]=h(s,p),e[f].index=f},this),e.concat().sort((p,f)=>{let g=jr(n,p),b=jr(n,f);return b<g?-1:+(b>g)}).forEach(function(p,f){p.x=f},this),s.linkedSeries&&s.linkedSeries.forEach(function(p){var b;let f=p.options,g=f.data;!((b=f.dataSorting)!=null&&b.enabled)&&g&&(g.forEach(function(A,R){g[R]=h(p,A),e[R]&&(g[R].x=e[R].x,g[R].index=R)}),p.setData(g,!1))}),e}getProcessedData(e){let s=this,{dataTable:n,isCartesian:h,options:p,xAxis:f}=s,g=p.cropThreshold,b=e||s.getExtremesFromAll,A=f==null?void 0:f.logarithmic,R=n.rowCount,D,G,Z=0,Q,st,rt,ot=s.getColumn("x"),gt=n,vt=!1;return f&&(st=(Q=f.getExtremes()).min,rt=Q.max,vt=!!(f.categories&&!f.names.length),h&&s.sorted&&!b&&(!g||R>g||s.forceCrop)&&(ot[R-1]<st||ot[0]>rt?gt=new Is:s.getColumn(s.pointValKey||"y").length&&(ot[0]<st||ot[R-1]>rt)&&(gt=(D=this.cropData(n,st,rt)).modified,Z=D.start,G=!0))),ot=gt.getColumn("x")||[],{modified:gt,cropped:G,cropStart:Z,closestPointRange:rd([A?ot.map(A.log2lin):ot],()=>s.requireSorting&&!vt&&lp(15,!1,s.chart))}}processData(e){let s=this.xAxis,n=this.dataTable;if(this.isCartesian&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!e)return!1;let h=this.getProcessedData();n.modified=h.modified,this.cropped=h.cropped,this.cropStart=h.cropStart,this.closestPointRange=this.basePointRange=h.closestPointRange,cr(this,"afterProcessData")}cropData(e,s,n){let h=e.getColumn("x",!0)||[],p=h.length,f={},g,b,A=0,R=p;for(g=0;g<p;g++)if(h[g]>=s){A=Math.max(0,g-1);break}for(b=g;b<p;b++)if(h[b]>n){R=b+1;break}for(let D of this.dataColumnKeys()){let G=e.getColumn(D,!0);G&&(f[D]=G.slice(A,R))}return{modified:new Is({columns:f}),start:A,end:R}}generatePoints(){var Wt,Ht,ce;let e=this.options,s=this.processedData||e.data,n=this.dataTable.modified,h=this.getColumn("x",!0),p=this.pointClass,f=n.rowCount,g=this.cropStart||0,b=this.hasGroupedData,A=e.keys,R=[],D=(Wt=e.dataGrouping)!=null&&Wt.groupAll?g:0,G=(Ht=this.xAxis)==null?void 0:Ht.categories,Z=this.pointArrayMap||["y"],Q=this.dataColumnKeys(),st,rt,ot,gt,vt=this.data,Ft;if(!vt&&!b){let Jt=[];Jt.length=(s==null?void 0:s.length)||0,vt=this.data=Jt}for(A&&b&&(this.options.keys=!1),gt=0;gt<f;gt++)rt=g+gt,b?((ot=new p(this,n.getRow(gt,Q)||[])).dataGroup=this.groupMap[D+gt],(ce=ot.dataGroup)!=null&&ce.options&&(ot.options=ot.dataGroup.options,eo(ot,ot.dataGroup.options),delete ot.dataLabels)):(ot=vt[rt],Ft=s?s[rt]:n.getRow(gt,Z),ot||Ft===void 0||(vt[rt]=ot=new p(this,Ft,h[gt]))),ot&&(ot.index=b?D+gt:rt,R[gt]=ot,ot.category=(G==null?void 0:G[ot.x])??ot.x,ot.key=ot.name??ot.category);if(this.options.keys=A,vt&&(f!==(st=vt.length)||b))for(gt=0;gt<st;gt++)gt!==g||b||(gt+=f),vt[gt]&&(vt[gt].destroyElements(),vt[gt].plotX=void 0);this.data=vt,this.points=R,cr(this,"afterGeneratePoints")}getXExtremes(e){return{min:sd(e),max:cf(e)}}getExtremes(e,s){var Wt;let{xAxis:n,yAxis:h}=this,p=s||this.getExtremesFromAll||this.options.getExtremesFromAll,f=p&&this.cropped?this.dataTable:this.dataTable.modified,g=f.rowCount,b=e||this.stackedYData,A=b?[b]:((Wt=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:Wt.map(Ht=>f.getColumn(Ht,!0)||[]))||[],R=this.getColumn("x",!0),D=[],G=this.requireSorting&&!this.is("column")?1:0,Z=!!h&&h.positiveValuesOnly,Q=p||this.cropped||!n,st,rt,ot,gt=0,vt=0;for(n&&(gt=(st=n.getExtremes()).min,vt=st.max),ot=0;ot<g;ot++)if(rt=R[ot],Q||(R[ot+G]||rt)>=gt&&(R[ot-G]||rt)<=vt)for(let Ht of A){let ce=Ht[ot];yr(ce)&&(ce>0||!Z)&&D.push(ce)}let Ft={activeYData:D,dataMin:sd(D),dataMax:cf(D)};return cr(this,"afterGetExtremes",{dataExtremes:Ft}),Ft}applyExtremes(){let e=this.getExtremes();return this.dataMin=e.dataMin,this.dataMax=e.dataMax,e}getFirstValidPoint(e,s=0,n=1){let h=e.length,p=s;for(;p>=0&&p<h;){if(xs(e[p]))return e[p];p+=n}}translate(){var vt;this.generatePoints();let e=this.options,s=e.stacking,n=this.xAxis,h=this.enabledDataSorting,p=this.yAxis,f=this.points,g=f.length,b=this.pointPlacementToXValue(),A=!!b,R=e.threshold,D=e.startFromThreshold?R:0,G=(e==null?void 0:e.nullInteraction)&&p.len,Z,Q,st,rt,ot=Number.MAX_VALUE;function gt(Ft){return ap(Ft,-1e9,1e9)}for(Z=0;Z<g;Z++){let Ft,Wt=f[Z],Ht=Wt.x,ce,Jt,ie=Wt.y,Pe=Wt.low,Re=s&&((vt=p.stacking)==null?void 0:vt.stacks[(this.negStacks&&ie<(D?0:R)?"-":"")+this.stackKey]);Wt.plotX=yr(Q=n.translate(Ht,!1,!1,!1,!0,b))?_h(gt(Q)):void 0,s&&this.visible&&Re&&Re[Ht]&&(rt=this.getStackIndicator(rt,Ht,this.index),!Wt.isNull&&rt.key&&(Jt=(ce=Re[Ht]).points[rt.key]),ce&&pf(Jt)&&(Pe=Jt[0],ie=Jt[1],Pe===D&&rt.key===Re[Ht].base&&(Pe=Vr(yr(R)?R:p.min)),p.positiveValuesOnly&&xs(Pe)&&Pe<=0&&(Pe=void 0),Wt.total=Wt.stackTotal=Vr(ce.total),Wt.percentage=xs(Wt.y)&&ce.total?Wt.y/ce.total*100:void 0,Wt.stackY=ie,this.irregularWidths||ce.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Wt.yBottom=xs(Pe)?gt(p.translate(Pe,!1,!0,!1,!0)):void 0,this.dataModify&&(ie=this.dataModify.modifyValue(ie,Z)),yr(ie)&&Wt.plotX!==void 0?Ft=yr(Ft=p.translate(ie,!1,!0,!1,!0))?gt(Ft):void 0:!yr(ie)&&G&&(Ft=G),Wt.plotY=Ft,Wt.isInside=this.isPointInside(Wt),Wt.clientX=A?_h(n.translate(Ht,!1,!1,!1,!0,b)):Q,Wt.negative=(Wt.y||0)<(R||0),Wt.isNull||Wt.visible===!1||(st!==void 0&&(ot=Math.min(ot,Math.abs(Q-st))),st=Q),Wt.zone=this.zones.length?Wt.getZone():void 0,!Wt.graphic&&this.group&&h&&(Wt.isNew=!0)}this.closestPointRangePx=ot,cr(this,"afterTranslate")}getValidPoints(e,s,n){let h=this.chart;return(e||this.points||[]).filter(function(p){let{plotX:f,plotY:g}=p;return(!!n||!p.isNull&&!!yr(g))&&(!s||!!h.isInsidePlot(f,g,{inverted:h.inverted}))&&p.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:e,group:s,markerGroup:n}=this,h=e.sharedClips,p=e.renderer,f=e.getClipBox(this),g=this.getSharedClipKey(),b=h[g];b?b.animate(f):h[g]=b=p.clipRect(f),s&&s.clip(this.options.clip===!1?void 0:b),n&&n.clip()}animate(e){let{chart:s,group:n,markerGroup:h}=this,p=s.inverted,f=Oa(this.options.animation),g=[this.getSharedClipKey(),f.duration,f.easing,f.defer].join(","),b=s.sharedClips[g],A=s.sharedClips[g+"m"];if(e&&n){let R=s.getClipBox(this);if(b)b.attr("height",R.height);else{R.width=0,p&&(R.x=s.plotHeight),b=s.renderer.clipRect(R),s.sharedClips[g]=b;let D={x:-99,y:-99,width:p?s.plotWidth+199:99,height:p?99:s.plotHeight+199};A=s.renderer.clipRect(D),s.sharedClips[g+"m"]=A}n.clip(b),h==null||h.clip(A)}else if(b&&!b.hasClass("highcharts-animating")){let R=s.getClipBox(this),D=f.step;(h!=null&&h.element.childNodes.length||s.series.length>1)&&(f.step=function(G,Z){D&&D.apply(Z,arguments),Z.prop==="width"&&(A!=null&&A.element)&&A.attr(p?"height":"width",G+99)}),b.addClass("highcharts-animating").animate(R,f)}}afterAnimate(){this.setClip(),Eo(this.chart.sharedClips,(e,s,n)=>{e&&!this.chart.container.querySelector(`[clip-path="url(#${e.id})"]`)&&(e.destroy(),delete n[s])}),this.finishedAnimating=!0,cr(this,"afterAnimate")}drawPoints(e=this.points){let s,n,h,p,f,g,b,A=this.chart,R=A.styledMode,{colorAxis:D,options:G}=this,Z=G.marker,Q=G.nullInteraction,st=this[this.specialGroup||"markerGroup"],rt=this.xAxis,ot=Vr(Z.enabled,!rt||!!rt.isRadial||null,this.closestPointRangePx>=Z.enabledThreshold*Z.radius);if(Z.enabled!==!1||this._hasPointMarkers)for(s=0;s<e.length;s++){p=(h=(n=e[s]).graphic)?"animate":"attr",f=n.marker||{},g=!!n.marker;let gt=n.isNull;if((ot&&!xs(f.enabled)||f.enabled)&&(!gt||Q)&&n.visible!==!1){let vt=Vr(f.symbol,this.symbol,"rect");b=this.markerAttribs(n,n.selected&&"select"),this.enabledDataSorting&&(n.startXPos=rt.reversed?-(b.width||0):rt.width);let Ft=n.isInside!==!1;if(!h&&Ft&&((b.width||0)>0||n.hasImage)&&(n.graphic=h=A.renderer.symbol(vt,b.x,b.y,b.width,b.height,g?f:Z).add(st),this.enabledDataSorting&&A.hasRendered&&(h.attr({x:n.startXPos}),p="animate")),h&&p==="animate"&&h[Ft?"show":"hide"](Ft).animate(b),h){let Wt=this.pointAttribs(n,R||!n.selected?void 0:"select");R?D&&h.css({fill:Wt.fill}):h[p](Wt)}h&&h.addClass(n.getClassName(),!0)}else h&&(n.graphic=h.destroy())}}markerAttribs(e,s){let n=this.options,h=n.marker,p=e.marker||{},f=p.symbol||h.symbol,g={},b,A,R=Vr(p.radius,h==null?void 0:h.radius);s&&(b=h.states[s],A=p.states&&p.states[s],R=Vr(A==null?void 0:A.radius,b==null?void 0:b.radius,R&&R+((b==null?void 0:b.radiusPlus)||0))),e.hasImage=f&&f.indexOf("url")===0,e.hasImage&&(R=0);let D=e.pos();return yr(R)&&D&&(n.crisp&&(D[0]=rg(D[0],e.hasImage?0:f==="rect"?(h==null?void 0:h.lineWidth)||0:1)),g.x=D[0]-R,g.y=D[1]-R),R&&(g.width=g.height=2*R),g}pointAttribs(e,s){var ot;let n=this.options,h=n.marker,p=e==null?void 0:e.options,f=(p==null?void 0:p.marker)||{},g=p==null?void 0:p.color,b=e==null?void 0:e.color,A=(ot=e==null?void 0:e.zone)==null?void 0:ot.color,R,D,G=this.color,Z,Q,st=Vr(f.lineWidth,h.lineWidth),rt=e!=null&&e.isNull&&n.nullInteraction?0:1;return G=g||A||b||G,Z=f.fillColor||h.fillColor||G,Q=f.lineColor||h.lineColor||G,s=s||"normal",R=h.states[s]||{},st=Vr((D=f.states&&f.states[s]||{}).lineWidth,R.lineWidth,st+Vr(D.lineWidthPlus,R.lineWidthPlus,0)),Z=D.fillColor||R.fillColor||Z,Q=D.lineColor||R.lineColor||Q,{stroke:Q,"stroke-width":st,fill:Z,opacity:rt=Vr(D.opacity,R.opacity,rt)}}destroy(e){var b,A;let s,n,h=this,p=h.chart,f=/AppleWebKit\/533/.test(Qp.navigator.userAgent),g=h.data||[];for(cr(h,"destroy",{keepEventsForUpdate:e}),this.removeEvents(e),(h.axisTypes||[]).forEach(function(R){n=h[R],n!=null&&n.series&&(Mo(n.series,h),n.isDirty=n.forceRedraw=!0)}),h.legendItem&&h.chart.legend.destroyItem(h),s=g.length;s--;)(A=(b=g[s])==null?void 0:b.destroy)==null||A.call(b);for(let R of h.zones)og(R,void 0,!0);Ke.clearTimeout(h.animationTimeout),Eo(h,function(R,D){R instanceof dr&&!R.survive&&R[f&&D==="group"?"hide":"destroy"]()}),p.hoverSeries===h&&(p.hoverSeries=void 0),Mo(p.series,h),p.orderItems("series"),Eo(h,function(R,D){e&&D==="hcEvents"||delete h[D]})}applyZones(){let{area:e,chart:s,graph:n,zones:h,points:p,xAxis:f,yAxis:g,zoneAxis:b}=this,{inverted:A,renderer:R}=s,D=this[`${b}Axis`],{isXAxis:G,len:Z=0,minPointOffset:Q=0}=D||{},st=((n==null?void 0:n.strokeWidth())||0)/2+1,rt=(ot,gt=0,vt=0)=>{A&&(vt=Z-vt);let{translated:Ft=0,lineClip:Wt}=ot,Ht=vt-Ft;Wt==null||Wt.push(["L",gt,Math.abs(Ht)<st?vt-st*(Ht<=0?-1:1):Ft])};if(h.length&&(n||e)&&D&&yr(D.min)){let ot=D.getExtremes().max+Q,gt=Wt=>{Wt.forEach((Ht,ce)=>{(Ht[0]==="M"||Ht[0]==="L")&&(Wt[ce]=[Ht[0],G?Z-Ht[1]:Ht[1],G?Ht[2]:Z-Ht[2]])})};if(h.forEach(Wt=>{Wt.lineClip=[],Wt.translated=ap(D.toPixels(Vr(Wt.value,ot),!0)||0,0,Z)}),n&&!this.showLine&&n.hide(),e&&e.hide(),b==="y"&&p.length<f.len)for(let Wt of p){let{plotX:Ht,plotY:ce,zone:Jt}=Wt,ie=Jt&&h[h.indexOf(Jt)-1];Jt&&rt(Jt,Ht,ce),ie&&rt(ie,Ht,ce)}let vt=[],Ft=D.toPixels(D.getExtremes().min-Q,!0);h.forEach(Wt=>{var _i,ui;let Ht=Wt.lineClip||[],ce=Math.round(Wt.translated||0);f.reversed&&Ht.reverse();let{clip:Jt,simpleClip:ie}=Wt,Pe=0,Re=0,Ye=f.len,ei=g.len;G?(Pe=ce,Ye=Ft):(Re=ce,ei=Ft);let Si=[["M",Pe,Re],["L",Ye,Re],["L",Ye,ei],["L",Pe,ei],["Z"]],yi=[Si[0],...Ht,Si[1],Si[2],...vt,Si[3],Si[4]];vt=Ht.reverse(),Ft=ce,A&&(gt(yi),e&&gt(Si)),Jt?(Jt.animate({d:yi}),ie==null||ie.animate({d:Si})):(Jt=Wt.clip=R.path(yi),e&&(ie=Wt.simpleClip=R.path(Si))),n&&((_i=Wt.graph)==null||_i.clip(Jt)),e&&((ui=Wt.area)==null||ui.clip(ie))})}else this.visible&&(n&&n.show(),e&&e.show())}plotGroup(e,s,n,h,p){let f=this[e],g=!f,b={visibility:n,zIndex:h||.1};return xs(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(b.opacity=this.opacity),f||(this[e]=f=this.chart.renderer.g().add(p)),f.addClass("highcharts-"+s+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(xs(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(f.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),f.attr(b)[g?"attr":"animate"](this.getPlotBox(s)),f}getPlotBox(e){let s=this.xAxis,n=this.yAxis,h=this.chart,p=h.inverted&&!h.polar&&s&&this.invertible&&e==="series";h.inverted&&(s=n,n=this.xAxis);let f={scale:1,translateX:s?s.left:h.plotLeft,translateY:n?n.top:h.plotTop,name:e};cr(this,"getPlotBox",f);let{scale:g,translateX:b,translateY:A}=f;return{translateX:b,translateY:A,rotation:90*!!p,rotationOriginX:p?g*(s.len-n.len)/2:0,rotationOriginY:p?g*(s.len+n.len)/2:0,scaleX:p?-g:g,scaleY:g}}removeEvents(e){let{eventsToUnbind:s}=this;e||hp(this),s.length&&(s.forEach(n=>{n()}),s.length=0)}render(){var R,D,G,Z,Q;let e=this,{chart:s,options:n,hasRendered:h}=e,p=Oa(n.animation),f=e.visible?"inherit":"hidden",g=n.zIndex,b=s.seriesGroup,A=e.finishedAnimating?0:p.duration;cr(this,"render"),e.plotGroup("group","series",f,g,b),e.markerGroup=e.plotGroup("markerGroup","markers",f,g,b),n.clip!==!1&&e.setClip(),A&&((R=e.animate)==null||R.call(e,!0)),e.drawGraph&&(e.drawGraph(),e.applyZones()),e.visible&&e.drawPoints(),(D=e.drawDataLabels)==null||D.call(e),(G=e.redrawPoints)==null||G.call(e),n.enableMouseTracking&&((Z=e.drawTracker)==null||Z.call(e)),A&&((Q=e.animate)==null||Q.call(e)),h||(A&&p.defer&&(A+=p.defer),e.animationTimeout=dp(()=>{e.afterAnimate()},A||0)),e.isDirty=!1,e.hasRendered=!0,cr(e,"afterRender")}redraw(){let e=this.isDirty||this.isDirtyData;this.translate(),this.render(),e&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(e,s){let{xAxis:n,yAxis:h}=this,p=this.chart.inverted;return this.searchKDTree({clientX:p?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:p?h.len-e.chartX+h.pos:e.chartY-h.pos},s,e)}buildKDTree(e){this.buildingKdTree=!0;let s=this,n=s.options,h=n.findNearestPointBy.indexOf("y")>-1?2:1;delete s.kdTree,dp(function(){s.kdTree=function p(f,g,b){let A,R,D=f==null?void 0:f.length;if(D)return A=s.kdAxisArray[g%b],f.sort((G,Z)=>(G[A]||0)-(Z[A]||0)),{point:f[R=Math.floor(D/2)],left:p(f.slice(0,R),g+1,b),right:p(f.slice(R+1),g+1,b)}}(s.getValidPoints(void 0,!s.directTouch,n==null?void 0:n.nullInteraction),h,h),s.buildingKdTree=!1},n.kdNow||(e==null?void 0:e.type)==="touchstart"?0:1)}searchKDTree(e,s,n,h,p){let f=this,[g,b]=this.kdAxisArray,A=s?"distX":"dist",R=(f.options.findNearestPointBy||"").indexOf("y")>-1?2:1,D=!!f.isBubble,G=h||((Q,st,rt)=>{let ot=Q[rt]||0,gt=st[rt]||0;return[ot===gt&&Q.index>st.index||ot<gt?Q:st,!1]}),Z=p||((Q,st)=>Q<st);if(this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return function Q(st,rt,ot,gt){var Pe;let vt=rt.point,Ft=f.kdAxisArray[ot%gt],Wt=vt,Ht=!1;(function(Re,Ye){var fs;let ei=Re[g],Si=Ye[g],yi=xs(ei)&&xs(Si)?ei-Si:null,_i=Re[b],ui=Ye[b],Yi=xs(_i)&&xs(ui)?_i-ui:0,Cs=D&&((fs=Ye.marker)==null?void 0:fs.radius)||0;Ye.dist=Math.sqrt((yi&&yi*yi||0)+Yi*Yi)-Cs,Ye.distX=xs(yi)?Math.abs(yi)-Cs:Number.MAX_VALUE})(st,vt);let ce=(st[Ft]||0)-(vt[Ft]||0)+(D&&((Pe=vt.marker)==null?void 0:Pe.radius)||0),Jt=ce<0?"left":"right",ie=ce<0?"right":"left";return rt[Jt]&&([Wt,Ht]=G(vt,Q(st,rt[Jt],ot+1,gt),A)),rt[ie]&&Z(Math.sqrt(ce*ce),Wt[A],Ht)&&(Wt=G(Wt,Q(st,rt[ie],ot+1,gt),A)[0]),Wt}(e,this.kdTree,R,R)}pointPlacementToXValue(){let{options:e,xAxis:s}=this,n=e.pointPlacement;return n==="between"&&(n=s.reversed?-.5:.5),yr(n)?n*(e.pointRange||s.pointRange):0}isPointInside(e){let{chart:s,xAxis:n,yAxis:h}=this,{plotX:p=-1,plotY:f=-1}=e;return f>=0&&f<=(h?h.len:s.plotHeight)&&p>=0&&p<=(n?n.len:s.plotWidth)}drawTracker(){var G;let e=this,s=e.options,n=s.trackByArea,h=[].concat((n?e.areaPath:e.graphPath)||[]),p=e.chart,f=p.pointer,g=p.renderer,b=((G=p.options.tooltip)==null?void 0:G.snap)||0,A=()=>{s.enableMouseTracking&&p.hoverSeries!==e&&e.onMouseOver()},R="rgba(192,192,192,"+(sg?1e-4:.002)+")",D=e.tracker;D?D.attr({d:h}):e.graph&&(e.tracker=D=g.path(h).attr({visibility:e.visible?"inherit":"hidden",zIndex:2}).addClass(n?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),p.styledMode||D.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:R,fill:n?R:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*b)}),[e.tracker,e.markerGroup,e.dataLabelsGroup].forEach(Z=>{Z&&(Z.addClass("highcharts-tracker").on("mouseover",A).on("mouseout",Q=>{f==null||f.onTrackerMouseOut(Q)}),s.cursor&&!p.styledMode&&Z.css({cursor:s.cursor}),Z.on("touchstart",A))})),cr(this,"afterDrawTracker")}addPoint(e,s,n,h,p){let f,g,b=this.options,{chart:A,data:R,dataTable:D,xAxis:G}=this,Z=(G==null?void 0:G.hasNames)&&G.names,Q=b.data,st=this.getColumn("x");s=Vr(s,!0);let rt={series:this};this.pointClass.prototype.applyOptions.apply(rt,[e]);let ot=rt.x;if(g=st.length,this.requireSorting&&ot<st[g-1])for(f=!0;g&&st[g-1]>ot;)g--;D.setRow(rt,g,!0,{addColumns:!1}),Z&&rt.name&&(Z[ot]=rt.name),Q==null||Q.splice(g,0,e),(f||this.processedData)&&(this.data.splice(g,0,null),this.processData()),b.legendType==="point"&&this.generatePoints(),n&&(R[0]&&R[0].remove?R[0].remove(!1):([R,Q].filter(xs).forEach(gt=>{gt.shift()}),D.deleteRows(0))),p!==!1&&cr(this,"addPoint",{point:rt}),this.isDirty=!0,this.isDirtyData=!0,s&&A.redraw(h)}removePoint(e,s,n){let h=this,{chart:p,data:f,points:g,dataTable:b}=h,A=f[e],R=function(){[(g==null?void 0:g.length)===f.length?g:void 0,f,h.options.data].filter(xs).forEach(D=>{D.splice(e,1)}),b.deleteRows(e),A==null||A.destroy(),h.isDirty=!0,h.isDirtyData=!0,s&&p.redraw()};np(n,p),s=Vr(s,!0),A?A.firePointEvent("remove",null,R):R()}remove(e,s,n,h){let p=this,f=p.chart;function g(){p.destroy(h),f.isDirtyLegend=f.isDirtyBox=!0,f.linkSeries(h),Vr(e,!0)&&f.redraw(s)}n!==!1?cr(p,"remove",null,g):g()}update(e,s){var ot,gt;cr(this,"update",{options:e=ng(e,this.userOptions)});let n=this,h=n.chart,p=n.userOptions,f=n.initialType||n.type,g=h.options.plotOptions,b=Yr[f].prototype,A=n.finishedAnimating&&{animation:!1},R={},D,G,Z=Vs.keepProps.slice(),Q=e.type||p.type||h.options.chart.type,st=!(this.hasDerivedData||Q&&Q!==this.type||e.keys!==void 0||e.pointStart!==void 0||e.pointInterval!==void 0||e.relativeXValue!==void 0||e.joinBy||e.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(vt=>n.hasOptionChanged(vt)));Q=Q||f,st?(Z.push.apply(Z,Vs.keepPropsForPoints),e.visible!==!1&&Z.push("area","graph"),n.parallelArrays.forEach(function(vt){Z.push(vt+"Data")}),e.data&&(e.dataSorting&&eo(n.options.dataSorting,e.dataSorting),this.setData(e.data,!1))):this.dataTable.modified=this.dataTable,e=Mc(p,{index:p.index===void 0?n.index:p.index,pointStart:((ot=g==null?void 0:g.series)==null?void 0:ot.pointStart)??p.pointStart??n.getColumn("x")[0]},!st&&{data:n.options.data},e,A),st&&e.data&&(e.data=n.options.data),(Z=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(Z)).forEach(function(vt){Z[vt]=n[vt],delete n[vt]});let rt=!1;if(Yr[Q]){if(rt=Q!==n.type,n.remove(!1,!1,!1,!0),rt)if(h.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(n,Yr[Q].prototype);else{let vt=Object.hasOwnProperty.call(n,"hcEvents")&&n.hcEvents;for(G in b)n[G]=void 0;eo(n,Yr[Q].prototype),vt?n.hcEvents=vt:delete n.hcEvents}}else lp(17,!0,h,{missingModuleFor:Q});if(Z.forEach(function(vt){n[vt]=Z[vt]}),n.init(h,e),st&&this.points)for(let vt of((D=n.options).visible===!1?(R.graphic=1,R.dataLabel=1):(this.hasMarkerChanged(D,p)&&(R.graphic=1),(gt=n.hasDataLabels)!=null&&gt.call(n)||(R.dataLabel=1)),this.points))vt!=null&&vt.series&&(vt.resolveColor(),Object.keys(R).length&&vt.destroyElements(R),D.showInLegend===!1&&vt.legendItem&&h.legend.destroyItem(vt));n.initialType=f,h.linkSeries(),h.setSortedData(),rt&&n.linkedSeries.length&&(n.isDirtyData=!0),cr(this,"afterUpdate"),Vr(s,!0)&&h.redraw(!!st&&void 0)}setName(e){this.name=this.options.name=this.userOptions.name=e,this.chart.isDirtyLegend=!0}hasOptionChanged(e){var g,b;let s=this.chart,n=this.options[e],h=s.options.plotOptions,p=this.userOptions[e],f=Vr((g=h==null?void 0:h[this.type])==null?void 0:g[e],(b=h==null?void 0:h.series)==null?void 0:b[e]);return p&&!xs(f)?n!==p:n!==Vr(f,n)}onMouseOver(){let e=this.chart,s=e.hoverSeries,n=e.pointer;n==null||n.setHoverChartIndex(),s&&s!==this&&s.onMouseOut(),this.options.events.mouseOver&&cr(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this}onMouseOut(){let e=this.options,s=this.chart,n=s.tooltip,h=s.hoverPoint;s.hoverSeries=null,h&&h.onMouseOut(),this&&e.events.mouseOut&&cr(this,"mouseOut"),n&&!this.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),s.series.forEach(function(p){p.setState("",!0)})}setState(e,s){let n=this,h=n.options,p=n.graph,f=h.inactiveOtherPoints,g=h.states,b=Vr(g[e||"normal"]&&g[e||"normal"].animation,n.chart.options.chart.animation),A=h.lineWidth,R=h.opacity;if(e=e||"",n.state!==e&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach(function(D){D&&(n.state&&D.removeClass("highcharts-series-"+n.state),e&&D.addClass("highcharts-series-"+e))}),n.state=e,!n.chart.styledMode)){if(g[e]&&g[e].enabled===!1)return;if(e&&(A=g[e].lineWidth||A+(g[e].lineWidthPlus||0),R=Vr(g[e].opacity,R)),p&&!p.dashstyle&&yr(A))for(let D of[p,...this.zones.map(G=>G.graph)])D==null||D.animate({"stroke-width":A},b);f||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach(function(D){D&&D.animate({opacity:R},b)})}s&&f&&n.points&&n.setAllPointsToState(e||void 0)}setAllPointsToState(e){this.points.forEach(function(s){s.setState&&s.setState(e)})}setVisible(e,s){var b;let n=this,h=n.chart,p=h.options.chart.ignoreHiddenSeries,f=n.visible;n.visible=e=n.options.visible=n.userOptions.visible=e===void 0?!f:e;let g=e?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(A=>{var R;(R=n[A])==null||R[g]()}),(h.hoverSeries===n||((b=h.hoverPoint)==null?void 0:b.series)===n)&&n.onMouseOut(),n.legendItem&&h.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&h.series.forEach(A=>{A.options.stacking&&A.visible&&(A.isDirty=!0)}),n.linkedSeries.forEach(A=>{A.setVisible(e,!1)}),p&&(h.isDirtyBox=!0),cr(n,g),s!==!1&&h.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(e){this.selected=e=this.options.selected=e===void 0?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),cr(this,e?"select":"unselect")}shouldShowTooltip(e,s,n={}){return n.series=this,n.visiblePlotOnly=!0,this.chart.isInsidePlot(e,s,n)}drawLegendSymbol(e,s){var n;(n=Cr[this.options.legendSymbol||"rectangle"])==null||n.call(this,e,s)}}Vs.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:_}=this.series.chart;return typeof this.y!="number"?"":_(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Vs.types=ss.seriesTypes,Vs.registerType=ss.registerSeriesType,Vs.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Vs.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],eo(Vs.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:pt,requireSorting:!0,sorted:!0}),ss.series=Vs;let $a=Vs,{animObject:cp,setAnimation:Ol}=Gr,{registerEventOptions:na}=Jl,{composed:uf,marginNames:lg}=ge,{distribute:hg}=xn,{format:Lh}=hr,{addEvent:Sc,createElement:Hd,css:fl,defined:Tc,discardElement:Cm,find:_m,fireEvent:El,isNumber:tu,merge:od,pick:So,pushUnique:dg,relativeLength:Oh,stableSort:Ia,syncTimeout:Lm}=Ke;class eu{constructor(e,s){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=e,this.setOptions(s),s.enabled&&(this.render(),na(this,s),Sc(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Sc(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(e){let s=So(e.padding,8);this.options=e,this.chart.styledMode||(this.itemStyle=e.itemStyle,this.itemHiddenStyle=od(this.itemStyle,e.itemHiddenStyle)),this.itemMarginTop=e.itemMarginTop,this.itemMarginBottom=e.itemMarginBottom,this.padding=s,this.initialItemY=s-5,this.symbolWidth=So(e.symbolWidth,16),this.pages=[],this.proximate=e.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(e,s){let n=this.chart;this.setOptions(od(!0,this.options,e)),"events"in this.options&&na(this,this.options),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,So(s,!0)&&n.redraw(),El(this,"afterUpdate",{redraw:s})}colorizeItem(e,s){var A;let n=e.color,{area:h,group:p,label:f,line:g,symbol:b}=e.legendItem||{};if((e instanceof $a||e instanceof pt)&&(e.color=((A=e.options)==null?void 0:A.legendSymbolColor)||n),p==null||p[s?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:R={}}=this,D=R.color,{fillColor:G,fillOpacity:Z,lineColor:Q,marker:st}=e.options,rt=ot=>(!s&&(ot.fill&&(ot.fill=D),ot.stroke&&(ot.stroke=D)),ot);f==null||f.css(od(s?this.itemStyle:R)),g==null||g.attr(rt({stroke:Q||e.color})),b&&b.attr(rt(st&&b.isMarker?e.pointAttribs():{fill:e.color})),h==null||h.attr(rt({fill:G||e.color,"fill-opacity":G?1:Z??.75}))}e.color=n,El(this,"afterColorizeItem",{item:e,visible:s})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(e){let{group:s,x:n=0,y:h=0}=e.legendItem||{},p=this.options,f=p.symbolPadding,g=!p.rtl,b=e.checkbox;if(s!=null&&s.element){let A={translateX:g?n:this.legendWidth-n-2*f-4,translateY:h};s[Tc(s.translateY)?"animate":"attr"](A,void 0,()=>{El(this,"afterPositionItem",{item:e})})}b&&(b.x=n,b.y=h)}destroyItem(e){let s=e.checkbox,n=e.legendItem||{};for(let h of["group","label","line","symbol"])n[h]&&(n[h]=n[h].destroy());s&&Cm(s),e.legendItem=void 0}destroy(){for(let e of this.getAllItems())this.destroyItem(e);for(let e of["clipRect","up","down","pager","nav","box","title","group"])this[e]&&(this[e]=this[e].destroy());this.display=null}positionCheckboxes(){var p;let e,s=(p=this.group)==null?void 0:p.alignAttr,n=this.clipHeight||this.legendHeight,h=this.titleHeight;s&&(e=s.translateY,this.allItems.forEach(function(f){let g,b=f.checkbox;b&&(g=e+h+b.y+(this.scrollOffset||0)+3,fl(b,{left:s.translateX+f.checkboxOffset+b.x-20+"px",top:g+"px",display:this.proximate||g>e-6&&g<e+n-6?"":"none"}))},this))}renderTitle(){let e=this.options,s=this.padding,n=e.title,h,p=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,s-3,s-4,void 0,void 0,void 0,e.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),p=(h=this.title.getBBox()).height,this.offsetWidth=h.width,this.contentGroup.attr({translateY:p})),this.titleHeight=p}setText(e){let s=this.options;e.legendItem.label.attr({text:s.labelFormat?Lh(s.labelFormat,e,this.chart):s.labelFormatter.call(e)})}renderItem(e){var ce;let s=e.legendItem=e.legendItem||{},n=this.chart,h=n.renderer,p=this.options,f=p.layout==="horizontal",g=this.symbolWidth,b=p.symbolPadding||0,A=this.itemStyle,R=this.itemHiddenStyle,D=f?So(p.itemDistance,20):0,G=!p.rtl,Z=!e.series,Q=!Z&&e.series.drawLegendSymbol?e.series:e,st=Q.options,rt=!!this.createCheckboxForItem&&st&&st.showCheckbox,ot=p.useHTML,gt=e.options.className,vt=s.label,Ft=g+b+D+20*!!rt;!vt&&(s.group=h.g("legend-item").addClass("highcharts-"+Q.type+"-series highcharts-color-"+e.colorIndex+(gt?" "+gt:"")+(Z?" highcharts-series-"+e.index:"")).attr({zIndex:1}).add(this.scrollGroup),s.label=vt=h.text("",G?g+b:-b,this.baseline||0,ot),n.styledMode||vt.css(od(e.visible?A:R)),vt.attr({align:G?"left":"right",zIndex:2}).add(s.group),!this.baseline&&(this.fontMetrics=h.fontMetrics(vt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,vt.attr("y",this.baseline),this.symbolHeight=So(p.symbolHeight,this.fontMetrics.f),p.squareSymbol&&(this.symbolWidth=So(p.symbolWidth,Math.max(this.symbolHeight,16)),Ft=this.symbolWidth+b+D+20*!!rt,G&&vt.attr("x",this.symbolWidth+b))),Q.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,vt,ot)),rt&&!e.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(e),this.colorizeItem(e,e.visible),(n.styledMode||!A.width)&&vt.css({width:(p.itemWidth||this.widthOption||n.spacingBox.width)-Ft+"px"}),this.setText(e);let Wt=vt.getBBox(),Ht=((ce=this.fontMetrics)==null?void 0:ce.h)||0;e.itemWidth=e.checkboxOffset=p.itemWidth||s.labelWidth||Wt.width+Ft,this.maxItemWidth=Math.max(this.maxItemWidth,e.itemWidth),this.totalItemWidth+=e.itemWidth,this.itemHeight=e.itemHeight=Math.round(s.labelHeight||(Wt.height>1.5*Ht?Wt.height:Ht))}layoutItem(e){let s=this.options,n=this.padding,h=s.layout==="horizontal",p=e.itemHeight,f=this.itemMarginBottom,g=this.itemMarginTop,b=h?So(s.itemDistance,20):0,A=this.maxLegendWidth,R=s.alignColumns&&this.totalItemWidth>A?this.maxItemWidth:e.itemWidth,D=e.legendItem||{};h&&this.itemX-n+R>A&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=g+this.lastLineHeight+f),this.lastLineHeight=0),this.lastItemY=g+this.itemY+f,this.lastLineHeight=Math.max(p,this.lastLineHeight),D.x=this.itemX,D.y=this.itemY,h?this.itemX+=R:(this.itemY+=g+p+f,this.lastLineHeight=p),this.offsetWidth=this.widthOption||Math.max((h?this.itemX-n-(e.checkbox?0:b):R)+n,this.offsetWidth)}getAllItems(){let e=[];return this.chart.series.forEach(function(s){var h;let n=s==null?void 0:s.options;s&&So(n.showInLegend,!Tc(n.linkedTo)&&void 0,!0)&&(e=e.concat(((h=s.legendItem)==null?void 0:h.labels)||(n.legendType==="point"?s.data:s)))}),El(this,"afterGetAllItems",{allItems:e}),e}getAlignment(){let e=this.options;return this.proximate?e.align.charAt(0)+"tv":e.floating?"":e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0)}adjustMargins(e,s){let n=this.chart,h=this.options,p=this.getAlignment();p&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(f,g){f.test(p)&&!Tc(e[g])&&(n[lg[g]]=Math.max(n[lg[g]],n.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*h[g%2?"x":"y"]+So(h.margin,12)+s[g]+(n.titleOffset[g]||0)))})}proximatePositions(){let e,s=this.chart,n=[],h=this.options.align==="left";for(let p of(this.allItems.forEach(function(f){let g,b,A=h,R,D;f.yAxis&&(f.xAxis.options.reversed&&(A=!A),f.points&&(g=_m(A?f.points:f.points.slice(0).reverse(),function(G){return tu(G.plotY)})),b=this.itemMarginTop+f.legendItem.label.getBBox().height+this.itemMarginBottom,D=f.yAxis.top-s.plotTop,R=f.visible?(g?g.plotY:f.yAxis.height)+(D-.3*b):D+f.yAxis.height,n.push({target:R,size:b,item:f}))},this),hg(n,s.plotHeight)))e=p.item.legendItem||{},tu(p.pos)&&(e.y=s.plotTop-s.spacing[0]+p.pos)}render(){let e=this.chart,s=e.renderer,n=this.options,h=this.padding,p=this.getAllItems(),f,g,b,A=this.group,R,D=this.box;this.itemX=h,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Oh(n.width,e.spacingBox.width-h),R=e.spacingBox.width-2*h-n.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(R/=2),this.maxLegendWidth=this.widthOption||R,A||(this.group=A=s.g("legend").addClass(n.className||"").attr({zIndex:7}).add(),this.contentGroup=s.g().attr({zIndex:1}).add(A),this.scrollGroup=s.g().add(this.contentGroup)),this.renderTitle(),Ia(p,(G,Z)=>{var Q,st;return(((Q=G.options)==null?void 0:Q.legendIndex)||0)-(((st=Z.options)==null?void 0:st.legendIndex)||0)}),n.reversed&&p.reverse(),this.allItems=p,this.display=f=!!p.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,p.forEach(this.renderItem,this),p.forEach(this.layoutItem,this),g=(this.widthOption||this.offsetWidth)+h,b=this.lastItemY+this.lastLineHeight+this.titleHeight,b=this.handleOverflow(b)+h,D||(this.box=D=s.rect().addClass("highcharts-legend-box").attr({r:n.borderRadius}).add(A)),e.styledMode||D.attr({stroke:n.borderColor,"stroke-width":n.borderWidth||0,fill:n.backgroundColor||"none"}).shadow(n.shadow),g>0&&b>0&&D[D.placed?"animate":"attr"](D.crisp.call({},{x:0,y:0,width:g,height:b},D.strokeWidth())),A[f?"show":"hide"](),e.styledMode&&A.getStyle("display")==="none"&&(g=b=0),this.legendWidth=g,this.legendHeight=b,f&&this.align(),this.proximate||this.positionItems(),El(this,"afterRender")}align(e=this.chart.spacingBox){let s=this.chart,n=this.options,h=e.y;/(lth|ct|rth)/.test(this.getAlignment())&&s.titleOffset[0]>0?h+=s.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&s.titleOffset[2]>0&&(h-=s.titleOffset[2]),h!==e.y&&(e=od(e,{y:h})),s.hasRendered||(this.group.placed=!1),this.group.align(od(n,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":n.verticalAlign}),!0,e)}handleOverflow(e){let s=this,n=this.chart,h=n.renderer,p=this.options,f=p.y,g=p.verticalAlign==="top",b=this.padding,A=p.maxHeight,R=p.navigation,D=So(R.animation,!0),G=R.arrowSize||12,Z=this.pages,Q=this.allItems,st=function(Jt){typeof Jt=="number"?ce.attr({height:Jt}):ce&&(s.clipRect=ce.destroy(),s.contentGroup.clip()),s.contentGroup.div&&(s.contentGroup.div.style.clip=Jt?"rect("+b+"px,9999px,"+(b+Jt)+"px,0)":"auto")},rt=function(Jt){return s[Jt]=h.circle(0,0,1.3*G).translate(G/2,G/2).add(Ht),n.styledMode||s[Jt].attr("fill","rgba(0,0,0,0.0001)"),s[Jt]},ot,gt,vt,Ft,Wt=n.spacingBox.height+(g?-f:f)-b,Ht=this.nav,ce=this.clipRect;return p.layout!=="horizontal"||p.verticalAlign==="middle"||p.floating||(Wt/=2),A&&(Wt=Math.min(Wt,A)),Z.length=0,e&&Wt>0&&e>Wt&&R.enabled!==!1?(this.clipHeight=ot=Math.max(Wt-20-this.titleHeight-b,0),this.currentPage=So(this.currentPage,1),this.fullHeight=e,Q.forEach((Jt,ie)=>{let Pe=(vt=Jt.legendItem||{}).y||0,Re=Math.round(vt.label.getBBox().height),Ye=Z.length;(!Ye||Pe-Z[Ye-1]>ot&&(gt||Pe)!==Z[Ye-1])&&(Z.push(gt||Pe),Ye++),vt.pageIx=Ye-1,gt&&Ft&&(Ft.pageIx=Ye-1),ie===Q.length-1&&Pe+Re-Z[Ye-1]>ot&&Pe>Z[Ye-1]&&(Z.push(Pe),vt.pageIx=Ye),Pe!==gt&&(gt=Pe),Ft=vt}),ce||(ce=s.clipRect=h.clipRect(0,b-2,9999,0),s.contentGroup.clip(ce)),st(ot),Ht||(this.nav=Ht=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol("triangle",0,0,G,G).add(Ht),rt("upTracker").on("click",function(){s.scroll(-1,D)}),this.pager=h.text("",15,10).addClass("highcharts-legend-navigation"),!n.styledMode&&R.style&&this.pager.css(R.style),this.pager.add(Ht),this.down=h.symbol("triangle-down",0,0,G,G).add(Ht),rt("downTracker").on("click",function(){s.scroll(1,D)})),s.scroll(0),e=Wt):Ht&&(st(),this.nav=Ht.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e}scroll(e,s){let n=this.chart,h=this.pages,p=h.length,f=this.clipHeight,g=this.options.navigation,b=this.pager,A=this.padding,R=this.currentPage+e;R>p&&(R=p),R>0&&(s!==void 0&&Ol(s,n),this.nav.attr({translateX:A,translateY:f+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(D){D.attr({class:R===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),b.attr({text:R+"/"+p}),[this.down,this.downTracker].forEach(function(D){D.attr({x:18+this.pager.getBBox().width,class:R===p?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),n.styledMode||(this.up.attr({fill:R===1?g.inactiveColor:g.activeColor}),this.upTracker.css({cursor:R===1?"default":"pointer"}),this.down.attr({fill:R===p?g.inactiveColor:g.activeColor}),this.downTracker.css({cursor:R===p?"default":"pointer"})),this.scrollOffset=-h[R-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=R,this.positionCheckboxes(),Lm(()=>{El(this,"afterScroll",{currentPage:R})},cp(So(s,n.renderer.globalAnimation,!0)).duration))}setItemEvents(e,s,n){let h=this,p=e.legendItem||{},f=h.chart.renderer.boxWrapper,g=e instanceof pt,b=e instanceof $a,A="highcharts-legend-"+(g?"point":"series")+"-active",R=h.chart.styledMode,D=n?[s,p.symbol]:[p.group],G=Z=>{h.allItems.forEach(Q=>{e!==Q&&[Q].concat(Q.linkedSeries||[]).forEach(st=>{st.setState(Z,!g)})})};for(let Z of D)Z&&Z.on("mouseover",function(){e.visible&&G("inactive"),e.setState("hover"),e.visible&&f.addClass(A),R||s.css(h.options.itemHoverStyle)}).on("mouseout",function(){h.chart.styledMode||s.css(od(e.visible?h.itemStyle:h.itemHiddenStyle)),G(""),f.removeClass(A),e.setState()}).on("click",function(Q){let st=function(){e.setVisible&&e.setVisible(),G(e.visible?"inactive":"")};f.removeClass(A),El(h,"itemClick",{browserEvent:Q,legendItem:e},st),g?e.firePointEvent("legendItemClick",{browserEvent:Q}):b&&El(e,"legendItemClick",{browserEvent:Q})})}createCheckboxForItem(e){e.checkbox=Hd("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Sc(e.checkbox,"click",function(s){let n=s.target;El(e.series||e,"checkboxClick",{checked:n.checked,item:e},function(){e.select()})})}}(function(_){_.compose=function(e){dg(uf,"Core.Legend")&&Sc(e,"beforeMargins",function(){this.legend=new _(this,this.options.legend)})}})(eu||(eu={}));let nd=eu,{animate:Gd,animObject:iu,setAnimation:su}=Gr,{defaultOptions:Ac}=Ni,{numberFormat:ff}=hr,{registerEventOptions:Pc}=Jl,{charts:oh,doc:Xd,marginNames:qa,svg:Ba,win:Yd}=ge,{seriesTypes:ru}=ss,{addEvent:gf,attr:pp,createElement:gl,css:aa,defined:ys,diffObjects:ou,discardElement:Ka,erase:ad,error:Eh,extend:ld,find:Cc,fireEvent:as,getAlignFactor:nh,getStyle:Io,isArray:Hs,isNumber:jd,isObject:nu,isString:Ud,merge:la,objectEach:mf,pick:Ir,pInt:ah,relativeLength:au,removeEvent:Zr,splat:Vd,syncTimeout:lu,uniqueKey:hu}=Ke;class lh{static chart(e,s,n){return new lh(e,s,n)}constructor(e,s,n){this.sharedClips={};let h=[...arguments];(Ud(e)||e.nodeName)&&(this.renderTo=h.shift()),this.init(h[0],h[1])}setZoomOptions(){let e=this.options.chart,s=e.zooming;this.zooming={...s,type:Ir(e.zoomType,s.type),key:Ir(e.zoomKey,s.key),pinchType:Ir(e.pinchType,s.pinchType),singleTouch:Ir(e.zoomBySingleTouch,s.singleTouch,!1),resetButton:la(s.resetButton,e.resetZoomButton)}}init(e,s){as(this,"init",{args:arguments},function(){var f;let n=la(Ac,e),h=n.chart,p=this.renderTo||h.renderTo;this.userOptions=ld({},e),(this.renderTo=Ud(p)?Xd.getElementById(p):p)||Eh(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=s,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.locale=n.lang.locale??((f=this.renderTo.closest("[lang]"))==null?void 0:f.lang),this.time=new Le(ld(n.time||{},{locale:this.locale}),n.lang),n.time=this.time.options,this.numberFormatter=(h.numberFormatter||ff).bind(this),this.styledMode=h.styledMode,this.hasCartesianSeries=h.showAxes,this.index=oh.length,oh.push(this),ge.chartCount++,Pc(this,h),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),as(this,"afterInit"),this.firstRender()})}initSeries(e){let s=this.options.chart,n=e.type||s.type,h=ru[n];h||Eh(17,!0,this,{missingModuleFor:n});let p=new h;return typeof p.init=="function"&&p.init(this,e),p}setSortedData(){this.getSeriesOrderByLinks().forEach(function(e){e.points||e.data||!e.enabledDataSorting||e.setData(e.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(e,s){return e.linkedSeries.length||s.linkedSeries.length?s.linkedSeries.length-e.linkedSeries.length:0})}orderItems(e,s=0){let n=this[e],h=this.options[e]=Vd(this.options[e]).slice(),p=this.userOptions[e]=this.userOptions[e]?Vd(this.userOptions[e]).slice():[];if(this.hasRendered&&(h.splice(s),p.splice(s)),n)for(let f=s,g=n.length;f<g;++f){let b=n[f];b&&(b.index=f,b instanceof $a&&(b.name=b.getName()),b.options.isInternal||(h[f]=b.options,p[f]=b.userOptions))}}getClipBox(e,s){var R,D;let n=this.inverted,{xAxis:h,yAxis:p}=e||{},{x:f,y:g,width:b,height:A}=la(this.clipBox);return e&&(h&&h.len!==this.plotSizeX&&(b=h.len),p&&p.len!==this.plotSizeY&&(A=p.len),n&&!e.invertible&&([b,A]=[A,b])),s&&(f+=((R=n?p:h)==null?void 0:R.pos)??this.plotLeft,g+=((D=n?h:p)==null?void 0:D.pos)??this.plotTop),{x:f,y:g,width:b,height:A}}isInsidePlot(e,s,n={}){var rt;let{inverted:h,plotBox:p,plotLeft:f,plotTop:g,scrollablePlotBox:b}=this,{scrollLeft:A=0,scrollTop:R=0}=n.visiblePlotOnly&&((rt=this.scrollablePlotArea)==null?void 0:rt.scrollingContainer)||{},D=n.series,G=n.visiblePlotOnly&&b||p,Z=n.inverted?s:e,Q=n.inverted?e:s,st={x:Z,y:Q,isInsidePlot:!0,options:n};if(!n.ignoreX){let ot=D&&(h&&!this.polar?D.yAxis:D.xAxis)||{pos:f,len:1/0},gt=n.paneCoordinates?ot.pos+Z:f+Z;gt>=Math.max(A+f,ot.pos)&&gt<=Math.min(A+f+G.width,ot.pos+ot.len)||(st.isInsidePlot=!1)}if(!n.ignoreY&&st.isInsidePlot){let ot=!h&&n.axis&&!n.axis.isXAxis&&n.axis||D&&(h?D.xAxis:D.yAxis)||{pos:g,len:1/0},gt=n.paneCoordinates?ot.pos+Q:g+Q;gt>=Math.max(R+g,ot.pos)&&gt<=Math.min(R+g+G.height,ot.pos+ot.len)||(st.isInsidePlot=!1)}return as(this,"afterIsInsidePlot",st),st.isInsidePlot}redraw(e){as(this,"beforeRedraw");let s=this.hasCartesianSeries?this.axes:this.colorAxis||[],n=this.series,h=this.pointer,p=this.legend,f=this.userOptions.legend,g=this.renderer,b=g.isHidden(),A=[],R,D,G,Z=this.isDirtyBox,Q=this.isDirtyLegend,st;for(g.rootFontSize=g.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),su(!!this.hasRendered&&e,this),b&&this.temporaryDisplay(),this.layOutTitles(!1),G=n.length;G--;)if(((st=n[G]).options.stacking||st.options.centerInCategory)&&(D=!0,st.isDirty)){R=!0;break}if(R)for(G=n.length;G--;)(st=n[G]).options.stacking&&(st.isDirty=!0);n.forEach(function(rt){rt.isDirty&&(rt.options.legendType==="point"?(typeof rt.updateTotals=="function"&&rt.updateTotals(),Q=!0):f&&(f.labelFormatter||f.labelFormat)&&(Q=!0)),rt.isDirtyData&&as(rt,"updatedData")}),Q&&p&&p.options.enabled&&(p.render(),this.isDirtyLegend=!1),D&&this.getStacks(),s.forEach(function(rt){rt.updateNames(),rt.setScale()}),this.getMargins(),s.forEach(function(rt){rt.isDirty&&(Z=!0)}),s.forEach(function(rt){let ot=rt.min+","+rt.max;rt.extKey!==ot&&(rt.extKey=ot,A.push(function(){as(rt,"afterSetExtremes",ld(rt.eventArgs,rt.getExtremes())),delete rt.eventArgs})),(Z||D)&&rt.redraw()}),Z&&this.drawChartBox(),as(this,"predraw"),n.forEach(function(rt){(Z||rt.isDirty)&&rt.visible&&rt.redraw(),rt.isDirtyData=!1}),h&&h.reset(!0),g.draw(),as(this,"redraw"),as(this,"render"),b&&this.temporaryDisplay(!0),A.forEach(function(rt){rt.call()})}get(e){let s=this.series;function n(p){return p.id===e||p.options&&p.options.id===e}let h=Cc(this.axes,n)||Cc(this.series,n);for(let p=0;!h&&p<s.length;p++)h=Cc(s[p].points||[],n);return h}createAxes(){let e=this.userOptions;for(let s of(as(this,"createAxes"),["xAxis","yAxis"]))for(let n of e[s]=Vd(e[s]||{}))new eh(this,n,s);as(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((e,s)=>(s.getPointsCollection().forEach(n=>{Ir(n.selectedStaging,n.selected)&&e.push(n)}),e),[])}getSelectedSeries(){return this.series.filter(e=>e.selected)}setTitle(e,s,n){this.applyDescription("title",e),this.applyDescription("subtitle",s),this.applyDescription("caption",void 0),this.layOutTitles(n)}applyDescription(e,s){var f;let n=this,h=this.options[e]=la(this.options[e],s),p=this[e];p&&s&&(this[e]=p=p.destroy()),h&&!p&&((p=this.renderer.text(h.text,0,0,h.useHTML).attr({align:h.align,class:"highcharts-"+e,zIndex:h.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(g,b){n.applyDescription(e,g),n.layOutTitles(b)},this.styledMode||p.css(ld(e==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},h.style)),p.textPxLength=p.getBBox().width,p.css({whiteSpace:(f=h.style)==null?void 0:f.whiteSpace}),this[e]=p)}layOutTitles(e=!0){var g,b,A,R;let s=[0,0,0],{options:n,renderer:h,spacingBox:p}=this;["title","subtitle","caption"].forEach(D=>{var rt;let G=this[D],Z=this.options[D],Q=la(p),st=(G==null?void 0:G.textPxLength)||0;if(G&&Z){as(this,"layOutTitle",{alignTo:Q,key:D,textPxLength:st});let ot=h.fontMetrics(G),gt=ot.b,vt=ot.h,Ft=Z.verticalAlign||"top",Wt=Ft==="top",Ht=Wt&&Z.minScale||1,ce=D==="title"?Wt?-3:0:Wt?s[0]+2:0,Jt=Math.min(Q.width/st,1),ie=Math.max(Ht,Jt),Pe=la({y:Ft==="bottom"?gt:ce+gt},{align:D==="title"?Jt<Ht?"left":"center":(rt=this.title)==null?void 0:rt.alignValue},Z),Re=(Z.width||(Jt>Ht?this.chartWidth:Q.width)/ie)+"px";G.alignValue!==Pe.align&&(G.placed=!1);let Ye=Math.round(G.css({width:Re}).getBBox(Z.useHTML).height);if(Pe.height=Ye,G.align(Pe,!1,Q).attr({align:Pe.align,scaleX:ie,scaleY:ie,"transform-origin":`${Q.x+st*ie*nh(Pe.align)} ${vt}`}),!Z.floating){let ei=Ye*(Ye<1.2*vt?1:ie);Ft==="top"?s[0]=Math.ceil(s[0]+ei):Ft==="bottom"&&(s[2]=Math.ceil(s[2]+ei))}}},this),s[0]&&(((g=n.title)==null?void 0:g.verticalAlign)||"top")==="top"&&(s[0]+=((b=n.title)==null?void 0:b.margin)||0),s[2]&&((A=n.caption)==null?void 0:A.verticalAlign)==="bottom"&&(s[2]+=((R=n.caption)==null?void 0:R.margin)||0);let f=!this.titleOffset||this.titleOffset.join(",")!==s.join(",");this.titleOffset=s,as(this,"afterLayOutTitles"),!this.isDirtyBox&&f&&(this.isDirtyBox=this.isDirtyLegend=f,this.hasRendered&&e&&this.isDirtyBox&&this.redraw())}getContainerBox(){let e=[].map.call(this.renderTo.children,n=>{if(n!==this.container){let h=n.style.display;return n.style.display="none",[n,h]}}),s={width:Io(this.renderTo,"width",!0)||0,height:Io(this.renderTo,"height",!0)||0};return e.filter(Boolean).forEach(([n,h])=>{n.style.display=h}),s}getChartSize(){var f;let e=this.options.chart,s=e.width,n=e.height,h=this.getContainerBox(),p=h.height<=1||!((f=this.renderTo.parentElement)!=null&&f.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,s||h.width||600),this.chartHeight=Math.max(0,au(n,this.chartWidth)||(p?400:h.height)),this.containerBox=h}temporaryDisplay(e){let s=this.renderTo,n;if(e)for(;s!=null&&s.style;)s.hcOrigStyle&&(aa(s,s.hcOrigStyle),delete s.hcOrigStyle),s.hcOrigDetached&&(Xd.body.removeChild(s),s.hcOrigDetached=!1),s=s.parentNode;else for(;s!=null&&s.style&&(Xd.body.contains(s)||s.parentNode||(s.hcOrigDetached=!0,Xd.body.appendChild(s)),(Io(s,"display",!1)==="none"||s.hcOricDetached)&&(s.hcOrigStyle={display:s.style.display,height:s.style.height,overflow:s.style.overflow},n={display:"block",overflow:"hidden"},s!==this.renderTo&&(n.height=0),aa(s,n),s.offsetWidth||s.style.setProperty("display","block","important")),(s=s.parentNode)!==Xd.body););}setClassName(e){this.container.className="highcharts-container "+(e||"")}getContainer(){var G,Z;let e,s=this.options,n=s.chart,h="data-highcharts-chart",p=hu(),f=this.renderTo,g=ah(pp(f,h));jd(g)&&oh[g]&&oh[g].hasRendered&&oh[g].destroy(),pp(f,h,this.index),f.innerHTML=Es.emptyHTML,n.skipClone||f.offsetWidth||this.temporaryDisplay(),this.getChartSize();let b=this.chartHeight,A=this.chartWidth;aa(f,{overflow:"hidden"}),this.styledMode||(e=ld({position:"relative",overflow:"hidden",width:A+"px",height:b+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},n.style||{}));let R=gl("div",{id:p},e,f);this.container=R,this.getChartSize(),A!==this.chartWidth&&(A=this.chartWidth,this.styledMode||aa(R,{width:Ir((G=n.style)==null?void 0:G.width,A+"px")})),this.containerBox=this.getContainerBox(),this._cursor=R.style.cursor;let D=n.renderer||!Ba?Un.getRendererType(n.renderer):Bn;if(this.renderer=new D(R,A,b,void 0,n.forExport,(Z=s.exporting)==null?void 0:Z.allowHTML,this.styledMode),su(void 0,this),this.setClassName(n.className),this.styledMode)for(let Q in s.defs)this.renderer.definition(s.defs[Q]);else this.renderer.setStyle(n.style);this.renderer.chartIndex=this.index,as(this,"afterGetContainer")}getMargins(e){var p;let{spacing:s,margin:n,titleOffset:h}=this;this.resetMargins(),h[0]&&!ys(n[0])&&(this.plotTop=Math.max(this.plotTop,h[0]+s[0])),h[2]&&!ys(n[2])&&(this.marginBottom=Math.max(this.marginBottom,h[2]+s[2])),(p=this.legend)!=null&&p.display&&this.legend.adjustMargins(n,s),as(this,"getMargins"),e||this.getAxisMargins()}getAxisMargins(){let e=this,s=e.axisOffset=[0,0,0,0],n=e.colorAxis,h=e.margin,p=function(f){f.forEach(function(g){g.visible&&g.getOffset()})};e.hasCartesianSeries?p(e.axes):n!=null&&n.length&&p(n),qa.forEach(function(f,g){ys(h[g])||(e[f]+=s[g])}),e.setChartSize()}getOptions(){return ou(this.userOptions,Ac)}reflow(e){var p,f;let s=this,n=s.containerBox,h=s.getContainerBox();(p=s.pointer)==null||delete p.chartPosition,!((f=s.exporting)!=null&&f.isPrinting)&&!s.isResizing&&n&&h.width&&((h.width!==n.width||h.height!==n.height)&&(Ke.clearTimeout(s.reflowTimeout),s.reflowTimeout=lu(function(){s.container&&s.setSize(void 0,void 0,!1)},100*!!e)),s.containerBox=h)}setReflow(){let e=this,s=n=>{var h;(h=e.options)!=null&&h.chart.reflow&&e.hasLoaded&&e.reflow(n)};if(typeof ResizeObserver=="function")new ResizeObserver(s).observe(e.renderTo);else{let n=gf(Yd,"resize",s);gf(this,"destroy",n)}}setSize(e,s,n){let h=this,p=h.renderer;h.isResizing+=1,su(n,h);let f=p.globalAnimation;h.oldChartHeight=h.chartHeight,h.oldChartWidth=h.chartWidth,e!==void 0&&(h.options.chart.width=e),s!==void 0&&(h.options.chart.height=s),h.getChartSize();let{chartWidth:g,chartHeight:b,scrollablePixelsX:A=0,scrollablePixelsY:R=0}=h;(h.isDirtyBox||g!==h.oldChartWidth||b!==h.oldChartHeight)&&(h.styledMode||(f?Gd:aa)(h.container,{width:`${g+A}px`,height:`${b+R}px`},f),h.setChartSize(!0),p.setSize(g,b,f),h.axes.forEach(function(D){D.isDirty=!0,D.setScale()}),h.isDirtyLegend=!0,h.isDirtyBox=!0,h.layOutTitles(),h.getMargins(),h.redraw(f),h.oldChartHeight=void 0,as(h,"resize"),setTimeout(()=>{h&&as(h,"endResize")},iu(f).duration)),h.isResizing-=1}setChartSize(e){let s,n,h,p,{chartHeight:f,chartWidth:g,inverted:b,spacing:A,renderer:R}=this,D=this.clipOffset,G=Math[b?"floor":"round"];this.plotLeft=s=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=h=Math.max(0,Math.round(g-s-(this.marginRight??0))),this.plotHeight=p=Math.max(0,Math.round(f-n-(this.marginBottom??0))),this.plotSizeX=b?p:h,this.plotSizeY=b?h:p,this.spacingBox=R.spacingBox={x:A[3],y:A[0],width:g-A[3]-A[1],height:f-A[0]-A[2]},this.plotBox=R.plotBox={x:s,y:n,width:h,height:p},D&&(this.clipBox={x:G(D[3]),y:G(D[0]),width:G(this.plotSizeX-D[1]-D[3]),height:G(this.plotSizeY-D[0]-D[2])}),e||(this.axes.forEach(function(Z){Z.setAxisSize(),Z.setAxisTranslation()}),R.alignElements()),as(this,"afterSetChartSize",{skipAxes:e})}resetMargins(){as(this,"resetMargins");let e=this,s=e.options.chart,n=s.plotBorderWidth||0,h=Math.round(n)/2;["margin","spacing"].forEach(function(p){let f=s[p],g=nu(f)?f:[f,f,f,f];["Top","Right","Bottom","Left"].forEach(function(b,A){e[p][A]=Ir(s[p+b],g[A])})}),qa.forEach(function(p,f){e[p]=Ir(e.margin[f],e.spacing[f])}),e.axisOffset=[0,0,0,0],e.clipOffset=[h,h,h,h],e.plotBorderWidth=n}drawChartBox(){let e=this.options.chart,s=this.renderer,n=this.chartWidth,h=this.chartHeight,p=this.styledMode,f=this.plotBGImage,g=e.backgroundColor,b=e.plotBackgroundColor,A=e.plotBackgroundImage,R=this.plotLeft,D=this.plotTop,G=this.plotWidth,Z=this.plotHeight,Q=this.plotBox,st=this.clipRect,rt=this.clipBox,ot=this.chartBackground,gt=this.plotBackground,vt=this.plotBorder,Ft,Wt,Ht,ce="animate";ot||(this.chartBackground=ot=s.rect().addClass("highcharts-background").add(),ce="attr"),p?Ft=Wt=ot.strokeWidth():(Wt=(Ft=e.borderWidth||0)+8*!!e.shadow,Ht={fill:g||"none"},(Ft||ot["stroke-width"])&&(Ht.stroke=e.borderColor,Ht["stroke-width"]=Ft),ot.attr(Ht).shadow(e.shadow)),ot[ce]({x:Wt/2,y:Wt/2,width:n-Wt-Ft%2,height:h-Wt-Ft%2,r:e.borderRadius}),ce="animate",gt||(ce="attr",this.plotBackground=gt=s.rect().addClass("highcharts-plot-background").add()),gt[ce](Q),!p&&(gt.attr({fill:b||"none"}).shadow(e.plotShadow),A&&(f?(A!==f.attr("href")&&f.attr("href",A),f.animate(Q)):this.plotBGImage=s.image(A,R,D,G,Z).add())),st?st.animate({width:rt.width,height:rt.height}):this.clipRect=s.clipRect(rt),ce="animate",vt||(ce="attr",this.plotBorder=vt=s.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),p||vt.attr({stroke:e.plotBorderColor,"stroke-width":e.plotBorderWidth||0,fill:"none"}),vt[ce](vt.crisp(Q,-vt.strokeWidth())),this.isDirtyBox=!1,as(this,"afterDrawChartBox")}propFromSeries(){let e,s,n,h=this,p=h.options.chart,f=h.options.series;["inverted","angular","polar"].forEach(function(g){for(s=ru[p.type],n=p[g]||s&&s.prototype[g],e=f==null?void 0:f.length;!n&&e--;)(s=ru[f[e].type])&&s.prototype[g]&&(n=!0);h[g]=n})}linkSeries(e){let s=this,n=s.series;n.forEach(function(h){h.linkedSeries.length=0}),n.forEach(function(h){let{linkedTo:p}=h.options;if(Ud(p)){let f;(f=p===":previous"?s.series[h.index-1]:s.get(p))&&f.linkedParent!==h&&(f.linkedSeries.push(h),h.linkedParent=f,f.enabledDataSorting&&h.setDataSortingOptions(),h.visible=Ir(h.options.visible,f.options.visible,h.visible))}}),as(this,"afterLinkSeries",{isUpdating:e})}renderSeries(){this.series.forEach(function(e){e.translate(),e.render()})}render(){var R;let e=this.axes,s=this.colorAxis,n=this.renderer,h=this.options.chart.axisLayoutRuns||2,p=D=>{D.forEach(G=>{G.visible&&G.render()})},f=0,g=!0,b,A=0;for(let D of(this.setTitle(),as(this,"beforeMargins"),(R=this.getStacks)==null||R.call(this),this.getMargins(!0),this.setChartSize(),e)){let{options:G}=D,{labels:Z}=G;if(this.hasCartesianSeries&&D.horiz&&D.visible&&Z.enabled&&D.series.length&&D.coll!=="colorAxis"&&!this.polar){f=G.tickLength,D.createGroups();let Q=new Ca(D,0,"",!0),st=Q.createLabel("x",Z);if(Q.destroy(),st&&Ir(Z.reserveSpace,!jd(G.crossing))&&(f=st.getBBox().height+Z.distance+Math.max(G.offset||0,0)),f){st==null||st.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-f,0);(g||b||h>1)&&A<h;){let D=this.plotWidth,G=this.plotHeight;for(let Z of e)A===0?Z.setScale():(Z.horiz&&g||!Z.horiz&&b)&&Z.setTickInterval(!0);A===0?this.getAxisMargins():this.getMargins(),g=D/this.plotWidth>(A?1:1.1),b=G/this.plotHeight>(A?1:1.05),A++}this.drawChartBox(),this.hasCartesianSeries?p(e):s!=null&&s.length&&p(s),this.seriesGroup||(this.seriesGroup=n.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=n.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(e){let s=this,n=la(!0,this.options.credits,e);n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){n.href&&(Yd.location.href=n.href)}).attr({align:n.position.align,zIndex:8}),s.styledMode||this.credits.css(n.style),this.credits.add().align(n.position),this.credits.update=function(h){s.credits=s.credits.destroy(),s.addCredits(h)})}destroy(){var g,b;let e,s=this,n=s.axes,h=s.series,p=s.container,f=p==null?void 0:p.parentNode;for(as(s,"destroy"),s.renderer.forExport?ad(oh,s):oh[s.index]=void 0,ge.chartCount--,s.renderTo.removeAttribute("data-highcharts-chart"),Zr(s),e=n.length;e--;)n[e]=n[e].destroy();for((b=(g=this.scroller)==null?void 0:g.destroy)==null||b.call(g),e=h.length;e--;)h[e]=h[e].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(A=>{var R,D;s[A]=(D=(R=s[A])==null?void 0:R.destroy)==null?void 0:D.call(R)}),p&&(p.innerHTML=Es.emptyHTML,Zr(p),f&&Ka(p)),mf(s,function(A,R){delete s[R]})}firstRender(){var h;let e=this,s=e.options;e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.createAxes();let n=Hs(s.series)?s.series:[];s.series=[],n.forEach(function(p){e.initSeries(p)}),e.linkSeries(),e.setSortedData(),as(e,"beforeRender"),e.render(),(h=e.pointer)==null||h.getChartPosition(),e.renderer.imgCount||e.hasLoaded||e.onload(),e.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(e){e&&this.index!==void 0&&e.apply(this,[this])},this),as(this,"load"),as(this,"render"),ys(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:e,title:s}=this;e&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((s==null?void 0:s.element.textContent)||"").replace(/</g,"&lt;")}),e.accessibility&&e.accessibility.enabled===!1||Eh('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(e,s,n){let h,p=this;return e&&(s=Ir(s,!0),as(p,"addSeries",{options:e},function(){h=p.initSeries(e),p.isDirtyLegend=!0,p.linkSeries(),h.enabledDataSorting&&h.setData(e.data,!1),as(p,"afterAddSeries",{series:h}),s&&p.redraw(n)})),h}addAxis(e,s,n,h){return this.createAxis(s?"xAxis":"yAxis",{axis:e,redraw:n,animation:h})}addColorAxis(e,s,n){return this.createAxis("colorAxis",{axis:e,redraw:s,animation:n})}createAxis(e,s){let n=new eh(this,s.axis,e);return Ir(s.redraw,!0)&&this.redraw(s.animation),n}showLoading(e){let s=this,n=s.options,h=n.loading,p=function(){f&&aa(f,{left:s.plotLeft+"px",top:s.plotTop+"px",width:s.plotWidth+"px",height:s.plotHeight+"px"})},f=s.loadingDiv,g=s.loadingSpan;f||(s.loadingDiv=f=gl("div",{className:"highcharts-loading highcharts-loading-hidden"},null,s.container)),g||(s.loadingSpan=g=gl("span",{className:"highcharts-loading-inner"},null,f),gf(s,"redraw",p)),f.className="highcharts-loading",Es.setElementHTML(g,Ir(e,n.lang.loading,"")),!s.styledMode&&(aa(f,ld(h.style,{zIndex:10})),aa(g,h.labelStyle),s.loadingShown||(aa(f,{opacity:0,display:""}),Gd(f,{opacity:h.style.opacity||.5},{duration:h.showDuration||0}))),s.loadingShown=!0,p()}hideLoading(){let e=this.options,s=this.loadingDiv;s&&(s.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Gd(s,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){aa(s,{display:"none"})}})),this.loadingShown=!1}update(e,s,n,h){let p,f,g,b=this,A={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},R=e.isResponsiveOptions,D=[];as(b,"update",{options:e}),R||b.setResponsive(!1,!0),e=ou(e,b.options),b.userOptions=la(b.userOptions,e);let G=e.chart;G&&(la(!0,b.options.chart,G),this.setZoomOptions(),"className"in G&&b.setClassName(G.className),("inverted"in G||"polar"in G||"type"in G)&&(b.propFromSeries(),p=!0),"alignTicks"in G&&(p=!0),"events"in G&&Pc(this,G),mf(G,function(st,rt){b.propsRequireUpdateSeries.indexOf("chart."+rt)!==-1&&(f=!0),b.propsRequireDirtyBox.indexOf(rt)!==-1&&(b.isDirtyBox=!0),b.propsRequireReflow.indexOf(rt)!==-1&&(b.isDirtyBox=!0,R||(g=!0))}),!b.styledMode&&G.style&&b.renderer.setStyle(b.options.chart.style||{})),!b.styledMode&&e.colors&&(this.options.colors=e.colors),mf(e,function(st,rt){b[rt]&&typeof b[rt].update=="function"?b[rt].update(st,!1):typeof b[A[rt]]=="function"?b[A[rt]](st):rt!=="colors"&&b.collectionsWithUpdate.indexOf(rt)===-1&&la(!0,b.options[rt],e[rt]),rt!=="chart"&&b.propsRequireUpdateSeries.indexOf(rt)!==-1&&(f=!0)}),this.collectionsWithUpdate.forEach(function(st){e[st]&&(Vd(e[st]).forEach(function(rt,ot){let gt,vt=ys(rt.id);vt&&(gt=b.get(rt.id)),!gt&&b[st]&&(gt=b[st][Ir(rt.index,ot)])&&(vt&&ys(gt.options.id)||gt.options.isInternal)&&(gt=void 0),gt&&gt.coll===st&&(gt.update(rt,!1),n&&(gt.touched=!0)),!gt&&n&&b.collectionsWithInit[st]&&(b.collectionsWithInit[st][0].apply(b,[rt].concat(b.collectionsWithInit[st][1]||[]).concat([!1])).touched=!0)}),n&&b[st].forEach(function(rt){rt.touched||rt.options.isInternal?delete rt.touched:D.push(rt)}))}),D.forEach(function(st){st.chart&&st.remove&&st.remove(!1)}),p&&b.axes.forEach(function(st){st.update({},!1)}),f&&b.getSeriesOrderByLinks().forEach(function(st){st.chart&&st.update({},!1)},this);let Z=G==null?void 0:G.width,Q=G&&(Ud(G.height)?au(G.height,Z||b.chartWidth):G.height);g||jd(Z)&&Z!==b.chartWidth||jd(Q)&&Q!==b.chartHeight?b.setSize(Z,Q,h):Ir(s,!0)&&b.redraw(h),as(b,"afterUpdate",{options:e,redraw:s,animation:h})}setSubtitle(e,s){this.applyDescription("subtitle",e),this.layOutTitles(s)}setCaption(e,s){this.applyDescription("caption",e),this.layOutTitles(s)}showResetZoom(){let e=this,s=Ac.lang,n=e.zooming.resetButton,h=n.theme,p=n.relativeTo==="chart"||n.relativeTo==="spacingBox"?null:"plotBox";function f(){e.zoomOut()}as(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(s.resetZoom,null,null,f,h).attr({align:n.position.align,title:s.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,p)}),as(this,"afterShowResetZoom")}zoomOut(){as(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(e,s){let n=this,h=typeof s=="object"?s:{enabled:s,type:"x"},p=h.type,f=p&&n[{x:"xAxis",xy:"axes",y:"yAxis"}[p]].filter(b=>b.options.panningEnabled&&!b.options.isInternal),g=n.options.chart;g!=null&&g.panning&&(g.panning=h),as(this,"pan",{originalEvent:e},()=>{n.transform({axes:f,event:e,to:{x:e.chartX-(n.mouseDownX||0),y:e.chartY-(n.mouseDownY||0)},trigger:"pan"}),aa(n.container,{cursor:"move"})})}transform(e){var Q;let{axes:s=this.axes,event:n,from:h={},reset:p,selection:f,to:g={},trigger:b}=e,{inverted:A,time:R}=this;(Q=this.hoverPoints)==null||Q.forEach(st=>st.setState()),as(this,"transform",e);let D=e.hasZoomed||!1,G,Z;for(let st of s){let{horiz:rt,len:ot,minPointOffset:gt=0,options:vt,reversed:Ft}=st,Wt=rt?"width":"height",Ht=rt?"x":"y",ce=Ir(g[Wt],st.len),Jt=Ir(h[Wt],st.len),ie=10>Math.abs(ce)?1:ce/Jt,Pe=(h[Ht]||0)+Jt/2-st.pos,Re=Pe-((g[Ht]??st.pos)+ce/2-st.pos)/ie,Ye=Ft&&!A||!Ft&&A?-1:1;if(!p&&(Pe<0||Pe>st.len))continue;let ei=st.chart.polar||st.isOrdinal?0:gt*Ye||0,Si=st.toValue(Re,!0),yi=st.toValue(Re+ot/ie,!0),_i=Si+ei,ui=yi-ei,Yi=st.allExtremes;if(f&&f[st.coll].push({axis:st,min:Math.min(Si,yi),max:Math.max(Si,yi)}),_i>ui&&([_i,ui]=[ui,_i]),ie===1&&!p&&st.coll==="yAxis"&&!Yi){for(let T of st.series){let t=T.getExtremes(T.getProcessedData(!0).modified.getColumn("y")||[],!0);Yi??(Yi={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),jd(t.dataMin)&&jd(t.dataMax)&&(Yi.dataMin=Math.min(t.dataMin,Yi.dataMin),Yi.dataMax=Math.max(t.dataMax,Yi.dataMax))}st.allExtremes=Yi}let{dataMin:Cs,dataMax:fs,min:gs,max:Ko}=ld(st.getExtremes(),Yi||{}),vs=R.parse(vt.min),qs=R.parse(vt.max),ps=Cs??vs,qi=fs??qs,Bo=ui-_i,vr=st.categories?0:Math.min(Bo,qi-ps),$r=ps-vr*(ys(vs)?0:vt.minPadding),Ln=qi+vr*(ys(qs)?0:vt.maxPadding),lc=st.allowZoomOutside||ie===1||b!=="zoom"&&ie>1,fh=Math.min(vs??$r,$r,lc?gs:$r),Rn=Math.max(qs??Ln,Ln,lc?Ko:Ln);(!st.isOrdinal||ie!==1||p)&&(_i<fh&&(_i=fh,ie>=1&&(ui=_i+Bo)),ui>Rn&&(ui=Rn,ie>=1&&(_i=ui-Bo)),(p||st.series.length&&(_i!==gs||ui!==Ko)&&_i>=fh&&ui<=Rn)&&(f?f[st.coll].push({axis:st,min:_i,max:ui}):(st.isPanning=b!=="zoom",st.isPanning&&(Z=!0),st.setExtremes(p?void 0:_i,p?void 0:ui,!1,!1,{move:Re,trigger:b,scale:ie}),!p&&(_i>fh||ui<Rn)&&b!=="mousewheel"&&(G=!0)),D=!0),this.hasCartesianSeries||p||b==="mousewheel"||(G=!0),n&&(this[rt?"mouseDownX":"mouseDownY"]=n[rt?"chartX":"chartY"]))}return D&&(f?as(this,"selection",f,()=>{delete e.selection,e.trigger="zoom",this.transform(e)}):(!G||Z||this.resetZoomButton?!G&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(b==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),D}}ld(lh.prototype,{callbacks:[],collectionsWithInit:{xAxis:[lh.prototype.addAxis,[!0]],yAxis:[lh.prototype.addAxis,[!1]],series:[lh.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let du=lh,{stop:cg}=Gr,{composed:Zd}=ge,{addEvent:ml,createElement:hd,css:xf,defined:hh,erase:cu,merge:up,pushUnique:_c}=Ke;function yf(){let _=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!_&&(this.scrollablePlotArea=_=new qd(this)),_==null||_.applyFixed()}function $d(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class qd{static compose(e,s,n){_c(Zd,this.compose)&&(ml(e,"afterInit",$d),ml(s,"afterSetChartSize",h=>this.afterSetSize(h.target,h)),ml(s,"render",yf),ml(n,"show",$d))}static afterSetSize(e,s){let n,h,p,{minWidth:f,minHeight:g}=e.options.chart.scrollablePlotArea||{},{clipBox:b,plotBox:A,inverted:R,renderer:D}=e;if(!D.forExport&&(f?(e.scrollablePixelsX=n=Math.max(0,f-e.chartWidth),n&&(e.scrollablePlotBox=up(e.plotBox),A.width=e.plotWidth+=n,b[R?"height":"width"]+=n,p=!0)):g&&(e.scrollablePixelsY=h=Math.max(0,g-e.chartHeight),hh(h)&&(e.scrollablePlotBox=up(e.plotBox),A.height=e.plotHeight+=h,b[R?"width":"height"]+=h,p=!1)),hh(p)&&!s.skipAxes))for(let G of e.axes)(G.horiz===p||e.hasParallelCoordinates&&G.coll==="yAxis")&&(G.setAxisSize(),G.setAxisTranslation())}constructor(e){var Z;let s,n=e.options.chart,h=Un.getRendererType(),p=n.scrollablePlotArea||{},f=this.moveFixedElements.bind(this),g={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};e.scrollablePixelsX&&(g.overflowX="auto"),e.scrollablePixelsY&&(g.overflowY="auto"),this.chart=e;let b=this.parentDiv=hd("div",{className:"highcharts-scrolling-parent"},{position:"relative"},e.renderTo),A=this.scrollingContainer=hd("div",{className:"highcharts-scrolling"},g,b),R=this.innerContainer=hd("div",{className:"highcharts-inner-container"},void 0,A),D=this.fixedDiv=hd("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((Z=n.style)==null?void 0:Z.zIndex)||0)+2,top:0},void 0,!0),G=this.fixedRenderer=new h(D,e.chartWidth,e.chartHeight,n.style);this.mask=G.path().attr({fill:n.backgroundColor||"#fff","fill-opacity":p.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),A.parentNode.insertBefore(D,A),xf(e.renderTo,{overflow:"visible"}),ml(e,"afterShowResetZoom",f),ml(e,"afterApplyDrilldown",f),ml(e,"afterLayOutTitles",f),ml(A,"scroll",()=>{let{pointer:Q,hoverPoint:st}=e;Q&&(delete Q.chartPosition,st&&(s=st),Q.runPointActions(void 0,s,!0))}),R.appendChild(e.container)}applyFixed(){var Pe;let{chart:e,fixedRenderer:s,isDirty:n,scrollingContainer:h}=this,{axisOffset:p,chartWidth:f,chartHeight:g,container:b,plotHeight:A,plotLeft:R,plotTop:D,plotWidth:G,scrollablePixelsX:Z=0,scrollablePixelsY:Q=0}=e,{scrollPositionX:st=0,scrollPositionY:rt=0}=e.options.chart.scrollablePlotArea||{},ot=f+Z,gt=g+Q;s.setSize(f,g),(n??!0)&&(this.isDirty=!1,this.moveFixedElements()),cg(e.container),xf(b,{width:`${ot}px`,height:`${gt}px`}),e.renderer.boxWrapper.attr({width:ot,height:gt,viewBox:[0,0,ot,gt].join(" ")}),(Pe=e.chartBackground)==null||Pe.attr({width:ot,height:gt}),xf(h,{width:`${f}px`,height:`${g}px`}),hh(n)||(h.scrollLeft=Z*st,h.scrollTop=Q*rt);let vt=D-p[0]-1,Ft=R-p[3]-1,Wt=D+A+p[2]+1,Ht=R+G+p[1]+1,ce=R+G-Z,Jt=D+A-Q,ie=[["M",0,0]];Z?ie=[["M",0,vt],["L",R-1,vt],["L",R-1,Wt],["L",0,Wt],["Z"],["M",ce,vt],["L",f,vt],["L",f,Wt],["L",ce,Wt],["Z"]]:Q&&(ie=[["M",Ft,0],["L",Ft,D-1],["L",Ht,D-1],["L",Ht,0],["Z"],["M",Ft,Jt],["L",Ft,g],["L",Ht,g],["L",Ht,Jt],["Z"]]),e.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:ie})}moveFixedElements(){let e,{container:s,inverted:n,scrollablePixelsX:h,scrollablePixelsY:p}=this.chart,f=this.fixedRenderer,g=qd.fixedSelectors;if(h&&!n?e=".highcharts-yaxis":h&&n||p&&!n?e=".highcharts-xaxis":p&&n&&(e=".highcharts-yaxis"),e&&!(this.chart.hasParallelCoordinates&&e===".highcharts-yaxis"))for(let b of[`${e}:not(.highcharts-radial-axis)`,`${e}-labels:not(.highcharts-radial-axis-labels)`])_c(g,b);else for(let b of[".highcharts-xaxis",".highcharts-yaxis"])for(let A of[`${b}:not(.highcharts-radial-axis)`,`${b}-labels:not(.highcharts-radial-axis-labels)`])cu(g,A);for(let b of g)[].forEach.call(s.querySelectorAll(b),A=>{(A.namespaceURI===f.SVG_NS?f.box:f.box.parentNode).appendChild(A),A.style.pointerEvents="auto"})}}qd.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Om}=hr,{series:pg}=ss,{destroyObjectProperties:Lc,fireEvent:Oc,getAlignFactor:pu,isNumber:vf,pick:Ec}=Ke,Ic=class{constructor(_,e,s,n,h){let p=_.chart.inverted,f=_.reversed;this.axis=_;let g=this.isNegative=!!s!=!!f;this.options=e=e||{},this.x=n,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=h,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(p?g?"left":"right":"center"),verticalAlign:e.verticalAlign||(p?"middle":g?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(p?g?"right":"left":"center")}destroy(){Lc(this,this.axis)}render(_){let e=this.axis.chart,s=this.options,n=s.format,h=n?Om(n,this,e):s.formatter.call(this);if(this.label)this.label.attr({text:h,visibility:"hidden"});else{this.label=e.renderer.label(h,null,void 0,s.shape,void 0,void 0,s.useHTML,!1,"stack-labels");let p={r:s.borderRadius||0,text:h,padding:Ec(s.padding,5),visibility:"hidden"};e.styledMode||(p.fill=s.backgroundColor,p.stroke=s.borderColor,p["stroke-width"]=s.borderWidth,this.label.css(s.style||{})),this.label.attr(p),this.label.added||this.label.add(_)}this.label.labelrank=e.plotSizeY,Oc(this,"afterRender")}setOffset(_,e,s,n,h,p){let{alignOptions:f,axis:g,label:b,options:A,textAlign:R}=this,D=g.chart,G=this.getStackBox({xOffset:_,width:e,boxBottom:s,boxTop:n,defaultX:h,xAxis:p}),{verticalAlign:Z}=f;if(b&&G){let Q=b.getBBox(void 0,0),st=b.padding,rt=Ec(A.overflow,"justify")==="justify",ot;f.x=A.x||0,f.y=A.y||0;let{x:gt,y:vt}=this.adjustStackPosition({labelBox:Q,verticalAlign:Z,textAlign:R});G.x-=gt,G.y-=vt,b.align(f,!1,G),(ot=D.isInsidePlot(b.alignAttr.x+f.x+gt,b.alignAttr.y+f.y+vt))||(rt=!1),rt&&pg.prototype.justifyDataLabel.call(g,b,f,b.alignAttr,Q,G),b.attr({x:b.alignAttr.x,y:b.alignAttr.y,rotation:A.rotation,rotationOriginX:Q.width*pu(A.textAlign||"center"),rotationOriginY:Q.height/2}),Ec(!rt&&A.crop,!0)&&(ot=vf(b.x)&&vf(b.y)&&D.isInsidePlot(b.x-st+(b.width||0),b.y)&&D.isInsidePlot(b.x+st,b.y)),b[ot?"show":"hide"]()}Oc(this,"afterSetOffset",{xOffset:_,width:e})}adjustStackPosition({labelBox:_,verticalAlign:e,textAlign:s}){return{x:_.width/2+_.width/2*(2*pu(s)-1),y:_.height/2*2*(1-pu(e))}}getStackBox(_){let e=this.axis,s=e.chart,{boxTop:n,defaultX:h,xOffset:p,width:f,boxBottom:g}=_,b=e.stacking.usePercentage?100:Ec(n,this.total,0),A=e.toPixels(b),R=_.xAxis||s.xAxis[0],D=Ec(h,R.translate(this.x))+p,G=Math.abs(A-e.toPixels(g||vf(e.min)&&e.logarithmic&&e.logarithmic.lin2log(e.min)||0)),Z=s.inverted,Q=this.isNegative;return Z?{x:(Q?A:A-G)-s.plotLeft,y:R.height-D-f+R.top-s.plotTop,width:G,height:f}:{x:D+R.transB-s.plotLeft,y:(Q?A-G:A)-s.plotTop,width:f,height:G}}},{getDeferredAnimation:Ih}=Gr,{series:{prototype:Kd}}=ss,{addEvent:uu,correctFloat:fp,defined:ug,destroyObjectProperties:fg,fireEvent:gp,isNumber:fu,objectEach:Jd,pick:bf}=Ke;function wf(){let _=this.inverted;this.axes.forEach(e=>{var s;(s=e.stacking)!=null&&s.stacks&&e.hasVisibleSeries&&(e.stacking.oldStacks=e.stacking.stacks)}),this.series.forEach(e=>{var n;let s=((n=e.xAxis)==null?void 0:n.options)||{};e.options.stacking&&e.reserveSpace()&&(e.stackKey=[e.type,bf(e.options.stack,""),_?s.top:s.left,_?s.height:s.width].join(","))})}function Qd(){var e;let _=this.stacking;if(_){let s=_.stacks;Jd(s,(n,h)=>{fg(n),delete s[h]}),(e=_.stackTotalGroup)==null||e.destroy()}}function kf(){this.stacking||(this.stacking=new Bm(this))}function gg(_,e,s,n){return!ug(_)||_.x!==e||n&&_.stackKey!==n?_={x:e,index:0,key:n,stackKey:n}:_.index++,_.key=[s,e,_.index].join(","),_}function Em(){let _,e=this,s=e.yAxis,n=e.stackKey||"",h=s.stacking.stacks,p=e.getColumn("x",!0),f=e.options.stacking,g=e[f+"Stacker"];g&&[n,"-"+n].forEach(b=>{var Z;let A=p.length,R,D,G;for(;A--;)R=p[A],_=e.getStackIndicator(_,R,e.index,b),D=(Z=h[b])==null?void 0:Z[R],(G=D==null?void 0:D.points[_.key||""])&&g.call(e,G,D,A)})}function mg(_,e,s){let n=e.total?100/e.total:0;_[0]=fp(_[0]*n),_[1]=fp(_[1]*n),this.stackedYData[s]=_[1]}function Mf(_){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?Kd.setStackedPoints.call(this,_,"group"):_.stacking.resetStacks())}function Im(_,e){var Jt,ie;let s,n,h,p,f,g,b,A=e||this.options.stacking;if(!A||!this.reserveSpace()||({group:"xAxis"}[A]||"yAxis")!==_.coll)return;let R=this.getColumn("x",!0),D=this.getColumn(this.pointValKey||"y",!0),G=[],Z=D.length,Q=this.options,st=Q.threshold||0,rt=Q.startFromThreshold?st:0,ot=Q.stack,gt=e?`${this.type},${A}`:this.stackKey||"",vt="-"+gt,Ft=this.negStacks,Wt=_.stacking,Ht=Wt.stacks,ce=Wt.oldStacks;for(Wt.stacksTouched+=1,b=0;b<Z;b++){let Pe=R[b]||0,Re=D[b],Ye=fu(Re)&&Re||0;g=(s=this.getStackIndicator(s,Pe,this.index)).key||"",Ht[f=(n=Ft&&Ye<(rt?0:st))?vt:gt]||(Ht[f]={}),Ht[f][Pe]||((Jt=ce[f])!=null&&Jt[Pe]?(Ht[f][Pe]=ce[f][Pe],Ht[f][Pe].total=null):Ht[f][Pe]=new Ic(_,_.options.stackLabels,!!n,Pe,ot)),h=Ht[f][Pe],Re!==null?(h.points[g]=h.points[this.index]=[bf(h.cumulative,rt)],ug(h.cumulative)||(h.base=g),h.touched=Wt.stacksTouched,s.index>0&&this.singleStacks===!1&&(h.points[g][0]=h.points[this.index+","+Pe+",0"][0])):(delete h.points[g],delete h.points[this.index]);let ei=h.total||0;A==="percent"?(p=n?gt:vt,ei=Ft&&((ie=Ht[p])!=null&&ie[Pe])?(p=Ht[p][Pe]).total=Math.max(p.total||0,ei)+Math.abs(Ye):fp(ei+Math.abs(Ye))):A==="group"?fu(Re)&&ei++:ei=fp(ei+Ye),A==="group"?h.cumulative=(ei||1)-1:h.cumulative=fp(bf(h.cumulative,rt)+Ye),h.total=ei,Re!==null&&(h.points[g].push(h.cumulative),G[b]=h.cumulative,h.hasValidPoints=!0)}A==="percent"&&(Wt.usePercentage=!0),A!=="group"&&(this.stackedYData=G),Wt.oldStacks={}}class Bm{constructor(e){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=e}buildStacks(){let e,s,n=this.axis,h=n.series,p=n.coll==="xAxis",f=n.options.reversedStacks,g=h.length;for(this.resetStacks(),this.usePercentage=!1,s=g;s--;)e=h[f?s:g-s-1],p&&e.setGroupedPoints(n),e.setStackedPoints(n);if(!p)for(s=0;s<g;s++)h[s].modifyStacks();gp(n,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Jd(this.stacks,e=>{Jd(e,s=>{s.cumulative=s.total})}))}resetStacks(){Jd(this.stacks,e=>{Jd(e,(s,n)=>{fu(s.touched)&&s.touched<this.stacksTouched?(s.destroy(),delete e[n]):(s.total=null,s.cumulative=null)})})}renderStackTotals(){var g;let e=this.axis,s=e.chart,n=s.renderer,h=this.stacks,p=Ih(s,((g=e.options.stackLabels)==null?void 0:g.animation)||!1),f=this.stackTotalGroup=this.stackTotalGroup||n.g("stack-labels").attr({zIndex:6,opacity:0}).add();f.translate(s.plotLeft,s.plotTop),Jd(h,b=>{Jd(b,A=>{A.render(f)})}),f.animate({opacity:1},p)}}(di||(di={})).compose=function(_,e,s){let n=e.prototype,h=s.prototype;n.getStacks||(uu(_,"init",kf),uu(_,"destroy",Qd),n.getStacks=wf,h.getStackIndicator=gg,h.modifyStacks=Em,h.percentStacker=mg,h.setGroupedPoints=Mf,h.setStackedPoints=Im)};let Dm=di,{defined:gu,merge:mu,isObject:xg}=Ke;class yg extends $a{drawGraph(){let e=this.options,s=(this.gappedPath||this.getGraphPath).call(this),n=this.chart.styledMode;[this,...this.zones].forEach((h,p)=>{let f,g=h.graph,b=g?"animate":"attr",A=h.dashStyle||e.dashStyle;g?(g.endX=this.preventGraphAnimation?null:s.xMap,g.animate({d:s})):s.length&&(h.graph=g=this.chart.renderer.path(s).addClass("highcharts-graph"+(p?` highcharts-zone-graph-${p-1} `:" ")+(p&&h.className||"")).attr({zIndex:1}).add(this.group)),g&&!n&&(f={stroke:!p&&e.lineColor||h.color||this.color||"#cccccc","stroke-width":e.lineWidth||0,fill:this.fillGraph&&this.color||"none"},A?f.dashstyle=A:e.linecap!=="square"&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),g[b](f).shadow(e.shadow&&mu({filterUnits:"userSpaceOnUse"},xg(e.shadow)?e.shadow:{}))),g&&(g.startX=s.xMap,g.isArea=s.isArea)})}getGraphPath(e,s,n){let h=this,p=h.options,f=[],g=[],b,A=p.step,R=(e=e||h.points).reversed;return R&&e.reverse(),(A={right:1,center:2}[A]||A&&3)&&R&&(A=4-A),(e=this.getValidPoints(e,!1,p.nullInteraction||!(p.connectNulls&&!s&&!n))).forEach(function(D,G){let Z,Q=D.plotX,st=D.plotY,rt=e[G-1],ot=D.isNull||typeof st!="number";(D.leftCliff||rt!=null&&rt.rightCliff)&&!n&&(b=!0),ot&&!gu(s)&&G>0?b=!p.connectNulls:ot&&!s?b=!0:(G===0||b?Z=[["M",D.plotX,D.plotY]]:h.getPointSpline?Z=[h.getPointSpline(e,D,G)]:A?(Z=A===1?[["L",rt.plotX,st]]:A===2?[["L",(rt.plotX+Q)/2,rt.plotY],["L",(rt.plotX+Q)/2,st]]:[["L",Q,rt.plotY]]).push(["L",Q,st]):Z=[["L",Q,st]],g.push(D.x),A&&(g.push(D.x),A===2&&g.push(D.x)),f.push.apply(f,Z),b=!1)}),f.xMap=g,h.graphPath=f,f}}yg.defaultOptions=mu($a.defaultOptions,{legendSymbol:"lineMarker"}),ss.registerSeriesType("line",yg);let{seriesTypes:{line:tc}}=ss,{extend:Sf,merge:Tf,objectEach:Af,pick:Bc}=Ke;class Pf extends tc{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:e,options:s}=this;[this,...this.zones].forEach((n,h)=>{let p={},f=n.fillColor||s.fillColor,g=n.area,b=g?"animate":"attr";g?(g.endX=this.preventGraphAnimation?null:e.xMap,g.animate({d:e})):(p.zIndex=0,(g=n.area=this.chart.renderer.path(e).addClass("highcharts-area"+(h?` highcharts-zone-area-${h-1} `:" ")+(h&&n.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(p.fill=f||n.color||this.color,p["fill-opacity"]=f?1:s.fillOpacity??.75,g.css({pointerEvents:this.stickyTracking?"none":"auto"})),g[b](p),g.startX=e.xMap,g.shiftUnit=s.step?2:1})}getGraphPath(e){let s,n,h,p=tc.prototype.getGraphPath,f=this.options,g=f.stacking,b=this.yAxis,A=[],R=[],D=this.index,G=b.stacking.stacks[this.stackKey],Z=f.threshold,Q=Math.round(b.getThreshold(f.threshold)),st=Bc(f.connectNulls,g==="percent"),rt=function(Ht,ce,Jt){let ie=e[Ht],Pe=g&&G[ie.x].points[D],Re=ie[Jt+"Null"]||0,Ye=ie[Jt+"Cliff"]||0,ei,Si,yi=!0;Ye||Re?(ei=(Re?Pe[0]:Pe[1])+Ye,Si=Pe[0]+Ye,yi=!!Re):!g&&e[ce]&&e[ce].isNull&&(ei=Si=Z),ei!==void 0&&(R.push({plotX:s,plotY:ei===null?Q:b.getThreshold(ei),isNull:yi,isCliff:!0}),A.push({plotX:s,plotY:Si===null?Q:b.getThreshold(Si),doCurve:!1}))};e=e||this.points,g&&(e=this.getStackPoints(e));for(let Ht=0,ce=e.length;Ht<ce;++Ht)g||(e[Ht].leftCliff=e[Ht].rightCliff=e[Ht].leftNull=e[Ht].rightNull=void 0),n=e[Ht].isNull,s=Bc(e[Ht].rectPlotX,e[Ht].plotX),h=g?Bc(e[Ht].yBottom,Q):Q,(!n||st)&&(st||rt(Ht,Ht-1,"left"),n&&!g&&st||(R.push(e[Ht]),A.push({x:Ht,plotX:s,plotY:h})),st||rt(Ht,Ht+1,"right"));let ot=p.call(this,R,!0,!0);A.reversed=!0;let gt=p.call(this,A,!0,!0),vt=gt[0];vt&&vt[0]==="M"&&(gt[0]=["L",vt[1],vt[2]]);let Ft=ot.concat(gt);Ft.length&&Ft.push(["Z"]);let Wt=p.call(this,R,!1,st);return this.chart.series.length>1&&g&&R.some(Ht=>Ht.isCliff)&&(Ft.hasStackedCliffs=Wt.hasStackedCliffs=!0),Ft.xMap=ot.xMap,this.areaPath=Ft,Wt}getStackPoints(e){let s=this,n=[],h=[],p=this.xAxis,f=this.yAxis,g=f.stacking.stacks[this.stackKey],b={},A=f.series,R=A.length,D=f.options.reversedStacks?1:-1,G=A.indexOf(s);if(e=e||this.points,this.options.stacking){for(let Q=0;Q<e.length;Q++)e[Q].leftNull=e[Q].rightNull=void 0,b[e[Q].x]=e[Q];Af(g,function(Q,st){Q.total!==null&&h.push(st)}),h.sort(function(Q,st){return Q-st});let Z=A.map(Q=>Q.visible);h.forEach(function(Q,st){let rt=0,ot,gt;if(b[Q]&&!b[Q].isNull)n.push(b[Q]),[-1,1].forEach(function(vt){let Ft=vt===1?"rightNull":"leftNull",Wt=g[h[st+vt]],Ht=0;if(Wt){let ce=G;for(;ce>=0&&ce<R;){let Jt=A[ce].index;!(ot=Wt.points[Jt])&&(Jt===s.index?b[Q][Ft]=!0:Z[ce]&&(gt=g[Q].points[Jt])&&(Ht-=gt[1]-gt[0])),ce+=D}}b[Q][vt===1?"rightCliff":"leftCliff"]=Ht});else{let vt=G;for(;vt>=0&&vt<R;){let Ft=A[vt].index;if(ot=g[Q].points[Ft]){rt=ot[1];break}vt+=D}rt=Bc(rt,0),rt=f.translate(rt,0,1,0,1),n.push({isNull:!0,plotX:p.translate(Q,0,0,0,1),x:Q,plotY:rt,yBottom:rt})}})}return n}}Pf.defaultOptions=Tf(tc.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Sf(Pf.prototype,{singleStacks:!1}),ss.registerSeriesType("area",Pf);let{line:vg}=ss.seriesTypes,{merge:Dc,pick:zc}=Ke;class xu extends vg{getPointSpline(e,s,n){let h,p,f,g,b=s.plotX||0,A=s.plotY||0,R=e[n-1],D=e[n+1];function G(Q){return Q&&!Q.isNull&&Q.doCurve!==!1&&!s.isCliff}if(G(R)&&G(D)){let Q=R.plotX||0,st=R.plotY||0,rt=D.plotX||0,ot=D.plotY||0,gt=0;h=(1.5*b+Q)/2.5,p=(1.5*A+st)/2.5,f=(1.5*b+rt)/2.5,g=(1.5*A+ot)/2.5,f!==h&&(gt=(g-p)*(f-b)/(f-h)+A-g),p+=gt,g+=gt,p>st&&p>A?(p=Math.max(st,A),g=2*A-p):p<st&&p<A&&(p=Math.min(st,A),g=2*A-p),g>ot&&g>A?(g=Math.max(ot,A),p=2*A-g):g<ot&&g<A&&(g=Math.min(ot,A),p=2*A-g),s.rightContX=f,s.rightContY=g,s.controlPoints={low:[h,p],high:[f,g]}}let Z=["C",zc(R.rightContX,R.plotX,0),zc(R.rightContY,R.plotY,0),zc(h,b,0),zc(p,A,0),b,A];return R.rightContX=R.rightContY=void 0,Z}}xu.defaultOptions=Dc(vg.defaultOptions),ss.registerSeriesType("spline",xu);let bg=xu,{area:ec,area:{prototype:dd}}=ss.seriesTypes,{extend:Cf,merge:wg}=Ke;class Rc extends bg{}Rc.defaultOptions=wg(bg.defaultOptions,ec.defaultOptions),Cf(Rc.prototype,{getGraphPath:dd.getGraphPath,getStackPoints:dd.getStackPoints,drawGraph:dd.drawGraph}),ss.registerSeriesType("areaspline",Rc);let{animObject:kg}=Gr,{parse:yu}=De,{noop:mp}=ge,{clamp:cd,crisp:vu,defined:xp,extend:pd,fireEvent:yp,isArray:_f,isNumber:Il,merge:vp,pick:ud,objectEach:bp}=Ke;class Ja extends $a{animate(e){let s,n,h=this,p=this.yAxis,f=p.pos,g=p.reversed,b=h.options,{clipOffset:A,inverted:R}=this.chart,D={},G=R?"translateX":"translateY";e&&A?(D.scaleY=.001,n=cd(p.toPixels(b.threshold||0),f,f+p.len),R?D.translateX=(n+=g?-Math.floor(A[0]):Math.ceil(A[2]))-p.len:D.translateY=n+=g?Math.ceil(A[0]):-Math.floor(A[2]),h.clipBox&&h.setClip(),h.group.attr(D)):(s=Number(h.group.attr(G)),h.group.animate({scaleY:1},pd(kg(h.options.animation),{step:function(Z,Q){h.group&&(D[G]=s+Q.pos*(f-s),h.group.attr(D))}})))}init(e,s){super.init.apply(this,arguments);let n=this;(e=n.chart).hasRendered&&e.series.forEach(function(h){h.type===n.type&&(h.isDirty=!0)})}getColumnMetrics(){var st,rt;let e=this,s=e.options,n=e.xAxis,h=e.yAxis,p=n.options.reversedStacks,f=n.reversed&&!p||!n.reversed&&p,g={},b,A=0;s.grouping===!1?A=1:e.chart.series.forEach(function(ot){let gt,vt=ot.yAxis,Ft=ot.options;ot.type===e.type&&ot.reserveSpace()&&h.len===vt.len&&h.pos===vt.pos&&(Ft.stacking&&Ft.stacking!=="group"?(g[b=ot.stackKey]===void 0&&(g[b]=A++),gt=g[b]):Ft.grouping!==!1&&(gt=A++),ot.columnIndex=gt)});let R=Math.min(Math.abs(n.transA)*(!((st=n.brokenAxis)!=null&&st.hasBreaks)&&((rt=n.ordinal)==null?void 0:rt.slope)||s.pointRange||n.closestPointRange||n.tickInterval||1),n.len),D=R*s.groupPadding,G=(R-2*D)/(A||1),Z=Math.min(s.maxPointWidth||n.len,ud(s.pointWidth,G*(1-2*s.pointPadding))),Q=(e.columnIndex||0)+ +!!f;return e.columnMetrics={width:Z,offset:(G-Z)/2+(D+Q*G-R/2)*(f?-1:1),paddedWidth:G,columnCount:A},e.columnMetrics}crispCol(e,s,n,h){let p=this.borderWidth,f=this.chart.inverted;return h=vu(s+h,p,f)-(s=vu(s,p,f)),this.options.crisp&&(n=vu(e+n,p)-(e=vu(e,p))),{x:e,y:s,width:n,height:h}}adjustForMissingColumns(e,s,n,h){var p;if(!n.isNull&&h.columnCount>1){let f=this.xAxis.series.filter(R=>R.visible).map(R=>R.index),g=0,b=0;bp((p=this.xAxis.stacking)==null?void 0:p.stacks,R=>{var Q;let D=typeof n.x=="number"?(Q=R[n.x.toString()])==null?void 0:Q.points:void 0,G=D==null?void 0:D[this.index],Z={};if(D&&_f(G)){let st=this.index,rt=Object.keys(D).filter(ot=>!ot.match(",")&&D[ot]&&D[ot].length>1).map(parseFloat).filter(ot=>f.indexOf(ot)!==-1).filter(ot=>{let gt=this.chart.series[ot].options,vt=gt.stacking&&gt.stack;if(xp(vt)){if(Il(Z[vt]))return st===ot&&(st=Z[vt]),!1;Z[vt]=ot}return!0}).sort((ot,gt)=>gt-ot);g=rt.indexOf(st),b=rt.length}}),g=this.xAxis.reversed?b-1-g:g;let A=(b-1)*h.paddedWidth+s;e=(n.plotX||0)+A/2-s-g*h.paddedWidth}return e}translate(){let e=this,s=e.chart,n=e.options,h=e.dense=e.closestPointRange*e.xAxis.transA<2,p=e.borderWidth=ud(n.borderWidth,+!h),f=e.xAxis,g=e.yAxis,b=n.threshold,A=ud(n.minPointLength,5),R=e.getColumnMetrics(),D=R.width,G=e.pointXOffset=R.offset,Z=e.dataMin,Q=e.dataMax,st=e.translatedThreshold=g.getThreshold(b),rt=e.barW=Math.max(D,1+2*p);n.pointPadding&&n.crisp&&(rt=Math.ceil(rt)),$a.prototype.translate.apply(e),e.points.forEach(function(ot){let gt=ud(ot.yBottom,st),vt=999+Math.abs(gt),Ft=ot.plotX||0,Wt=cd(ot.plotY,-vt,g.len+vt),Ht,ce=Math.min(Wt,gt),Jt=Math.max(Wt,gt)-ce,ie=D,Pe=Ft+G,Re=rt;A&&Math.abs(Jt)<A&&(Jt=A,Ht=!g.reversed&&!ot.negative||g.reversed&&ot.negative,Il(b)&&Il(Q)&&ot.y===b&&Q<=b&&(g.min||0)<b&&(Z!==Q||(g.max||0)<=b)&&(Ht=!Ht,ot.negative=!ot.negative),ce=Math.abs(ce-st)>A?gt-A:st-(Ht?A:0)),xp(ot.options.pointWidth)&&(Pe-=Math.round(((ie=Re=Math.ceil(ot.options.pointWidth))-D)/2)),n.centerInCategory&&(Pe=e.adjustForMissingColumns(Pe,ie,ot,R)),ot.barX=Pe,ot.pointWidth=ie,ot.tooltipPos=s.inverted?[cd(g.len+g.pos-s.plotLeft-Wt,g.pos-s.plotLeft,g.len+g.pos-s.plotLeft),f.len+f.pos-s.plotTop-Pe-Re/2,Jt]:[f.left-s.plotLeft+Pe+Re/2,cd(Wt+g.pos-s.plotTop,g.pos-s.plotTop,g.len+g.pos-s.plotTop),Jt],ot.shapeType=e.pointClass.prototype.shapeType||"roundedRect",ot.shapeArgs=e.crispCol(Pe,ce,Re,ot.isNull?0:Jt)}),yp(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(e,s){let n=this.options,h=this.pointAttrToOptions||{},p=h.stroke||"borderColor",f=h["stroke-width"]||"borderWidth",g,b,A,R=e&&e.color||this.color,D=e&&e[p]||n[p]||R,G=e&&e.options.dashStyle||n.dashStyle,Z=e&&e[f]||n[f]||this[f]||0,Q=e!=null&&e.isNull&&n.nullInteraction?0:(e==null?void 0:e.opacity)??n.opacity??1;e&&this.zones.length&&(b=e.getZone(),R=e.options.color||b&&(b.color||e.nonZonedColor)||this.color,b&&(D=b.borderColor||D,G=b.dashStyle||G,Z=b.borderWidth||Z)),s&&e&&(A=(g=vp(n.states[s],e.options.states&&e.options.states[s]||{})).brightness,R=g.color||A!==void 0&&yu(R).brighten(g.brightness).get()||R,D=g[p]||D,Z=g[f]||Z,G=g.dashStyle||G,Q=ud(g.opacity,Q));let st={fill:R,stroke:D,"stroke-width":Z,opacity:Q};return G&&(st.dashstyle=G),st}drawPoints(e=this.points){let s,n=this,h=this.chart,p=n.options,f=p.nullInteraction,g=h.renderer,b=p.animationLimit||250;e.forEach(function(A){let R=A.plotY,D=A.graphic,G=!!D,Z=D&&h.pointCount<b?"animate":"attr";Il(R)&&(A.y!==null||f)?(s=A.shapeArgs,D&&A.hasNewShapeType()&&(D=D.destroy()),n.enabledDataSorting&&(A.startXPos=n.xAxis.reversed?-(s&&s.width||0):n.xAxis.width),!D&&(A.graphic=D=g[A.shapeType](s).add(A.group||n.group),D&&n.enabledDataSorting&&h.hasRendered&&h.pointCount<b&&(D.attr({x:A.startXPos}),G=!0,Z="animate")),D&&G&&D[Z](vp(s)),h.styledMode||D[Z](n.pointAttribs(A,A.selected&&"select")).shadow(A.allowShadow!==!1&&p.shadow),D&&(D.addClass(A.getClassName(),!0),D.attr({visibility:A.visible?"inherit":"hidden"}))):D&&(A.graphic=D.destroy())})}drawTracker(e=this.points){let s,n=this,h=n.chart,p=h.pointer,f=function(g){p==null||p.normalize(g);let b=p==null?void 0:p.getPointFromEvent(g);p&&b&&n.options.enableMouseTracking&&(h.isInsidePlot(g.chartX-h.plotLeft,g.chartY-h.plotTop,{visiblePlotOnly:!0})||p!=null&&p.inClass(g.target,"highcharts-data-label"))&&(p.isDirectTouch=!0,b.onMouseOver(g))};e.forEach(function(g){s=_f(g.dataLabels)?g.dataLabels:g.dataLabel?[g.dataLabel]:[],g.graphic&&(g.graphic.element.point=g),s.forEach(function(b){(b.div||b.element).point=g})}),n._hasTracking||(n.trackerGroups.forEach(function(g){n[g]&&(n[g].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(b){p==null||p.onTrackerMouseOut(b)}).on("touchstart",f),!h.styledMode&&n.options.cursor&&n[g].css({cursor:n.options.cursor}))}),n._hasTracking=!0),yp(this,"afterDrawTracker")}remove(){let e=this,s=e.chart;s.hasRendered&&s.series.forEach(function(n){n.type===e.type&&(n.isDirty=!0)}),$a.prototype.remove.apply(e,arguments)}}Ja.defaultOptions=vp($a.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),pd(Ja.prototype,{directTouch:!0,getSymbol:mp,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ss.registerSeriesType("column",Ja);let xl=Ja,{getDeferredAnimation:wp}=Gr,{format:bu}=hr,{defined:ha,extend:Mg,fireEvent:wu,getAlignFactor:Bl,isArray:Bh,isString:fd,merge:Nc,objectEach:gd,pick:Dh,pInt:kp,splat:Sg}=Ke;(function(_){function e(){return b(this).some(R=>R==null?void 0:R.enabled)}function s(R,D,G,Z,Q){var Pe;let{chart:st,enabledDataSorting:rt}=this,ot=this.isCartesian&&st.inverted,gt=R.plotX,vt=R.plotY,Ft=G.rotation||0,Wt=ha(gt)&&ha(vt)&&st.isInsidePlot(gt,Math.round(vt),{inverted:ot,paneCoordinates:!0,series:this}),Ht=Ft===0&&Dh(G.overflow,rt?"none":"justify")==="justify",ce=this.visible&&R.visible!==!1&&ha(gt)&&(R.series.forceDL||rt&&!Ht||Wt||Dh(G.inside,!!this.options.stacking)&&Z&&st.isInsidePlot(gt,ot?Z.x+1:Z.y+Z.height-1,{inverted:ot,paneCoordinates:!0,series:this})),Jt=R.pos();if(ce&&Jt){var ie;let Re=D.getBBox(),Ye=D.getBBox(void 0,0);if(Z=Mg({x:Jt[0],y:Math.round(Jt[1]),width:0,height:0},Z||{}),G.alignTo==="plotEdges"&&this.isCartesian&&(Z[ot?"x":"y"]=0,Z[ot?"width":"height"]=((Pe=this.yAxis)==null?void 0:Pe.len)||0),Mg(G,{width:Re.width,height:Re.height}),ie=Z,rt&&this.xAxis&&!Ht&&this.setDataLabelStartPos(R,D,Q,Wt,ie),D.align(Nc(G,{width:Ye.width,height:Ye.height}),!1,Z,!1),D.alignAttr.x+=Bl(G.align)*(Ye.width-Re.width),D.alignAttr.y+=Bl(G.verticalAlign)*(Ye.height-Re.height),D[D.placed?"animate":"attr"]({"text-align":D.alignAttr["text-align"]||"center",x:D.alignAttr.x+(Re.width-Ye.width)/2,y:D.alignAttr.y+(Re.height-Ye.height)/2,rotationOriginX:(D.width||0)/2,rotationOriginY:(D.height||0)/2}),Ht&&Z.height>=0)this.justifyDataLabel(D,G,D.alignAttr,Re,Z,Q);else if(Dh(G.crop,!0)){let{x:ei,y:Si}=D.alignAttr;ce=st.isInsidePlot(ei,Si,{paneCoordinates:!0,series:this})&&st.isInsidePlot(ei+Re.width-1,Si+Re.height-1,{paneCoordinates:!0,series:this})}G.shape&&!Ft&&D[Q?"attr":"animate"]({anchorX:Jt[0],anchorY:Jt[1]})}Q&&rt&&(D.placed=!1),ce||rt&&!Ht?(D.show(),D.placed=!0):(D.hide(),D.placed=!1)}function n(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function h(R){let D=this.hasRendered||0,G=this.initDataLabelsGroup().attr({opacity:+D});return!D&&G&&(this.visible&&G.show(),this.options.animation?G.animate({opacity:1},R):G.attr({opacity:1})),G}function p(R){var ce;let D;R=R||this.points;let G=this,Z=G.chart,Q=G.options,st=Z.renderer,{backgroundColor:rt,plotBackgroundColor:ot}=Z.options.chart,gt=st.getContrast(fd(ot)&&ot||fd(rt)&&rt||"#000000"),vt=b(G),{animation:Ft,defer:Wt}=vt[0],Ht=Wt?wp(Z,Ft,G):{defer:0,duration:0};wu(this,"drawDataLabels"),(ce=G.hasDataLabels)!=null&&ce.call(G)&&(D=this.initDataLabels(Ht),R.forEach(Jt=>{var Ye,ei,Si;let ie=Jt.dataLabels||[],Pe=Jt.color||G.color;Sg(g(vt,Jt.dlOptions||((Ye=Jt.options)==null?void 0:Ye.dataLabels))).forEach((yi,_i)=>{var $r;let ui=yi.enabled&&(Jt.visible||Jt.dataLabelOnHidden)&&(!Jt.isNull||Jt.dataLabelOnNull)&&function(Ln,lc){let fh=lc.filter;if(fh){let Rn=fh.operator,T=Ln[fh.property],t=fh.value;return Rn===">"&&T>t||Rn==="<"&&T<t||Rn===">="&&T>=t||Rn==="<="&&T<=t||Rn==="=="&&T==t||Rn==="==="&&T===t||Rn==="!="&&T!=t||Rn==="!=="&&T!==t||!1}return!0}(Jt,yi),{backgroundColor:Yi,borderColor:Cs,distance:fs,style:gs={}}=yi,Ko,vs,qs,ps={},qi=ie[_i],Bo=!qi,vr;ui&&(vs=ha(Ko=Dh(yi[Jt.formatPrefix+"Format"],yi.format))?bu(Ko,Jt,Z):(yi[Jt.formatPrefix+"Formatter"]||yi.formatter).call(Jt,yi),qs=yi.rotation,!Z.styledMode&&(gs.color=Dh(yi.color,gs.color,fd(G.color)?G.color:void 0,"#000000"),gs.color==="contrast"?(Yi!=="none"&&(vr=Yi),Jt.contrastColor=st.getContrast(vr!=="auto"&&fd(vr)&&vr||(fd(Pe)?Pe:"")),gs.color=vr||!ha(fs)&&yi.inside||0>kp(fs||0)||Q.stacking?Jt.contrastColor:gt):delete Jt.contrastColor,Q.cursor&&(gs.cursor=Q.cursor)),ps={r:yi.borderRadius||0,rotation:qs,padding:yi.padding,zIndex:1},Z.styledMode||(ps.fill=Yi==="auto"?Jt.color:Yi,ps.stroke=Cs==="auto"?Jt.color:Cs,ps["stroke-width"]=yi.borderWidth),gd(ps,(Ln,lc)=>{Ln===void 0&&delete ps[lc]})),!qi||ui&&ha(vs)&&!!(qi.div||($r=qi.text)!=null&&$r.foreignObject)==!!yi.useHTML&&(qi.rotation&&yi.rotation||qi.rotation===yi.rotation)||(qi=void 0,Bo=!0),ui&&ha(vs)&&vs!==""&&(qi?ps.text=vs:(qi=st.label(vs,0,0,yi.shape,void 0,void 0,yi.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Jt.colorIndex+" "+(yi.className||"")+(yi.useHTML?" highcharts-tracker":"")),qi&&(qi.options=yi,qi.attr(ps),Z.styledMode?gs.width&&qi.css({width:gs.width,textOverflow:gs.textOverflow,whiteSpace:gs.whiteSpace}):qi.css(gs).shadow(yi.shadow),wu(qi,"beforeAddingDataLabel",{labelOptions:yi,point:Jt}),qi.added||qi.add(D),G.alignDataLabel(Jt,qi,yi,void 0,Bo),qi.isActive=!0,ie[_i]&&ie[_i]!==qi&&ie[_i].destroy(),ie[_i]=qi))});let Re=ie.length;for(;Re--;)(ei=ie[Re])!=null&&ei.isActive?ie[Re].isActive=!1:((Si=ie[Re])==null||Si.destroy(),ie.splice(Re,1));Jt.dataLabel=ie[0],Jt.dataLabels=ie})),wu(this,"afterDrawDataLabels")}function f(R,D,G,Z,Q,st){let rt=this.chart,ot=D.align,gt=D.verticalAlign,vt=R.box?0:R.padding||0,Ft=rt.inverted?this.yAxis:this.xAxis,Wt=Ft?Ft.left-rt.plotLeft:0,Ht=rt.inverted?this.xAxis:this.yAxis,ce=Ht?Ht.top-rt.plotTop:0,{x:Jt=0,y:ie=0}=D,Pe,Re;return(Pe=(G.x||0)+vt+Wt)<0&&(ot==="right"&&Jt>=0?(D.align="left",D.inside=!0):Jt-=Pe,Re=!0),(Pe=(G.x||0)+Z.width-vt+Wt)>rt.plotWidth&&(ot==="left"&&Jt<=0?(D.align="right",D.inside=!0):Jt+=rt.plotWidth-Pe,Re=!0),(Pe=G.y+vt+ce)<0&&(gt==="bottom"&&ie>=0?(D.verticalAlign="top",D.inside=!0):ie-=Pe,Re=!0),(Pe=(G.y||0)+Z.height-vt+ce)>rt.plotHeight&&(gt==="top"&&ie<=0?(D.verticalAlign="bottom",D.inside=!0):ie+=rt.plotHeight-Pe,Re=!0),Re&&(D.x=Jt,D.y=ie,R.placed=!st,R.align(D,void 0,Q)),Re}function g(R,D){let G=[],Z;if(Bh(R)&&!Bh(D))G=R.map(function(Q){return Nc(Q,D)});else if(Bh(D)&&!Bh(R))G=D.map(function(Q){return Nc(R,Q)});else if(Bh(R)||Bh(D)){if(Bh(R)&&Bh(D))for(Z=Math.max(R.length,D.length);Z--;)G[Z]=Nc(R[Z],D[Z])}else G=Nc(R,D);return G}function b(R){var G,Z;let D=R.chart.options.plotOptions;return Sg(g(g((G=D==null?void 0:D.series)==null?void 0:G.dataLabels,(Z=D==null?void 0:D[R.type])==null?void 0:Z.dataLabels),R.options.dataLabels))}function A(R,D,G,Z,Q){let st=this.chart,rt=st.inverted,ot=this.xAxis,gt=ot.reversed,vt=((rt?D.height:D.width)||0)/2,Ft=R.pointWidth,Wt=Ft?Ft/2:0;D.startXPos=rt?Q.x:gt?-vt-Wt:ot.width-vt+Wt,D.startYPos=rt?gt?this.yAxis.height-vt+Wt:-vt-Wt:Q.y,Z?D.visibility==="hidden"&&(D.show(),D.attr({opacity:0}).animate({opacity:1})):D.attr({opacity:1}).animate({opacity:0},void 0,D.hide),st.hasRendered&&(G&&D.attr({x:D.startXPos,y:D.startYPos}),D.placed=!0)}_.compose=function(R){let D=R.prototype;D.initDataLabels||(D.initDataLabels=h,D.initDataLabelsGroup=n,D.alignDataLabel=s,D.drawDataLabels=p,D.justifyDataLabel=f,D.mergeArrays=g,D.setDataLabelStartPos=A,D.hasDataLabels=e)}})(Ve||(Ve={}));let dh=Ve,{composed:zm}=ge,{series:ku}=ss,{merge:Mu,pushUnique:Rm}=Ke;(function(_){function e(s,n,h,p,f){var st,rt;let{chart:g,options:b}=this,A=g.inverted,R=((st=this.xAxis)==null?void 0:st.len)||g.plotSizeX||0,D=((rt=this.yAxis)==null?void 0:rt.len)||g.plotSizeY||0,G=s.dlBox||s.shapeArgs,Z=s.below??(s.plotY||0)>(this.translatedThreshold??D),Q=h.inside??!!b.stacking;if(G){if(p=Mu(G),h.overflow!=="allow"||h.crop!==!1||b.clip!==!1){p.y<0&&(p.height+=p.y,p.y=0);let ot=p.y+p.height-D;ot>0&&ot<p.height-1&&(p.height-=ot)}A&&(p={x:D-p.y-p.height,y:R-p.x-p.width,width:p.height,height:p.width}),Q||(A?(p.x+=Z?0:p.width,p.width=0):(p.y+=Z?p.height:0,p.height=0))}h.align??(h.align=!A||Q?"center":Z?"right":"left"),h.verticalAlign??(h.verticalAlign=A||Q?"middle":Z?"top":"bottom"),ku.prototype.alignDataLabel.call(this,s,n,h,p,f),h.inside&&s.contrastColor&&n.css({color:s.contrastColor})}_.compose=function(s){dh.compose(ku),Rm(zm,"ColumnDataLabel")&&(s.prototype.alignDataLabel=e)}})(xi||(xi={}));let Tg=xi,{extend:Su,merge:Ag}=Ke;class Lf extends xl{}Lf.defaultOptions=Ag(xl.defaultOptions,{}),Su(Lf.prototype,{inverted:!0}),ss.registerSeriesType("bar",Lf);let{column:Of,line:Mp}=ss.seriesTypes,{addEvent:Ef,extend:Pg,merge:Cg}=Ke;class Sp extends Mp{applyJitter(){let e=this,s=this.options.jitter,n=this.points.length;s&&this.points.forEach(function(h,p){["x","y"].forEach(function(f,g){if(s[f]&&!h.isNull){let b=`plot${f.toUpperCase()}`,A=e[`${f}Axis`],R=s[f]*A.transA;if(A&&!A.logarithmic){let D=Math.max(0,(h[b]||0)-R),G=Math.min(A.len,(h[b]||0)+R);h[b]=D+(G-D)*function(Z){let Q=1e4*Math.sin(Z);return Q-Math.floor(Q)}(p+g*n),f==="x"&&(h.clientX=h.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Sp.defaultOptions=Cg(Mp.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Pg(Sp.prototype,{drawTracker:Of.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Ef(Sp,"afterTranslate",function(){this.applyJitter()}),ss.registerSeriesType("scatter",Sp);let{deg2rad:_g}=ge,{fireEvent:Nm,isNumber:Wc,pick:Tp,relativeLength:Wm}=Ke;(function(_){_.getCenter=function(){let e=this.options,s=this.chart,n=2*(e.slicedOffset||0),h=s.plotWidth-2*n,p=s.plotHeight-2*n,f=e.center,g=Math.min(h,p),b=e.thickness,A,R=e.size,D=e.innerSize||0,G,Z;typeof R=="string"&&(R=parseFloat(R)),typeof D=="string"&&(D=parseFloat(D));let Q=[Tp(f==null?void 0:f[0],"50%"),Tp(f==null?void 0:f[1],"50%"),Tp(R&&R<0?void 0:e.size,"100%"),Tp(D&&D<0?void 0:e.innerSize||0,"0%")];for(!s.angular||this instanceof $a||(Q[3]=0),G=0;G<4;++G)Z=Q[G],A=G<2||G===2&&/%$/.test(Z),Q[G]=Wm(Z,[h,p,g,Q[2]][G])+(A?n:0);return Q[3]>Q[2]&&(Q[3]=Q[2]),Wc(b)&&2*b<Q[2]&&b>0&&(Q[3]=Q[2]-2*b),Nm(this,"afterGetCenter",{positions:Q}),Q},_.getStartAndEndRadians=function(e,s){let n=Wc(e)?e:0,h=Wc(s)&&s>n&&s-n<360?s:n+360;return{start:_g*(n+-90),end:_g*(h+-90)}}})(si||(si={}));let Fc=si,{setAnimation:Tu}=Gr,{addEvent:If,defined:Lg,extend:Fm,isNumber:Bf,pick:Df,relativeLength:Hm}=Ke;class Au extends pt{getConnectorPath(e){let s=e.dataLabelPosition,n=e.options||{},h=n.connectorShape,p=this.connectorShapes[h]||h;return s&&p.call(this,{...s.computed,alignment:s.alignment},s.connectorPosition,n)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(e){let s=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(s.x,s.y,s.r+e,s.r+e,{innerR:s.r-1,start:s.start,end:s.end,borderRadius:s.borderRadius})}constructor(e,s,n){super(e,s,n),this.half=0,this.name??(this.name=e.chart.options.lang.pieSliceName);let h=p=>{this.slice(p.type==="select")};If(this,"select",h),If(this,"unselect",h)}isValid(){return Bf(this.y)&&this.y>=0}setVisible(e,s=!0){e!==this.visible&&this.update({visible:e??!this.visible},s,void 0,!1)}slice(e,s,n){let h=this.series;Tu(n,h.chart),s=Df(s,!0),this.sliced=this.options.sliced=e=Lg(e)?e:!this.sliced,h.options.data[h.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Fm(Au.prototype,{connectorShapes:{fixedOffset:function(_,e,s){let n=e.breakAt,h=e.touchingSliceAt,p=s.softConnector?["C",_.x+(_.alignment==="left"?-5:5),_.y,2*n.x-h.x,2*n.y-h.y,n.x,n.y]:["L",n.x,n.y];return[["M",_.x,_.y],p,["L",h.x,h.y]]},straight:function(_,e){let s=e.touchingSliceAt;return[["M",_.x,_.y],["L",s.x,s.y]]},crookedLine:function(_,e,s){let{angle:n=this.angle||0,breakAt:h,touchingSliceAt:p}=e,{series:f}=this,[g,b,A]=f.center,R=A/2,{plotLeft:D,plotWidth:G}=f.chart,Z=_.alignment==="left",{x:Q,y:st}=_,rt=h.x;if(s.crookDistance){let gt=Hm(s.crookDistance,1);rt=Z?g+R+(G+D-g-R)*(1-gt):D+(g-R)*gt}else rt=g+(b-st)*Math.tan(n-Math.PI/2);let ot=[["M",Q,st]];return(Z?rt<=Q&&rt>=h.x:rt>=Q&&rt<=h.x)&&ot.push(["L",rt,st]),ot.push(["L",h.x,h.y],["L",p.x,p.y]),ot}}});let{getStartAndEndRadians:Gm}=Fc,{noop:Og}=ge,{clamp:Eg,extend:Ig,fireEvent:zf,merge:Pu,pick:Bg}=Ke;class Cu extends $a{animate(e){let s=this,n=s.points,h=s.startAngleRad;e||n.forEach(function(p){let f=p.graphic,g=p.shapeArgs;f&&g&&(f.attr({r:Bg(p.startR,s.center&&s.center[3]/2),start:h,end:h}),f.animate({r:g.r,start:g.start,end:g.end},s.options.animation))})}drawEmpty(){let e,s,n=this.startAngleRad,h=this.endAngleRad,p=this.options;this.total===0&&this.center?(e=this.center[0],s=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(e,s,this.center[1]/2,0,n,h).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Zn.arc(e,s,this.center[2]/2,0,{start:n,end:h,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":p.borderWidth,fill:p.fillColor||"none",stroke:p.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let e=this.chart.renderer;this.points.forEach(function(s){s.graphic&&s.hasNewShapeType()&&(s.graphic=s.graphic.destroy()),s.graphic||(s.graphic=e[s.shapeType](s.shapeArgs).add(s.series.group),s.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(e,s,n,h){let p=this.center,f=this.radii?this.radii[n.index]||0:p[2]/2,g=h.dataLabelPosition,b=(g==null?void 0:g.distance)||0,A=Math.asin(Eg((e-p[1])/(f+b),-1,1));return p[0]+Math.cos(A)*(f+b)*(s?-1:1)+(b>0?(s?-1:1)*(h.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let e,s,n,h,p=this,f=p.chart;this.drawEmpty(),p.group&&!f.styledMode&&p.group.shadow(p.options.shadow),p.points.forEach(function(g){let b={};s=g.graphic,!g.isNull&&s?(h=g.shapeArgs,e=g.getTranslate(),f.styledMode||(n=p.pointAttribs(g,g.selected&&"select")),g.delayedRendering?(s.setRadialReference(p.center).attr(h).attr(e),f.styledMode||s.attr(n).attr({"stroke-linejoin":"round"}),g.delayedRendering=!1):(s.setRadialReference(p.center),f.styledMode||Pu(!0,b,n),Pu(!0,b,h,e),s.animate(b)),s.attr({visibility:g.visible?"inherit":"hidden"}),s.addClass(g.getClassName(),!0)):s&&(g.graphic=s.destroy())})}sortByAngle(e,s){e.sort(function(n,h){return n.angle!==void 0&&(h.angle-n.angle)*s})}translate(e){zf(this,"translate"),this.generatePoints();let s=this.options,n=s.slicedOffset,h=Gm(s.startAngle,s.endAngle),p=this.startAngleRad=h.start,f=(this.endAngleRad=h.end)-p,g=this.points,b=s.ignoreHiddenPoint,A=g.length,R,D,G,Z,Q,st,rt,ot=0;for(e||(this.center=e=this.getCenter()),st=0;st<A;st++){rt=g[st],R=p+ot*f,rt.isValid()&&(!b||rt.visible)&&(ot+=rt.percentage/100),D=p+ot*f;let gt={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*R)/1e3,end:Math.round(1e3*D)/1e3};rt.shapeType="arc",rt.shapeArgs=gt,(G=(D+R)/2)>1.5*Math.PI?G-=2*Math.PI:G<-Math.PI/2&&(G+=2*Math.PI),rt.slicedTranslation={translateX:Math.round(Math.cos(G)*n),translateY:Math.round(Math.sin(G)*n)},Z=Math.cos(G)*e[2]/2,Q=Math.sin(G)*e[2]/2,rt.tooltipPos=[e[0]+.7*Z,e[1]+.7*Q],rt.half=+(G<-Math.PI/2||G>Math.PI/2),rt.angle=G}zf(this,"afterTranslate")}updateTotals(){let e=this.points,s=e.length,n=this.options.ignoreHiddenPoint,h,p,f=0;for(h=0;h<s;h++)(p=e[h]).isValid()&&(!n||p.visible)&&(f+=p.y);for(h=0,this.total=f;h<s;h++)(p=e[h]).percentage=f>0&&(p.visible||!n)?p.y/f*100:0,p.total=f}}Cu.defaultOptions=Pu($a.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Ig(Cu.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:xl.prototype.drawTracker,getCenter:Fc.getCenter,getSymbol:Og,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:xl.prototype.pointAttribs,pointClass:Au,requireSorting:!1,searchPoint:Og,trackerGroups:["group","dataLabelsGroup"]}),ss.registerSeriesType("pie",Cu);let{composed:Rf,noop:Dg}=ge,{distribute:Nf}=xn,{series:zg}=ss,{arrayMax:Xm,clamp:Rg,defined:_u,pick:Ng,pushUnique:Wg,relativeLength:Wf}=Ke;(function(_){let e={radialDistributionY:function(f,g){var b;return(((b=g.dataLabelPosition)==null?void 0:b.top)||0)+f.distributeBox.pos},radialDistributionX:function(f,g,b,A,R){let D=R.dataLabelPosition;return f.getX(b<((D==null?void 0:D.top)||0)+2||b>((D==null?void 0:D.bottom)||0)-2?A:b,g.half,g,R)},justify:function(f,g,b,A){var R;return A[0]+(f.half?-1:1)*(b+(((R=g.dataLabelPosition)==null?void 0:R.distance)||0))},alignToPlotEdges:function(f,g,b,A){let R=f.getBBox().width;return g?R+A:b-R-A},alignToConnectors:function(f,g,b,A){let R=0,D;return f.forEach(function(G){(D=G.dataLabel.getBBox().width)>R&&(R=D)}),g?R+A:b-R-A}};function s(f,g){let b=Math.PI/2,{start:A=0,end:R=0}=f.shapeArgs||{},D=f.angle||0;g>0&&A<b&&R>b&&D>b/2&&D<1.5*b&&(D=D<=b?Math.max(b/2,(A+b)/2):Math.min(1.5*b,(b+R)/2));let{center:G,options:Z}=this,Q=G[2]/2,st=Math.cos(D),rt=Math.sin(D),ot=G[0]+st*Q,gt=G[1]+rt*Q,vt=Math.min((Z.slicedOffset||0)+(Z.borderWidth||0),g/5);return{natural:{x:ot+st*g,y:gt+rt*g},computed:{},alignment:g<0?"center":f.half?"right":"left",connectorPosition:{angle:D,breakAt:{x:ot+st*vt,y:gt+rt*vt},touchingSliceAt:{x:ot,y:gt}},distance:g}}function n(){var ce;let f=this,g=f.points,b=f.chart,A=b.plotWidth,R=b.plotHeight,D=b.plotLeft,G=Math.round(b.chartWidth/3),Z=f.center,Q=Z[2]/2,st=Z[1],rt=[[],[]],ot=[0,0,0,0],gt=f.dataLabelPositioners,vt,Ft,Wt,Ht=0;f.visible&&((ce=f.hasDataLabels)!=null&&ce.call(f))&&(g.forEach(Jt=>{(Jt.dataLabels||[]).forEach(ie=>{ie.shortened&&(ie.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ie.shortened=!1)})}),zg.prototype.drawDataLabels.apply(f),g.forEach(Jt=>{(Jt.dataLabels||[]).forEach((ie,Pe)=>{var Si;let Re=Z[2]/2,Ye=ie.options,ei=Wf((Ye==null?void 0:Ye.distance)||0,Re);Pe===0&&rt[Jt.half].push(Jt),!_u((Si=Ye==null?void 0:Ye.style)==null?void 0:Si.width)&&ie.getBBox().width>G&&(ie.css({width:Math.round(.7*G)+"px"}),ie.shortened=!0),ie.dataLabelPosition=this.getDataLabelPosition(Jt,ei),Ht=Math.max(Ht,ei)})}),rt.forEach((Jt,ie)=>{let Pe=Jt.length,Re=[],Ye,ei,Si=0,yi;Pe&&(f.sortByAngle(Jt,ie-.5),Ht>0&&(Ye=Math.max(0,st-Q-Ht),ei=Math.min(st+Q+Ht,b.plotHeight),Jt.forEach(_i=>{(_i.dataLabels||[]).forEach(ui=>{var Cs;let Yi=ui.dataLabelPosition;Yi&&Yi.distance>0&&(Yi.top=Math.max(0,st-Q-Yi.distance),Yi.bottom=Math.min(st+Q+Yi.distance,b.plotHeight),Si=ui.getBBox().height||21,ui.lineHeight=b.renderer.fontMetrics(ui.text||ui).h+2*ui.padding,_i.distributeBox={target:(((Cs=ui.dataLabelPosition)==null?void 0:Cs.natural.y)||0)-Yi.top+ui.lineHeight/2,size:Si,rank:_i.y},Re.push(_i.distributeBox))})}),Nf(Re,yi=ei+Si-Ye,yi/5)),Jt.forEach(_i=>{(_i.dataLabels||[]).forEach(ui=>{let Yi=ui.options||{},Cs=_i.distributeBox,fs=ui.dataLabelPosition,gs=(fs==null?void 0:fs.natural.y)||0,Ko=Yi.connectorPadding||0,vs=ui.lineHeight||21,qs=(vs-ui.getBBox().height)/2,ps=0,qi=gs,Bo="inherit";if(fs){if(Re&&_u(Cs)&&fs.distance>0&&(Cs.pos===void 0?Bo="hidden":(Wt=Cs.size,qi=gt.radialDistributionY(_i,ui))),Yi.justify)ps=gt.justify(_i,ui,Q,Z);else switch(Yi.alignTo){case"connectors":ps=gt.alignToConnectors(Jt,ie,A,D);break;case"plotEdges":ps=gt.alignToPlotEdges(ui,ie,A,D);break;default:ps=gt.radialDistributionX(f,_i,qi-qs,gs,ui)}if(fs.attribs={visibility:Bo,align:fs.alignment},fs.posAttribs={x:ps+(Yi.x||0)+({left:Ko,right:-Ko}[fs.alignment]||0),y:qi+(Yi.y||0)-vs/2},fs.computed.x=ps,fs.computed.y=qi-qs,Ng(Yi.crop,!0)){let vr;ps-(Ft=ui.getBBox().width)<Ko&&ie===1?(vr=Math.round(Ft-ps+Ko),ot[3]=Math.max(vr,ot[3])):ps+Ft>A-Ko&&ie===0&&(vr=Math.round(ps+Ft-A+Ko),ot[1]=Math.max(vr,ot[1])),qi-Wt/2<0?ot[0]=Math.max(Math.round(-qi+Wt/2),ot[0]):qi+Wt/2>R&&(ot[2]=Math.max(Math.round(qi+Wt/2-R),ot[2])),fs.sideOverflow=vr}}})}))}),(Xm(ot)===0||this.verifyDataLabelOverflow(ot))&&(this.placeDataLabels(),this.points.forEach(Jt=>{(Jt.dataLabels||[]).forEach(ie=>{var ei;let{connectorColor:Pe,connectorWidth:Re=1}=ie.options||{},Ye=ie.dataLabelPosition;if(Re){let Si;vt=ie.connector,Ye&&Ye.distance>0?(Si=!vt,vt||(ie.connector=vt=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Jt.colorIndex+(Jt.className?" "+Jt.className:"")).add(f.dataLabelsGroup)),b.styledMode||vt.attr({"stroke-width":Re,stroke:Pe||Jt.color||"#666666"}),vt[Si?"attr":"animate"]({d:Jt.getConnectorPath(ie)}),vt.attr({visibility:(ei=Ye.attribs)==null?void 0:ei.visibility})):vt&&(ie.connector=vt.destroy())}})})))}function h(){this.points.forEach(f=>{(f.dataLabels||[]).forEach(g=>{var A,R;let b=g.dataLabelPosition;b?(b.sideOverflow&&(g.css({width:Math.max(g.getBBox().width-b.sideOverflow,0)+"px",textOverflow:((R=(A=g.options)==null?void 0:A.style)==null?void 0:R.textOverflow)||"ellipsis"}),g.shortened=!0),g.attr(b.attribs),g[g.moved?"animate":"attr"](b.posAttribs),g.moved=!0):g&&g.attr({y:-9999})}),delete f.distributeBox},this)}function p(f){let g=this.center,b=this.options,A=b.center,R=b.minSize||80,D=R,G=b.size!==null;return!G&&(A[0]!==null?D=Math.max(g[2]-Math.max(f[1],f[3]),R):(D=Math.max(g[2]-f[1]-f[3],R),g[0]+=(f[3]-f[1])/2),A[1]!==null?D=Rg(D,R,g[2]-Math.max(f[0],f[2])):(D=Rg(D,R,g[2]-f[0]-f[2]),g[1]+=(f[0]-f[2])/2),D<g[2]?(g[2]=D,g[3]=Math.min(b.thickness?Math.max(0,D-2*b.thickness):Math.max(0,Wf(b.innerSize||0,D)),D),this.translate(g),this.drawDataLabels&&this.drawDataLabels()):G=!0),G}_.compose=function(f){if(dh.compose(zg),Wg(Rf,"PieDataLabel")){let g=f.prototype;g.dataLabelPositioners=e,g.alignDataLabel=Dg,g.drawDataLabels=n,g.getDataLabelPosition=s,g.placeDataLabels=h,g.verifyDataLabelOverflow=p}}})(zi||(zi={}));let Fg=zi;(function(_){_.getCenterOfPoints=function(e){let s=e.reduce((n,h)=>(n.x+=h.x,n.y+=h.y,n),{x:0,y:0});return{x:s.x/e.length,y:s.y/e.length}},_.getDistanceBetweenPoints=function(e,s){return Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))},_.getAngleBetweenPoints=function(e,s){return Math.atan2(s.x-e.x,s.y-e.y)},_.pointInPolygon=function({x:e,y:s},n){let h=n.length,p,f,g=!1;for(p=0,f=h-1;p<h;f=p++){let[b,A]=n[p],[R,D]=n[f];A>s!=D>s&&e<(R-b)*(s-A)/(D-A)+b&&(g=!g)}return g}})(Gi||(Gi={}));let Hg=Gi,{pointInPolygon:Ff}=Hg,{addEvent:Ym,getAlignFactor:Gg,fireEvent:Hf,objectEach:Xg,pick:Gf}=Ke;function Yg(_){let e=_.length,s=(R,D)=>!(D.x>=R.x+R.width||D.x+D.width<=R.x||D.y>=R.y+R.height||D.y+D.height<=R.y),n=(R,D)=>{for(let G of R)if(Ff({x:G[0],y:G[1]},D))return!0;return!1},h,p,f,g,b,A=!1;for(let R=0;R<e;R++)(h=_[R])&&(h.oldOpacity=h.opacity,h.newOpacity=1,h.absoluteBox=function(D){var G,Z;if(D&&(!D.alignAttr||D.placed)){let Q=D.box?0:D.padding||0,st=D.alignAttr||{x:D.attr("x"),y:D.attr("y")},{height:rt,polygon:ot,width:gt}=D.getBBox(),vt=Gg(D.alignValue)*gt;return D.width=gt,D.height=rt,{x:st.x+(((G=D.parentGroup)==null?void 0:G.translateX)||0)+Q-vt,y:st.y+(((Z=D.parentGroup)==null?void 0:Z.translateY)||0)+Q,width:gt-2*Q,height:rt-2*Q,polygon:ot}}}(h));_.sort((R,D)=>(D.labelrank||0)-(R.labelrank||0));for(let R=0;R<e;++R){g=(p=_[R])&&p.absoluteBox;let D=g==null?void 0:g.polygon;for(let G=R+1;G<e;++G){b=(f=_[G])&&f.absoluteBox;let Z=!1;if(g&&b&&p!==f&&p.newOpacity!==0&&f.newOpacity!==0&&p.visibility!=="hidden"&&f.visibility!=="hidden"){let Q=b.polygon;if(D&&Q&&D!==Q?n(D,Q)&&(Z=!0):s(g,b)&&(Z=!0),Z){let st=p.labelrank<f.labelrank?p:f,rt=st.text;st.newOpacity=0,rt!=null&&rt.element.querySelector("textPath")&&rt.hide()}}}}for(let R of _)Lu(R,this)&&(A=!0);A&&Hf(this,"afterHideAllOverlappingLabels")}function Lu(_,e){let s,n=!1;return _&&(s=_.newOpacity,_.oldOpacity!==s&&(_.hasClass("highcharts-data-label")?(_[s?"removeClass":"addClass"]("highcharts-data-label-hidden"),n=!0,_[_.isOld?"animate":"attr"]({opacity:s},void 0,function(){e.styledMode||_.css({pointerEvents:s?"auto":"none"})}),Hf(e,"afterHideOverlappingLabel")):_.attr({opacity:s})),_.isOld=!0),n}function jm(){var s;let _=this,e=[];for(let n of _.labelCollectors||[])e=e.concat(n());for(let n of _.yAxis||[])n.stacking&&n.options.stackLabels&&!n.options.stackLabels.allowOverlap&&Xg(n.stacking.stacks,h=>{Xg(h,p=>{p.label&&e.push(p.label)})});for(let n of _.series||[])if(n.visible&&((s=n.hasDataLabels)!=null&&s.call(n))){let h=p=>{for(let f of p)f.visible&&(f.dataLabels||[]).forEach(g=>{var A;let b=g.options||{};g.labelrank=Gf(b.labelrank,f.labelrank,(A=f.shapeArgs)==null?void 0:A.height),b.allowOverlap??Number(b.distance)>0?(g.oldOpacity=g.opacity,g.newOpacity=1,Lu(g,_)):e.push(g)})};h(n.nodes||[]),h(n.points)}this.hideOverlappingLabels(e)}let Ou={compose:function(_){let e=_.prototype;e.hideOverlappingLabels||(e.hideOverlappingLabels=Yg,Ym(_,"render",jm))}},{defaultOptions:jg}=Ni,{noop:Xf}=ge,{addEvent:Ug,extend:Eu,isObject:Yf,merge:Um,relativeLength:Iu}=Ke,Vm={radius:0,scope:"stack",where:void 0},Bu=Xf,Vg=Xf;function Ap(_,e,s,n,h={}){let p=Bu(_,e,s,n,h),{innerR:f=0,r:g=s,start:b=0,end:A=0}=h;if(h.open||!h.borderRadius)return p;let R=A-b,D=Math.sin(R/2),G=Math.max(Math.min(Iu(h.borderRadius||0,g-f),(g-f)/2,g*D/(1+D)),0),Z=Math.min(G,R/Math.PI*2*f),Q=p.length-1;for(;Q--;)(function(st,rt,ot){let gt,vt,Ft,Wt=st[rt],Ht=st[rt+1];if(Ht[0]==="Z"&&(Ht=st[0]),(Wt[0]==="M"||Wt[0]==="L")&&Ht[0]==="A"?(gt=Wt,vt=Ht,Ft=!0):Wt[0]==="A"&&(Ht[0]==="M"||Ht[0]==="L")&&(gt=Ht,vt=Wt),gt&&vt&&vt.params){let ce=vt[1],Jt=vt[5],ie=vt.params,{start:Pe,end:Re,cx:Ye,cy:ei}=ie,Si=Jt?ce-ot:ce+ot,yi=Si?Math.asin(ot/Si):0,_i=Jt?yi:-yi,ui=Math.cos(yi)*Si;Ft?(ie.start=Pe+_i,gt[1]=Ye+ui*Math.cos(Pe),gt[2]=ei+ui*Math.sin(Pe),st.splice(rt+1,0,["A",ot,ot,0,0,1,Ye+ce*Math.cos(ie.start),ei+ce*Math.sin(ie.start)])):(ie.end=Re-_i,vt[6]=Ye+ce*Math.cos(ie.end),vt[7]=ei+ce*Math.sin(ie.end),st.splice(rt+1,0,["A",ot,ot,0,0,1,Ye+ui*Math.cos(Re),ei+ui*Math.sin(Re)])),vt[4]=Math.abs(ie.end-ie.start)<Math.PI?0:1}})(p,Q,Q>1?Z:G);return p}function Zg(){var _,e;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:s,yAxis:n}=this,h=s.stacking==="percent",p=(e=(_=jg.plotOptions)==null?void 0:_[this.type])==null?void 0:e.borderRadius,f=jf(s.borderRadius,Yf(p)?p:{}),g=n.options.reversed;for(let b of this.points){let{shapeArgs:A}=b;if(b.shapeType==="roundedRect"&&A){let{width:R=0,height:D=0,y:G=0}=A,Z=G,Q=D;if(f.scope==="stack"&&b.stackTotal){let gt=n.translate(h?100:b.stackTotal,!1,!0,!1,!0),vt=n.translate(s.threshold||0,!1,!0,!1,!0),Ft=this.crispCol(0,Math.min(gt,vt),0,Math.abs(gt-vt));Z=Ft.y,Q=Ft.height}let st=(b.negative?-1:1)*(g?-1:1)==-1,rt=f.where;!rt&&this.is("waterfall")&&Math.abs((b.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(rt="all"),rt||(rt="end");let ot=Math.min(Iu(f.radius,R),R/2,rt==="all"?D/2:1/0)||0;rt==="end"&&(st&&(Z-=ot),Q+=ot),Eu(A,{brBoxHeight:Q,brBoxY:Z,r:ot})}}}}function jf(_,e){return Yf(_)||(_={radius:_||0}),Um(Vm,e,_)}function Zm(){let _=jf(this.options.borderRadius);for(let e of this.points){let s=e.shapeArgs;s&&(s.borderRadius=Iu(_.radius,(s.r||0)-(s.innerR||0)))}}function Du(_,e,s,n,h={}){let p=Vg(_,e,s,n,h),{r:f=0,brBoxHeight:g=n,brBoxY:b=e}=h,A=e-b,R=b+g-(e+n),D=A-f>-.1?0:f,G=R-f>-.1?0:f,Z=Math.max(D&&A,0),Q=Math.max(G&&R,0),st=[_+D,e],rt=[_+s-D,e],ot=[_+s,e+D],gt=[_+s,e+n-G],vt=[_+s-G,e+n],Ft=[_+G,e+n],Wt=[_,e+n-G],Ht=[_,e+D],ce=(Jt,ie)=>Math.sqrt(Math.pow(Jt,2)-Math.pow(ie,2));if(Z){let Jt=ce(D,D-Z);st[0]-=Jt,rt[0]+=Jt,ot[1]=Ht[1]=e+D-Z}if(n<D-Z){let Jt=ce(D,D-Z-n);ot[0]=gt[0]=_+s-D+Jt,vt[0]=Math.min(ot[0],vt[0]),Ft[0]=Math.max(gt[0],Ft[0]),Wt[0]=Ht[0]=_+D-Jt,ot[1]=Ht[1]=e+n}if(Q){let Jt=ce(G,G-Q);vt[0]+=Jt,Ft[0]-=Jt,gt[1]=Wt[1]=e+n-G+Q}if(n<G-Q){let Jt=ce(G,G-Q-n);ot[0]=gt[0]=_+s-G+Jt,rt[0]=Math.min(ot[0],rt[0]),st[0]=Math.max(gt[0],st[0]),Wt[0]=Ht[0]=_+G-Jt,gt[1]=Wt[1]=e}return p.length=0,p.push(["M",...st],["L",...rt],["A",D,D,0,0,1,...ot],["L",...gt],["A",G,G,0,0,1,...vt],["L",...Ft],["A",G,G,0,0,1,...Wt],["L",...Ht],["A",D,D,0,0,1,...st],["Z"]),p}let{diffObjects:F,extend:i,find:l,merge:c,pick:y,uniqueKey:w}=Ke;(function(_){function e(n,h){let p=n.condition;(p.callback||function(){return this.chartWidth<=y(p.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=y(p.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=y(p.minWidth,0)&&this.chartHeight>=y(p.minHeight,0)}).call(this)&&h.push(n._id)}function s(n,h){let p=this.options.responsive,f=this.currentResponsive,g=[],b;!h&&p&&p.rules&&p.rules.forEach(D=>{D._id===void 0&&(D._id=w()),this.matchResponsiveRule(D,g)},this);let A=c(...g.map(D=>l((p==null?void 0:p.rules)||[],G=>G._id===D)).map(D=>D==null?void 0:D.chartOptions));A.isResponsiveOptions=!0,g=g.toString()||void 0;let R=f==null?void 0:f.ruleIds;g!==R&&(f&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(f.undoOptions,n,!0),this.updatingResponsive=!1),g?((b=F(A,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:g,mergedOptions:A,undoOptions:b},this.updatingResponsive||this.update(A,n,!0)):this.currentResponsive=void 0)}_.compose=function(n){let h=n.prototype;return h.matchResponsiveRule||i(h,{matchResponsiveRule:e,setResponsive:s}),n}})(Ds||(Ds={}));let M=Ds;ge.AST=Es,ge.Axis=eh,ge.Chart=du,ge.Color=De,ge.DataLabel=dh,ge.DataTableCore=Is,ge.Fx=Fr,ge.HTMLElement=ja,ge.Legend=nd,ge.LegendSymbol=Cr,ge.OverlappingDataLabels=ge.OverlappingDataLabels||Ou,ge.PlotLineOrBand=td,ge.Point=pt,ge.Pointer=Ge,ge.RendererRegistry=Un,ge.Series=$a,ge.SeriesRegistry=ss,ge.StackItem=Ic,ge.SVGElement=dr,ge.SVGRenderer=Bn,ge.Templating=hr,ge.Tick=Ca,ge.Time=Le,ge.Tooltip=sh,ge.animate=Gr.animate,ge.animObject=Gr.animObject,ge.chart=du.chart,ge.color=De.parse,ge.dateFormat=hr.dateFormat,ge.defaultOptions=Ni.defaultOptions,ge.distribute=xn.distribute,ge.format=hr.format,ge.getDeferredAnimation=Gr.getDeferredAnimation,ge.getOptions=Ni.getOptions,ge.numberFormat=hr.numberFormat,ge.seriesType=ss.seriesType,ge.setAnimation=Gr.setAnimation,ge.setOptions=Ni.setOptions,ge.stop=Gr.stop,ge.time=Ni.defaultTime,ge.timers=Fr.timers,{compose:function(_,e,s){let n=_.types.pie;if(!e.symbolCustomAttribs.includes("borderRadius")){let h=s.prototype.symbols;Ug(_,"afterColumnTranslate",Zg,{order:9}),Ug(n,"afterTranslate",Zm),e.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),Bu=h.arc,Vg=h.roundedRect,h.arc=Ap,h.roundedRect=Du}},optionsToObject:jf}.compose(ge.Series,ge.SVGElement,ge.SVGRenderer),Tg.compose(ge.Series.types.column),dh.compose(ge.Series),gc.compose(ge.Axis),ja.compose(ge.SVGRenderer),nd.compose(ge.Chart),Kh.compose(ge.Axis),Ou.compose(ge.Chart),Fg.compose(ge.Series.types.pie),td.compose(ge.Chart,ge.Axis),Ge.compose(ge.Chart),M.compose(ge.Chart),qd.compose(ge.Axis,ge.Chart,ge.Series),Dm.compose(ge.Axis,ge.Chart,ge.Series),sh.compose(ge.Pointer),Ke.extend(ge,Ke);let{parse:S}=De,{addEvent:E,extend:W,merge:U,pick:H,splat:q}=Ke;(function(_){let e;function s(){let{userOptions:G}=this;this.colorAxis=[],G.colorAxis&&(G.colorAxis=q(G.colorAxis),G.colorAxis.map(Z=>new e(this,Z)))}function n(G){let Z=this.chart.colorAxis||[],Q=gt=>{let vt=G.allItems.indexOf(gt);vt!==-1&&(this.destroyItem(G.allItems[vt]),G.allItems.splice(vt,1))},st=[],rt,ot;for(Z.forEach(function(gt){rt=gt.options,rt!=null&&rt.showInLegend&&(rt.dataClasses&&rt.visible?st=st.concat(gt.getDataClassLegendSymbols()):rt.visible&&st.push(gt),gt.series.forEach(function(vt){(!vt.options.showInLegend||rt.dataClasses)&&(vt.options.legendType==="point"?vt.points.forEach(function(Ft){Q(Ft)}):Q(vt))}))}),ot=st.length;ot--;)G.allItems.unshift(st[ot])}function h(G){G.visible&&G.item.legendColor&&G.item.legendItem.symbol.attr({fill:G.item.legendColor})}function p(G){var Z;(Z=this.chart.colorAxis)==null||Z.forEach(Q=>{Q.update({},G.redraw)})}function f(){var G;((G=this.chart.colorAxis)!=null&&G.length||this.colorAttribs)&&this.translateColors()}function g(){let G=this.axisTypes;G?G.indexOf("colorAxis")===-1&&G.push("colorAxis"):this.axisTypes=["colorAxis"]}function b(G){let Z=this,Q=G?"show":"hide";Z.visible=Z.options.visible=!!G,["graphic","dataLabel"].forEach(function(st){Z[st]&&Z[st][Q]()}),this.series.buildKDTree()}function A(){let G=this,Z=this.getPointsCollection(),Q=this.options.nullColor,st=this.colorAxis,rt=this.colorKey;Z.forEach(ot=>{let gt=ot.getNestedProperty(rt),vt=ot.options.color||(ot.isNull||ot.value===null?Q:st&&gt!==void 0?st.toColor(gt,ot):ot.color||G.color);vt&&ot.color!==vt&&(ot.color=vt,G.options.legendType==="point"&&ot.legendItem&&ot.legendItem.label&&G.chart.legend.colorizeItem(ot,ot.visible))})}function R(){this.elem.attr("fill",S(this.start).tweenTo(S(this.end),this.pos),void 0,!0)}function D(){this.elem.attr("stroke",S(this.start).tweenTo(S(this.end),this.pos),void 0,!0)}_.compose=function(G,Z,Q,st,rt){let ot=Z.prototype,gt=Q.prototype,vt=rt.prototype;ot.collectionsWithUpdate.includes("colorAxis")||(e=G,ot.collectionsWithUpdate.push("colorAxis"),ot.collectionsWithInit.colorAxis=[ot.addColorAxis],E(Z,"afterCreateAxes",s),function(Ft){let Wt=Ft.prototype.createAxis;Ft.prototype.createAxis=function(Ht,ce){if(Ht!=="colorAxis")return Wt.apply(this,arguments);let Jt=new e(this,U(ce.axis,{index:this[Ht].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(ie=>{ie.series=[]}),this.series.forEach(ie=>{ie.bindAxes(),ie.isDirtyData=!0}),H(ce.redraw,!0)&&this.redraw(ce.animation),Jt}}(Z),gt.fillSetter=R,gt.strokeSetter=D,E(st,"afterGetAllItems",n),E(st,"afterColorizeItem",h),E(st,"afterUpdate",p),W(vt,{optionalAxis:"colorAxis",translateColors:A}),W(vt.pointClass.prototype,{setVisible:b}),E(rt,"afterTranslate",f,{order:1}),E(rt,"bindAxes",g))},_.pointSetVisible=b})(qr||(qr={}));let it=qr,{parse:ht}=De,{merge:yt}=Ke;(function(_){_.initDataClasses=function(e){let s=this.chart,n=this.legendItem=this.legendItem||{},h=this.options,p=e.dataClasses||[],f,g,b=s.options.chart.colorCount,A=0,R;this.dataClasses=g=[],n.labels=[];for(let D=0,G=p.length;D<G;++D)f=yt(f=p[D]),g.push(f),(s.styledMode||!f.color)&&(h.dataClassColor==="category"?(s.styledMode||(b=(R=s.options.colors||[]).length,f.color=R[A]),f.colorIndex=A,++A===b&&(A=0)):f.color=ht(h.minColor).tweenTo(ht(h.maxColor),G<2?.5:D/(G-1)))},_.initStops=function(){let e=this.options,s=this.stops=e.stops||[[0,e.minColor||""],[1,e.maxColor||""]];for(let n=0,h=s.length;n<h;++n)s[n].color=ht(s[n][1])},_.normalizedValue=function(e){let s=this.max||0,n=this.min||0;return this.logarithmic&&(e=this.logarithmic.log2lin(e)),1-(s-e)/(s-n||1)},_.toColor=function(e,s){let n,h,p,f,g,b,A=this.dataClasses,R=this.stops;if(A){for(b=A.length;b--;)if(h=(g=A[b]).from,p=g.to,(h===void 0||e>=h)&&(p===void 0||e<=p)){f=g.color,s&&(s.dataClass=b,s.colorIndex=g.colorIndex);break}}else{for(n=this.normalizedValue(e),b=R.length;b--&&!(n>R[b][0]););h=R[b]||R[b+1],n=1-((p=R[b+1]||h)[0]-n)/(p[0]-h[0]||1),f=h.color.tweenTo(p.color,n)}return f}})(ke||(ke={}));let xt=ke,{defaultOptions:ut}=Ni,{series:wt}=ss,{defined:Mt,extend:Kt,fireEvent:Vt,isArray:qt,isNumber:ve,merge:he,pick:fe,relativeLength:Ie}=Ke;ut.colorAxis=he(ut.xAxis,{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0});class ze extends eh{static compose(e,s,n,h){it.compose(ze,e,s,n,h)}constructor(e,s){super(e,s),this.coll="colorAxis",this.visible=!0,this.init(e,s)}init(e,s){let n=e.options.legend||{},h=s.layout?s.layout!=="vertical":n.layout!=="vertical";this.side=s.side||h?2:1,this.reversed=s.reversed||!h,this.opposite=!h,super.init(e,s,"colorAxis"),this.userOptions=s,qt(e.userOptions.colorAxis)&&(e.userOptions.colorAxis[this.index]=s),s.dataClasses&&this.initDataClasses(s),this.initStops(),this.horiz=h,this.zoomEnabled=!1}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}setOptions(e){let s=he(ut.colorAxis,e,{showEmpty:!1,title:null,visible:this.chart.options.legend.enabled&&e.visible!==!1});super.setOptions(s),this.options.crosshair=this.options.marker}setAxisSize(){var p;let e=this.chart,s=(p=this.legendItem)==null?void 0:p.symbol,{width:n,height:h}=this.getSize();s&&(this.left=+s.attr("x"),this.top=+s.attr("y"),this.width=n=+s.attr("width"),this.height=h=+s.attr("height"),this.right=e.chartWidth-this.left-n,this.bottom=e.chartHeight-this.top-h,this.pos=this.horiz?this.left:this.top),this.len=(this.horiz?n:h)||ze.defaultLegendLength}getOffset(){var n;let e=(n=this.legendItem)==null?void 0:n.group,s=this.chart.axisOffset[this.side];if(e){this.axisParent=e,super.getOffset();let h=this.chart.legend;h.allItems.forEach(function(p){p instanceof ze&&p.drawLegendSymbol(h,p)}),h.render(),this.chart.getMargins(!0),this.chart.series.some(p=>p.isDrilling)||(this.isDirty=!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=s}}setLegendColor(){let e=this.horiz,s=this.reversed,n=+!!s,h=+!s,p=e?[n,0,h,0]:[0,h,0,n];this.legendColor={linearGradient:{x1:p[0],y1:p[1],x2:p[2],y2:p[3]},stops:this.stops}}drawLegendSymbol(e,s){let n=s.legendItem||{},h=e.padding,p=e.options,f=this.options.labels,g=fe(p.itemDistance,10),b=this.horiz,{width:A,height:R}=this.getSize(),D=fe(p.labelPadding,b?16:30);this.setLegendColor(),n.symbol||(n.symbol=this.chart.renderer.symbol("roundedRect").attr({r:p.symbolRadius??3,zIndex:1}).add(n.group)),n.symbol.attr({x:0,y:(e.baseline||0)-11,width:A,height:R}),n.labelWidth=A+h+(b?g:fe(f.x,f.distance)+(this.maxLabelLength||0)),n.labelHeight=R+h+(b?D:0)}setState(e){this.series.forEach(function(s){s.setState(e)})}setVisible(){}getSeriesExtremes(){let e=this.series,s,n,h,p,f=e.length;for(this.dataMin=1/0,this.dataMax=-1/0;f--;){for(let g of(n=(p=e[f]).colorKey=fe(p.options.colorKey,p.colorKey,p.pointValKey,p.zoneAxis,"y"),h=p[n+"Min"]&&p[n+"Max"],[n,"value","y"]))if((s=p.getColumn(g)).length)break;if(h)p.minColorValue=p[n+"Min"],p.maxColorValue=p[n+"Max"];else{let g=wt.prototype.getExtremes.call(p,s);p.minColorValue=g.dataMin,p.maxColorValue=g.dataMax}Mt(p.minColorValue)&&Mt(p.maxColorValue)&&(this.dataMin=Math.min(this.dataMin,p.minColorValue),this.dataMax=Math.max(this.dataMax,p.maxColorValue)),h||wt.prototype.applyExtremes.call(p)}}drawCrosshair(e,s){let n,h=this.legendItem||{},p=s==null?void 0:s.plotX,f=s==null?void 0:s.plotY,g=this.pos,b=this.len;s&&((n=this.toPixels(s.getNestedProperty(s.series.colorKey)))<g?n=g-2:n>g+b&&(n=g+b+2),s.plotX=n,s.plotY=this.len-n,super.drawCrosshair(e,s),s.plotX=p,s.plotY=f,this.cross&&!this.cross.addedToColorAxis&&h.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(h.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||typeof this.crosshair!="object"||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(e){let s=this.left,n=e.translatedValue,h=this.top;return ve(n)?this.horiz?[["M",n-4,h-6],["L",n+4,h-6],["L",n,h],["Z"]]:[["M",s,n],["L",s-6,n+6],["L",s-6,n-6],["Z"]]:super.getPlotLinePath(e)}update(e,s){var h;let n=this.chart.legend;this.series.forEach(p=>{p.isDirtyData=!0}),(e.dataClasses&&n.allItems||this.dataClasses)&&this.destroyItems(),super.update(e,s),(h=this.legendItem)!=null&&h.label&&(this.setLegendColor(),n.colorizeItem(this,!0))}destroyItems(){let e=this.chart,s=this.legendItem||{};if(s.label)e.legend.destroyItem(this);else if(s.labels)for(let n of s.labels)e.legend.destroyItem(n);e.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0,this.destroyItems(),super.destroy(...[].slice.call(arguments))}remove(e){this.destroyItems(),super.remove(e)}getDataClassLegendSymbols(){let e,s=this,n=s.chart,h=s.legendItem&&s.legendItem.labels||[],p=n.options.legend,f=fe(p.valueDecimals,-1),g=fe(p.valueSuffix,""),b=A=>s.series.reduce((R,D)=>(R.push(...D.points.filter(G=>G.dataClass===A)),R),[]);return h.length||s.dataClasses.forEach((A,R)=>{let D=A.from,G=A.to,{numberFormatter:Z}=n,Q=!0;e="",D===void 0?e="< ":G===void 0&&(e="> "),D!==void 0&&(e+=Z(D,f)+g),D!==void 0&&G!==void 0&&(e+=" - "),G!==void 0&&(e+=Z(G,f)+g),h.push(Kt({chart:n,name:e,options:{},drawLegendSymbol:Cr.rectangle,visible:!0,isDataClass:!0,setState:st=>{for(let rt of b(R))rt.setState(st)},setVisible:function(){this.visible=Q=s.visible=!Q;let st=[];for(let rt of b(R))rt.setVisible(Q),rt.hiddenInDataClass=!Q,st.indexOf(rt.series)===-1&&st.push(rt.series);n.legend.colorizeItem(this,Q),st.forEach(rt=>{Vt(rt,"afterDataClassLegendClick")})}},A))}),h}getSize(){let{chart:e,horiz:s}=this,{height:n,width:h}=this.options,{legend:p}=e.options;return{width:fe(Mt(h)?Ie(h,e.chartWidth):void 0,p==null?void 0:p.symbolWidth,s?ze.defaultLegendLength:12),height:fe(Mt(n)?Ie(n,e.chartHeight):void 0,p==null?void 0:p.symbolHeight,s?12:ze.defaultLegendLength)}}}ze.defaultLegendLength=200,ze.keepProps=["legendItem"],Kt(ze.prototype,xt),Array.prototype.push.apply(eh.keepProps,ze.keepProps),ge.ColorAxis=ge.ColorAxis||ze,ge.ColorAxis.compose(ge.Chart,ge.Fx,ge.Legend,ge.Series);let Je={lang:{zoomIn:"Zoom in",zoomOut:"Zoom out"},mapNavigation:{buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}},{defined:ni,extend:Pi,pick:ki,wrap:Ei}=Ke;(function(_){let e,s=0;function n(g){let b=this.chart;g=this.normalize(g),b.options.mapNavigation.enableDoubleClickZoomTo?b.pointer.inClass(g.target,"highcharts-tracker")&&b.hoverPoint&&b.hoverPoint.zoomTo():b.isInsidePlot(g.chartX-b.plotLeft,g.chartY-b.plotTop)&&b.mapZoom(.5,void 0,void 0,g.chartX,g.chartY)}function h(g){let b=this.chart,A=ni((g=this.normalize(g)).wheelDelta)&&-g.wheelDelta/120||g.deltaY||g.detail;Math.abs(A)>=1&&(s+=Math.abs(A),e&&clearTimeout(e),e=setTimeout(()=>{s=0},50)),s<10&&b.isInsidePlot(g.chartX-b.plotLeft,g.chartY-b.plotTop)&&b.mapView&&b.mapView.zoomBy(-((b.options.mapNavigation.mouseWheelSensitivity-1)*A),void 0,[g.chartX,g.chartY],!(1>Math.abs(A))&&void 0)}function p(g,b,A){let R=this.chart;if(b=g.call(this,b,A),R&&R.mapView){let D=R.mapView.pixelsToLonLat({x:b.chartX-R.plotLeft,y:b.chartY-R.plotTop});D&&Pi(b,D)}return b}function f(g){let b=this.chart.options.mapNavigation;b&&ki(b.enableTouchZoom,b.enabled)&&(this.chart.zooming.pinchType="xy"),g.apply(this,[].slice.call(arguments,1))}_.compose=function(g){let b=g.prototype;b.onContainerDblClick||(Pi(b,{onContainerDblClick:n,onContainerMouseWheel:h}),Ei(b,"normalize",p),Ei(b,"zoomOption",f))}})(Kr||(Kr={}));let pi=Kr;function Fi(_,e,s,n,h){if(h){let p=(h==null?void 0:h.r)||0;h.brBoxY=e-p,h.brBoxHeight=n+p}return Et.roundedRect(_,e,s,n,h)}function Ps(_,e,s,n,h){if(h){let p=(h==null?void 0:h.r)||0;h.brBoxHeight=n+p}return Et.roundedRect(_,e,s,n,h)}let Ss={compose:function(_){(Et=_.prototype.symbols).bottombutton=Fi,Et.topbutton=Ps}},{setOptions:Bs}=Ni,{composed:dn}=ge,{addEvent:cs,extend:sr,merge:Ki,objectEach:$i,pick:io,pushUnique:Zs}=Ke;function Mr(_){var e,s;_&&((e=_.preventDefault)==null||e.call(_),(s=_.stopPropagation)==null||s.call(_),_.cancelBubble=!0)}class To{static compose(e,s,n){pi.compose(s),Ss.compose(n),Zs(dn,"Map.Navigation")&&(cs(e,"beforeRender",function(){this.mapNavigation=new To(this),this.mapNavigation.update()}),Bs(Je))}constructor(e){this.chart=e,this.navButtons=[]}update(e){var g;let s=this,n=s.chart,h=s.navButtons,p=function(b){this.handler.call(n,b),Mr(b)},f=n.options.mapNavigation;for(e&&(f=n.options.mapNavigation=Ki(n.options.mapNavigation,e));h.length;)(g=h.pop())==null||g.destroy();if(!n.renderer.forExport&&io(f.enableButtons,f.enabled)){s.navButtonsGroup||(s.navButtonsGroup=n.renderer.g().attr({zIndex:7}).add()),$i(f.buttons,(A,R)=>{var ot;let D={padding:(A=Ki(f.buttonOptions,A)).padding};!n.styledMode&&A.theme&&(sr(D,A.theme),D.style=Ki(A.theme.style,A.style));let{text:G,width:Z=0,height:Q=0,padding:st=0}=A,rt=n.renderer.button(G!=="+"&&G!=="-"&&G||"",0,0,p,D,void 0,void 0,void 0,R==="zoomIn"?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[R]).attr({width:Z,height:Q,title:n.options.lang[R],zIndex:5}).add(s.navButtonsGroup);if(G==="+"||G==="-"){let gt=Z+1,vt=[["M",st+3,st+Q/2],["L",st+gt-3,st+Q/2]];G==="+"&&vt.push(["M",st+gt/2,st+3],["L",st+gt/2,st+Q-3]),n.renderer.path(vt).addClass("highcharts-button-symbol").attr(n.styledMode?{}:{stroke:(ot=A.style)==null?void 0:ot.color,"stroke-width":3,"stroke-linecap":"round"}).add(rt)}if(rt.handler=A.onclick,cs(rt.element,"dblclick",Mr),h.push(rt),sr(A,{width:rt.width,height:2*(rt.height||0)}),n.hasLoaded)rt.align(A,!1,A.alignTo);else{let gt=cs(n,"load",()=>{rt.element&&rt.align(A,!1,A.alignTo),gt()})}});let b=(A,R)=>!(R.x>=A.x+A.width||R.x+R.width<=A.x||R.y>=A.y+A.height||R.y+R.height<=A.y);n.hasLoaded||cs(n,"render",function(){var R,D;let A=(D=(R=n.exporting)==null?void 0:R.group)==null?void 0:D.getBBox();if(A){let G=s.navButtonsGroup.getBBox();if(b(A,G)){let Z=-G.y-G.height+A.y-5,Q=A.y+A.height-G.y+5,st=f.buttonOptions&&f.buttonOptions.verticalAlign;s.navButtonsGroup.attr({translateY:st==="bottom"?Z:Q})}}})}this.updateEvents(f)}updateEvents(e){let s=this.chart;io(e.enableDoubleClickZoom,e.enabled)||e.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||cs(s.container,"dblclick",function(n){s.pointer.onContainerDblClick(n)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),io(e.enableMouseWheelZoom,e.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||cs(s.container,"wheel",function(n){var h,p;if(!s.pointer.inClass(n.target,"highcharts-no-mousewheel")){let f=(h=s.mapView)==null?void 0:h.zoom;s.pointer.onContainerMouseWheel(n),f!==((p=s.mapView)==null?void 0:p.zoom)&&Mr(n)}return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())}}let{column:{prototype:ch}}=ss.seriesTypes,{addEvent:Qa,defined:_n}=Ke;(function(_){function e(s){let n=this.series,h=n.chart.renderer;this.moveToTopOnHover&&this.graphic&&(n.stateMarkerGraphic||(n.stateMarkerGraphic=new dr(h,"use").css({pointerEvents:"none"}).add(this.graphic.parentGroup)),(s==null?void 0:s.state)==="hover"?(this.graphic.attr({id:this.id}),n.stateMarkerGraphic.attr({href:`${h.url}#${this.id}`,visibility:"visible"})):n.stateMarkerGraphic.attr({href:""}))}_.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return this.value!==null&&this.value!==1/0&&this.value!==-1/0&&(this.value===void 0||!isNaN(this.value))}},_.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(s){let n={};return _n(s.color)&&(!s.state||s.state==="normal")&&(n[this.colorProp||"fill"]=s.color),n},pointAttribs:ch.pointAttribs},_.compose=function(s){return Qa(s.prototype.pointClass,"afterSetState",e),s}})(co||(co={}));let $s=co,{getOptions:Nr}=Ni,{isNumber:zh,merge:md,pick:Rh}=Ke;class ic extends du{init(e,s){let n=Nr().credits,h=md({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:Rh(n.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:Rh(n.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},e);super.init(h,s)}mapZoom(e,s,n,h,p){this.mapView&&(zh(e)&&(e=Math.log(e)/Math.log(.5)),this.mapView.zoomBy(e,zh(s)&&zh(n)?this.mapView.projection.inverse([s,n]):void 0,zh(h)&&zh(p)?[h,p]:void 0))}update(e){var s;e.chart&&"map"in e.chart&&((s=this.mapView)==null||s.recommendMapView(this,[e.chart.map,...(this.options.series||[]).map(n=>n.mapData)],!0)),super.update.apply(this,arguments)}}(function(_){_.maps={},_.mapChart=function(e,s,n){return new _(e,s,n)},_.splitPath=function(e){let s;return s=typeof e=="string"?(e=e.replace(/([A-Z])/gi," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(n=>/[A-Z]/i.test(n)?n:parseFloat(n)):e,Bn.prototype.pathToSegments(s)}})(ic||(ic={}));let Da=ic,sc={boundsFromPath:function(_){let e=-Number.MAX_VALUE,s=Number.MAX_VALUE,n=-Number.MAX_VALUE,h=Number.MAX_VALUE,p;if(_.forEach(f=>{let g=f[f.length-2],b=f[f.length-1];typeof g=="number"&&typeof b=="number"&&(s=Math.min(s,g),e=Math.max(e,g),h=Math.min(h,b),n=Math.max(n,b),p=!0)}),p)return{x1:s,y1:h,x2:e,y2:n}}},{boundsFromPath:$g}=sc,qg=ss.seriesTypes.scatter.prototype.pointClass,{extend:Pp,isNumber:Hc,pick:Lx}=Ke;class zu extends qg{static getProjectedPath(e,s){return e.projectedPath||(s&&e.geometry?(s.hasCoordinates=!0,e.projectedPath=s.path(e.geometry)):e.projectedPath=e.path),e.projectedPath||[]}applyOptions(e,s){let n=this.series,h=super.applyOptions(e,s),p=n.joinBy;if(n.mapData&&n.mapMap){let f=p[1],g=super.getNestedProperty(f),b=g!==void 0&&n.mapMap[g];b?Pp(h,{...b,name:h.name??b.name}):n.pointArrayMap.indexOf("value")!==-1&&(h.value=h.value||null)}return h}getProjectedBounds(e){let s=$g(zu.getProjectedPath(this,e)),n=this.properties,h=this.series.chart.mapView;if(s){let p=n==null?void 0:n["hc-middle-lon"],f=n==null?void 0:n["hc-middle-lat"];if(h&&Hc(p)&&Hc(f)){let g=e.forward([p,f]);s.midX=g[0],s.midY=g[1]}else{let g=n==null?void 0:n["hc-middle-x"],b=n==null?void 0:n["hc-middle-y"];s.midX=s.x1+(s.x2-s.x1)*Lx(this.middleX,Hc(g)?g:.5);let A=Lx(this.middleY,Hc(b)?b:.5);this.geometry||(A=1-A),s.midY=s.y2-(s.y2-s.y1)*A}return s}}onMouseOver(e){Ke.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?super.onMouseOver.call(this,e):this.series.onMouseOut()}setVisible(e){this.visible=this.options.visible=!!e,this.dataLabel&&this.dataLabel[e?"show":"hide"](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(e){let s=this.series.chart,n=s.mapView,h=this.bounds;if(n&&h){let p=Hc(this.insetIndex)&&n.insets[this.insetIndex];if(p){let f=p.projectedUnitsToPixels({x:h.x1,y:h.y1}),g=p.projectedUnitsToPixels({x:h.x2,y:h.y2}),b=n.pixelsToProjectedUnits({x:f.x,y:f.y}),A=n.pixelsToProjectedUnits({x:g.x,y:g.y});h={x1:b.x,y1:b.y,x2:A.x,y2:A.y}}n.fitToBounds(h,void 0,!1),this.series.isDirty=!0,s.redraw(e)}}}Pp(zu.prototype,{dataLabelOnNull:$s.pointMembers.dataLabelOnNull,moveToTopOnHover:$s.pointMembers.moveToTopOnHover,isValid:$s.pointMembers.isValid});let{isNumber:Kg}=Ke,Ox={center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0,insetOptions:{borderColor:"#cccccc",borderWidth:1,padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}},{win:Ex}=ge,{format:Ix}=hr,{error:Gc,extend:Jg,merge:Bx,wrap:Hy}=Ke;(function(_){function e(g){return this.mapView&&this.mapView.lonLatToProjectedUnits(g)}function s(g){return this.mapView&&this.mapView.projectedUnitsToLonLat(g)}function n(g,b){let A=this.options.chart.proj4||Ex.proj4;if(!A)return void Gc(21,!1,this);let{jsonmarginX:R=0,jsonmarginY:D=0,jsonres:G=1,scale:Z=1,xoffset:Q=0,xpan:st=0,yoffset:rt=0,ypan:ot=0}=b,gt=A(b.crs,[g.lon,g.lat]),vt=b.cosAngle||b.rotation&&Math.cos(b.rotation),Ft=b.sinAngle||b.rotation&&Math.sin(b.rotation),Wt=b.rotation?[gt[0]*vt+gt[1]*Ft,-gt[0]*Ft+gt[1]*vt]:gt;return{x:((Wt[0]-Q)*Z+st)*G+R,y:-(((rt-Wt[1])*Z+ot)*G-D)}}function h(g,b){let A=this.options.chart.proj4||Ex.proj4;if(!A)return void Gc(21,!1,this);if(g.y===null)return;let{jsonmarginX:R=0,jsonmarginY:D=0,jsonres:G=1,scale:Z=1,xoffset:Q=0,xpan:st=0,yoffset:rt=0,ypan:ot=0}=b,gt={x:((g.x-R)/G-st)/Z+Q,y:((g.y-D)/G+ot)/Z+rt},vt=b.cosAngle||b.rotation&&Math.cos(b.rotation),Ft=b.sinAngle||b.rotation&&Math.sin(b.rotation),Wt=A(b.crs,"WGS84",b.rotation?{x:gt.x*vt+-(gt.y*Ft),y:gt.x*Ft+gt.y*vt}:gt);return{lat:Wt.y,lon:Wt.x}}function p(g,b){b||(b=Object.keys(g.objects)[0]);let A=g.objects[b];if(A["hc-decoded-geojson"]&&A["hc-decoded-geojson"].title===g.title)return A["hc-decoded-geojson"];let R=g.arcs;if(g.transform){let st,rt,ot,gt=g.arcs,{scale:vt,translate:Ft}=g.transform;R=[];for(let Wt=0,Ht=gt.length;Wt<Ht;++Wt){let ce=gt[Wt];R.push(st=[]),rt=0,ot=0;for(let Jt=0,ie=ce.length;Jt<ie;++Jt)st.push([(rt+=ce[Jt][0])*vt[0]+Ft[0],(ot+=ce[Jt][1])*vt[1]+Ft[1]])}}let D=st=>typeof st[0]=="number"?st.reduce((rt,ot,gt)=>{let vt=ot<0?R[~ot]:R[ot];return ot<0?(vt=vt.slice(0,gt===0?vt.length:vt.length-1)).reverse():gt&&(vt=vt.slice(1)),rt.concat(vt)},[]):st.map(D),G=A.geometries,Z=[];for(let st=0,rt=G.length;st<rt;++st)Z.push({type:"Feature",properties:G[st].properties,geometry:{type:G[st].type,coordinates:G[st].coordinates||D(G[st].arcs)}});let Q={type:"FeatureCollection",copyright:g.copyright,copyrightShort:g.copyrightShort,copyrightUrl:g.copyrightUrl,features:Z,"hc-recommended-mapview":A["hc-recommended-mapview"],bbox:g.bbox,title:g.title};return A["hc-decoded-geojson"]=Q,Q}function f(g,b){b=Bx(!0,this.options.credits,b),g.call(this,b),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}_.compose=function(g){let b=g.prototype;b.transformFromLatLon||(b.fromLatLonToPoint=e,b.fromPointToLatLon=s,b.transformFromLatLon=n,b.transformToLatLon=h,Hy(b,"addCredits",f))},_.geojson=function(g,b="map",A){var Z,Q;let R=[],D=g.type==="Topology"?p(g):g,G=D.features;for(let st=0,rt=G.length;st<rt;++st){let ot,gt=G[st],vt=gt.geometry||{},Ft=vt.type,Wt=vt.coordinates,Ht=gt.properties;if((b==="map"||b==="mapbubble")&&(Ft==="Polygon"||Ft==="MultiPolygon")||b==="mapline"&&(Ft==="LineString"||Ft==="MultiLineString")?Wt.length&&(ot={geometry:{coordinates:Wt,type:Ft}}):b==="mappoint"&&Ft==="Point"&&Wt.length&&(ot={geometry:{coordinates:Wt,type:Ft}}),ot){let ce=Ht&&(Ht.name||Ht.NAME),Jt=Ht&&Ht.lon,ie=Ht&&Ht.lat;R.push(Jg(ot,{lat:typeof ie=="number"?ie:void 0,lon:typeof Jt=="number"?Jt:void 0,name:typeof ce=="string"?ce:void 0,properties:Ht}))}}return A&&D.copyrightShort&&(A.chart.mapCredits=Ix((Z=A.chart.options.credits)==null?void 0:Z.mapText,{geojson:D}),A.chart.mapCreditsFull=Ix((Q=A.chart.options.credits)==null?void 0:Q.mapTextFull,{geojson:D})),R},_.topo2geo=p})(ii||(ii={}));let Qg=ii;function Ru(_,e,s=!0){let n=e[e.length-1],h,p,f,g=_;for(let b=0;b<e.length;b++){let A=g;h=e[b],g=[],p=s?A[A.length-1]:A[0];for(let R=0;R<A.length;R++)tm(n,h,f=A[R])?(tm(n,h,p)||g.push(Nu(n,h,p,f)),g.push(f)):tm(n,h,p)&&g.push(Nu(n,h,p,f)),p=f;n=h}return g}function tm(_,e,s){return(e[0]-_[0])*(s[1]-_[1])>(e[1]-_[1])*(s[0]-_[0])}function Nu(_,e,s,n){let h=[_[0]-e[0],_[1]-e[1]],p=[s[0]-n[0],s[1]-n[1]],f=_[0]*e[1]-_[1]*e[0],g=s[0]*n[1]-s[1]*n[0],b=1/(h[0]*p[1]-h[1]*p[0]),A=[(f*p[0]-g*h[0])*b,(f*p[1]-g*h[1])*b];return A.isIntersection=!0,A}let Uf=Math.sign||(_=>_===0?0:_>0?1:-1),Vf=Math.PI/180,ph=Math.PI/2,Wu=_=>Math.tan((ph+_)/2),Gy=class{constructor(_){let e=(_.parallels||[]).map(f=>f*Vf),s=e[0]||0,n=e[1]??s,h=Math.cos(s);typeof _.projectedBounds=="object"&&(this.projectedBounds=_.projectedBounds);let p=s===n?Math.sin(s):Math.log(h/Math.cos(n))/Math.log(Wu(n)/Wu(s));1e-10>Math.abs(p)&&(p=1e-10*(Uf(p)||1)),this.n=p,this.c=h*Math.pow(Wu(s),p)/p}forward(_){let{c:e,n:s,projectedBounds:n}=this,h=_[0]*Vf,p=_[1]*Vf;e>0?p<-ph+1e-6&&(p=-ph+1e-6):p>ph-1e-6&&(p=ph-1e-6);let f=e/Math.pow(Wu(p),s),g=f*Math.sin(s*h)*63.78137,b=(e-f*Math.cos(s*h))*63.78137,A=[g,b];return n&&(g<n.x1||g>n.x2||b<n.y1||b>n.y2)&&(A.outside=!0),A}inverse(_){let{c:e,n:s}=this,n=_[0]/63.78137,h=e-_[1]/63.78137,p=Uf(s)*Math.sqrt(n*n+h*h),f=Math.atan2(n,Math.abs(h))*Uf(h);return h*s<0&&(f-=Math.PI*Uf(n)*Uf(h)),[f/s/Vf,(2*Math.atan(Math.pow(e/p,1/s))-ph)/Vf]}},Zf=Math.sqrt(3)/2,da=class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(_){let e=Math.PI/180,s=Math.asin(Zf*Math.sin(_[1]*e)),n=s*s,h=n*n*n;return[_[0]*e*Math.cos(s)*74.03120656864502/(Zf*(1.340264+-.24331799999999998*n+h*(.0062510000000000005+.034164*n))),74.03120656864502*s*(1.340264+-.081106*n+h*(893e-6+.003796*n))]}inverse(_){let e=_[0]/74.03120656864502,s=_[1]/74.03120656864502,n=180/Math.PI,h=s,p,f,g,b;for(let D=0;D<12&&(f=(p=h*h)*p*p,g=h*(1.340264+-.081106*p+f*(893e-6+.003796*p))-s,h-=b=g/(1.340264+-.24331799999999998*p+f*(.0062510000000000005+.034164*p)),!(1e-9>Math.abs(b)));++D);f=(p=h*h)*p*p;let A=n*Zf*e*(1.340264+-.24331799999999998*p+f*(.0062510000000000005+.034164*p))/Math.cos(h),R=n*Math.asin(Math.sin(h)/Zf);return Math.abs(A)>180?[NaN,NaN]:[A,R]}},$m=Math.PI/4,Cp=Math.PI/180,Fu=class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(_){return[_[0]*Cp*63.78137,79.7267125*Math.log(Math.tan($m+.4*_[1]*Cp))]}inverse(_){return[_[0]/63.78137/Cp,2.5*(Math.atan(Math.exp(.8*(_[1]/63.78137)))-$m)/Cp]}},em=Math.PI/180,Hu=class{constructor(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(_){let e=_[0],s=_[1]*em,n=[Math.cos(s)*Math.sin(e*em)*63.78460826781007,63.78460826781007*Math.sin(s)];return(e<-90||e>90)&&(n.outside=!0),n}inverse(_){let e=_[0]/63.78460826781007,s=_[1]/63.78460826781007,n=Math.sqrt(e*e+s*s),h=Math.asin(n),p=Math.sin(h);return[Math.atan2(e*p,n*Math.cos(h))/em,Math.asin(n&&s*p/n)/em]}},im=Math.PI/180,Xy=class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}forward(_){let e=Math.sin(_[1]*im),s=[63.78137*_[0]*im,63.78137*Math.log((1+e)/(1-e))/2];return Math.abs(_[1])>this.maxLatitude&&(s.outside=!0),s}inverse(_){return[_[0]/(63.78137*im),(2*Math.atan(Math.exp(_[1]/63.78137))-Math.PI/2)/im]}},{clipLineString:qm,clipPolygon:Dx}={clipLineString:function(_,e){let s=[],n=Ru(_,e,!1);for(let h=1;h<n.length;h++)n[h].isIntersection&&n[h-1].isIntersection&&(s.push(n.splice(0,h)),h=0),h===n.length-1&&s.push(n);return s},clipPolygon:Ru},{clamp:xd,erase:Gu}=Ke,pr=2*Math.PI/360,rc=_=>(_<-180&&(_+=360),_>180&&(_-=360),_),Km=_=>(1-Math.cos(_))/2,sm=(_,e)=>{let s=Math.cos,n=_[1]*pr,h=_[0]*pr,p=e[1]*pr,f=e[0]*pr;return Km(p-n)+s(n)*s(p)*Km(f-h)};class cn{static add(e,s){cn.registry[e]=s}static distance(e,s){let{atan2:n,sqrt:h}=Math,p=sm(e,s);return 6371e3*(2*n(h(p),h(1-p)))}static geodesic(e,s,n,h=5e5){let{atan2:p,cos:f,sin:g,sqrt:b}=Math,A=cn.distance,R=e[1]*pr,D=e[0]*pr,G=s[1]*pr,Z=s[0]*pr,Q=f(R)*f(D),st=f(G)*f(Z),rt=f(R)*g(D),ot=f(G)*g(Z),gt=g(R),vt=g(G),Ft=A(e,s),Wt=Ft/6371e3,Ht=g(Wt),ce=Math.round(Ft/h),Jt=[];if(n&&Jt.push(e),ce>1){let ie=1/ce;for(let Pe=ie;Pe<.999;Pe+=ie){let Re=g((1-Pe)*Wt)/Ht,Ye=g(Pe*Wt)/Ht,ei=Re*Q+Ye*st,Si=Re*rt+Ye*ot,yi=p(Re*gt+Ye*vt,b(ei*ei+Si*Si)),_i=p(Si,ei);Jt.push([_i/pr,yi/pr])}}return n&&Jt.push(s),Jt}static insertGeodesics(e){let s=e.length-1;for(;s--;)if(Math.max(Math.abs(e[s][0]-e[s+1][0]),Math.abs(e[s][1]-e[s+1][1]))>10){let n=cn.geodesic(e[s],e[s+1]);n.length&&e.splice(s+1,0,...n)}}static toString(e){let{name:s,rotation:n}=e||{};return[s,n&&n.join(",")].join(";")}constructor(e={}){this.hasCoordinates=!1,this.hasGeoProjection=!1,this.maxLatitude=90,this.options=e;let{name:s,projectedBounds:n,rotation:h}=e;this.rotator=h?this.getRotator(h):void 0;let p=s?cn.registry[s]:void 0;p&&(this.def=new p(e));let{def:f,rotator:g}=this;f&&(this.maxLatitude=f.maxLatitude||90,this.hasGeoProjection=!0),g&&f?(this.forward=b=>f.forward(g.forward(b)),this.inverse=b=>g.inverse(f.inverse(b))):f?(this.forward=b=>f.forward(b),this.inverse=b=>f.inverse(b)):g&&(this.forward=g.forward,this.inverse=g.inverse),this.bounds=n==="world"?f&&f.bounds:n}lineIntersectsBounds(e){let{x1:s,x2:n,y1:h,y2:p}=this.bounds||{},f=(A,R,D)=>{let[G,Z]=A,Q=+!R;if(typeof D=="number"&&G[R]>=D!=Z[R]>=D){let st=(D-G[R])/(Z[R]-G[R]),rt=G[Q]+st*(Z[Q]-G[Q]);return R?[rt,D]:[D,rt]}},g,b=e[0];return((g=f(e,0,s))||(g=f(e,0,n)))&&(b=g,e[1]=g),((g=f(e,1,h))||(g=f(e,1,p)))&&(b=g),b}getRotator(e){let s=e[0]*pr,n=(e[1]||0)*pr,h=(e[2]||0)*pr,p=Math.cos(n),f=Math.sin(n),g=Math.cos(h),b=Math.sin(h);if(s!==0||n!==0||h!==0)return{forward:A=>{let R=A[0]*pr+s,D=A[1]*pr,G=Math.cos(D),Z=Math.cos(R)*G,Q=Math.sin(R)*G,st=Math.sin(D),rt=st*p+Z*f;return[Math.atan2(Q*g-rt*b,Z*p-st*f)/pr,Math.asin(rt*g+Q*b)/pr]},inverse:A=>{let R=A[0]*pr,D=A[1]*pr,G=Math.cos(D),Z=Math.cos(R)*G,Q=Math.sin(R)*G,st=Math.sin(D),rt=st*g-Q*b;return[(Math.atan2(Q*g+st*b,Z*p+rt*f)-s)/pr,Math.asin(rt*p-Z*f)/pr]}}}forward(e){return e}inverse(e){return e}cutOnAntimeridian(e,s){let n,h=[],p=[e];for(let f=0,g=e.length;f<g;++f){let b=e[f],A=e[f-1];if(!f){if(!s)continue;A=e[e.length-1]}let R=A[0],D=b[0];if((R<-90||R>90)&&(D<-90||D>90)&&R>0!=D>0){let G=xd((180-(R+360)%360)/((D+360)%360-(R+360)%360),0,1),Z=A[1]+G*(b[1]-A[1]);h.push({i:f,lat:Z,direction:R<0?1:-1,previousLonLat:A,lonLat:b})}}if(h.length)if(s){h.length%2==1&&(n=h.slice().sort((g,b)=>Math.abs(b.lat)-Math.abs(g.lat))[0],Gu(h,n));let f=h.length-2;for(;f>=0;){let g=h[f].i,b=rc(180+1e-6*h[f].direction),A=rc(180-1e-6*h[f].direction),R=e.splice(g,h[f+1].i-g,...cn.geodesic([b,h[f].lat],[b,h[f+1].lat],!0));R.push(...cn.geodesic([A,h[f+1].lat],[A,h[f].lat],!0)),p.push(R),f-=2}if(n)for(let g=0;g<p.length;g++){let{direction:b,lat:A}=n,R=p[g],D=R.indexOf(n.lonLat);if(D>-1){let G=(A<0?-1:1)*this.maxLatitude,Z=rc(180+1e-6*b),Q=rc(180-1e-6*b),st=cn.geodesic([Z,A],[Z,G],!0);for(let rt=Z+120*b;rt>-180&&rt<180;rt+=120*b)st.push([rt,G]);st.push(...cn.geodesic([Q,G],[Q,n.lat],!0)),R.splice(D,0,...st);break}}}else{let f=h.length;for(;f--;){let g=h[f].i,b=e.splice(g,e.length,[rc(180+1e-6*h[f].direction),h[f].lat]);b.unshift([rc(180-1e-6*h[f].direction),h[f].lat]),p.push(b)}}return p}path(e){let s,{bounds:n,def:h,rotator:p}=this,f=[],g=e.type==="Polygon"||e.type==="MultiPolygon",b=this.hasGeoProjection,A=!h||h.antimeridianCutting!==!1,R=A?p:void 0,D=A&&h||this;n&&(s=[[n.x1,n.y1],[n.x2,n.y1],[n.x2,n.y2],[n.x1,n.y2]]);let G=Z=>{let Q=Z.map(rt=>{if(A){R&&(rt=R.forward(rt));let ot=rt[0];1e-6>Math.abs(ot-180)&&(ot=ot<180?179.999999:180.000001),rt=[ot,rt[1]]}return rt}),st=[Q];b&&(cn.insertGeodesics(Q),A&&(st=this.cutOnAntimeridian(Q,g))),st.forEach(rt=>{let ot,gt;if(rt.length<2)return;let vt=!1,Ft=!1,Wt=ie=>{vt?f.push(["L",ie[0],ie[1]]):(f.push(["M",ie[0],ie[1]]),vt=!0)},Ht=!1,ce=!1,Jt=rt.map(ie=>{let Pe=D.forward(ie);return Pe.outside?Ht=!0:ce=!0,Pe[1]===1/0?Pe[1]=1e10:Pe[1]===-1/0&&(Pe[1]=-1e10),Pe});if(A){if(g&&Jt.push(Jt[0]),Ht){if(!ce)return;if(s){if(g)Jt=Dx(Jt,s);else if(n)return void qm(Jt,s).forEach(ie=>{vt=!1,ie.forEach(Wt)})}}Jt.forEach(Wt)}else for(let ie=0;ie<Jt.length;ie++){let Pe=rt[ie],Re=Jt[ie];Re.outside?Ft=!0:(g&&!ot&&(ot=Pe,rt.push(Pe),Jt.push(Re)),Ft&&gt&&(g&&b?cn.geodesic(gt,Pe).forEach(Ye=>Wt(D.forward(Ye))):vt=!1),Wt(Re),gt=Pe,Ft=!1)}})};return e.type==="LineString"?G(e.coordinates):e.type==="MultiLineString"?e.coordinates.forEach(Z=>G(Z)):e.type==="Polygon"?(e.coordinates.forEach(Z=>G(Z)),f.length&&f.push(["Z"])):e.type==="MultiPolygon"&&(e.coordinates.forEach(Z=>{Z.forEach(Q=>G(Q))}),f.length&&f.push(["Z"])),f}}cn.registry={EqualEarth:da,LambertConformalConic:Gy,Miller:Fu,Orthographic:Hu,WebMercator:Xy};let{composed:_p}=ge,{pointInPolygon:Xc}=Hg,{topo2geo:zx}=Qg,{boundsFromPath:Nh}=sc,{addEvent:Lp,clamp:Jm,crisp:rm,fireEvent:Rx,isArray:Yy,isNumber:uh,isObject:Qm,isString:Nx,merge:oc,pick:Op,pushUnique:jy,relativeLength:nc}=Ke,yd={};function Wx(_,e){let{width:s,height:n}=e;return Math.log(400.979322/Math.max((_.x2-_.x1)/(s/256),(_.y2-_.y1)/(n/256)))/Math.log(2)}function tx(_){var e,s;_.seriesOptions.mapData&&((s=this.mapView)==null||s.recommendMapView(this,[this.options.chart.map,_.seriesOptions.mapData],(e=this.options.drilldown)==null?void 0:e.mapZooming))}class vd{static compose(e){jy(_p,"MapView")&&(yd=e.maps,Lp(e,"afterInit",function(){this.mapView=new vd(this,this.options.mapView)},{order:0}),Lp(e,"addSeriesAsDrilldown",tx),Lp(e,"afterDrillUp",tx))}static compositeBounds(e){if(e.length)return e.slice(1).reduce((s,n)=>(s.x1=Math.min(s.x1,n.x1),s.y1=Math.min(s.y1,n.y1),s.x2=Math.max(s.x2,n.x2),s.y2=Math.max(s.y2,n.y2),s),oc(e[0]))}static mergeInsets(e,s){let n=p=>{let f={};return p.forEach((g,b)=>{f[g&&g.id||`i${b}`]=g}),f},h=oc(n(e),n(s));return Object.keys(h).map(p=>h[p])}constructor(e,s){var f;this.allowTransformAnimation=!0,this.eventsToUnbind=[],this.insets=[],this.padding=[0,0,0,0],this.recommendedMapView={},this instanceof om||this.recommendMapView(e,[e.options.chart.map,...(e.options.series||[]).map(g=>g.mapData)]),this.userOptions=s||{};let n=oc(Ox,this.recommendedMapView,s),h=(f=this.recommendedMapView)==null?void 0:f.insets,p=s&&s.insets;h&&p&&(n.insets=vd.mergeInsets(h,p)),this.chart=e,this.center=n.center,this.options=n,this.projection=new cn(n.projection),this.playingField=e.plotBox,this.zoom=n.zoom||0,this.minZoom=n.minZoom,this.createInsets(),this.eventsToUnbind.push(Lp(e,"afterSetChartSize",()=>{this.playingField=this.getField(),(this.minZoom===void 0||this.minZoom===this.zoom)&&(this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&uh(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&oc(!0,this.center,this.userOptions.center))})),this.setUpEvents()}createInsets(){let e=this.options,s=e.insets;s&&s.forEach(n=>{let h=new om(this,oc(e.insetOptions,n));this.insets.push(h)})}fitToBounds(e,s,n=!0,h){let p=e||this.getProjectedBounds();if(p){let f=Op(s,e?0:this.options.padding),g=this.getField(!1),b=Yy(f)?f:[f,f,f,f];this.padding=[nc(b[0],g.height),nc(b[1],g.width),nc(b[2],g.height),nc(b[3],g.width)],this.playingField=this.getField();let A=Wx(p,this.playingField);e||(this.minZoom=A);let R=this.projection.inverse([(p.x2+p.x1)/2,(p.y2+p.y1)/2]);this.setView(R,A,n,h)}}getField(e=!0){let s=e?this.padding:[0,0,0,0];return{x:s[3],y:s[0],width:this.chart.plotWidth-s[1]-s[3],height:this.chart.plotHeight-s[0]-s[2]}}getGeoMap(e){if(Nx(e))return yd[e]&&yd[e].type==="Topology"?zx(yd[e]):yd[e];if(Qm(e,!0)){if(e.type==="FeatureCollection")return e;if(e.type==="Topology")return zx(e)}}getMapBBox(){let e=this.getProjectedBounds(),s=this.getScale();if(e){let n=this.padding,h=this.projectedUnitsToPixels({x:e.x1,y:e.y2});return{width:(e.x2-e.x1)*s+n[1]+n[3],height:(e.y2-e.y1)*s+n[0]+n[2],x:h.x-n[3],y:h.y-n[0]}}}getProjectedBounds(){let e=this.projection,s=this.chart.series.reduce((h,p)=>{let f=p.getProjectedBounds&&p.getProjectedBounds();return f&&p.options.affectsMapView!==!1&&h.push(f),h},[]),n=this.options.fitToGeometry;if(n){if(!this.fitToGeometryCache)if(n.type==="MultiPoint"){let h=n.coordinates.map(g=>e.forward(g)),p=h.map(g=>g[0]),f=h.map(g=>g[1]);this.fitToGeometryCache={x1:Math.min.apply(0,p),x2:Math.max.apply(0,p),y1:Math.min.apply(0,f),y2:Math.max.apply(0,f)}}else this.fitToGeometryCache=Nh(e.path(n));return this.fitToGeometryCache}return this.projection.bounds||vd.compositeBounds(s)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){let{x:e,y:s,width:n,height:h}=this.playingField,p=this.projection.forward(this.center),f=this.projection.hasCoordinates?-1:1,g=this.getScale(),b=g*f,A=e+n/2-p[0]*g,R=s+h/2-p[1]*b;return{scaleX:g,scaleY:b,translateX:A,translateY:R}}lonLatToPixels(e){let s=this.lonLatToProjectedUnits(e);if(s)return this.projectedUnitsToPixels(s)}lonLatToProjectedUnits(e){let s=this.chart,n=s.mapTransforms;if(n){for(let p in n)if(Object.hasOwnProperty.call(n,p)&&n[p].hitZone){let f=s.transformFromLatLon(e,n[p]);if(f&&Xc(f,n[p].hitZone.coordinates[0]))return f}return s.transformFromLatLon(e,n.default)}for(let p of this.insets)if(p.options.geoBounds&&Xc({x:e.lon,y:e.lat},p.options.geoBounds.coordinates[0])){let f=p.projection.forward([e.lon,e.lat]),g=p.projectedUnitsToPixels({x:f[0],y:f[1]});return this.pixelsToProjectedUnits(g)}let h=this.projection.forward([e.lon,e.lat]);if(!h.outside)return{x:h[0],y:h[1]}}projectedUnitsToLonLat(e){let s=this.chart,n=s.mapTransforms;if(n){for(let f in n)if(Object.hasOwnProperty.call(n,f)&&n[f].hitZone&&Xc(e,n[f].hitZone.coordinates[0]))return s.transformToLatLon(e,n[f]);return s.transformToLatLon(e,n.default)}let h=this.projectedUnitsToPixels(e);for(let f of this.insets)if(f.hitZone&&Xc(h,f.hitZone.coordinates[0])){let g=f.pixelsToProjectedUnits(h),b=f.projection.inverse([g.x,g.y]);return{lon:b[0],lat:b[1]}}let p=this.projection.inverse([e.x,e.y]);return{lon:p[0],lat:p[1]}}recommendMapView(e,s,n=!1){var g;this.recommendedMapView={};let h=s.map(b=>this.getGeoMap(b)),p=[];h.forEach(b=>{if(b&&(Object.keys(this.recommendedMapView).length||(this.recommendedMapView=b["hc-recommended-mapview"]||{}),b.bbox)){let[A,R,D,G]=b.bbox;p.push({x1:A,y1:R,x2:D,y2:G})}});let f=p.length&&vd.compositeBounds(p);Rx(this,"onRecommendMapView",{geoBounds:f,chart:e},function(){if(f&&this.recommendedMapView){if(!this.recommendedMapView.projection){let{x1:b,y1:A,x2:R,y2:D}=f;this.recommendedMapView.projection=R-b>180&&D-A>90?{name:"EqualEarth",parallels:[0,0],rotation:[0]}:{name:"LambertConformalConic",parallels:[A,D],rotation:[-(b+R)/2]}}this.recommendedMapView.insets||(this.recommendedMapView.insets=void 0)}}),this.geoMap=h[0],n&&e.hasRendered&&!((g=e.userOptions.mapView)!=null&&g.projection)&&this.recommendedMapView&&this.update(this.recommendedMapView)}redraw(e){this.chart.series.forEach(s=>{s.useMapGeometry&&(s.isDirty=!0)}),this.chart.redraw(e)}setView(e,s,n=!0,h){e&&(this.center=e),typeof s=="number"&&(typeof this.minZoom=="number"&&(s=Math.max(s,this.minZoom)),typeof this.options.maxZoom=="number"&&(s=Math.min(s,this.options.maxZoom)),uh(s)&&(this.zoom=s));let p=this.getProjectedBounds();if(p){let f=this.projection.forward(this.center),{x:g,y:b,width:A,height:R}=this.playingField,D=this.getScale(),G=this.projectedUnitsToPixels({x:p.x1,y:p.y1}),Z=this.projectedUnitsToPixels({x:p.x2,y:p.y2}),Q=[(p.x1+p.x2)/2,(p.y1+p.y2)/2];if(!this.chart.series.some(st=>st.isDrilling)){let st=G.x,rt=Z.y,ot=Z.x,gt=G.y;ot-st<A?f[0]=Q[0]:st<g&&ot<g+A?f[0]+=Math.max(st-g,ot-A-g)/D:ot>g+A&&st>g&&(f[0]+=Math.min(ot-A-g,st-g)/D),gt-rt<R?f[1]=Q[1]:rt<b&&gt<b+R?f[1]-=Math.max(rt-b,gt-R-b)/D:gt>b+R&&rt>b&&(f[1]-=Math.min(gt-R-b,rt-b)/D),this.center=this.projection.inverse(f)}this.insets.forEach(st=>{st.options.field&&(st.hitZone=st.getHitZone(),st.playingField=st.getField())}),this.render()}Rx(this,"afterSetView"),n&&this.redraw(h)}projectedUnitsToPixels(e){let s=this.getScale(),n=this.projection.forward(this.center),h=this.playingField,p=h.x+h.width/2,f=h.y+h.height/2;return{x:p-s*(n[0]-e.x),y:f+s*(n[1]-e.y)}}pixelsToLonLat(e){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(e))}pixelsToProjectedUnits(e){let{x:s,y:n}=e,h=this.getScale(),p=this.projection.forward(this.center),f=this.playingField,g=f.x+f.width/2,b=f.y+f.height/2;return{x:p[0]+(s-g)/h,y:p[1]-(n-b)/h}}setUpEvents(){let e,s,n,{chart:h}=this,p=f=>{let{lastTouches:g,pinchDown:b}=h.pointer,A=this.projection,R=f.touches,{mouseDownX:D,mouseDownY:G}=h,Z=0;if((b==null?void 0:b.length)===1?(D=b[0].chartX,G=b[0].chartY):(b==null?void 0:b.length)===2&&(D=(b[0].chartX+b[1].chartX)/2,G=(b[0].chartY+b[1].chartY)/2),(R==null?void 0:R.length)===2&&g&&(Z=Math.log(Math.sqrt(Math.pow(g[0].chartX-g[1].chartX,2)+Math.pow(g[0].chartY-g[1].chartY,2))/Math.sqrt(Math.pow(R[0].chartX-R[1].chartX,2)+Math.pow(R[0].chartY-R[1].chartY,2)))/Math.log(.5)),uh(D)&&uh(G)){let Q=`${D},${G}`,{chartX:st,chartY:rt}=f.originalEvent;(R==null?void 0:R.length)===2&&(st=(R[0].chartX+R[1].chartX)/2,rt=(R[0].chartY+R[1].chartY)/2),Q!==s&&(s=Q,e=this.projection.forward(this.center),n=(this.projection.options.rotation||[0,0]).slice());let ot=A.def&&A.def.bounds,gt=ot&&Wx(ot,this.playingField)||-1/0;if(A.options.name==="Orthographic"&&2>((R==null?void 0:R.length)||0)&&(this.minZoom||1/0)<1.3*gt){let vt=440/(this.getScale()*Math.min(h.plotWidth,h.plotHeight));if(n){let Ft=(D-st)*vt-n[0],Wt=Jm(-n[1]-(G-rt)*vt,-80,80),Ht=this.zoom;this.update({projection:{rotation:[-Ft,-Wt]}},!1),this.fitToBounds(void 0,void 0,!1),this.zoom=Ht,h.redraw(!1)}}else if(uh(st)&&uh(rt)){let vt=this.getScale(),Ft=this.projection.hasCoordinates?1:-1,Wt=this.projection.inverse([e[0]+(D-st)/vt,e[1]-(G-rt)/vt*Ft]);isNaN(Wt[0]+Wt[1])||this.zoomBy(Z,Wt,void 0,!1)}f.preventDefault()}};Lp(h,"pan",p),Lp(h,"touchpan",p),Lp(h,"selection",f=>{if(f.resetSelection)this.zoomBy();else{let g=f.x-h.plotLeft,b=f.y-h.plotTop,{y:A,x:R}=this.pixelsToProjectedUnits({x:g,y:b}),{y:D,x:G}=this.pixelsToProjectedUnits({x:g+f.width,y:b+f.height});this.fitToBounds({x1:R,y1:A,x2:G,y2:D},void 0,!0,!f.originalEvent.touches&&void 0),/^touch/.test(f.originalEvent.type)||h.showResetZoom(),f.preventDefault()}})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(e,s=!0,n){let h=e.projection,p=h&&cn.toString(h)!==cn.toString(this.options.projection),f=!1;oc(!0,this.userOptions,e),oc(!0,this.options,e),"insets"in e&&(this.insets.forEach(g=>g.destroy()),this.insets.length=0,f=!0),(p||"fitToGeometry"in e)&&delete this.fitToGeometryCache,(p||f)&&(this.chart.series.forEach(g=>{let b=g.transformGroups;if(g.clearBounds&&g.clearBounds(),g.isDirty=!0,g.isDirtyData=!0,f&&b)for(;b.length>1;){let A=b.pop();A&&A.destroy()}}),p&&(this.projection=new cn(this.options.projection)),f&&this.createInsets(),!e.center&&Object.hasOwnProperty.call(e,"zoom")&&!uh(e.zoom)&&this.fitToBounds(void 0,void 0,!1)),e.center||uh(e.zoom)?this.setView(this.options.center,e.zoom,!1):"fitToGeometry"in e&&this.fitToBounds(void 0,void 0,!1),s&&this.chart.redraw(n)}zoomBy(e,s,n,h){let p=this.chart,f=this.projection.forward(this.center);if(typeof e=="number"){let g,b,A,R=this.zoom+e;if(n){let[D,G]=n,Z=this.getScale(),Q=D-p.plotLeft-p.plotWidth/2,st=G-p.plotTop-p.plotHeight/2;b=f[0]+Q/Z,A=f[1]+st/Z}if(typeof b=="number"&&typeof A=="number"){let D=1-Math.pow(2,this.zoom)/Math.pow(2,R),G=f[0]-b,Z=f[1]-A;f[0]-=G*D,f[1]+=Z*D,g=this.projection.inverse(f)}this.setView(s||g,R,void 0,h)}else this.fitToBounds(void 0,void 0,void 0,h)}}class om extends vd{constructor(e,s){if(super(e.chart,s),this.id=s.id,this.mapView=e,this.options=oc({center:[0,0]},e.options.insetOptions,s),this.allBounds=[],this.options.geoBounds){let n=e.projection.path(this.options.geoBounds);this.geoBoundsProjectedBox=Nh(n),this.geoBoundsProjectedPolygon=n.map(h=>[h[1]||0,h[2]||0])}}getField(e=!0){let s=this.hitZone;if(s){let n=e?this.padding:[0,0,0,0],h=s.coordinates[0],p=h.map(D=>D[0]),f=h.map(D=>D[1]),g=Math.min.apply(0,p)+n[3],b=Math.max.apply(0,p)-n[1],A=Math.min.apply(0,f)+n[0],R=Math.max.apply(0,f)-n[2];if(uh(g)&&uh(A))return{x:g,y:A,width:b-g,height:R-A}}return super.getField.call(this,e)}getHitZone(){let{chart:e,mapView:s,options:n}=this,{coordinates:h}=n.field||{};if(h){let p=h[0];if(n.units==="percent"){let f=n.relativeTo==="mapBoundingBox"&&s.getMapBBox()||oc(e.plotBox,{x:0,y:0});p=p.map(g=>[nc(`${g[0]}%`,f.width,f.x),nc(`${g[1]}%`,f.height,f.y)])}return{type:"Polygon",coordinates:[p]}}}getProjectedBounds(){return vd.compositeBounds(this.allBounds)}isInside(e){let{geoBoundsProjectedBox:s,geoBoundsProjectedPolygon:n}=this;return!!(s&&e.x>=s.x1&&e.x<=s.x2&&e.y>=s.y1&&e.y<=s.y2&&n&&Xc(e,n))}render(){let{chart:e,mapView:s,options:n}=this,h=n.borderPath||n.field;if(h&&s.group){let p=!0;this.border||(this.border=e.renderer.path().addClass("highcharts-mapview-inset-border").add(s.group),p=!1),e.styledMode||this.border.attr({stroke:n.borderColor,"stroke-width":n.borderWidth});let f=this.border.strokeWidth(),g=n.relativeTo==="mapBoundingBox"&&s.getMapBBox()||s.playingField,b=(h.coordinates||[]).reduce((A,R)=>R.reduce((D,G,Z)=>{let[Q,st]=G;return n.units==="percent"&&(Q=e.plotLeft+nc(`${Q}%`,g.width,g.x),st=e.plotTop+nc(`${st}%`,g.height,g.y)),Q=rm(Q,f),st=rm(st,f),D.push(Z===0?["M",Q,st]:["L",Q,st]),D},A),[]);this.border[p?"animate":"attr"]({d:b})}}destroy(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(e=>e())}setUpEvents(){}}let{animObject:Fx,stop:Uy}=Gr,{noop:nm}=ge,{splitPath:Vy}=Da,{column:ex,scatter:Hx}=ss.seriesTypes,{extend:Zy,find:$y,fireEvent:Gx,getNestedProperty:am,isArray:lm,defined:Wh,isNumber:za,isObject:ac,merge:Dl,objectEach:qy,pick:ix,splat:Ky}=Ke;class Xu extends Hx{constructor(){super(...arguments),this.processedData=[]}animate(e){let{chart:s,group:n}=this,h=Fx(this.options.animation);e?n.attr({translateX:s.plotLeft+s.plotWidth/2,translateY:s.plotTop+s.plotHeight/2,scaleX:.001,scaleY:.001}):n.animate({translateX:s.plotLeft,translateY:s.plotTop,scaleX:1,scaleY:1},h)}clearBounds(){this.points.forEach(e=>{delete e.bounds,delete e.insetIndex,delete e.projectedPath}),delete this.bounds}doFullTranslate(){return!!(this.isDirtyData||this.chart.isResizing||!this.hasRendered)}drawMapDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){let e=this,{chart:s,group:n,transformGroups:h=[]}=this,{mapView:p,renderer:f}=s;if(p){this.transformGroups=h,h[0]||(h[0]=f.g().add(n));for(let g=0,b=p.insets.length;g<b;++g)h[g+1]||h.push(f.g().add(n));this.doFullTranslate()&&(this.points.forEach(g=>{let{graphic:b}=g;g.group=h[typeof g.insetIndex=="number"?g.insetIndex+1:0],b&&b.parentGroup!==g.group&&b.add(g.group)}),ex.prototype.drawPoints.apply(this),this.points.forEach(g=>{var A;let b=g.graphic;if(b){let R=b.animate,D="";g.name&&(D+="highcharts-name-"+g.name.replace(/ /g,"-").toLowerCase()),(A=g.properties)!=null&&A["hc-key"]&&(D+=" highcharts-key-"+g.properties["hc-key"].toString().toLowerCase()),D&&b.addClass(D),s.styledMode&&b.css(this.pointAttribs(g,g.selected&&"select"||void 0)),b.attr({visibility:!g.visible&&(g.visible||g.isNull)?"hidden":"inherit"}),b.animate=function(G,Z,Q){var ot;let st=za(G["stroke-width"])&&!za(b["stroke-width"]),rt=za(b["stroke-width"])&&!za(G["stroke-width"]);if(st||rt){let gt=ix(e.getStrokeWidth(e.options),1)/(((ot=s.mapView)==null?void 0:ot.getScale())||1);st&&(b["stroke-width"]=gt),rt&&(G["stroke-width"]=gt)}return R.call(b,G,Z,rt?function(){b.element.removeAttribute("stroke-width"),delete b["stroke-width"],Q&&Q.apply(this,arguments)}:Q)}}})),h.forEach((g,b)=>{let A=(b===0?p:p.insets[b-1]).getSVGTransform(),R=ix(this.getStrokeWidth(this.options),1),D=A.scaleX,G=A.scaleY>0?1:-1,Z=Q=>{(e.points||[]).forEach(st=>{let rt,ot=st.graphic;ot!=null&&ot["stroke-width"]&&(rt=this.getStrokeWidth(st.options))&&ot.attr({"stroke-width":rt/Q})})};if(f.globalAnimation&&s.hasRendered&&p.allowTransformAnimation){let Q=Number(g.attr("translateX")),st=Number(g.attr("translateY")),rt=Number(g.attr("scaleX")),ot=(Ft,Wt)=>{let Ht=rt+(D-rt)*Wt.pos;g.attr({translateX:Q+(A.translateX-Q)*Wt.pos,translateY:st+(A.translateY-st)*Wt.pos,scaleX:Ht,scaleY:Ht*G,"stroke-width":R/Ht}),Z(Ht)},gt=Dl(Fx(f.globalAnimation)),vt=gt.step;gt.step=function(){vt&&vt.apply(this,arguments),ot.apply(this,arguments)},g.attr({animator:0}).animate({animator:1},gt,(function(){typeof f.globalAnimation!="boolean"&&f.globalAnimation.complete&&f.globalAnimation.complete({applyDrilldown:!0}),Gx(this,"mapZoomComplete")}).bind(this))}else Uy(g),g.attr(Dl(A,{"stroke-width":R/D})),Z(D)}),this.isDrilling||this.drawMapDataLabels()}}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){let{insets:e,projection:s}=this.chart.mapView,n=[];(this.points||[]).forEach(h=>{if(h.path||h.geometry){if(typeof h.path=="string"?h.path=Vy(h.path):lm(h.path)&&h.path[0]==="M"&&(h.path=this.chart.renderer.pathToSegments(h.path)),!h.bounds){let p=h.getProjectedBounds(s);if(p){h.labelrank=ix(h.labelrank,(p.x2-p.x1)*(p.y2-p.y1));let{midX:f,midY:g}=p;if(e&&za(f)&&za(g)){let b=$y(e,A=>A.isInside({x:f,y:g}));b&&(delete h.projectedPath,(p=h.getProjectedBounds(b.projection))&&b.allBounds.push(p),h.insetIndex=e.indexOf(b))}h.bounds=p}}h.bounds&&h.insetIndex===void 0&&n.push(h.bounds)}}),this.bounds=vd.compositeBounds(n)}return this.bounds}getStrokeWidth(e){let s=this.pointAttrToOptions;return e[(s==null?void 0:s["stroke-width"])||"borderWidth"]}hasData(){return!!this.dataTable.rowCount}pointAttribs(e,s){let{mapView:n,styledMode:h}=e.series.chart,p=h?this.colorAttribs(e):ex.prototype.pointAttribs.call(this,e,s),f=this.getStrokeWidth(e.options);if(s){let b=Dl(this.options.states&&this.options.states[s],e.options.states&&e.options.states[s]||{}),A=this.getStrokeWidth(b);Wh(A)&&(f=A),p.stroke=b.borderColor??e.color}f&&n&&(f/=n.getScale());let g=this.getStrokeWidth(this.options);return p.dashstyle&&n&&za(g)&&(f=g/n.getScale()),e.visible||(p.fill=this.options.nullColor),Wh(f)?p["stroke-width"]=f:delete p["stroke-width"],p["stroke-linecap"]=p["stroke-linejoin"]=this.options.linecap,p}updateData(){return!this.processedData&&super.updateData.apply(this,arguments)}setData(e,s=!0,n,h){delete this.bounds,super.setData(e,!1,void 0,h),this.processData(),this.generatePoints(),s&&this.chart.redraw(n)}dataColumnKeys(){return this.pointArrayMap}processData(){let e,s,n,h=this.options,p=h.data,f=this.chart,g=f.options.chart,b=this.joinBy,A=h.keys||this.pointArrayMap,R=[],D={},G=this.chart.mapView,Z=G&&(ac(h.mapData,!0)?G.getGeoMap(h.mapData):G.geoMap),Q=f.mapTransforms=g.mapTransforms||(Z==null?void 0:Z["hc-transform"])||f.mapTransforms;Q&&qy(Q,rt=>{rt.rotation&&(rt.cosAngle=Math.cos(rt.rotation),rt.sinAngle=Math.sin(rt.rotation))}),lm(h.mapData)?n=h.mapData:Z&&Z.type==="FeatureCollection"&&(this.mapTitle=Z.title,n=ge.geojson(Z,this.type,this)),this.processedData=[];let st=this.processedData;if(p){let rt;for(let ot=0,gt=p.length;ot<gt;++ot){if(za(rt=p[ot]))st[ot]={value:rt};else if(lm(rt)){let vt=0;st[ot]={},!h.keys&&rt.length>A.length&&typeof rt[0]=="string"&&(st[ot]["hc-key"]=rt[0],++vt);for(let Ft=0;Ft<A.length;++Ft,++vt)A[Ft]&&rt[vt]!==void 0&&(A[Ft].indexOf(".")>0?zu.prototype.setNestedProperty(st[ot],rt[vt],A[Ft]):st[ot][A[Ft]]=rt[vt])}else st[ot]=p[ot];b&&b[0]==="_i"&&(st[ot]._i=ot)}}if(n){this.mapData=n,this.mapMap={};for(let rt=0;rt<n.length;rt++)s=(e=n[rt]).properties,e._i=rt,b[0]&&s&&s[b[0]]&&(e[b[0]]=s[b[0]]),D[e[b[0]]]=e;if(this.mapMap=D,b[1]){let rt=b[1];st.forEach(ot=>{let gt=am(rt,ot);D[gt]&&R.push(D[gt])})}if(h.allAreas){if(b[1]){let ot=b[1];st.forEach(gt=>{R.push(am(ot,gt))})}let rt="|"+R.map(function(ot){return ot&&ot[b[0]]}).join("|")+"|";n.forEach(ot=>{b[0]&&rt.indexOf("|"+ot[b[0]]+"|")!==-1||st.push(Dl(ot,{value:null}))})}}this.dataTable.rowCount=st.length}setOptions(e){let s=super.setOptions(e),n=s.joinBy;return s.joinBy===null&&(n="_i"),n&&(this.joinBy=Ky(n),this.joinBy[1]||(this.joinBy[1]=this.joinBy[0])),s}translate(){let e=this.doFullTranslate(),s=this.chart.mapView,n=s==null?void 0:s.projection;if(this.chart.hasRendered&&(this.isDirtyData||!this.hasRendered)&&(this.processData(),this.generatePoints(),delete this.bounds,!s||s.userOptions.center||za(s.userOptions.zoom)||s.zoom!==s.minZoom?this.getProjectedBounds():s.fitToBounds(void 0,void 0,!1)),s){let h=s.getSVGTransform();this.points.forEach(p=>{let f=za(p.insetIndex)&&s.insets[p.insetIndex].getSVGTransform()||h;f&&p.bounds&&za(p.bounds.midX)&&za(p.bounds.midY)&&(p.plotX=p.bounds.midX*f.scaleX+f.translateX,p.plotY=p.bounds.midY*f.scaleY+f.translateY),e&&(p.shapeType="path",p.shapeArgs={d:zu.getProjectedPath(p,n)}),!p.hiddenInDataClass&&(p.projectedPath&&!p.projectedPath.length?p.setVisible(!1):p.visible||p.setVisible(!0))})}Gx(this,"afterTranslate")}update(e){var s;e.mapData&&((s=this.chart.mapView)==null||s.recommendMapView(this.chart,[this.chart.options.chart.map,...(this.chart.options.series||[]).map((n,h)=>h===this._i?e.mapData:n.mapData)],!0)),super.update.apply(this,arguments)}}Xu.defaultOptions=Dl(Hx.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){let{numberFormatter:_}=this.series.chart,{value:e}=this.point;return Kg(e)?_(e,-1):this.point.name||""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}),Zy(Xu.prototype,{type:"map",axisTypes:$s.seriesMembers.axisTypes,colorAttribs:$s.seriesMembers.colorAttribs,colorKey:$s.seriesMembers.colorKey,directTouch:!0,drawDataLabels:nm,drawGraph:nm,forceDL:!0,getCenter:Fc.getCenter,getExtremesFromAll:!0,getSymbol:nm,isCartesian:!1,parallelArrays:$s.seriesMembers.parallelArrays,pointArrayMap:$s.seriesMembers.pointArrayMap,pointClass:zu,preserveAspectRatio:!0,searchPoint:nm,trackerGroups:$s.seriesMembers.trackerGroups,useMapGeometry:!0}),$s.compose(Xu),ss.registerSeriesType("map",Xu);let Ep=Xu,{extend:tl,merge:sx}=Ke;class bd extends Ep{pointAttribs(e,s){let n=super.pointAttribs(e,s);return n.fill=this.options.fillColor,n}}bd.defaultOptions=sx(Ep.defaultOptions,{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}),tl(bd.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),ss.registerSeriesType("mapline",bd);let{scatter:Jy}=ss.seriesTypes,{isNumber:zl}=Ke;class Qy extends Jy.prototype.pointClass{isValid(){return!!(this.options.geometry||zl(this.x)&&zl(this.y)||zl(this.options.lon)&&zl(this.options.lat))}}let{noop:Xx}=ge,{map:$f,scatter:Yx}=ss.seriesTypes,{extend:jx,fireEvent:t0,isNumber:Rl,merge:Ux}=Ke;class hm extends Yx{constructor(){super(...arguments),this.clearBounds=$f.prototype.clearBounds}drawDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(e){let s=this.chart.mapView;if(s){let{geometry:n,lon:h,lat:p}=e,f=n&&n.type==="Point"&&n.coordinates;if(Rl(h)&&Rl(p)&&(f=[h,p]),f)return s.lonLatToProjectedUnits({lon:f[0],lat:f[1]})}}translate(){let e=this.chart.mapView;if(this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),e){let s=e.getSVGTransform(),{hasCoordinates:n}=e.projection;this.points.forEach(h=>{let p,{x:f,y:g}=h,b=Rl(h.insetIndex)&&e.insets[h.insetIndex].getSVGTransform()||s,A=this.projectPoint(h.options)||h.properties&&this.projectPoint(h.properties);if(A?(f=A.x,g=A.y):h.bounds&&(f=h.bounds.midX,g=h.bounds.midY,b&&Rl(f)&&Rl(g)&&(h.plotX=f*b.scaleX+b.translateX,h.plotY=g*b.scaleY+b.translateY,p=!0)),Rl(f)&&Rl(g)){if(!p){let R=e.projectedUnitsToPixels({x:f,y:g});h.plotX=R.x,h.plotY=n?R.y:this.chart.plotHeight-R.y}}else h.y=h.plotX=h.plotY=void 0;h.isInside=this.isPointInside(h),h.zone=this.zones.length?h.getZone():void 0})}t0(this,"afterTranslate")}}hm.defaultOptions=Ux(Yx.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}),Bn.prototype.symbols.mapmarker=(_,e,s,n,h)=>{let p,f,g=h&&h.context==="legend";g?(p=_+s/2,f=e+n):h&&typeof h.anchorX=="number"&&typeof h.anchorY=="number"?(p=h.anchorX,f=h.anchorY):(p=_+s/2,f=e+n/2,e-=n);let b=g?n/3:n/2;return[["M",p,f],["C",p,f,p-b,e+1.5*b,p-b,e+b],["A",b,b,1,1,1,p+b,e+b],["C",p+b,e+1.5*b,p,f,p,f],["Z"]]},jx(hm.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:Qy,searchPoint:Xx,useMapGeometry:!0}),ss.registerSeriesType("mappoint",hm);let rx={borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0},{noop:e0}=ge,{arrayMax:i0,arrayMin:Yc,isNumber:Vx,merge:wd,pick:Nl,stableSort:Zx}=Ke,ox=class{constructor(_,e){this.setState=e0,this.init(_,e)}init(_,e){this.options=_,this.visible=!0,this.chart=e.chart,this.legend=e}addToLegend(_){_.splice(this.options.legendIndex,0,this)}drawLegendSymbol(_){let e,s=Nl(_.options.itemDistance,20),n=this.legendItem||{},h=this.options,p=h.ranges,f=h.connectorDistance;if(!p||!p.length||!Vx(p[0].value)){_.options.bubbleLegend.autoRanges=!0;return}Zx(p,function(R,D){return D.value-R.value}),this.ranges=p,this.setOptions(),this.render();let g=this.getMaxLabelSize(),b=this.ranges[0].radius,A=2*b;e=(e=f-b+g.width)>0?e:0,this.maxLabel=g,this.movementX=h.labels.align==="left"?e:0,n.labelWidth=A+e+s,n.labelHeight=A+g.height/2}setOptions(){let _=this.ranges,e=this.options,s=this.chart.series[e.seriesIndex],n=this.legend.baseline,h={zIndex:e.zIndex,"stroke-width":e.borderWidth},p={zIndex:e.zIndex,"stroke-width":e.connectorWidth},f={align:this.legend.options.rtl||e.labels.align==="left"?"right":"left",zIndex:e.zIndex},g=s.options.marker.fillOpacity,b=this.chart.styledMode;_.forEach(function(A,R){b||(h.stroke=Nl(A.borderColor,e.borderColor,s.color),h.fill=A.color||e.color,h.fill||(h.fill=s.color,h["fill-opacity"]=g??1),p.stroke=Nl(A.connectorColor,e.connectorColor,s.color)),_[R].radius=this.getRangeRadius(A.value),_[R]=wd(_[R],{center:_[0].radius-_[R].radius+n}),b||wd(!0,_[R],{bubbleAttribs:wd(h),connectorAttribs:wd(p),labelAttribs:f})},this)}getRangeRadius(_){let e=this.options,s=this.options.seriesIndex,n=this.chart.series[s],h=e.ranges[0].value,p=e.ranges[e.ranges.length-1].value,f=e.minSize,g=e.maxSize;return n.getRadius.call(this,p,h,f,g,_)}render(){let _=this.legendItem||{},e=this.chart.renderer,s=this.options.zThreshold;for(let n of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),_.symbol=e.g("bubble-legend"),_.label=e.g("bubble-legend-item").css(this.legend.itemStyle||{}),_.symbol.translateX=0,_.symbol.translateY=0,_.symbol.add(_.label),_.label.add(_.group),this.ranges))n.value>=s&&this.renderRange(n);this.hideOverlappingLabels()}renderRange(_){let e=this.ranges[0],s=this.legend,n=this.options,h=n.labels,p=this.chart,f=p.series[n.seriesIndex],g=p.renderer,b=this.symbols,A=b.labels,R=_.center,D=Math.abs(_.radius),G=n.connectorDistance||0,Z=h.align,Q=s.options.rtl,st=n.borderWidth,rt=n.connectorWidth,ot=e.radius||0,gt=R-D-st/2+rt/2,vt=(gt%1?1:.5)-(rt%2?0:.5),Ft=g.styledMode,Wt=Q||Z==="left"?-G:G;Z==="center"&&(Wt=0,n.connectorDistance=0,_.labelAttribs.align="center"),b.bubbleItems.push(g.circle(ot,R+vt,D).attr(Ft?{}:_.bubbleAttribs).addClass((Ft?"highcharts-color-"+f.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(n.className||"")).add(this.legendItem.symbol)),b.connectors.push(g.path(g.crispLine([["M",ot,gt],["L",ot+Wt,gt]],n.connectorWidth)).attr(Ft?{}:_.connectorAttribs).addClass((Ft?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(n.connectorClassName||"")).add(this.legendItem.symbol));let Ht=g.text(this.formatLabel(_)).attr(Ft?{}:_.labelAttribs).css(Ft?{}:h.style).addClass("highcharts-bubble-legend-labels "+(n.labels.className||"")).add(this.legendItem.symbol),ce={x:ot+Wt+n.labels.x,y:gt+n.labels.y+.4*Ht.getBBox().height};Ht.attr(ce),A.push(Ht),Ht.placed=!0,Ht.alignAttr=ce}getMaxLabelSize(){let _,e;return this.symbols.labels.forEach(function(s){e=s.getBBox(!0),_=_?e.width>_.width?e:_:e}),_||{}}formatLabel(_){let e=this.options,s=e.labels.formatter,n=e.labels.format,{numberFormatter:h}=this.chart;return n?hr.format(n,_,this.chart):s?s.call(_):h(_.value,1)}hideOverlappingLabels(){let _=this.chart,e=this.options.labels.allowOverlap,s=this.symbols;!e&&s&&(_.hideOverlappingLabels(s.labels),s.labels.forEach(function(n,h){n.newOpacity?n.newOpacity!==n.oldOpacity&&s.connectors[h].show():s.connectors[h].hide()}))}getRanges(){let _=this.legend.bubbleLegend,e=_.chart.series,s=_.options.ranges,n,h,p=Number.MAX_VALUE,f=-Number.MAX_VALUE;return e.forEach(function(g){g.isBubble&&!g.ignoreSeries&&(h=g.getColumn("z").filter(Vx)).length&&(p=Nl(g.options.zMin,Math.min(p,Math.max(Yc(h),g.options.displayNegative===!1?g.options.zThreshold:-Number.MAX_VALUE))),f=Nl(g.options.zMax,Math.max(f,i0(h))))}),n=p===f?[{value:f}]:[{value:p},{value:(p+f)/2},{value:f,autoRanges:!0}],s.length&&s[0].radius&&n.reverse(),n.forEach(function(g,b){s&&s[b]&&(n[b]=wd(s[b],g))}),n}predictBubbleSizes(){let _=this.chart,e=_.legend.options,s=e.floating,n=e.layout==="horizontal",h=n?_.legend.lastLineHeight:0,p=_.plotSizeX,f=_.plotSizeY,g=_.series[this.options.seriesIndex],b=g.getPxExtremes(),A=Math.ceil(b.minPxSize),R=Math.ceil(b.maxPxSize),D=Math.min(f,p),G,Z=g.options.maxSize;return s||!/%$/.test(Z)?G=R:(G=(D+h)*(Z=parseFloat(Z))/100/(Z/100+1),(n&&f-G>=p||!n&&p-G>=f)&&(G=R)),[A,Math.ceil(G)]}updateRanges(_,e){let s=this.legend.options.bubbleLegend;s.minSize=_,s.maxSize=e,s.ranges=this.getRanges()}correctSizes(){let _=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,e.maxPxSize),_.render())}},{setOptions:$x}=Ni,{composed:nx}=ge,{addEvent:ax,objectEach:s0,pushUnique:qx,wrap:Kx}=Ke;function Jx(_,e,s){let n,h,p,f=this.legend,g=lx(this)>=0;f&&f.options.enabled&&f.bubbleLegend&&f.options.bubbleLegend.autoRanges&&g?(n=f.bubbleLegend.options,h=f.bubbleLegend.predictBubbleSizes(),f.bubbleLegend.updateRanges(h[0],h[1]),n.placed||(f.group.placed=!1,f.allItems.forEach(b=>{(p=b.legendItem||{}).group&&(p.group.translateY=void 0)})),f.render(),n.placed||(this.getMargins(),this.axes.forEach(b=>{b.setScale(),b.updateNames(),s0(b.ticks,function(A){A.isNew=!0,A.isNewLabel=!0})}),this.getMargins()),n.placed=!0,_.call(this,e,s),f.bubbleLegend.correctSizes(),ty(f,Qx(f))):(_.call(this,e,s),f&&f.options.enabled&&f.bubbleLegend&&(f.render(),ty(f,Qx(f))))}function lx(_){let e=_.series,s=0;for(;s<e.length;){if(e[s]&&e[s].isBubble&&e[s].visible&&e[s].dataTable.rowCount)return s;s++}return-1}function Qx(_){let e=_.allItems,s=[],n=e.length,h,p,f,g=0,b=0;for(g=0;g<n;g++)if(p=e[g].legendItem||{},f=(e[g+1]||{}).legendItem||{},p.labelHeight&&(e[g].itemHeight=p.labelHeight),e[g]===e[n-1]||p.y!==f.y){for(s.push({height:0}),h=s[s.length-1];b<=g;b++)e[b].itemHeight>h.height&&(h.height=e[b].itemHeight);h.step=g}return s}function hx(_){let e=this.bubbleLegend,s=this.options,n=s.bubbleLegend,h=lx(this.chart);e&&e.ranges&&e.ranges.length&&(n.ranges.length&&(n.autoRanges=!!n.ranges[0].autoRanges),this.destroyItem(e)),h>=0&&s.enabled&&n.enabled&&(n.seriesIndex=h,this.bubbleLegend=new ox(n,this),this.bubbleLegend.addToLegend(_.allItems))}function r0(_){let e;if(_.defaultPrevented)return!1;let s=_.legendItem,n=this.chart,h=s.visible;this&&this.bubbleLegend&&(s.visible=!h,s.ignoreSeries=h,e=lx(n)>=0,this.bubbleLegend.visible!==e&&(this.update({bubbleLegend:{enabled:e}}),this.bubbleLegend.visible=e),s.visible=h)}function ty(_,e){let s=_.allItems,n=_.options.rtl,h,p,f,g,b=0;s.forEach((A,R)=>{(g=A.legendItem||{}).group&&(h=g.group.translateX||0,p=g.y||0,((f=A.movementX)||n&&A.ranges)&&(f=n?h-A.options.maxSize/2:h+f,g.group.attr({translateX:f})),R>e[b].step&&b++,g.group.attr({translateY:Math.round(p+e[b].height/2)}),g.y=p+e[b].height/2)})}let o0={compose:function(_,e){qx(nx,"Series.BubbleLegend")&&($x({legend:{bubbleLegend:rx}}),Kx(_.prototype,"drawChartBox",Jx),ax(e,"afterGetAllItems",hx),ax(e,"itemClick",r0))}},{seriesTypes:{scatter:{prototype:{pointClass:ey}}}}=ss,{extend:iy}=Ke;class dx extends ey{haloPath(e){let s=(e&&this.marker&&this.marker.radius||0)+e;if(this.series.chart.inverted){let n=this.pos()||[0,0],{xAxis:h,yAxis:p,chart:f}=this.series,g=2*s;return f.renderer.symbols.circle(((h==null?void 0:h.len)||0)-n[1]-s,((p==null?void 0:p.len)||0)-n[0]-s,g,g)}return pt.prototype.haloPath.call(this,s)}}iy(dx.prototype,{ttBelow:!1});let cx=dx,{composed:n0,noop:px}=ge,{series:a0,seriesTypes:{column:{prototype:l0},scatter:jc}}=ss,{addEvent:dm,arrayMax:ux,arrayMin:fx,clamp:h0,extend:cm,isNumber:Ip,merge:d0,pick:Bp,pushUnique:c0}=Ke;function p0(){let _=this.len,{coll:e,isXAxis:s,min:n}=this,h=(this.max||0)-(n||0),p=0,f=_,g=_/h,b;(e==="xAxis"||e==="yAxis")&&(this.series.forEach(A=>{if(A.bubblePadding&&A.reserveSpace()){this.allowZoomOutside=!0,b=!0;let R=A.getColumn(s?"x":"y");if(s&&((A.onPoint||A).getRadii(0,0,A),A.onPoint&&(A.radii=A.onPoint.radii)),h>0){let D=R.length;for(;D--;)if(Ip(R[D])&&this.dataMin<=R[D]&&R[D]<=this.max){let G=A.radii&&A.radii[D]||0;p=Math.min((R[D]-n)*g-G,p),f=Math.max((R[D]-n)*g+G,f)}}}}),b&&h>0&&!this.logarithmic&&(f-=_,g*=(_+Math.max(0,p)-Math.min(f,_))/_,[["min","userMin",p],["max","userMax",f]].forEach(A=>{Bp(this.options[A[0]],this[A[1]])===void 0&&(this[A[0]]+=A[2]/g)})))}function u0(){var f;let{ticks:_,tickPositions:e,dataMin:s=0,dataMax:n=0,categories:h}=this,p=this.options.type;if((h!=null&&h.length||p==="category")&&this.series.find(g=>g.bubblePadding)){let g=e.length;for(;g--;){let b=_[e[g]],A=b.pos||0;(A>n||A<s)&&((f=b.label)==null||f.hide())}}}class Yu extends jc{static compose(e,s,n){o0.compose(s,n),c0(n0,"Series.Bubble")&&(dm(e,"foundExtremes",p0),dm(e,"afterRender",u0))}animate(e){!e&&this.points.length<this.options.animationLimit&&this.points.forEach(function(s){let{graphic:n,plotX:h=0,plotY:p=0}=s;n&&n.width&&(this.hasRendered||n.attr({x:h,y:p,width:1,height:1}),n.animate(this.markerAttribs(s),this.options.animation))},this)}getRadii(){let e=this.getColumn("z"),s=this.getColumn("y"),n=[],h,p,f,g=this.chart.bubbleZExtremes,{minPxSize:b,maxPxSize:A}=this.getPxExtremes();if(!g){let R,D=Number.MAX_VALUE,G=-Number.MAX_VALUE;this.chart.series.forEach(Z=>{if(Z.bubblePadding&&Z.reserveSpace()){let Q=(Z.onPoint||Z).getZExtremes();Q&&(D=Math.min(Bp(D,Q.zMin),Q.zMin),G=Math.max(Bp(G,Q.zMax),Q.zMax),R=!0)}}),R?(g={zMin:D,zMax:G},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(p=0,h=e.length;p<h;p++)f=e[p],n.push(this.getRadius(g.zMin,g.zMax,b,A,f,s&&s[p]));this.radii=n}getRadius(e,s,n,h,p,f){let g=this.options,b=g.sizeBy!=="width",A=g.zThreshold,R=s-e,D=.5;if(f===null||p===null)return null;if(Ip(p)){if(g.sizeByAbsoluteValue&&(p=Math.abs(p-A),s=R=Math.max(s-A,Math.abs(e-A)),e=0),p<e)return n/2-1;R>0&&(D=(p-e)/R)}return b&&D>=0&&(D=Math.sqrt(D)),Math.ceil(n+D*(h-n))/2}hasData(){return!!this.dataTable.rowCount}markerAttribs(e,s){let n=super.markerAttribs(e,s),{height:h=0,width:p=0}=n;return this.chart.inverted?cm(n,{x:(e.plotX||0)-p/2,y:(e.plotY||0)-h/2}):n}pointAttribs(e,s){let n=this.options.marker,h=n==null?void 0:n.fillOpacity,p=a0.prototype.pointAttribs.call(this,e,s);return p["fill-opacity"]=h??1,p}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:e,options:s,radii:n}=this,{minPxSize:h}=this.getPxExtremes(),p=e.length;for(;p--;){let f=e[p],g=n?n[p]:0;this.zoneAxis==="z"&&(f.negative=(f.z||0)<(s.zThreshold||0)),Ip(g)&&g>=h/2?(f.marker=cm(f.marker,{radius:g,width:2*g,height:2*g}),f.dlBox={x:f.plotX-g,y:f.plotY-g,width:2*g,height:2*g}):(f.shapeArgs=f.plotY=f.dlBox=void 0,f.isInside=!1)}}getPxExtremes(){let e=Math.min(this.chart.plotWidth,this.chart.plotHeight),s=p=>{let f;return typeof p=="string"&&(f=/%$/.test(p),p=parseInt(p,10)),f?e*p/100:p},n=s(Bp(this.options.minSize,8)),h=Math.max(s(Bp(this.options.maxSize,"20%")),n);return{minPxSize:n,maxPxSize:h}}getZExtremes(){let e=this.options,s=this.getColumn("z").filter(Ip);if(s.length){let n=Bp(e.zMin,h0(fx(s),e.displayNegative===!1?e.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),h=Bp(e.zMax,ux(s));if(Ip(n)&&Ip(h))return{zMin:n,zMax:h}}}searchKDTree(e,s,n,h=px,p=px){return h=(f,g,b)=>{var Z,Q;let A=f[b]||0,R=g[b]||0,D,G=!1;return A===R?D=f.index>g.index?f:g:A<0&&R<0?(D=A-(((Z=f.marker)==null?void 0:Z.radius)||0)>=R-(((Q=g.marker)==null?void 0:Q.radius)||0)?f:g,G=!0):D=A<R?f:g,[D,G]},p=(f,g,b)=>!b&&f>g||f<g,super.searchKDTree(e,s,n,h,p)}}Yu.defaultOptions=d0(jc.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:_}=this.series.chart,{z:e}=this.point;return Ip(e)?_(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),cm(Yu.prototype,{alignDataLabel:l0.alignDataLabel,applyZones:px,bubblePadding:!0,isBubble:!0,keysAffectYAxis:["y"],pointArrayMap:["y","z"],pointClass:cx,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),dm(Yu,"updatedData",_=>{delete _.target.chart.bubbleZExtremes}),dm(Yu,"remove",_=>{delete _.target.chart.bubbleZExtremes}),ss.registerSeriesType("bubble",Yu);let pm=Yu,{seriesTypes:{map:{prototype:{pointClass:{prototype:sy}}}}}=ss,{extend:f0}=Ke;class ry extends cx{isValid(){return typeof this.z=="number"}}f0(ry.prototype,{applyOptions:sy.applyOptions,getProjectedBounds:sy.getProjectedBounds});let{seriesTypes:{map:{prototype:ju},mappoint:{prototype:oy}}}=ss,{extend:ny,merge:ay}=Ke;class um extends pm{constructor(){super(...arguments),this.clearBounds=ju.clearBounds}searchPoint(e,s){return this.searchKDTree({plotX:e.chartX-this.chart.plotLeft,plotY:e.chartY-this.chart.plotTop},s,e)}translate(){oy.translate.call(this),this.getRadii(),this.translateBubble()}}um.defaultOptions=ay(pm.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),ny(um.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:ju.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:ry,processData:ju.processData,projectPoint:oy.projectPoint,kdAxisArray:["plotX","plotY"],setData:ju.setData,setOptions:ju.setOptions,updateData:ju.updateData,useMapGeometry:!0,xyFromShape:!0}),ss.registerSeriesType("mapbubble",um);let{scatter:{prototype:{pointClass:g0}}}=ss.seriesTypes,{clamp:fm,defined:m0,extend:ly,pick:x0}=Ke;class hy extends g0{applyOptions(e,s){return(this.isNull||this.value===null)&&delete this.color,super.applyOptions(e,s),this.formatPrefix=this.isNull||this.value===null?"null":"point",this}getCellAttributes(){let e=this.series,s=e.options,n=(s.colsize||1)/2,h=(s.rowsize||1)/2,p=e.xAxis,f=e.yAxis,g=this.options.marker||e.options.marker,b=e.pointPlacementToXValue(),A=x0(this.pointPadding,s.pointPadding,0),R={x1:fm(Math.round(p.len-p.translate(this.x-n,!1,!0,!1,!0,-b)),-p.len,2*p.len),x2:fm(Math.round(p.len-p.translate(this.x+n,!1,!0,!1,!0,-b)),-p.len,2*p.len),y1:fm(Math.round(f.translate(this.y-h,!1,!0,!1,!0)),-f.len,2*f.len),y2:fm(Math.round(f.translate(this.y+h,!1,!0,!1,!0)),-f.len,2*f.len)};for(let D of[["width","x"],["height","y"]]){let G=D[0],Z=D[1],Q=Z+"1",st=Z+"2",rt=Math.abs(R[Q]-R[st]),ot=g&&g.lineWidth||0,gt=Math.abs(R[Q]+R[st])/2,vt=g&&g[G];if(m0(vt)&&vt<rt){let Ft=vt/2+ot/2;R[Q]=gt-Ft,R[st]=gt+Ft}A&&((Z==="x"&&p.reversed||Z==="y"&&!f.reversed)&&(Q=st,st=Z+"1"),R[Q]+=A,R[st]-=A)}return R}haloPath(e){if(!e)return[];let{x:s=0,y:n=0,width:h=0,height:p=0}=this.shapeArgs||{};return[["M",s-e,n-e],["L",s-e,n+p+e],["L",s+h+e,n+p+e],["L",s+h+e,n-e],["Z"]]}isValid(){return this.value!==1/0&&this.value!==-1/0}}ly(hy.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});let{isNumber:Uu}=Ke,{doc:Vu}=ge,{defined:y0,pick:gm}=Ke,{series:Zu,seriesTypes:{column:Wl,scatter:Dp}}=ss,{prototype:{symbols:mm}}=Bn,{addEvent:yl,extend:v0,fireEvent:b0,isNumber:xm,merge:gx,pick:kd}=Ke,{colorFromPoint:dy,getContext:cy}={colorFromPoint:function(_,e){let s=e.series.colorAxis;if(s){let n=s.toColor(_||0,e).split(")")[0].split("(")[1].split(",").map(h=>gm(parseFloat(h),parseInt(h,10)));return n[3]=255*gm(n[3],1),y0(_)&&e.visible||(n[3]=0),n}return[0,0,0,0]},getContext:function(_){let{canvas:e,context:s}=_;return e&&s?(s.clearRect(0,0,e.width,e.height),s):(_.canvas=Vu.createElement("canvas"),_.context=_.canvas.getContext("2d",{willReadFrequently:!0})||void 0,_.context)}};class $u extends Dp{constructor(){super(...arguments),this.valueMax=NaN,this.valueMin=NaN,this.isDirtyCanvas=!0}drawPoints(){let e=this,s=e.options,n=s.interpolation,h=s.marker||{};if(n){let{image:p,chart:f,xAxis:g,yAxis:b}=e,{reversed:A=!1,len:R}=g,{reversed:D=!1,len:G}=b,Z={width:R,height:G};if(!p||e.isDirtyData||e.isDirtyCanvas){let Q=cy(e),{canvas:st,options:{colsize:rt=1,rowsize:ot=1},points:gt,points:{length:vt}}=e,Ft=f.colorAxis&&f.colorAxis[0];if(st&&Q&&Ft){let{min:Wt,max:Ht}=g.getExtremes(),{min:ce,max:Jt}=b.getExtremes(),ie=Ht-Wt,Pe=Jt-ce,Re=Math.round(ie/rt/8*8),Ye=Math.round(Pe/ot/8*8),[ei,Si]=[[Re,Re/ie,A,"ceil"],[Ye,Ye/Pe,!D,"floor"]].map(([fs,gs,Ko,vs])=>Ko?qs=>Math[vs](fs-gs*qs):qs=>Math[vs](gs*qs)),yi=st.width=Re+1,_i=yi*(st.height=Ye+1),ui=(vt-1)/_i,Yi=new Uint8ClampedArray(4*_i),Cs=(fs,gs)=>4*Math.ceil(yi*Si(gs-ce)+ei(fs-Wt));e.buildKDTree();for(let fs=0;fs<_i;fs++){let gs=gt[Math.ceil(ui*fs)],{x:Ko,y:vs}=gs;Yi.set(dy(gs.value,gs),Cs(Ko,vs))}Q.putImageData(new ImageData(Yi,yi),0,0),p?p.attr({...Z,href:st.toDataURL("image/png",1)}):(e.directTouch=!1,e.image=f.renderer.image(st.toDataURL("image/png",1)).attr(Z).add(e.group))}e.isDirtyCanvas=!1}else(p.width!==R||p.height!==G)&&p.attr(Z)}else(h.enabled||e._hasPointMarkers)&&(Zu.prototype.drawPoints.call(e),e.points.forEach(p=>{p.graphic&&(p.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(p)),p.value===null&&p.graphic.addClass("highcharts-null-point"))}))}getExtremes(){let{dataMin:e,dataMax:s}=Zu.prototype.getExtremes.call(this,this.getColumn("value"));return xm(e)&&(this.valueMin=e),xm(s)&&(this.valueMax=s),Zu.prototype.getExtremes.call(this)}getValidPoints(e,s){return Zu.prototype.getValidPoints.call(this,e,s,!0)}hasData(){return!!this.dataTable.rowCount}init(){super.init.apply(this,arguments);let e=this.options;e.pointRange=kd(e.pointRange,e.colsize||1),this.yAxis.axisPointRange=e.rowsize||1,mm.ellipse=mm.circle,e.marker&&xm(e.borderRadius)&&(e.marker.r=e.borderRadius)}markerAttribs(e,s){var h,p;let n=e.shapeArgs||{};if(e.hasImage)return{x:e.plotX,y:e.plotY};if(s&&s!=="normal"){let f=e.options.marker||{},g=this.options.marker||{},b=((h=g.states)==null?void 0:h[s])||{},A=((p=f.states)==null?void 0:p[s])||{},R=(A.width||b.width||n.width||0)+(A.widthPlus||b.widthPlus||0),D=(A.height||b.height||n.height||0)+(A.heightPlus||b.heightPlus||0);return{x:(n.x||0)+((n.width||0)-R)/2,y:(n.y||0)+((n.height||0)-D)/2,width:R,height:D}}return n}pointAttribs(e,s){var R,D,G,Z,Q,st;let n=Zu.prototype.pointAttribs.call(this,e,s),h=this.options||{},p=this.chart.options.plotOptions||{},f=p.series||{},g=p.heatmap||{},b=(e==null?void 0:e.options.borderColor)||h.borderColor||g.borderColor||f.borderColor,A=(e==null?void 0:e.options.borderWidth)||h.borderWidth||g.borderWidth||f.borderWidth||n["stroke-width"];if(n.stroke=((R=e==null?void 0:e.marker)==null?void 0:R.lineColor)||((D=h.marker)==null?void 0:D.lineColor)||b||this.color,n["stroke-width"]=A,s&&s!=="normal"){let rt=gx((G=h.states)==null?void 0:G[s],(Q=(Z=h.marker)==null?void 0:Z.states)==null?void 0:Q[s],((st=e==null?void 0:e.options.states)==null?void 0:st[s])||{});n.fill=rt.color||De.parse(n.fill).brighten(rt.brightness||0).get(),n.stroke=rt.lineColor||n.stroke}return n}translate(){var f;let{borderRadius:e,marker:s}=this.options,n=(s==null?void 0:s.symbol)||"rect",h=mm[n]?n:"rect",p=["circle","square"].indexOf(h)!==-1;for(let g of(this.generatePoints(),this.points)){let b=g.getCellAttributes(),A=Math.min(b.x1,b.x2),R=Math.min(b.y1,b.y2),D=Math.max(Math.abs(b.x2-b.x1),0),G=Math.max(Math.abs(b.y2-b.y1),0);if(g.hasImage=(((f=g.marker)==null?void 0:f.symbol)||n).indexOf("url")===0,p){let Z=Math.abs(D-G);A=Math.min(b.x1,b.x2)+(D<G?0:Z/2),R=Math.min(b.y1,b.y2)+(D<G?Z/2:0),D=G=Math.min(D,G)}g.hasImage&&(g.marker={width:D,height:G}),g.plotX=g.clientX=(b.x1+b.x2)/2,g.plotY=(b.y1+b.y2)/2,g.shapeType="path",g.shapeArgs=gx(!0,{x:A,y:R,width:D,height:G},{d:mm[h](A,R,D,G,{r:xm(e)?e:0})})}b0(this,"afterTranslate")}}$u.defaultOptions=gx(Dp.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){let{numberFormatter:_}=this.series.chart,{value:e}=this.point;return Uu(e)?_(e,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}),yl($u,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0,this.drawPoints()}),v0($u.prototype,{axisTypes:$s.seriesMembers.axisTypes,colorKey:$s.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,keysAffectYAxis:["y"],parallelArrays:$s.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:hy,specialGroup:"group",trackerGroups:$s.seriesMembers.trackerGroups,alignDataLabel:Wl.prototype.alignDataLabel,colorAttribs:$s.seriesMembers.colorAttribs,getSymbol:Zu.prototype.getSymbol}),$s.compose($u),ss.registerSeriesType("heatmap",$u),ge.ColorMapComposition=$s,ge.MapChart=ge.MapChart||Da,ge.MapNavigation=ge.MapNavigation||To,ge.MapView=ge.MapView||vd,ge.Projection=ge.Projection||cn,ge.mapChart=ge.Map=ge.MapChart.mapChart,ge.maps=ge.MapChart.maps,ge.geojson=Qg.geojson,ge.topo2geo=Qg.topo2geo,Qg.compose(ge.Chart),um.compose(ge.Axis,ge.Chart,ge.Legend),To.compose(Da,ge.Pointer,ge.SVGRenderer),vd.compose(Da),ge.product="Highmaps";let qu=ge;return Wn.default})())}(by)),by.exports}Yw();var wy={exports:{}},jw=wy.exports,dv;function Uw(){return dv||(dv=1,function(tt,dt){(function(at,It){tt.exports=It(at._Highcharts,at._Highcharts.Chart,at._Highcharts.Axis,at._Highcharts.Color,at._Highcharts.SeriesRegistry,at._Highcharts.RendererRegistry,at._Highcharts.SVGRenderer,at._Highcharts.SVGElement,at._Highcharts.Templating,at._Highcharts.Point,at._Highcharts.StackItem)})(typeof window>"u"?jw:window,(at,It,Et,jt,te,me,ee,ae,ue,le,oe)=>(()=>{let Ce,Be,We;var di,Ve,xi,si,zi,Gi,Ds={28:ct=>{ct.exports=ae},184:ct=>{ct.exports=oe},260:ct=>{ct.exports=le},512:ct=>{ct.exports=te},532:ct=>{ct.exports=Et},540:ct=>{ct.exports=ee},608:ct=>{ct.exports=me},620:ct=>{ct.exports=jt},944:ct=>{ct.exports=at},960:ct=>{ct.exports=It},984:ct=>{ct.exports=ue}},qr={};function ke(ct){var O=qr[ct];if(O!==void 0)return O.exports;var Y=qr[ct]={exports:{}};return Ds[ct](Y,Y.exports,ke),Y.exports}ke.n=ct=>{var O=ct&&ct.__esModule?()=>ct.default:()=>ct;return ke.d(O,{a:O}),O},ke.d=(ct,O)=>{for(var Y in O)ke.o(O,Y)&&!ke.o(ct,Y)&&Object.defineProperty(ct,Y,{enumerable:!0,get:O[Y]})},ke.o=(ct,O)=>Object.prototype.hasOwnProperty.call(ct,O);var Kr={};ke.d(Kr,{default:()=>Jp});var co=ke(944),ii=ke.n(co);function Xs(ct,O,Y,V){return[["M",ct,O+V/2],["L",ct+Y,O],["L",ct,O+V/2],["L",ct+Y,O+V]]}function Wn(ct,O,Y,V){return Xs(ct,O,Y/2,V)}function ge(ct,O,Y,V){return[["M",ct+Y,O],["L",ct,O+V/2],["L",ct+Y,O+V],["Z"]]}function On(ct,O,Y,V){return ge(ct,O,Y/2,V)}let zs={compose:function(ct){let O=ct.prototype.symbols;O.arrow=Xs,O["arrow-filled"]=ge,O["arrow-filled-half"]=On,O["arrow-half"]=Wn,O["triangle-left"]=ge,O["triangle-left-half"]=On}},{defined:so,error:Zt,merge:Jo,objectEach:ri}=ii(),ks=ii().deg2rad,rr=Math.max,Ts=Math.min,_s=class{constructor(ct,O,Y){this.init(ct,O,Y)}init(ct,O,Y){this.fromPoint=ct,this.toPoint=O,this.options=Y,this.chart=ct.series.chart,this.pathfinder=this.chart.pathfinder}renderPath(ct,O){let Y=this.chart,V=Y.styledMode,et=this.pathfinder,pt={},ft=this.graphics&&this.graphics.path;et.group||(et.group=Y.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(Y.seriesGroup)),et.group.translate(Y.plotLeft,Y.plotTop),!(ft&&ft.renderer)&&(ft=Y.renderer.path().add(et.group),V||ft.attr({opacity:0})),ft.attr(O),pt.d=ct,V||(pt.opacity=1),ft.animate(pt),this.graphics=this.graphics||{},this.graphics.path=ft}addMarker(ct,O,Y){let V,et,pt,ft,kt,Pt,Rt,St=this.fromPoint.series.chart,Dt=St.pathfinder,Ct=St.renderer,At=ct==="start"?this.fromPoint:this.toPoint,Tt=At.getPathfinderAnchorPoint(O);O.enabled&&((Rt=ct==="start"?Y[1]:Y[Y.length-2])&&Rt[0]==="M"||Rt[0]==="L")&&(Pt={x:Rt[1],y:Rt[2]},et=At.getRadiansToVector(Pt,Tt),V=At.getMarkerVector(et,O.radius,Tt),O.width&&O.height?(ft=O.width,kt=O.height):ft=kt=2*O.radius,this.graphics=this.graphics||{},pt={x:V.x-ft/2,y:V.y-kt/2,width:ft,height:kt,rotation:-et/ks,rotationOriginX:V.x,rotationOriginY:V.y},this.graphics[ct]?this.graphics[ct].animate(pt):(this.graphics[ct]=Ct.symbol(O.symbol).addClass("highcharts-point-connecting-path-"+ct+"-marker highcharts-color-"+this.fromPoint.colorIndex).attr(pt).add(Dt.group),Ct.styledMode||this.graphics[ct].attr({fill:O.color||this.fromPoint.color,stroke:O.lineColor,"stroke-width":O.lineWidth,opacity:0}).animate({opacity:1},At.series.options.animation)))}getPath(ct){let O=this.pathfinder,Y=this.chart,V=O.algorithms[ct.type],et=O.chartObstacles;return typeof V!="function"?(Zt('"'+ct.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(V.requiresObstacles&&!et&&(et=O.chartObstacles=O.getChartObstacles(ct),Y.options.connectors.algorithmMargin=ct.algorithmMargin,O.chartObstacleMetrics=O.getObstacleMetrics(et)),V(this.fromPoint.getPathfinderAnchorPoint(ct.startMarker),this.toPoint.getPathfinderAnchorPoint(ct.endMarker),Jo({chartObstacles:et,lineObstacles:O.lineObstacles||[],obstacleMetrics:O.chartObstacleMetrics,hardBounds:{xMin:0,xMax:Y.plotWidth,yMin:0,yMax:Y.plotHeight},obstacleOptions:{margin:ct.algorithmMargin},startDirectionX:O.getAlgorithmStartDirection(ct.startMarker)},ct)))}render(){let ct=this.fromPoint,O=ct.series,Y=O.chart,V=Y.pathfinder,et={},pt=Jo(Y.options.connectors,O.options.connectors,ct.options.connectors,this.options);!Y.styledMode&&(et.stroke=pt.lineColor||ct.color,et["stroke-width"]=pt.lineWidth,pt.dashStyle&&(et.dashstyle=pt.dashStyle)),et.class="highcharts-point-connecting-path highcharts-color-"+ct.colorIndex,so((pt=Jo(et,pt)).marker.radius)||(pt.marker.radius=Ts(rr(Math.ceil((pt.algorithmMargin||8)/2)-1,1),5));let ft=this.getPath(pt),kt=ft.path;ft.obstacles&&(V.lineObstacles=V.lineObstacles||[],V.lineObstacles=V.lineObstacles.concat(ft.obstacles)),this.renderPath(kt,et),this.addMarker("start",Jo(pt.marker,pt.startMarker),kt),this.addMarker("end",Jo(pt.marker,pt.endMarker),kt)}destroy(){this.graphics&&(ri(this.graphics,function(ct){ct.destroy()}),delete this.graphics)}},{composed:ms}=ii(),{addEvent:Xi,merge:po,pushUnique:uo,wrap:zr}=ii(),fo={color:"#ccd3ff",width:2,label:{format:"%[abdYHM]",formatter:function(ct,O){return this.axis.chart.time.dateFormat(O||"",ct,!0)},rotation:0,style:{fontSize:"0.7em"}}};function Ks(){let ct=this.options,O=ct.currentDateIndicator;if(O){let Y=typeof O=="object"?po(fo,O):po(fo);Y.value=Date.now(),Y.className="highcharts-current-date-indicator",ct.plotLines||(ct.plotLines=[]),ct.plotLines.push(Y)}}function ro(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}function wi(ct,O){let Y=this.options;return Y&&Y.className&&Y.className.indexOf("highcharts-current-date-indicator")!==-1&&Y.label&&typeof Y.label.formatter=="function"?(Y.value=Date.now(),Y.label.formatter.call(this,Y.value,Y.label.format)):ct.call(this,O)}var Go=ke(960),or=ke.n(Go);let{defaultOptions:Qo}=ii(),{isArray:Fn,merge:go,splat:Ke}=ii();class oo extends or(){init(O,Y){let V,et=O.xAxis,pt=O.yAxis;O.xAxis=O.yAxis=void 0;let ft=go(!0,{chart:{type:"gantt"},title:{text:""},legend:{enabled:!1},navigator:{series:{type:"gantt"},yAxis:{type:"category"}}},O,{isGantt:!0});O.xAxis=et,O.yAxis=pt,ft.xAxis=(Fn(O.xAxis)?O.xAxis:[O.xAxis||{},{}]).map((kt,Pt)=>{var Rt,St,Dt;return Pt===1&&(V=0),go({grid:{borderColor:((St=(Rt=Qo.xAxis)==null?void 0:Rt.grid)==null?void 0:St.borderColor)||"#cccccc",enabled:!0},opposite:((Dt=Qo.xAxis)==null?void 0:Dt.opposite)??kt.opposite??!0,linkedTo:V},kt,{type:"datetime"})}),ft.yAxis=Ke(O.yAxis||{}).map(kt=>{var Pt,Rt;return go({grid:{borderColor:((Rt=(Pt=Qo.yAxis)==null?void 0:Pt.grid)==null?void 0:Rt.borderColor)||"#cccccc",enabled:!0},staticScale:50,reversed:!0,type:kt.categories?kt.type:"treegrid"},kt)}),super.init(ft,Y)}}(function(ct){ct.ganttChart=function(O,Y,V){return new ct(O,Y,V)}})(oo||(oo={}));let Po=oo;var mo=ke(532),ti=ke.n(mo);let{isTouchDevice:fr}=ii(),{addEvent:Co,merge:un,pick:tn}=ii(),Na=[];function ol(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function Ji(){var pt;let ct,O,Y,V=this.legend,et=this.navigator;if(et){ct=V&&V.options,O=et.xAxis,Y=et.yAxis;let{scrollbarHeight:ft,scrollButtonSize:kt}=et;this.inverted?(et.left=et.opposite?this.chartWidth-ft-et.height:this.spacing[3]+ft,et.top=this.plotTop+kt):(et.left=tn(O.left,this.plotLeft+kt),et.top=et.navigatorOptions.top||this.chartHeight-et.height-ft-(((pt=this.scrollbar)==null?void 0:pt.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(ct&&ct.verticalAlign==="bottom"&&ct.layout!=="proximate"&&ct.enabled&&!ct.floating?V.legendHeight+tn(ct.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),O&&Y&&(this.inverted?O.options.left=Y.options.left=et.left:O.options.top=Y.options.top=et.top,O.setAxisSize(),Y.setAxisSize())}}function En(ct){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new Ce(this),tn(ct.redraw,!0)&&this.redraw(ct.animation))}function _o(){let ct=this.options;(ct.navigator.enabled||ct.scrollbar.enabled)&&(this.scroller=this.navigator=new Ce(this))}function gr(){let ct=this.options,O=ct.navigator,Y=ct.rangeSelector;if((O&&O.enabled||Y&&Y.enabled)&&(!fr&&this.zooming.type==="x"||fr&&this.zooming.pinchType==="x"))return!1}function He(ct){let O=ct.navigator;if(O&&ct.xAxis[0]){let Y=ct.xAxis[0].getExtremes();O.render(Y.min,Y.max)}}function Ut(ct){let O=ct.options.navigator||{},Y=ct.options.scrollbar||{};!this.navigator&&!this.scroller&&(O.enabled||Y.enabled)&&(un(!0,this.options.navigator,O),un(!0,this.options.scrollbar,Y),delete ct.options.navigator,delete ct.options.scrollbar)}let be={compose:function(ct,O){if(ii().pushUnique(Na,ct)){let Y=ct.prototype;Ce=O,Y.callbacks.push(He),Co(ct,"afterAddSeries",ol),Co(ct,"afterSetChartSize",Ji),Co(ct,"afterUpdate",En),Co(ct,"beforeRender",_o),Co(ct,"beforeShowResetZoom",gr),Co(ct,"update",Ut)}}},{isTouchDevice:Ee}=ii(),{addEvent:_e,correctFloat:Me,defined:Le,isNumber:gi,pick:Li}=ii();function $e(){this.navigatorAxis||(this.navigatorAxis=new os(this))}function ji(ct){let O,Y=this.chart,V=Y.options,et=V.navigator,pt=this.navigatorAxis,ft=Y.zooming.pinchType,kt=V.rangeSelector,Pt=Y.zooming.type;if(this.isXAxis&&(et!=null&&et.enabled||kt!=null&&kt.enabled)){if(Pt==="y"&&ct.trigger==="zoom")O=!1;else if((ct.trigger==="zoom"&&Pt==="xy"||Ee&&ft==="xy")&&this.options.range){let Rt=pt.previousZoom;Le(ct.min)?pt.previousZoom=[this.min,this.max]:Rt&&(ct.min=Rt[0],ct.max=Rt[1],pt.previousZoom=void 0)}}O!==void 0&&ct.preventDefault()}class os{static compose(O){O.keepProps.includes("navigatorAxis")||(O.keepProps.push("navigatorAxis"),_e(O,"init",$e),_e(O,"setExtremes",ji))}constructor(O){this.axis=O}destroy(){this.axis=void 0}toFixedRange(O,Y,V,et){let pt=this.axis,ft=(pt.pointRange||0)/2,kt=Li(V,pt.translate(O,!0,!pt.horiz)),Pt=Li(et,pt.translate(Y,!0,!pt.horiz));return Le(V)||(kt=Me(kt+ft)),Le(et)||(Pt=Me(Pt-ft)),gi(kt)&&gi(Pt)||(kt=Pt=void 0),{min:kt,max:Pt}}}var Ni=ke(620),Js=ke.n(Ni),ns=ke(512),Ii=ke.n(ns);let{parse:Di}=Js(),{seriesTypes:Ui}=Ii(),Ns={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:Di("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:Ui.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{defined:ar,isNumber:Ls,pick:De}=ii(),Ar={rect:function(ct,O,Y,V,et){return et!=null&&et.r?function(pt,ft,kt,Pt,Rt){let St=(Rt==null?void 0:Rt.r)||0;return[["M",pt+St,ft],["L",pt+kt-St,ft],["A",St,St,0,0,1,pt+kt,ft+St],["L",pt+kt,ft+Pt-St],["A",St,St,0,0,1,pt+kt-St,ft+Pt],["L",pt+St,ft+Pt],["A",St,St,0,0,1,pt,ft+Pt-St],["L",pt,ft+St],["A",St,St,0,0,1,pt+St,ft],["Z"]]}(ct,O,Y,V,et):[["M",ct,O],["L",ct+Y,O],["L",ct+Y,O+V],["L",ct,O+V],["Z"]]}},{relativeLength:fn}=ii(),Hn={"navigator-handle":function(ct,O,Y,V,et={}){let pt=et.width?et.width/2:Y,ft=fn(et.borderRadius||0,Math.min(2*pt,V));return[["M",-1.5,(V=et.height||V)/2-3.5],["L",-1.5,V/2+4.5],["M",.5,V/2-3.5],["L",.5,V/2+4.5],...Ar.rect(-pt-1,.5,2*pt+1,V,{r:ft})]}};var Ys=ke(608),Fr=ke.n(Ys);let{defined:mh}=ii(),{defaultOptions:Xo}=ii(),{composed:Hl}=ii(),{getRendererType:xo}=Fr(),{setFixedRange:Hr}={setFixedRange:function(ct){let O=this.xAxis[0];mh(O.dataMax)&&mh(O.dataMin)&&ct?this.fixedRange=Math.min(ct,O.dataMax-O.dataMin):this.fixedRange=ct}},{addEvent:xh,extend:Xh,pushUnique:Wa}=ii();function bl(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let nl={compose:function(ct,O,Y){os.compose(O),Wa(Hl,"Navigator")&&(ct.prototype.setFixedRange=Hr,Xh(xo().prototype.symbols,Hn),Xh(Xo,{navigator:Ns}),xh(Y,"afterUpdate",bl))}},{composed:Gr}=ii(),{addEvent:wl,defined:Gn,pick:al,pushUnique:Jr}=ii();(function(ct){let O;function Y(ft){var Rt,St;let kt=al((Rt=ft.options)==null?void 0:Rt.min,ft.min),Pt=al((St=ft.options)==null?void 0:St.max,ft.max);return{axisMin:kt,axisMax:Pt,scrollMin:Gn(ft.dataMin)?Math.min(kt,ft.min,ft.dataMin,al(ft.threshold,1/0)):kt,scrollMax:Gn(ft.dataMax)?Math.max(Pt,ft.max,ft.dataMax,al(ft.threshold,-1/0)):Pt}}function V(){let ft=this.scrollbar,kt=ft&&!ft.options.opposite,Pt=this.horiz?2:kt?3:1;ft&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[Pt]+=ft.size+(ft.options.margin||0))}function et(){var kt,Pt;let ft=this;(Pt=(kt=ft.options)==null?void 0:kt.scrollbar)!=null&&Pt.enabled&&(ft.options.scrollbar.vertical=!ft.horiz,ft.options.startOnTick=ft.options.endOnTick=!1,ft.scrollbar=new O(ft.chart.renderer,ft.options.scrollbar,ft.chart),wl(ft.scrollbar,"changed",function(Rt){let St,Dt,{axisMin:Ct,axisMax:At,scrollMin:Tt,scrollMax:Yt}=Y(ft),Gt=Yt-Tt;if(Gn(Ct)&&Gn(At))if(ft.horiz&&!ft.reversed||!ft.horiz&&ft.reversed?(St=Tt+Gt*this.to,Dt=Tt+Gt*this.from):(St=Tt+Gt*(1-this.from),Dt=Tt+Gt*(1-this.to)),this.shouldUpdateExtremes(Rt.DOMType)){let re=Rt.DOMType!=="mousemove"&&Rt.DOMType!=="touchmove"&&void 0;ft.setExtremes(Dt,St,!0,re,Rt)}else this.setRange(this.from,this.to)}))}function pt(){let ft,kt,Pt,{scrollMin:Rt,scrollMax:St}=Y(this),Dt=this.scrollbar,Ct=this.axisTitleMargin+(this.titleOffset||0),At=this.chart.scrollbarsOffsets,Tt=this.options.margin||0;if(Dt&&At){if(this.horiz)this.opposite||(At[1]+=Ct),Dt.position(this.left,this.top+this.height+2+At[1]-(this.opposite?Tt:0),this.width,this.height),this.opposite||(At[1]+=Tt),ft=1;else{let Yt;this.opposite&&(At[0]+=Ct),Yt=Dt.options.opposite?this.left+this.width+2+At[0]-(this.opposite?0:Tt):this.opposite?0:Tt,Dt.position(Yt,this.top,this.width,this.height),this.opposite&&(At[0]+=Tt),ft=0}if(At[ft]+=Dt.size+(Dt.options.margin||0),isNaN(Rt)||isNaN(St)||!Gn(this.min)||!Gn(this.max)||this.dataMin===this.dataMax)Dt.setRange(0,1);else if(this.min===this.max){let Yt=this.pointRange/(this.dataMax+1);kt=Yt*this.min,Pt=Yt*(this.max+1),Dt.setRange(kt,Pt)}else kt=(this.min-Rt)/(St-Rt),Pt=(this.max-Rt)/(St-Rt),this.horiz&&!this.reversed||!this.horiz&&this.reversed?Dt.setRange(kt,Pt):Dt.setRange(1-Pt,1-kt)}}ct.compose=function(ft,kt){Jr(Gr,"Axis.Scrollbar")&&(O=kt,wl(ft,"afterGetOffset",V),wl(ft,"afterInit",et),wl(ft,"afterRender",pt))}})(di||(di={}));let Xn=di,gn={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:kl}=ii(),{composed:Qs}=ii(),{addEvent:Fa,correctFloat:hs,crisp:js,defined:Yn,destroyObjectProperties:Ha,extend:Es,fireEvent:mn,merge:Qi,pick:lr,pushUnique:tr,removeEvent:Ml}=ii();class Pr{static compose(O){Xn.compose(O,Pr),tr(Qs,"Scrollbar")&&Es(kl,{scrollbar:gn})}static swapXY(O,Y){return Y&&O.forEach(V=>{let et,pt=V.length;for(let ft=0;ft<pt;ft+=2)typeof(et=V[ft+1])=="number"&&(V[ft+1]=V[ft+2],V[ft+2]=et)}),O}constructor(O,Y,V){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(O,Y,V)}addEvents(){let O=this.options.inverted?[1,0]:[0,1],Y=this.scrollbarButtons,V=this.scrollbarGroup.element,et=this.track.element,pt=this.mouseDownHandler.bind(this),ft=this.mouseMoveHandler.bind(this),kt=this.mouseUpHandler.bind(this),Pt=[[Y[O[0]].element,"click",this.buttonToMinClick.bind(this)],[Y[O[1]].element,"click",this.buttonToMaxClick.bind(this)],[et,"click",this.trackClick.bind(this)],[V,"mousedown",pt],[V.ownerDocument,"mousemove",ft],[V.ownerDocument,"mouseup",kt],[V,"touchstart",pt],[V.ownerDocument,"touchmove",ft],[V.ownerDocument,"touchend",kt]];Pt.forEach(function(Rt){Fa.apply(null,Rt)}),this._events=Pt}buttonToMaxClick(O){let Y=(this.to-this.from)*lr(this.options.step,.2);this.updatePosition(this.from+Y,this.to+Y),mn(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:O})}buttonToMinClick(O){let Y=hs(this.to-this.from)*lr(this.options.step,.2);this.updatePosition(hs(this.from-Y),hs(this.to-Y)),mn(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:O})}cursorToScrollbarPosition(O){let Y=this.options,V=Y.minWidth>this.calculatedWidth?Y.minWidth:0;return{chartX:(O.chartX-this.x-this.xOffset)/(this.barWidth-V),chartY:(O.chartY-this.y-this.yOffset)/(this.barWidth-V)}}destroy(){let O=this,Y=O.chart.scroller;O.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(V){O[V]&&O[V].destroy&&(O[V]=O[V].destroy())}),Y&&O===Y.scrollbar&&(Y.scrollbar=null,Ha(Y.scrollbarButtons))}drawScrollbarButton(O){let Y=this.renderer,V=this.scrollbarButtons,et=this.options,pt=this.size,ft=Y.g().add(this.group);if(V.push(ft),et.buttonsEnabled){let kt=Y.rect().addClass("highcharts-scrollbar-button").add(ft);this.chart.styledMode||kt.attr({stroke:et.buttonBorderColor,"stroke-width":et.buttonBorderWidth,fill:et.buttonBackgroundColor}),kt.attr(kt.crisp({x:-.5,y:-.5,width:pt,height:pt,r:et.buttonBorderRadius},kt.strokeWidth()));let Pt=Y.path(Pr.swapXY([["M",pt/2+(O?-1:1),pt/2-3],["L",pt/2+(O?-1:1),pt/2+3],["L",pt/2+(O?2:-2),pt/2]],et.vertical)).addClass("highcharts-scrollbar-arrow").add(V[O]);this.chart.styledMode||Pt.attr({fill:et.buttonArrowColor})}}init(O,Y,V){this.scrollbarButtons=[],this.renderer=O,this.userOptions=Y,this.options=Qi(gn,kl.scrollbar,Y),this.options.margin=lr(this.options.margin,10),this.chart=V,this.size=lr(this.options.size,this.options.height),Y.enabled&&(this.render(),this.addEvents())}mouseDownHandler(O){var et;let Y=((et=this.chart.pointer)==null?void 0:et.normalize(O))||O,V=this.cursorToScrollbarPosition(Y);this.chartX=V.chartX,this.chartY=V.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(O){var ft;let Y,V=((ft=this.chart.pointer)==null?void 0:ft.normalize(O))||O,et=this.options.vertical?"chartY":"chartX",pt=this.initPositions||[];this.grabbedCenter&&(!O.touches||O.touches[0][et]!==0)&&(Y=this.cursorToScrollbarPosition(V)[et]-this[et],this.hasDragged=!0,this.updatePosition(pt[0]+Y,pt[1]+Y),this.hasDragged&&mn(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:O.type,DOMEvent:O}))}mouseUpHandler(O){this.hasDragged&&mn(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:O.type,DOMEvent:O}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(O,Y,V,et){let{buttonsEnabled:pt,margin:ft=0,vertical:kt}=this.options,Pt=this.rendered?"animate":"attr",Rt=et,St=0;this.group.show(),this.x=O,this.y=Y+this.trackBorderWidth,this.width=V,this.height=et,this.xOffset=Rt,this.yOffset=St,kt?(this.width=this.yOffset=V=St=this.size,this.xOffset=Rt=0,this.yOffset=St=pt?this.size:0,this.barWidth=et-(pt?2*V:0),this.x=O+=ft):(this.height=et=this.size,this.xOffset=Rt=pt?this.size:0,this.barWidth=V-(pt?2*et:0),this.y=this.y+ft),this.group[Pt]({translateX:O,translateY:this.y}),this.track[Pt]({width:V,height:et}),this.scrollbarButtons[1][Pt]({translateX:kt?0:V-Rt,translateY:kt?et-St:0})}removeEvents(){this._events.forEach(function(O){Ml.apply(null,O)}),this._events.length=0}render(){let O=this.renderer,Y=this.options,V=this.size,et=this.chart.styledMode,pt=O.g("scrollbar").attr({zIndex:Y.zIndex}).hide().add();this.group=pt,this.track=O.rect().addClass("highcharts-scrollbar-track").attr({r:Y.trackBorderRadius||0,height:V,width:V}).add(pt),et||this.track.attr({fill:Y.trackBackgroundColor,stroke:Y.trackBorderColor,"stroke-width":Y.trackBorderWidth});let ft=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-js(0,ft),y:-js(0,ft)}),this.scrollbarGroup=O.g().add(pt),this.scrollbar=O.rect().addClass("highcharts-scrollbar-thumb").attr({height:V-ft,width:V-ft,r:Y.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=O.path(Pr.swapXY([["M",-3,V/4],["L",-3,2*V/3],["M",0,V/4],["L",0,2*V/3],["M",3,V/4],["L",3,2*V/3]],Y.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),et||(this.scrollbar.attr({fill:Y.barBackgroundColor,stroke:Y.barBorderColor,"stroke-width":Y.barBorderWidth}),this.scrollbarRifles.attr({stroke:Y.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-js(0,this.scrollbarStrokeWidth),-js(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(O,Y){let V,et,pt=this.options,ft=pt.vertical,kt=pt.minWidth,Pt=this.barWidth,Rt=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!Yn(Pt))return;let St=Pt*Math.min(Y,1);V=Math.ceil(Pt*(O=Math.max(O,0))),this.calculatedWidth=et=hs(St-V),et<kt&&(V=(Pt-kt+et)*O,et=kt);let Dt=Math.floor(V+this.xOffset+this.yOffset),Ct=et/2-.5;this.from=O,this.to=Y,ft?(this.scrollbarGroup[Rt]({translateY:Dt}),this.scrollbar[Rt]({height:et}),this.scrollbarRifles[Rt]({translateY:Ct}),this.scrollbarTop=Dt,this.scrollbarLeft=0):(this.scrollbarGroup[Rt]({translateX:Dt}),this.scrollbar[Rt]({width:et}),this.scrollbarRifles[Rt]({translateX:Ct}),this.scrollbarLeft=Dt,this.scrollbarTop=0),et<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),pt.showFull===!1&&(O<=0&&Y>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(O){return lr(this.options.liveRedraw,ii().svg&&!ii().isTouchDevice&&!this.chart.boosted)||O==="mouseup"||O==="touchend"||!Yn(O)}trackClick(O){var ft;let Y=((ft=this.chart.pointer)==null?void 0:ft.normalize(O))||O,V=this.to-this.from,et=this.y+this.scrollbarTop,pt=this.x+this.scrollbarLeft;this.options.vertical&&Y.chartY>et||!this.options.vertical&&Y.chartX>pt?this.updatePosition(this.from+V,this.to+V):this.updatePosition(this.from-V,this.to-V),mn(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:O})}update(O){this.destroy(),this.init(this.chart.renderer,Qi(!0,this.options,O),this.chart)}updatePosition(O,Y){Y>1&&(O=hs(1-hs(Y-O)),Y=1),O<0&&(Y=hs(Y-O),O=0),this.from=O,this.to=Y}}Pr.defaultOptions=gn;var yh=ke(540),ll=ke.n(yh);let{defaultOptions:en}=ii(),{isTouchDevice:_r}=ii(),{prototype:{symbols:br}}=ll(),{addEvent:Os,clamp:ua,correctFloat:Yo,defined:jo,destroyObjectProperties:jn,erase:hr,extend:Un,find:hl,fireEvent:Ga,isArray:Lr,isNumber:Ws,merge:xn,pick:no,removeEvent:ts,splat:yo}=ii();function Ms(ct,...O){let Y=[].filter.call(O,Ws);if(Y.length)return Math[ct].apply(0,Y)}class sn{static compose(O,Y,V){be.compose(O,sn),nl.compose(O,Y,V)}constructor(O){this.isDirty=!1,this.scrollbarHeight=0,this.init(O)}drawHandle(O,Y,V,et){let pt=this.navigatorOptions.handles.height;this.handles[Y][et](V?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(O,10)+.5-pt)}:{translateX:Math.round(this.left+parseInt(O,10)),translateY:Math.round(this.top+this.height/2-pt/2-1)})}drawOutline(O,Y,V,et){let pt=this.navigatorOptions.maskInside,ft=this.outline.strokeWidth(),kt=ft/2,Pt=ft%2/2,Rt=this.scrollButtonSize,St=this.size,Dt=this.top,Ct=this.height,At=Dt-kt,Tt=Dt+Ct,Yt=this.left,Gt,re;V?(Gt=Dt+Y+Pt,Y=Dt+O+Pt,re=[["M",Yt+Ct,Dt-Rt-Pt],["L",Yt+Ct,Gt],["L",Yt,Gt],["M",Yt,Y],["L",Yt+Ct,Y],["L",Yt+Ct,Dt+St+Rt]],pt&&re.push(["M",Yt+Ct,Gt-kt],["L",Yt+Ct,Y+kt])):(Yt-=Rt,O+=Yt+Rt-Pt,Y+=Yt+Rt-Pt,re=[["M",Yt,At],["L",O,At],["L",O,Tt],["M",Y,Tt],["L",Y,At],["L",Yt+St+2*Rt,At]],pt&&re.push(["M",O-kt,At],["L",Y+kt,At])),this.outline[et]({d:re})}drawMasks(O,Y,V,et){let pt,ft,kt,Pt,Rt=this.left,St=this.top,Dt=this.height;V?(kt=[Rt,Rt,Rt],Pt=[St,St+O,St+Y],ft=[Dt,Dt,Dt],pt=[O,Y-O,this.size-Y]):(kt=[Rt,Rt+O,Rt+Y],Pt=[St,St,St],ft=[O,Y-O,this.size-Y],pt=[Dt,Dt,Dt]),this.shades.forEach((Ct,At)=>{Ct[et]({x:kt[At],y:Pt[At],width:ft[At],height:pt[At]})})}renderElements(){var Rt;let O=this,Y=O.navigatorOptions,V=Y.maskInside,et=O.chart,pt=et.inverted,ft=et.renderer,kt={cursor:pt?"ns-resize":"ew-resize"},Pt=O.navigatorGroup??(O.navigatorGroup=ft.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!V,V,!V].forEach((St,Dt)=>{let Ct=O.shades[Dt]??(O.shades[Dt]=ft.rect().addClass("highcharts-navigator-mask"+(Dt===1?"-inside":"-outside")).add(Pt));et.styledMode||(Ct.attr({fill:St?Y.maskFill:"rgba(0,0,0,0)"}),Dt===1&&Ct.css(kt))}),O.outline||(O.outline=ft.path().addClass("highcharts-navigator-outline").add(Pt)),et.styledMode||O.outline.attr({"stroke-width":Y.outlineWidth,stroke:Y.outlineColor}),(Rt=Y.handles)==null?void 0:Rt.enabled){let St=Y.handles,{height:Dt,width:Ct}=St;[0,1].forEach(At=>{var Yt;let Tt=St.symbols[At];if(O.handles[At]&&O.handles[At].symbolUrl===Tt){if(!O.handles[At].isImg&&O.handles[At].symbolName!==Tt){let Gt=br[Tt].call(br,-Ct/2-1,0,Ct,Dt);O.handles[At].attr({d:Gt}),O.handles[At].symbolName=Tt}}else(Yt=O.handles[At])==null||Yt.destroy(),O.handles[At]=ft.symbol(Tt,-Ct/2-1,0,Ct,Dt,St),O.handles[At].attr({zIndex:7-At}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][At]).add(Pt),O.addMouseEvents();et.inverted&&O.handles[At].attr({rotation:90,rotationOriginX:Math.floor(-Ct/2),rotationOriginY:(Dt+Ct)/2}),et.styledMode||O.handles[At].attr({fill:St.backgroundColor,stroke:St.borderColor,"stroke-width":St.lineWidth,width:St.width,height:St.height,x:-Ct/2-1,y:0}).css(kt)})}}update(O,Y=!1){var pt;let V=this.chart,et=V.options.chart.inverted!==((pt=V.scrollbar)==null?void 0:pt.options.vertical);if(xn(!0,V.options.navigator,O),this.navigatorOptions=V.options.navigator||{},this.setOpposite(),jo(O.enabled)||et)return this.destroy(),this.navigatorEnabled=O.enabled||this.navigatorEnabled,this.init(V);if(this.navigatorEnabled&&(this.isDirty=!0,O.adaptToUpdatedData===!1&&this.baseSeries.forEach(ft=>{ts(ft,"updatedData",this.updatedDataHandler)},this),O.adaptToUpdatedData&&this.baseSeries.forEach(ft=>{ft.eventsToUnbind.push(Os(ft,"updatedData",this.updatedDataHandler))},this),(O.series||O.baseSeries)&&this.setBaseSeries(void 0,!1),O.height||O.xAxis||O.yAxis)){this.height=O.height??this.height;let ft=this.getXAxisOffsets();this.xAxis.update({...O.xAxis,offsets:ft,[V.inverted?"width":"height"]:this.height,[V.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...O.yAxis,[V.inverted?"width":"height"]:this.height},!1)}Y&&V.redraw()}render(O,Y,V,et){let pt=this.chart,ft=this.xAxis,kt=ft.pointRange||0,Pt=ft.navigatorAxis.fake?pt.xAxis[0]:ft,Rt=this.navigatorEnabled,St=this.rendered,Dt=pt.inverted,Ct=pt.xAxis[0].minRange,At=pt.xAxis[0].options.maxRange,Tt=this.scrollButtonSize,Yt,Gt,re,Se=this.scrollbarHeight,Fe,xe;if(this.hasDragged&&!jo(V))return;if(this.isDirty&&this.renderElements(),O=Yo(O-kt/2),Y=Yo(Y+kt/2),!Ws(O)||!Ws(Y))if(St)V=0,et=no(ft.width,Pt.width);else return;this.left=no(ft.left,pt.plotLeft+Tt+(Dt?pt.plotWidth:0));let Oe=this.size=Fe=no(ft.len,(Dt?pt.plotHeight:pt.plotWidth)-2*Tt);Yt=Dt?Se:Fe+2*Tt,V=no(V,ft.toPixels(O,!0)),et=no(et,ft.toPixels(Y,!0)),Ws(V)&&Math.abs(V)!==1/0||(V=0,et=Yt);let Ze=ft.toValue(V,!0),Te=ft.toValue(et,!0),Ge=Math.abs(Yo(Te-Ze));Ge<Ct?this.grabbedLeft?V=ft.toPixels(Te-Ct-kt,!0):this.grabbedRight&&(et=ft.toPixels(Ze+Ct+kt,!0)):jo(At)&&Yo(Ge-kt)>At&&(this.grabbedLeft?V=ft.toPixels(Te-At-kt,!0):this.grabbedRight&&(et=ft.toPixels(Ze+At+kt,!0))),this.zoomedMax=ua(Math.max(V,et),0,Oe),this.zoomedMin=ua(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(V,et),0,Oe),this.range=this.zoomedMax-this.zoomedMin,Oe=Math.round(this.zoomedMax);let Ue=Math.round(this.zoomedMin);Rt&&(this.navigatorGroup.attr({visibility:"inherit"}),xe=St&&!this.hasDragged?"animate":"attr",this.drawMasks(Ue,Oe,Dt,xe),this.drawOutline(Ue,Oe,Dt,xe),this.navigatorOptions.handles.enabled&&(this.drawHandle(Ue,0,Dt,xe),this.drawHandle(Oe,1,Dt,xe))),this.scrollbar&&(Dt?(re=this.top-Tt,Gt=this.left-Se+(Rt||!Pt.opposite?0:(Pt.titleOffset||0)+Pt.axisTitleMargin),Se=Fe+2*Tt):(re=this.top+(Rt?this.height:-Se),Gt=this.left-Tt),this.scrollbar.position(Gt,re,Yt,Se),this.scrollbar.setRange(this.zoomedMin/(Fe||1),this.zoomedMax/(Fe||1))),this.rendered=!0,this.isDirty=!1,Ga(this,"afterRender")}addMouseEvents(){let O=this,Y=O.chart,V=Y.container,et=[],pt,ft;O.mouseMoveHandler=pt=function(kt){O.onMouseMove(kt)},O.mouseUpHandler=ft=function(kt){O.onMouseUp(kt)},(et=O.getPartsEvents("mousedown")).push(Os(Y.renderTo,"mousemove",pt),Os(V.ownerDocument,"mouseup",ft),Os(Y.renderTo,"touchmove",pt),Os(V.ownerDocument,"touchend",ft)),et.concat(O.getPartsEvents("touchstart")),O.eventsToUnbind=et,O.series&&O.series[0]&&et.push(Os(O.series[0].xAxis,"foundExtremes",function(){Y.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(O){let Y=this,V=[];return["shades","handles"].forEach(function(et){Y[et].forEach(function(pt,ft){V.push(Os(pt.element,O,function(kt){Y[et+"Mousedown"](kt,ft)}))})}),V}shadesMousedown(O,Y){var Tt;O=((Tt=this.chart.pointer)==null?void 0:Tt.normalize(O))||O;let V=this.chart,et=this.xAxis,pt=this.zoomedMin,ft=this.size,kt=this.range,Pt=this.left,Rt=O.chartX,St,Dt,Ct,At;V.inverted&&(Rt=O.chartY,Pt=this.top),Y===1?(this.grabbedCenter=Rt,this.fixedWidth=kt,this.dragOffset=Rt-pt):(At=Rt-Pt-kt/2,Y===0?At=Math.max(0,At):Y===2&&At+kt>=ft&&(At=ft-kt,this.reversedExtremes?(At-=kt,Dt=this.getUnionExtremes().dataMin):St=this.getUnionExtremes().dataMax),At!==pt&&(this.fixedWidth=kt,jo((Ct=et.navigatorAxis.toFixedRange(At,At+kt,Dt,St)).min)&&Ga(this,"setRange",{min:Math.min(Ct.min,Ct.max),max:Math.max(Ct.min,Ct.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(O,Y){var ft;O=((ft=this.chart.pointer)==null?void 0:ft.normalize(O))||O;let V=this.chart,et=V.xAxis[0],pt=this.reversedExtremes;Y===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=pt?et.min:et.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=pt?et.max:et.min),V.setFixedRange(void 0)}onMouseMove(O){var St;let Y=this,V=Y.chart,et=Y.navigatorSize,pt=Y.range,ft=Y.dragOffset,kt=V.inverted,Pt=Y.left,Rt;(!O.touches||O.touches[0].pageX!==0)&&(Rt=(O=((St=V.pointer)==null?void 0:St.normalize(O))||O).chartX,kt&&(Pt=Y.top,Rt=O.chartY),Y.grabbedLeft?(Y.hasDragged=!0,Y.render(0,0,Rt-Pt,Y.otherHandlePos)):Y.grabbedRight?(Y.hasDragged=!0,Y.render(0,0,Y.otherHandlePos,Rt-Pt)):Y.grabbedCenter&&(Y.hasDragged=!0,Rt<ft?Rt=ft:Rt>et+ft-pt&&(Rt=et+ft-pt),Y.render(0,0,Rt-ft,Rt-ft+pt)),Y.hasDragged&&Y.scrollbar&&no(Y.scrollbar.options.liveRedraw,!_r&&!this.chart.boosted)&&(O.DOMType=O.type,setTimeout(function(){Y.onMouseUp(O)},0)))}onMouseUp(O){let Y,V,et,pt,ft,kt,Pt=this.chart,Rt=this.xAxis,St=this.scrollbar,Dt=O.DOMEvent||O,Ct=Pt.inverted,At=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!St||!St.hasDragged)||O.trigger==="scrollbar")&&(et=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?pt=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(ft=this.fixedExtreme),this.zoomedMax===this.size&&(ft=this.reversedExtremes?et.dataMin:et.dataMax),this.zoomedMin===0&&(pt=this.reversedExtremes?et.dataMax:et.dataMin),jo((kt=Rt.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,pt,ft)).min)&&Ga(this,"setRange",{min:Math.min(kt.min,kt.max),max:Math.max(kt.min,kt.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:Dt}})),O.DOMType!=="mousemove"&&O.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&Ws(this.zoomedMin)&&Ws(this.zoomedMax)&&(V=Math.round(this.zoomedMin),Y=Math.round(this.zoomedMax),this.shades&&this.drawMasks(V,Y,Ct,At),this.outline&&this.drawOutline(V,Y,Ct,At),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(V,0,Ct,At),this.drawHandle(Y,1,Ct,At)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(O){O()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let O=this.baseSeries||[];this.navigatorEnabled&&O[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&O.forEach(function(Y){ts(Y,"updatedData",this.updatedDataHandler)},this),O[0].xAxis&&ts(O[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(O){var Yt,Gt;let Y=O.options,V=Y.navigator||{},et=V.enabled,pt=Y.scrollbar||{},ft=pt.enabled,kt=et&&V.height||0,Pt=ft&&pt.height||0,Rt=pt.buttonsEnabled&&Pt||0;this.handles=[],this.shades=[],this.chart=O,this.setBaseSeries(),this.height=kt,this.scrollbarHeight=Pt,this.scrollButtonSize=Rt,this.scrollbarEnabled=ft,this.navigatorEnabled=et,this.navigatorOptions=V,this.scrollbarOptions=pt,this.setOpposite();let St=this,Dt=St.baseSeries,Ct=O.xAxis.length,At=O.yAxis.length,Tt=Dt&&Dt[0]&&Dt[0].xAxis||O.xAxis[0]||{options:{}};if(O.isDirtyBox=!0,St.navigatorEnabled){let re=this.getXAxisOffsets();St.xAxis=new(ti())(O,xn({breaks:Tt.options.breaks,ordinal:Tt.options.ordinal,overscroll:Tt.options.overscroll},V.xAxis,{type:"datetime",yAxis:(Yt=V.yAxis)==null?void 0:Yt.id,index:Ct,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:Tt.options.ordinal?0:Tt.options.minPadding,maxPadding:Tt.options.ordinal?0:Tt.options.maxPadding,zoomEnabled:!1},O.inverted?{offsets:re,width:kt}:{offsets:re,height:kt}),"xAxis"),St.yAxis=new(ti())(O,xn(V.yAxis,{alignTicks:!1,offset:0,index:At,isInternal:!0,reversed:no(V.yAxis&&V.yAxis.reversed,O.yAxis[0]&&O.yAxis[0].reversed,!1),zoomEnabled:!1},O.inverted?{width:kt}:{height:kt}),"yAxis"),Dt||V.series.data?St.updateNavigatorSeries(!1):O.series.length===0&&(St.unbindRedraw=Os(O,"beforeRedraw",function(){O.series.length>0&&!St.series&&(St.setBaseSeries(),St.unbindRedraw())})),St.reversedExtremes=O.inverted&&!St.xAxis.reversed||!O.inverted&&St.xAxis.reversed,St.renderElements(),St.addMouseEvents()}else St.xAxis={chart:O,navigatorAxis:{fake:!0},translate:function(re,Se){let Fe=O.xAxis[0],xe=Fe.getExtremes(),Oe=Fe.len-2*Rt,Ze=Ms("min",Fe.options.min,xe.dataMin),Te=Ms("max",Fe.options.max,xe.dataMax)-Ze;return Se?re*Te/Oe+Ze:Oe*(re-Ze)/Te},toPixels:function(re){return this.translate(re)},toValue:function(re){return this.translate(re,!0)}},St.xAxis.navigatorAxis.axis=St.xAxis,St.xAxis.navigatorAxis.toFixedRange=os.prototype.toFixedRange.bind(St.xAxis.navigatorAxis);if((Gt=O.options.scrollbar)!=null&&Gt.enabled){let re=xn(O.options.scrollbar,{vertical:O.inverted});Ws(re.margin)||(re.margin=O.inverted?-3:3),O.scrollbar=St.scrollbar=new Pr(O.renderer,re,O),Os(St.scrollbar,"changed",function(Se){let Fe=St.size,xe=Fe*this.to,Oe=Fe*this.from;St.hasDragged=St.scrollbar.hasDragged,St.render(0,0,Oe,xe),this.shouldUpdateExtremes(Se.DOMType)&&setTimeout(function(){St.onMouseUp(Se)})})}St.addBaseSeriesEvents(),St.addChartEvents()}setOpposite(){let O=this.navigatorOptions,Y=this.navigatorEnabled,V=this.chart;this.opposite=no(O.opposite,!!(!Y&&V.inverted))}getUnionExtremes(O){let Y,V=this.chart.xAxis[0],et=this.chart.time,pt=this.xAxis,ft=pt.options,kt=V.options;return O&&V.dataMin===null||(Y={dataMin:no(et.parse(ft==null?void 0:ft.min),Ms("min",et.parse(kt.min),V.dataMin,pt.dataMin,pt.min)),dataMax:no(et.parse(ft==null?void 0:ft.max),Ms("max",et.parse(kt.max),V.dataMax,pt.dataMax,pt.max))}),Y}setBaseSeries(O,Y){let V=this.chart,et=this.baseSeries=[];O=O||V.options&&V.options.navigator.baseSeries||(V.series.length?hl(V.series,pt=>!pt.options.isInternal).index:0),(V.series||[]).forEach((pt,ft)=>{!pt.options.isInternal&&(pt.options.showInNavigator||(ft===O||pt.options.id===O)&&pt.options.showInNavigator!==!1)&&et.push(pt)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,Y)}updateNavigatorSeries(O,Y){var Ct,At;let V=this,et=V.chart,pt=V.baseSeries,ft={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(Ct=this.navigatorOptions.xAxis)==null?void 0:Ct.id,yAxis:(At=this.navigatorOptions.yAxis)==null?void 0:At.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},kt=V.series=(V.series||[]).filter(Tt=>{let Yt=Tt.baseSeries;return!(0>pt.indexOf(Yt))||(Yt&&(ts(Yt,"updatedData",V.updatedDataHandler),delete Yt.navigatorSeries),Tt.chart&&Tt.destroy(),!1)}),Pt,Rt,St=V.navigatorOptions.series,Dt;pt&&pt.length&&pt.forEach(Tt=>{var Se;let Yt=Tt.navigatorSeries,Gt=Un({color:Tt.color,visible:Tt.visible},Lr(St)?en.navigator.series:St);if(Yt&&V.navigatorOptions.adaptToUpdatedData===!1)return;ft.name="Navigator "+pt.length,Dt=(Pt=Tt.options||{}).navigatorOptions||{},Gt.dataLabels=yo(Gt.dataLabels),(Rt=xn(Pt,ft,Gt,Dt)).pointRange=no(Gt.pointRange,Dt.pointRange,en.plotOptions[Rt.type||"line"].pointRange);let re=Dt.data||Gt.data;V.hasNavigatorData=V.hasNavigatorData||!!re,Rt.data=re||((Se=Pt.data)==null?void 0:Se.slice(0)),Yt&&Yt.options?Yt.update(Rt,Y):(Tt.navigatorSeries=et.initSeries(Rt),et.setSortedData(),Tt.navigatorSeries.baseSeries=Tt,kt.push(Tt.navigatorSeries))}),(St.data&&!(pt&&pt.length)||Lr(St))&&(V.hasNavigatorData=!1,(St=yo(St)).forEach((Tt,Yt)=>{ft.name="Navigator "+(kt.length+1),(Rt=xn(en.navigator.series,{color:et.series[Yt]&&!et.series[Yt].options.isInternal&&et.series[Yt].color||et.options.colors[Yt]||et.options.colors[0]},ft,Tt)).data=Tt.data,Rt.data&&(V.hasNavigatorData=!0,kt.push(et.initSeries(Rt)))})),O&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let O=this,Y=O.baseSeries||[];Y[0]&&Y[0].xAxis&&Y[0].eventsToUnbind.push(Os(Y[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),Y.forEach(V=>{V.eventsToUnbind.push(Os(V,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),V.eventsToUnbind.push(Os(V,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&V.xAxis&&V.eventsToUnbind.push(Os(V,"updatedData",this.updatedDataHandler)),V.eventsToUnbind.push(Os(V,"remove",function(){Y&&hr(Y,V),this.navigatorSeries&&O.series&&(hr(O.series,this.navigatorSeries),jo(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(O){return this.baseSeries.reduce(function(Y,V){return Math.min(Y,V.getColumn("x")[0]??Y)},O)}modifyNavigatorAxisExtremes(){let O=this.xAxis;if(O.getExtremes!==void 0){let Y=this.getUnionExtremes(!0);Y&&(Y.dataMin!==O.min||Y.dataMax!==O.max)&&(O.min=Y.dataMin,O.max=Y.dataMax)}}modifyBaseAxisExtremes(){var Yt;let O,Y,V=this.chart.navigator,et=this.getExtremes(),pt=et.min,ft=et.max,kt=et.dataMin,Pt=et.dataMax,Rt=ft-pt,St=V.stickToMin,Dt=V.stickToMax,Ct=no((Yt=this.ordinal)==null?void 0:Yt.convertOverscroll(this.options.overscroll),0),At=V.series&&V.series[0],Tt=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(St&&(O=(Y=kt)+Rt),Dt&&(O=Pt+Ct,St||(Y=Math.max(kt,O-Rt,V.getBaseSeriesMin(At&&At.xData?At.xData[0]:-Number.MAX_VALUE)))),Tt&&(St||Dt)&&Ws(Y)&&(this.min=this.userMin=Y,this.max=this.userMax=O)),V.stickToMin=V.stickToMax=null}updatedDataHandler(){let O=this.chart.navigator,Y=this.navigatorSeries,V=O.reversedExtremes?Math.round(O.zoomedMin)===0:Math.round(O.zoomedMax)>=Math.round(O.size);O.stickToMax=no(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,V),O.stickToMin=O.shouldStickToMin(this,O),Y&&!O.hasNavigatorData&&(Y.options.pointStart=this.getColumn("x")[0],Y.setData(this.options.data,!1,null,!1))}shouldStickToMin(O,Y){let V=Y.getBaseSeriesMin(O.getColumn("x")[0]),et=O.xAxis,pt=et.max,ft=et.min,kt=et.options.range;return!!(Ws(pt)&&Ws(ft))&&(kt&&pt-V>0?pt-V<kt:ft<=V)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(Os(this.chart,"redraw",function(){let O=this.navigator,Y=O&&(O.baseSeries&&O.baseSeries[0]&&O.baseSeries[0].xAxis||this.xAxis[0]);Y&&O.render(Y.min,Y.max)}),Os(this.chart,"getMargins",function(){var V;let O=this.navigator,Y=O.opposite?"plotTop":"marginBottom";this.inverted&&(Y=O.opposite?"marginRight":"plotLeft"),this[Y]=(this[Y]||0)+(O.navigatorEnabled||!this.inverted?O.height+(((V=this.scrollbar)==null?void 0:V.options.margin)||0)+O.scrollbarHeight:0)+(O.navigatorOptions.margin||0)}),Os(sn,"setRange",function(O){this.chart.xAxis[0].setExtremes(O.min,O.max,O.redraw,O.animation,O.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(hr(this.chart.xAxis,this.xAxis),hr(this.chart.axes,this.xAxis)),this.yAxis&&(hr(this.chart.yAxis,this.yAxis),hr(this.chart.axes,this.yAxis)),(this.series||[]).forEach(O=>{O.destroy&&O.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(O=>{this[O]&&this[O].destroy&&this[O].destroy(),this[O]=null}),[this.handles].forEach(O=>{jn(O)}),this.baseSeries.forEach(O=>{O.navigatorSeries=void 0}),this.navigatorEnabled=!1}}let Gl={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},{defaultOptions:rn}=ii(),{composed:Sl}=ii(),{addEvent:Fs,defined:vh,extend:ao,isNumber:mr,merge:on,pick:Bt,pushUnique:we}=ii(),Ne=[];function Mi(){let ct,O,Y=this.range,V=Y.type,et=this.max,pt=this.chart.time,ft=function(Pt,Rt){let St=pt.toParts(Pt),Dt=St.slice();V==="year"?Dt[0]+=Rt:Dt[1]+=Rt;let Ct=pt.makeTime.apply(pt,Dt),At=pt.toParts(Ct);return V==="month"&&St[1]===At[1]&&Math.abs(Rt)===1&&(Dt[0]=St[0],Dt[1]=St[1],Dt[2]=0),(Ct=pt.makeTime.apply(pt,Dt))-Pt};mr(Y)?(ct=et-Y,O=Y):Y&&(ct=et+ft(et,-(Y.count||1)),this.chart&&this.chart.setFixedRange(et-ct));let kt=Bt(this.dataMin,Number.MIN_VALUE);return mr(ct)||(ct=kt),ct<=kt&&(ct=kt,O===void 0&&(O=ft(ct,Y.count)),this.newMax=Math.min(ct+O,Bt(this.dataMax,Number.MAX_VALUE))),mr(et)?!mr(Y)&&Y&&Y._offsetMin&&(ct+=Y._offsetMin):ct=void 0,ct}function wr(){var ct;(ct=this.rangeSelector)==null||ct.redrawElements()}function er(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new Be(this))}function vo(){let ct=this.rangeSelector;if(ct){mr(ct.deferredYTDClick)&&(ct.clickButton(ct.deferredYTDClick),delete ct.deferredYTDClick);let O=ct.options.verticalAlign;ct.options.floating||(O==="bottom"?this.extraBottomMargin=!0:O==="top"&&(this.extraTopMargin=!0))}}function Ci(){let ct,O=this.rangeSelector;if(!O)return;let Y=this.xAxis[0].getExtremes(),V=this.legend,et=O&&O.options.verticalAlign;mr(Y.min)&&O.render(Y.min,Y.max),V.display&&et==="top"&&et===V.options.verticalAlign&&(ct=on(this.spacingBox),V.options.layout==="vertical"?ct.y=this.plotTop:ct.y+=O.getHeight(),V.group.placed=!1,V.align(ct))}function Xa(){for(let ct=0,O=Ne.length;ct<O;++ct){let Y=Ne[ct];if(Y[0]===this){Y[1].forEach(V=>V()),Ne.splice(ct,1);return}}}function Qr(){var O;let ct=this.rangeSelector;if((O=ct==null?void 0:ct.options)!=null&&O.enabled){let Y=ct.getHeight(),V=ct.options.verticalAlign;ct.options.floating||(V==="bottom"?this.marginBottom+=Y:V!=="middle"&&(this.plotTop+=Y))}}function fa(ct){let O=ct.options.rangeSelector,Y=this.extraBottomMargin,V=this.extraTopMargin,et=this.rangeSelector;if(O&&O.enabled&&!vh(et)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=et=new Be(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,et){let pt=O&&O.verticalAlign||et.options&&et.options.verticalAlign;et.options.floating||(pt==="bottom"?this.extraBottomMargin=!0:pt!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==Y||this.extraTopMargin!==V)&&(this.isDirtyBox=!0)}}let dl={compose:function(ct,O,Y){if(Be=Y,we(Sl,"RangeSelector")){let V=O.prototype;ct.prototype.minFromRange=Mi,Fs(O,"afterGetContainer",er),Fs(O,"beforeRender",vo),Fs(O,"destroy",Xa),Fs(O,"getMargins",Qr),Fs(O,"redraw",Ci),Fs(O,"update",fa),Fs(O,"beforeRedraw",wr),V.callbacks.push(Ci),ao(rn,{rangeSelector:Gl.rangeSelector}),ao(rn.lang,Gl.lang)}}};var ga=ke(28),Rs=ke.n(ga),lo=ke(984),bh=ke.n(lo);(function(ct){ct.setLength=function(O,Y,V){return Array.isArray(O)?(O.length=Y,O):O[V?"subarray":"slice"](0,Y)},ct.splice=function(O,Y,V,et,pt=[]){if(Array.isArray(O))return Array.isArray(pt)||(pt=Array.from(pt)),{removed:O.splice(Y,V,...pt),array:O};let ft=Object.getPrototypeOf(O).constructor,kt=O[et?"subarray":"slice"](Y,Y+V),Pt=new ft(O.length-V+pt.length);return Pt.set(O.subarray(0,Y),0),Pt.set(pt,Y),Pt.set(O.subarray(Y+V),Y+pt.length),{removed:kt,array:Pt}}})(Ve||(Ve={}));let{setLength:Xl,splice:Vn}=Ve,{fireEvent:yn,objectEach:Or,uniqueKey:dr}=ii(),Pd=class{constructor(ct={}){this.autoId=!ct.id,this.columns={},this.id=ct.id||dr(),this.modified=this,this.rowCount=0,this.versionTag=dr();let O=0;Or(ct.columns||{},(Y,V)=>{this.columns[V]=Y.slice(),O=Math.max(O,Y.length)}),this.applyRowCount(O)}applyRowCount(ct){this.rowCount=ct,Or(this.columns,(O,Y)=>{O.length!==ct&&(this.columns[Y]=Xl(O,ct))})}deleteRows(ct,O=1){if(O>0&&ct<this.rowCount){let Y=0;Or(this.columns,(V,et)=>{this.columns[et]=Vn(V,ct,O).array,Y=V.length}),this.rowCount=Y}yn(this,"afterDeleteRows",{rowIndex:ct,rowCount:O}),this.versionTag=dr()}getColumn(ct,O){return this.columns[ct]}getColumns(ct,O){return(ct||Object.keys(this.columns)).reduce((Y,V)=>(Y[V]=this.columns[V],Y),{})}getRow(ct,O){return(O||Object.keys(this.columns)).map(Y=>{var V;return(V=this.columns[Y])==null?void 0:V[ct]})}setColumn(ct,O=[],Y=0,V){this.setColumns({[ct]:O},Y,V)}setColumns(ct,O,Y){let V=this.rowCount;Or(ct,(et,pt)=>{this.columns[pt]=et.slice(),V=et.length}),this.applyRowCount(V),Y!=null&&Y.silent||(yn(this,"afterSetColumns"),this.versionTag=dr())}setRow(ct,O=this.rowCount,Y,V){let{columns:et}=this,pt=Y?this.rowCount+1:O+1;Or(ct,(ft,kt)=>{let Pt=et[kt]||(V==null?void 0:V.addColumns)!==!1&&Array(pt);Pt&&(Y?Pt=Vn(Pt,O,0,!0,[ft]).array:Pt[O]=ft,et[kt]=Pt)}),pt>this.rowCount&&this.applyRowCount(pt),V!=null&&V.silent||(yn(this,"afterSetRows"),this.versionTag=dr())}},{addEvent:Uo,correctFloat:Gs,css:Lo,defined:zo,error:Tl,isNumber:Yl,pick:Ro,timeUnits:Yh,isString:jl}=ii();(function(ct){function O(Ct,At,Tt,Yt,Gt=[],re=0,Se){let Fe={},xe=this.options.tickPixelInterval,Oe=this.chart.time,Ze=[],Te,Ge,Ue,hi,je,oi=0,Ti=[],Is=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!Gt||Gt.length<3||At===void 0)return Oe.getTimeTicks.apply(Oe,arguments);let is=Gt.length;for(Te=0;Te<is;Te++){if(je=Te&&Gt[Te-1]>Tt,Gt[Te]<At&&(oi=Te),Te===is-1||Gt[Te+1]-Gt[Te]>5*re||je){if(Gt[Te]>Is){for(Ge=Oe.getTimeTicks(Ct,Gt[oi],Gt[Te],Yt);Ge.length&&Ge[0]<=Is;)Ge.shift();Ge.length&&(Is=Ge[Ge.length-1]),Ze.push(Ti.length),Ti=Ti.concat(Ge)}oi=Te+1}if(je)break}if(Ge){if(hi=Ge.info,Se&&hi.unitRange<=Yh.hour){for(oi=1,Te=Ti.length-1;oi<Te;oi++)Oe.dateFormat("%d",Ti[oi])!==Oe.dateFormat("%d",Ti[oi-1])&&(Fe[Ti[oi]]="day",Ue=!0);Ue&&(Fe[Ti[0]]="day"),hi.higherRanks=Fe}hi.segmentStarts=Ze,Ti.info=hi}else Tl(12,!1,this.chart);if(Se&&zo(xe)){let Vi=Ti.length,kr=[],Cr=[],xr,Us,qo,Fo,ss,Oa=Vi;for(;Oa--;)Us=this.translate(Ti[Oa]),qo&&(Cr[Oa]=qo-Us),kr[Oa]=qo=Us;for(Cr.sort((np,ws)=>np-ws),(Fo=Cr[Math.floor(Cr.length/2)])<.6*xe&&(Fo=null),Oa=Ti[Vi-1]>Tt?Vi-1:Vi,qo=void 0;Oa--;)ss=Math.abs(qo-(Us=kr[Oa])),qo&&ss<.8*xe&&(Fo===null||ss<.8*Fo)?(Fe[Ti[Oa]]&&!Fe[Ti[Oa+1]]?(xr=Oa+1,qo=Us):xr=Oa,Ti.splice(xr,1)):qo=Us}return Ti}function Y(Ct){let At=this.ordinal.positions;if(!At)return Ct;let Tt=At.length-1,Yt;return Ct<0?Ct=At[0]:Ct>Tt?Ct=At[Tt]:(Tt=Math.floor(Ct),Yt=Ct-Tt),Yt!==void 0&&At[Tt]!==void 0?At[Tt]+(Yt?Yt*(At[Tt+1]-At[Tt]):0):Ct}function V(Ct){let At=this.ordinal,Tt=this.old?this.old.min:this.min,Yt=this.old?this.old.transA:this.transA,Gt=At.getExtendedPositions();if(Gt!=null&&Gt.length){let re=Gs((Ct-Tt)*Yt+this.minPixelPadding),Se=Gs(At.getIndexOfPoint(re,Gt)),Fe=Gs(Se%1);if(Se>=0&&Se<=Gt.length-1){let xe=Gt[Math.floor(Se)],Oe=Gt[Math.ceil(Se)];return Gt[Math.floor(Se)]+Fe*(Oe-xe)}}return Ct}function et(Ct,At){let Tt=ct.Additions.findIndexOf(Ct,At,!0);if(Ct[Tt]===At)return Tt;let Yt=(At-Ct[Tt])/(Ct[Tt+1]-Ct[Tt]);return Tt+Yt}function pt(){this.ordinal||(this.ordinal=new ct.Additions(this))}function ft(){let{eventArgs:Ct,options:At}=this;if(this.isXAxis&&zo(At.overscroll)&&At.overscroll!==0&&Yl(this.max)&&Yl(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&((Ct==null?void 0:Ct.trigger)!=="pan"||this.isInternal)&&(Ct==null?void 0:Ct.trigger)!=="navigator")){let Tt=this.ordinal.convertOverscroll(At.overscroll);this.max+=Tt,!this.isInternal&&zo(this.userMin)&&(Ct==null?void 0:Ct.trigger)!=="mousewheel"&&(this.min+=Tt)}}function kt(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function Pt(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function Rt(Ct){var Se;let At=this.xAxis[0],Tt=At.ordinal.convertOverscroll(At.options.overscroll),Yt=Ct.originalEvent.chartX,Gt=this.options.chart.panning,re=!1;if((Gt==null?void 0:Gt.type)!=="y"&&At.options.ordinal&&At.series.length&&(!Ct.touches||Ct.touches.length<=1)){let Fe,xe,Oe=this.mouseDownX,Ze=At.getExtremes(),Te=Ze.dataMin,Ge=Ze.dataMax,Ue=Ze.min,hi=Ze.max,je=this.hoverPoints,oi=At.closestPointRange||((Se=At.ordinal)==null?void 0:Se.overscrollPointsRange),Ti=Math.round((Oe-Yt)/(At.translationSlope*(At.ordinal.slope||oi))),Is=At.ordinal.getExtendedPositions(),is={ordinal:{positions:Is,extendedOrdinalPositions:Is}},Vi=At.index2val,kr=At.val2lin;if(Ue<=Te&&Ti<=0||hi>=Ge+Tt&&Ti>=0)return void Ct.preventDefault();is.ordinal.positions?Math.abs(Ti)>1&&(je&&je.forEach(function(Cr){Cr.setState()}),xe=is.ordinal.positions,Tt&&(xe=is.ordinal.positions=xe.concat(At.ordinal.getOverscrollPositions())),Ge>xe[xe.length-1]&&xe.push(Ge),this.setFixedRange(hi-Ue),(Fe=At.navigatorAxis.toFixedRange(void 0,void 0,Vi.apply(is,[kr.apply(is,[Ue,!0])+Ti]),Vi.apply(is,[kr.apply(is,[hi,!0])+Ti]))).min>=Math.min(xe[0],Ue)&&Fe.max<=Math.max(xe[xe.length-1],hi)+Tt&&At.setExtremes(Fe.min,Fe.max,!0,!1,{trigger:"pan"}),this.mouseDownX=Yt,Lo(this.container,{cursor:"move"})):re=!0}else re=!0;re||Gt&&/y/.test(Gt.type)?Tt&&Yl(At.dataMax)&&(At.max=At.dataMax+Tt):Ct.preventDefault()}function St(){let Ct=this.xAxis;Ct!=null&&Ct.options.ordinal&&(delete Ct.ordinal.index,delete Ct.ordinal.originalOrdinalRange)}function Dt(Ct,At){var xe;let Tt,Yt=this.ordinal,Gt=Yt.positions,re=Yt.slope,Se;if(!Gt)return Ct;let Fe=Gt.length;if(Gt[0]<=Ct&&Gt[Fe-1]>=Ct)Tt=et(Gt,Ct);else{if(Se=(xe=Yt.getExtendedPositions)==null?void 0:xe.call(Yt),!(Se!=null&&Se.length))return Ct;let Oe=Se.length;re||(re=(Se[Oe-1]-Se[0])/Oe);let Ze=et(Se,Gt[0]);if(Ct>=Se[0]&&Ct<=Se[Oe-1])Tt=et(Se,Ct)-Ze;else{if(!At)return Ct;Tt=Ct<Se[0]?-Ze-(Se[0]-Ct)/re:(Ct-Se[Oe-1])/re+Oe-Ze}}return At?Tt:re*(Tt||0)+Yt.offset}ct.compose=function(Ct,At,Tt){let Yt=Ct.prototype;return Yt.ordinal2lin||(Yt.getTimeTicks=O,Yt.index2val=Y,Yt.lin2val=V,Yt.val2lin=Dt,Yt.ordinal2lin=Yt.val2lin,Uo(Ct,"afterInit",pt),Uo(Ct,"foundExtremes",ft),Uo(Ct,"afterSetScale",kt),Uo(Ct,"initialAxisTranslation",Pt),Uo(Tt,"pan",Rt),Uo(Tt,"touchpan",Rt),Uo(At,"updatedData",St)),Ct},ct.Additions=class{constructor(Ct){this.index={},this.axis=Ct}beforeSetTickPositions(){var Vi;let Ct=this.axis,At=Ct.ordinal,Tt=Ct.getExtremes(),Yt=Tt.min,Gt=Tt.max,re=(Vi=Ct.brokenAxis)==null?void 0:Vi.hasBreaks,Se=Ct.options.ordinal,Fe=Ct.options.overscroll&&Ct.ordinal.convertOverscroll(Ct.options.overscroll)||0,xe,Oe,Ze,Te,Ge,Ue,hi,je=[],oi=Number.MAX_VALUE,Ti=!1,Is=!1,is=!1;if(Se||re){let kr=0;if(Ct.series.forEach(function(Cr,xr){let Us=Cr.getColumn("x",!0);if(Oe=[],xr>0&&Cr.options.id!=="highcharts-navigator-series"&&Us.length>1&&(Is=kr!==Us[1]-Us[0]),kr=Us[1]-Us[0],Cr.boosted&&(is=Cr.boosted),Cr.reserveSpace()&&(Cr.takeOrdinalPosition!==!1||re)&&(xe=(je=je.concat(Us)).length,je.sort(function(qo,Fo){return qo-Fo}),oi=Math.min(oi,Ro(Cr.closestPointRange,oi)),xe)){for(xr=0;xr<xe-1;)je[xr]!==je[xr+1]&&Oe.push(je[xr+1]),xr++;Oe[0]!==je[0]&&Oe.unshift(je[0]),je=Oe}}),Ct.ordinal.originalOrdinalRange||(Ct.ordinal.originalOrdinalRange=(je.length-1)*oi),Is&&is&&(je.pop(),je.shift()),(xe=je.length)>2){for(Ze=je[1]-je[0],hi=xe-1;hi--&&!Ti;)je[hi+1]-je[hi]!==Ze&&(Ti=!0);!Ct.options.keepOrdinalPadding&&(je[0]-Yt>Ze||Gt-Fe-je[xe-1]>Ze)&&(Ti=!0)}else Ct.options.overscroll&&(xe===2?oi=je[1]-je[0]:xe===1?(oi=Fe,je=[je[0],je[0]+oi]):oi=At.overscrollPointsRange);Ti||Ct.forceOrdinal?(Ct.options.overscroll&&(At.overscrollPointsRange=oi,je=je.concat(At.getOverscrollPositions())),At.positions=je,Te=Ct.ordinal2lin(Math.max(Yt,je[0]),!0),Ge=Math.max(Ct.ordinal2lin(Math.min(Gt,je[je.length-1]),!0),1),At.slope=Ue=(Gt-Yt)/(Ge-Te),At.offset=Yt-Te*Ue):(At.overscrollPointsRange=Ro(Ct.closestPointRange,At.overscrollPointsRange),At.positions=Ct.ordinal.slope=At.offset=void 0)}Ct.isOrdinal=Se&&Ti,At.groupIntervalFactor=null}static findIndexOf(Ct,At,Tt){let Yt=0,Gt=Ct.length-1,re;for(;Yt<Gt;)Ct[re=Math.ceil((Yt+Gt)/2)]<=At?Yt=re:Gt=re-1;return Ct[Yt]===At||Tt?Yt:-1}getExtendedPositions(Ct=!0){let At=this,Tt=At.axis,Yt=Tt.constructor.prototype,Gt=Tt.chart,re=Tt.series.reduce((Te,Ge)=>{let Ue=Ge.currentDataGrouping;return Te+(Ue?Ue.count+Ue.unitName:"raw")},""),Se=Ct?Tt.ordinal.convertOverscroll(Tt.options.overscroll):0,Fe=Tt.getExtremes(),xe,Oe,Ze=At.index;return Ze||(Ze=At.index={}),!Ze[re]&&((xe={series:[],chart:Gt,forceOrdinal:!1,getExtremes:function(){return{min:Fe.dataMin,max:Fe.dataMax+Se}},applyGrouping:Yt.applyGrouping,getGroupPixelWidth:Yt.getGroupPixelWidth,getTimeTicks:Yt.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:Yt.ordinal2lin,getIndexOfPoint:Yt.getIndexOfPoint,val2lin:Yt.val2lin}).ordinal.axis=xe,Tt.series.forEach(Te=>{var Ue,hi,je;if(Te.takeOrdinalPosition===!1)return;Oe={xAxis:xe,chart:Gt,groupPixelWidth:Te.groupPixelWidth,destroyGroupedData:ii().noop,getColumn:Te.getColumn,applyGrouping:Te.applyGrouping,getProcessedData:Te.getProcessedData,reserveSpace:Te.reserveSpace,visible:Te.visible};let Ge=Te.getColumn("x").concat(Ct?At.getOverscrollPositions():[]);Oe.dataTable=new Pd({columns:{x:Ge}}),Oe.options={...Te.options,dataGrouping:Te.currentDataGrouping?{firstAnchor:(Ue=Te.options.dataGrouping)==null?void 0:Ue.firstAnchor,anchor:(hi=Te.options.dataGrouping)==null?void 0:hi.anchor,lastAnchor:(je=Te.options.dataGrouping)==null?void 0:je.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[Te.currentDataGrouping.unitName,[Te.currentDataGrouping.count]]]}:{enabled:!1}},xe.series.push(Oe),Te.processData.apply(Oe)}),xe.applyGrouping({hasExtremesChanged:!0}),(Oe==null?void 0:Oe.closestPointRange)!==(Oe==null?void 0:Oe.basePointRange)&&Oe.currentDataGrouping&&(xe.forceOrdinal=!0),Tt.ordinal.beforeSetTickPositions.apply({axis:xe}),!Tt.ordinal.originalOrdinalRange&&xe.ordinal.originalOrdinalRange&&(Tt.ordinal.originalOrdinalRange=xe.ordinal.originalOrdinalRange),xe.ordinal.positions&&(Ze[re]=xe.ordinal.positions)),Ze[re]}getGroupIntervalFactor(Ct,At,Tt){let Yt=Tt.getColumn("x",!0),Gt=Yt.length,re=[],Se,Fe,xe=this.groupIntervalFactor;if(!xe){for(Fe=0;Fe<Gt-1;Fe++)re[Fe]=Yt[Fe+1]-Yt[Fe];re.sort(function(Oe,Ze){return Oe-Ze}),Se=re[Math.floor(Gt/2)],Ct=Math.max(Ct,Yt[0]),At=Math.min(At,Yt[Gt-1]),this.groupIntervalFactor=xe=Gt*Se/(At-Ct)}return xe}getIndexOfPoint(Ct,At){let Tt=this.axis,Yt=Tt.min,Gt=Tt.minPixelPadding;return et(At,Yt)+Gs((Ct-Gt)/(Tt.translationSlope*(this.slope||Tt.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let Ct=this.axis,At=this.convertOverscroll(Ct.options.overscroll),Tt=this.overscrollPointsRange,Yt=[],Gt=Ct.dataMax;if(zo(Tt))for(;Gt<Ct.dataMax+At;)Yt.push(Gt+=Tt);return Yt}postProcessTickInterval(Ct){let At=this.axis,Tt=this.slope,Yt=At.closestPointRange;return Tt&&Yt?At.options.breaks?Yt||Ct:Ct/(Tt/Yt):Ct}convertOverscroll(Ct=0){let At=this,Tt=At.axis,Yt=function(Gt){return Ro(At.originalOrdinalRange,zo(Tt.dataMax)&&zo(Tt.dataMin)?Tt.dataMax-Tt.dataMin:0)*Gt};if(jl(Ct)){let Gt,re=parseInt(Ct,10);if(zo(Tt.min)&&zo(Tt.max)&&zo(Tt.dataMin)&&zo(Tt.dataMax)&&((Gt=Tt.max-Tt.min==Tt.dataMax-Tt.dataMin)||(this.originalOrdinalRange=Tt.max-Tt.min)),/%$/.test(Ct))return Yt(re/100);if(/px/.test(Ct)){let Se=Math.min(re,.9*Tt.len)/Tt.len;return Yt(Se/(Gt?1-Se:1))}return 0}return Ct}}})(xi||(xi={}));let Al=xi,{defaultOptions:vn}=ii(),{format:Ul}=bh(),{addEvent:bn,createElement:Zn,css:Vo,defined:No,destroyObjectProperties:jh,diffObjects:$n,discardElement:nn,extend:Cd,fireEvent:cl,isNumber:bo,isString:ma,merge:wn,objectEach:cc,pick:xa,splat:pc}=ii();function wh(ct){let O=et=>RegExp(`%[[a-zA-Z]*${et}`).test(ct);if(ma(ct)?ct.indexOf("%L")!==-1:ct.fractionalSecondDigits)return"text";let Y=ma(ct)?["a","A","d","e","w","b","B","m","o","y","Y"].some(O):ct.dateStyle||ct.day||ct.month||ct.year,V=ma(ct)?["H","k","I","l","M","S"].some(O):ct.timeStyle||ct.hour||ct.minute||ct.second;return Y&&V?"datetime-local":Y?"date":V?"time":"text"}class Rr{static compose(O,Y){dl.compose(O,Y,Rr)}constructor(O){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let Y=0;return this.buttons.forEach(V=>{let et=V.getBBox();et.width>Y&&(Y=et.width)}),Y},this.init(O)}clickButton(O,Y){let V=this.chart,et=this.buttonOptions[O],pt=V.xAxis[0],ft=V.scroller&&V.scroller.getUnionExtremes()||pt||{},kt=et.type,Pt=et.dataGrouping,Rt=ft.dataMin,St=ft.dataMax,Dt,Ct=bo(pt==null?void 0:pt.max)?Math.round(Math.min(pt.max,St??pt.max)):void 0,At,Tt=et._range,Yt,Gt,re,Se=!0;if(Rt!==null&&St!==null){if(this.setSelected(O),Pt&&(this.forcedDataGrouping=!0,ti().prototype.setDataGrouping.call(pt||{chart:this.chart},Pt,!1),this.frozenStates=et.preserveDataGrouping),kt==="month"||kt==="year")pt?(Gt={range:et,max:Ct,chart:V,dataMin:Rt,dataMax:St},Dt=pt.minFromRange.call(Gt),bo(Gt.newMax)&&(Ct=Gt.newMax),Se=!1):Tt=et;else if(Tt)bo(Ct)&&(Ct=Math.min((Dt=Math.max(Ct-Tt,Rt))+Tt,St),Se=!1);else if(kt==="ytd")if(pt)!pt.hasData()||bo(St)&&bo(Rt)||(Rt=Number.MAX_VALUE,St=-Number.MAX_VALUE,V.series.forEach(Fe=>{let xe=Fe.getColumn("x");xe.length&&(Rt=Math.min(xe[0],Rt),St=Math.max(xe[xe.length-1],St))}),Y=!1),bo(St)&&bo(Rt)&&(Dt=Yt=(re=this.getYTDExtremes(St,Rt)).min,Ct=re.max);else{this.deferredYTDClick=O;return}else kt==="all"&&pt&&(V.navigator&&V.navigator.baseSeries[0]&&(V.navigator.baseSeries[0].xAxis.options.range=void 0),Dt=Rt,Ct=St);if(Se&&et._offsetMin&&No(Dt)&&(Dt+=et._offsetMin),et._offsetMax&&No(Ct)&&(Ct+=et._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=O+1),pt)bo(Dt)&&bo(Ct)&&(pt.setExtremes(Dt,Ct,xa(Y,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:et}),V.setFixedRange(et._range));else{At=pc(V.options.xAxis||{})[0];let Fe=bn(V,"afterCreateAxes",function(){let xe=V.xAxis[0];xe.range=xe.options.range=Tt,xe.min=xe.options.min=Yt});bn(V,"load",function(){let xe=V.xAxis[0];V.setFixedRange(et._range),xe.options.range=At.range,xe.options.min=At.min,Fe()})}cl(this,"afterBtnClick")}}setSelected(O){this.selected=this.options.selected=O}init(O){let Y=this,V=O.options.rangeSelector,et=O.options.lang,pt=V.buttons,ft=V.selected,kt=function(){let Pt=Y.minInput,Rt=Y.maxInput;Pt&&Pt.blur&&cl(Pt,"blur"),Rt&&Rt.blur&&cl(Rt,"blur")};Y.chart=O,Y.options=V,Y.buttons=[],Y.buttonOptions=pt.map(Pt=>(Pt.type&&et.rangeSelector&&(Pt.text??(Pt.text=et.rangeSelector[`${Pt.type}Text`]),Pt.title??(Pt.title=et.rangeSelector[`${Pt.type}Title`])),Pt.text=Ul(Pt.text,{count:Pt.count||1}),Pt.title=Ul(Pt.title,{count:Pt.count||1}),Pt)),this.eventsToUnbind=[],this.eventsToUnbind.push(bn(O.container,"mousedown",kt)),this.eventsToUnbind.push(bn(O,"resize",kt)),pt.forEach(Y.computeButtonRange),ft!==void 0&&pt[ft]&&this.clickButton(ft,!1),this.eventsToUnbind.push(bn(O,"load",function(){O.xAxis&&O.xAxis[0]&&bn(O.xAxis[0],"setExtremes",function(Pt){bo(this.max)&&bo(this.min)&&this.max-this.min!==O.fixedRange&&Pt.trigger!=="rangeSelectorButton"&&Pt.trigger!=="updatedData"&&Y.forcedDataGrouping&&!Y.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let O=this,Y=this.chart,V=this.dropdown,et=this.dropdownLabel,pt=Y.xAxis[0],ft=Math.round(pt.max-pt.min),kt=!pt.hasVisibleSeries,Pt=24*36e5,Rt=Y.scroller&&Y.scroller.getUnionExtremes()||pt,St=Rt.dataMin,Dt=Rt.dataMax,Ct=O.getYTDExtremes(Dt,St),At=Ct.min,Tt=Ct.max,Yt=O.selected,Gt=O.options.allButtonsEnabled,re=Array(O.buttonOptions.length).fill(0),Se=bo(Yt),Fe=O.buttons,xe=!1,Oe=null;O.buttonOptions.forEach((Ze,Te)=>{var xr;let Ge=Ze._range,Ue=Ze.type,hi=Ze.count||1,je=Ze._offsetMax-Ze._offsetMin,oi=Te===Yt,Ti=Ge>Dt-St,Is=Ge<pt.minRange,is=!1,Vi=Ge===ft;if(oi&&Ti&&(xe=!0),pt.isOrdinal&&((xr=pt.ordinal)==null?void 0:xr.positions)&&Ge&&ft<Ge){let Us=pt.ordinal.positions,qo=Al.Additions.findIndexOf(Us,pt.min,!0),Fo=Math.min(Al.Additions.findIndexOf(Us,pt.max,!0)+1,Us.length-1);Us[Fo]-Us[qo]>Ge&&(Vi=!0)}else(Ue==="month"||Ue==="year")&&ft+36e5>={month:28,year:365}[Ue]*Pt*hi-je&&ft-36e5<={month:31,year:366}[Ue]*Pt*hi+je?Vi=!0:Ue==="ytd"?(Vi=Tt-At+je===ft,is=!oi):Ue==="all"&&(Vi=pt.max-pt.min>=Dt-St);let kr=!Gt&&!(xe&&Ue==="all")&&(Ti||Is||kt),Cr=xe&&Ue==="all"||!is&&Vi||oi&&O.frozenStates;kr?re[Te]=3:Cr&&(!Se||Te===Yt)&&(Oe=Te)}),Oe!==null?(re[Oe]=2,O.setSelected(Oe),this.dropdown&&(this.dropdown.selectedIndex=Oe+1)):(O.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),et&&(et.setState(0),et.attr({text:(vn.lang.rangeSelectorZoom||"")+" ▾"})));for(let Ze=0;Ze<re.length;Ze++){let Te=re[Ze],Ge=Fe[Ze];if(Ge.state!==Te&&(Ge.setState(Te),V)){V.options[Ze+1].disabled=Te===3,Te===2&&(et&&(et.setState(2),et.attr({text:O.buttonOptions[Ze].text+" ▾"})),V.selectedIndex=Ze+1);let Ue=et.getBBox();Vo(V,{width:`${Ue.width}px`,height:`${Ue.height}px`})}}}computeButtonRange(O){let Y=O.type,V=O.count||1,et={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};et[Y]?O._range=et[Y]*V:(Y==="month"||Y==="year")&&(O._range=24*{month:30,year:365}[Y]*36e5*V),O._offsetMin=xa(O.offsetMin,0),O._offsetMax=xa(O.offsetMax,0),O._range+=O._offsetMax-O._offsetMin}getInputValue(O){let Y=O==="min"?this.minInput:this.maxInput,V=this.chart.options.rangeSelector,et=this.chart.time;return Y?(Y.type==="text"&&V.inputDateParser||this.defaultInputDateParser)(Y.value,et.timezone==="UTC",et):0}setInputValue(O,Y){let V=this.options,et=this.chart.time,pt=O==="min"?this.minInput:this.maxInput,ft=O==="min"?this.minDateBox:this.maxDateBox;if(pt){pt.setAttribute("type",wh(V.inputDateFormat||"%e %b %Y"));let kt=pt.getAttribute("data-hc-time"),Pt=No(kt)?Number(kt):void 0;if(No(Y)){let Rt=Pt;No(Rt)&&pt.setAttribute("data-hc-time-previous",Rt),pt.setAttribute("data-hc-time",Y),Pt=Y}pt.value=et.dateFormat(this.inputTypeFormats[pt.type]||V.inputEditDateFormat,Pt),ft&&ft.attr({text:et.dateFormat(V.inputDateFormat,Pt)})}}setInputExtremes(O,Y,V){let et=O==="min"?this.minInput:this.maxInput;if(et){let pt=this.inputTypeFormats[et.type],ft=this.chart.time;if(pt){let kt=ft.dateFormat(pt,Y);et.min!==kt&&(et.min=kt);let Pt=ft.dateFormat(pt,V);et.max!==Pt&&(et.max=Pt)}}}showInput(O){let Y=O==="min"?this.minDateBox:this.maxDateBox,V=O==="min"?this.minInput:this.maxInput;if(V&&Y&&this.inputGroup){let et=V.type==="text",{translateX:pt=0,translateY:ft=0}=this.inputGroup,{x:kt=0,width:Pt=0,height:Rt=0}=Y,{inputBoxWidth:St}=this.options;Vo(V,{width:et?Pt+(St?-2:20)+"px":"auto",height:Rt-2+"px",border:"2px solid silver"}),et&&St?Vo(V,{left:pt+kt+"px",top:ft+"px"}):Vo(V,{left:Math.min(Math.round(kt+pt-(V.offsetWidth-Pt)/2),this.chart.chartWidth-V.offsetWidth)+"px",top:ft-(V.offsetHeight-Rt)/2+"px"})}}hideInput(O){let Y=O==="min"?this.minInput:this.maxInput;Y&&Vo(Y,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(O,Y,V){return(V==null?void 0:V.parse(O))||0}drawInput(O){let{chart:Y,div:V,inputGroup:et}=this,pt=this,ft=Y.renderer.style||{},kt=Y.renderer,Pt=Y.options.rangeSelector,Rt=vn.lang,St=O==="min";function Dt(re){var hi;let{maxInput:Se,minInput:Fe}=pt,xe=Y.xAxis[0],Oe=((hi=Y.scroller)==null?void 0:hi.getUnionExtremes())||xe,Ze=Oe.dataMin,Te=Oe.dataMax,Ge=Y.xAxis[0].getExtremes()[re],Ue=pt.getInputValue(re);bo(Ue)&&Ue!==Ge&&(St&&Se&&bo(Ze)?Ue>Number(Se.getAttribute("data-hc-time"))?Ue=void 0:Ue<Ze&&(Ue=Ze):Fe&&bo(Te)&&(Ue<Number(Fe.getAttribute("data-hc-time"))?Ue=void 0:Ue>Te&&(Ue=Te)),Ue!==void 0&&xe.setExtremes(St?Ue:xe.min,St?xe.max:Ue,void 0,void 0,{trigger:"rangeSelectorInput"}))}let Ct=Rt[St?"rangeSelectorFrom":"rangeSelectorTo"]||"",At=kt.label(Ct,0).addClass("highcharts-range-label").attr({padding:2*!!Ct,height:Ct?Pt.inputBoxHeight:0}).add(et),Tt=kt.label("",0).addClass("highcharts-range-input").attr({padding:2,width:Pt.inputBoxWidth,height:Pt.inputBoxHeight,"text-align":"center"}).on("click",function(){pt.showInput(O),pt[O+"Input"].focus()});Y.styledMode||Tt.attr({stroke:Pt.inputBoxBorderColor,"stroke-width":1}),Tt.add(et);let Yt=Zn("input",{name:O,className:"highcharts-range-selector"},void 0,V);Yt.setAttribute("type",wh(Pt.inputDateFormat||"%e %b %Y")),Y.styledMode||(At.css(wn(ft,Pt.labelStyle)),Tt.css(wn({color:"#333333"},ft,Pt.inputStyle)),Vo(Yt,Cd({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:ft.fontSize,fontFamily:ft.fontFamily,top:"-9999em"},Pt.inputStyle))),Yt.onfocus=()=>{pt.showInput(O)},Yt.onblur=()=>{Yt===ii().doc.activeElement&&Dt(O),pt.hideInput(O),pt.setInputValue(O),Yt.blur()};let Gt=!1;return Yt.onchange=()=>{Gt||(Dt(O),pt.hideInput(O),Yt.blur())},Yt.onkeypress=re=>{re.keyCode===13&&Dt(O)},Yt.onkeydown=re=>{Gt=!0,(re.key==="ArrowUp"||re.key==="ArrowDown"||re.key==="Tab")&&Dt(O)},Yt.onkeyup=()=>{Gt=!1},{dateBox:Tt,input:Yt,label:At}}getPosition(){let O=this.chart,Y=O.options.rangeSelector,V=Y.verticalAlign==="top"?O.plotTop-O.axisOffset[0]:0;return{buttonTop:V+Y.buttonPosition.y,inputTop:V+Y.inputPosition.y-10}}getYTDExtremes(O,Y){let V=this.chart.time,et=V.toParts(O)[0];return{max:O,min:Math.max(Y,V.makeTime(et,0))}}createElements(){var Pt;let O=this.chart,Y=O.renderer,V=O.container,et=O.options,pt=et.rangeSelector,ft=pt.inputEnabled,kt=xa((Pt=et.chart.style)==null?void 0:Pt.zIndex,0)+1;pt.enabled!==!1&&(this.group=Y.g("range-selector-group").attr({zIndex:7}).add(),this.div=Zn("div",void 0,{position:"relative",height:0,zIndex:kt}),this.buttonOptions.length&&this.renderButtons(),V.parentNode&&V.parentNode.insertBefore(this.div,V),ft&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let O=this.drawInput("min");this.minDateBox=O.dateBox,this.minLabel=O.label,this.minInput=O.input;let Y=this.drawInput("max");this.maxDateBox=Y.dateBox,this.maxLabel=Y.label,this.maxInput=Y.input}render(O,Y){var pt,ft;if(this.options.enabled===!1)return;let V=this.chart,et=V.options.rangeSelector;if(et.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",O),this.setInputValue("max",Y),this.chart.styledMode||((pt=this.maxLabel)==null||pt.css(et.labelStyle),(ft=this.minLabel)==null||ft.css(et.labelStyle));let kt=V.scroller&&V.scroller.getUnionExtremes()||V.xAxis[0]||{};if(No(kt.dataMin)&&No(kt.dataMax)){let Pt=V.xAxis[0].minRange||0;this.setInputExtremes("min",kt.dataMin,Math.min(kt.dataMax,this.getInputValue("max"))-Pt),this.setInputExtremes("max",Math.max(kt.dataMin,this.getInputValue("min"))+Pt,kt.dataMax)}if(this.inputGroup){let Pt=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(Rt=>{if(Rt){let{width:St}=Rt.getBBox();St&&(Rt.attr({x:Pt}),Pt+=St+et.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(et.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var Ct;var O;let{chart:Y,options:V}=this,et=vn.lang,pt=Y.renderer,ft=wn(V.buttonTheme),kt=ft&&ft.states;delete ft.width,delete ft.states,this.buttonGroup=pt.g("range-selector-buttons").add(this.group);let Pt=this.dropdown=Zn("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),Rt=(Ct=Y.userOptions.rangeSelector)==null?void 0:Ct.buttonTheme;this.dropdownLabel=pt.button("",0,0,()=>{},wn(ft,{"stroke-width":xa(ft["stroke-width"],0),width:"auto",paddingLeft:xa(V.buttonTheme.paddingLeft,Rt==null?void 0:Rt.padding,8),paddingRight:xa(V.buttonTheme.paddingRight,Rt==null?void 0:Rt.padding,8)}),kt&&kt.hover,kt&&kt.select,kt&&kt.disabled).hide().add(this.group),bn(Pt,"touchstart",()=>{Pt.style.fontSize="16px"});let St=ii().isMS?"mouseover":"mouseenter",Dt=ii().isMS?"mouseout":"mouseleave";bn(Pt,St,()=>{cl(this.dropdownLabel.element,St)}),bn(Pt,Dt,()=>{cl(this.dropdownLabel.element,Dt)}),bn(Pt,"change",()=>{cl(this.buttons[Pt.selectedIndex-1].element,"click")}),this.zoomText=pt.label(et.rangeSelectorZoom||"",0).attr({padding:V.buttonTheme.padding,height:V.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(V.labelStyle),(O=V.buttonTheme)["stroke-width"]??(O["stroke-width"]=0)),Zn("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,Pt),this.createButtons()}createButtons(){let{options:O}=this,Y=wn(O.buttonTheme),V=Y&&Y.states,et=Y.width||28;delete Y.width,delete Y.states,this.buttonOptions.forEach((pt,ft)=>{this.createButton(pt,ft,et,V)})}createButton(O,Y,V,et){let{dropdown:pt,buttons:ft,chart:kt,options:Pt}=this,Rt=kt.renderer,St=wn(Pt.buttonTheme);pt==null||pt.add(Zn("option",{textContent:O.title||O.text}),Y+2),ft[Y]=Rt.button(O.text??"",0,0,Dt=>{let Ct,At=O.events&&O.events.click;At&&(Ct=At.call(O,Dt)),Ct!==!1&&this.clickButton(Y),this.isActive=!0},St,et&&et.hover,et&&et.select,et&&et.disabled).attr({"text-align":"center",width:V}).add(this.buttonGroup),O.title&&ft[Y].attr("title",O.title)}alignElements(){var Yt;let{buttonGroup:O,buttons:Y,chart:V,group:et,inputGroup:pt,options:ft,zoomText:kt}=this,Pt=V.options,Rt=Pt.exporting&&Pt.exporting.enabled!==!1&&Pt.navigation&&Pt.navigation.buttonOptions,{buttonPosition:St,inputPosition:Dt,verticalAlign:Ct}=ft,At=(Gt,re,Se)=>Rt&&this.titleCollision(V)&&Ct==="top"&&Se&&re.y-Gt.getBBox().height-12<(Rt.y||0)+(Rt.height||0)+V.spacing[0]?-40:0,Tt=V.plotLeft;if(et&&St&&Dt){let Gt=St.x-V.spacing[3];if(O){if(this.positionButtons(),!this.initialButtonGroupWidth){let Ue=0;kt&&(Ue+=kt.getBBox().width+5),Y.forEach((hi,je)=>{Ue+=hi.width||0,je!==Y.length-1&&(Ue+=ft.buttonSpacing)}),this.initialButtonGroupWidth=Ue}Tt-=V.spacing[3];let Ge=At(O,St,St.align==="right"||Dt.align==="right");this.alignButtonGroup(Ge),(Yt=this.buttonGroup)!=null&&Yt.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),et.placed=O.placed=V.hasLoaded}let re=0;ft.inputEnabled&&pt&&(re=At(pt,Dt,St.align==="right"||Dt.align==="right"),Dt.align==="left"?Gt=Tt:Dt.align==="right"&&(Gt=-Math.max(V.axisOffset[1],-re)),pt.align({y:Dt.y,width:pt.getBBox().width,align:Dt.align,x:Dt.x+Gt-2},!0,V.spacingBox),pt.placed=V.hasLoaded),this.handleCollision(re),et.align({verticalAlign:Ct},!0,V.spacingBox);let Se=et.alignAttr.translateY,Fe=et.getBBox().height+20,xe=0;if(Ct==="bottom"){let Ge=V.legend&&V.legend.options;xe=Se-(Fe=Fe+(Ge&&Ge.verticalAlign==="bottom"&&Ge.enabled&&!Ge.floating?V.legend.legendHeight+xa(Ge.margin,10):0)-20)-(ft.floating?0:ft.y)-(V.titleOffset?V.titleOffset[2]:0)-10}Ct==="top"?(ft.floating&&(xe=0),V.titleOffset&&V.titleOffset[0]&&(xe=V.titleOffset[0]),xe+=V.margin[0]-V.spacing[0]||0):Ct==="middle"&&(Dt.y===St.y?xe=Se:(Dt.y||St.y)&&(Dt.y<0||St.y<0?xe-=Math.min(Dt.y,St.y):xe=Se-Fe)),et.translate(ft.x,ft.y+Math.floor(xe));let{minInput:Oe,maxInput:Ze,dropdown:Te}=this;ft.inputEnabled&&Oe&&Ze&&(Oe.style.marginTop=et.translateY+"px",Ze.style.marginTop=et.translateY+"px"),Te&&(Te.style.marginTop=et.translateY+"px")}}redrawElements(){var et,pt,ft,kt,Pt;let O=this.chart,{inputBoxHeight:Y,inputBoxBorderColor:V}=this.options;if((et=this.maxDateBox)==null||et.attr({height:Y}),(pt=this.minDateBox)==null||pt.attr({height:Y}),O.styledMode||((ft=this.maxDateBox)==null||ft.attr({stroke:V}),(kt=this.minDateBox)==null||kt.attr({stroke:V})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let Rt=this.options.buttons??[],St=Math.min(Rt.length,this.buttonOptions.length),{dropdown:Dt,options:Ct}=this,At=wn(Ct.buttonTheme),Tt=At&&At.states,Yt=At.width||28;if(Rt.length<this.buttonOptions.length)for(let Gt=this.buttonOptions.length-1;Gt>=Rt.length;Gt--){let re=this.buttons.pop();re==null||re.destroy(),(Pt=this.dropdown)==null||Pt.options.remove(Gt+1)}for(let Gt=St-1;Gt>=0;Gt--)if(Object.keys($n(Rt[Gt],this.buttonOptions[Gt])).length!==0){let re=Rt[Gt];this.buttons[Gt].destroy(),Dt==null||Dt.options.remove(Gt+1),this.createButton(re,Gt,Yt,Tt),this.computeButtonRange(re)}if(Rt.length>this.buttonOptions.length)for(let Gt=this.buttonOptions.length;Gt<Rt.length;Gt++)this.createButton(Rt[Gt],Gt,Yt,Tt),this.computeButtonRange(Rt[Gt]);this.buttonOptions=this.options.buttons??[],No(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(O,Y){let{chart:V,options:et,buttonGroup:pt,dropdown:ft,dropdownLabel:kt}=this,{buttonPosition:Pt}=et,Rt=V.plotLeft-V.spacing[3],St=Pt.x-V.spacing[3],Dt=V.plotLeft;Pt.align==="right"?(St+=O-Rt,this.hasVisibleDropdown&&(Dt=V.chartWidth+O-this.maxButtonWidth()-20)):Pt.align==="center"&&(St-=Rt/2,this.hasVisibleDropdown&&(Dt=V.chartWidth/2-this.maxButtonWidth())),ft&&Vo(ft,{left:Dt+"px",top:(pt==null?void 0:pt.translateY)+"px"}),kt==null||kt.attr({x:Dt}),pt&&pt.align({y:Pt.y,width:xa(Y,this.initialButtonGroupWidth),align:Pt.align,x:St},!0,V.spacingBox)}positionButtons(){let{buttons:O,chart:Y,options:V,zoomText:et}=this,pt=Y.hasLoaded?"animate":"attr",{buttonPosition:ft}=V,kt=Y.plotLeft,Pt=kt;et&&et.visibility!=="hidden"&&(et[pt]({x:xa(kt+ft.x,kt)}),Pt+=ft.x+et.getBBox().width+5);for(let Rt=0,St=this.buttonOptions.length;Rt<St;++Rt)O[Rt].visibility!=="hidden"?(O[Rt][pt]({x:Pt}),Pt+=(O[Rt].width||0)+V.buttonSpacing):O[Rt][pt]({x:kt})}handleCollision(O){let{chart:Y,buttonGroup:V,inputGroup:et,initialButtonGroupWidth:pt}=this,{buttonPosition:ft,dropdown:kt,inputPosition:Pt}=this.options,Rt=()=>{et&&V&&et.attr({translateX:et.alignAttr.translateX+(Y.axisOffset[1]>=-O?0:-O),translateY:et.alignAttr.translateY+V.getBBox().height+10})};et&&V?Pt.align===ft.align?(Rt(),pt>Y.plotWidth+O-20?this.collapseButtons():this.expandButtons()):pt-O+et.getBBox().width>Y.plotWidth?kt==="responsive"?this.collapseButtons():Rt():this.expandButtons():V&&kt==="responsive"&&(pt>Y.plotWidth?this.collapseButtons():this.expandButtons()),V&&(kt==="always"&&this.collapseButtons(),kt==="never"&&this.expandButtons()),this.alignButtonGroup(O)}collapseButtons(){let{buttons:O,zoomText:Y}=this;this.isCollapsed!==!0&&(this.isCollapsed=!0,Y.hide(),O.forEach(V=>void V.hide()),this.showDropdown())}expandButtons(){let{buttons:O,zoomText:Y}=this;this.isCollapsed!==!1&&(this.isCollapsed=!1,this.hideDropdown(),Y.show(),O.forEach(V=>void V.show()),this.positionButtons())}showDropdown(){let{buttonGroup:O,dropdownLabel:Y,dropdown:V}=this;O&&V&&(Y.show(),Vo(V,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:O}=this;O&&(this.dropdownLabel.hide(),Vo(O,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let O=this.options,Y=this.group,V=O.inputPosition,et=O.buttonPosition,pt=O.y,ft=et.y,kt=V.y,Pt=0;if(O.height)return O.height;this.alignElements(),Pt=Y?Y.getBBox(!0).height+13+pt:0;let Rt=Math.min(kt,ft);return(kt<0&&ft<0||kt>0&&ft>0)&&(Pt+=Math.abs(Rt)),Pt}titleCollision(O){return!(O.options.title.text||O.options.subtitle.text)}update(O,Y=!0){let V=this.chart;if(wn(!0,this.options,O),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,V.options.rangeSelector.selected=void 0),No(O.enabled))return this.destroy(),this.init(V);this.isDirty=!!O.buttons,Y&&this.render()}destroy(){let O=this,Y=O.minInput,V=O.maxInput;O.eventsToUnbind&&(O.eventsToUnbind.forEach(et=>et()),O.eventsToUnbind=void 0),jh(O.buttons),Y&&(Y.onfocus=Y.onblur=Y.onchange=null),V&&(V.onfocus=V.onblur=V.onchange=null),cc(O,function(et,pt){et&&pt!=="chart"&&(et instanceof Rs()?et.destroy():et instanceof window.HTMLElement&&nn(et),delete O[pt]),et!==Rr.prototype[pt]&&(O[pt]=null)},this),this.buttons=[]}}Cd(Rr.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});let Ya={applyRadius:function(ct,O){let Y=[];for(let V=0;V<ct.length;V++){let et=ct[V][1],pt=ct[V][2];if(typeof et=="number"&&typeof pt=="number")if(V===0)Y.push(["M",et,pt]);else if(V===ct.length-1)Y.push(["L",et,pt]);else if(O){let ft=ct[V-1],kt=ct[V+1];if(ft&&kt){let Pt=ft[1],Rt=ft[2],St=kt[1],Dt=kt[2];if(typeof Pt=="number"&&typeof St=="number"&&typeof Rt=="number"&&typeof Dt=="number"&&Pt!==St&&Rt!==Dt){let Ct=Pt<St?1:-1,At=Rt<Dt?1:-1;Y.push(["L",et-Ct*Math.min(Math.abs(et-Pt),O),pt-At*Math.min(Math.abs(pt-Rt),O)],["C",et,pt,et,pt,et+Ct*Math.min(Math.abs(et-St),O),pt+At*Math.min(Math.abs(pt-Dt),O)])}}}else Y.push(["L",et,pt])}return Y}},{pick:Vl}=ii(),{min:Xr,max:qn,abs:Wo}=Math;function ya(ct,O,Y){let V=O-1e-7,et=0,pt=ct.length-1,ft,kt;for(;et<=pt;)if((kt=V-ct[ft=pt+et>>1].xMin)>0)et=ft+1;else{if(!(kt<0))return ft;pt=ft-1}return et>0?et-1:0}function wo(ct,O){let Y=ya(ct,O.x+1)+1;for(;Y--;){var V;if(ct[Y].xMax>=O.x&&(V=ct[Y],O.x<=V.xMax&&O.x>=V.xMin&&O.y<=V.yMax&&O.y>=V.yMin))return Y}return-1}function Zl(ct){let O=[];if(ct.length){O.push(["M",ct[0].start.x,ct[0].start.y]);for(let Y=0;Y<ct.length;++Y)O.push(["L",ct[Y].end.x,ct[Y].end.y])}return O}function Zo(ct,O){ct.yMin=qn(ct.yMin,O.yMin),ct.yMax=Xr(ct.yMax,O.yMax),ct.xMin=qn(ct.xMin,O.xMin),ct.xMax=Xr(ct.xMax,O.xMax)}let Uh=function(ct,O,Y){let V=[],et=Y.chartObstacles,pt=wo(et,ct),ft=wo(et,O),kt,Pt=Vl(Y.startDirectionX,Wo(O.x-ct.x)>Wo(O.y-ct.y))?"x":"y",Rt,St,Dt,Ct;function At(re,Se,Fe,xe,Oe){let Ze={x:re.x,y:re.y};return Ze[Se]=Fe[xe||Se]+(Oe||0),Ze}function Tt(re,Se,Fe){let xe=Wo(Se[Fe]-re[Fe+"Min"])>Wo(Se[Fe]-re[Fe+"Max"]);return At(Se,Fe,re,Fe+(xe?"Max":"Min"),xe?1:-1)}ft>-1?(kt={start:St=Tt(et[ft],O,Pt),end:O},Ct=St):Ct=O,pt>-1&&(St=Tt(Rt=et[pt],ct,Pt),V.push({start:ct,end:St}),St[Pt]>=ct[Pt]==St[Pt]>=Ct[Pt]&&(Dt=ct[Pt=Pt==="y"?"x":"y"]<O[Pt],V.push({start:St,end:At(St,Pt,Rt,Pt+(Dt?"Max":"Min"),Dt?1:-1)}),Pt=Pt==="y"?"x":"y"));let Yt=V.length?V[V.length-1].end:ct;St=At(Yt,Pt,Ct),V.push({start:Yt,end:St});let Gt=At(St,Pt=Pt==="y"?"x":"y",Ct);return V.push({start:St,end:Gt}),V.push(kt),{path:Ya.applyRadius(Zl(V),Y.radius),obstacles:V}};function Oo(ct,O,Y){let V=Vl(Y.startDirectionX,Wo(O.x-ct.x)>Wo(O.y-ct.y)),et=V?"x":"y",pt=[],ft=Y.obstacleMetrics,kt=Xr(ct.x,O.x)-ft.maxWidth-10,Pt=qn(ct.x,O.x)+ft.maxWidth+10,Rt=Xr(ct.y,O.y)-ft.maxHeight-10,St=qn(ct.y,O.y)+ft.maxHeight+10,Dt,Ct,At,Tt=!1,Yt=Y.chartObstacles,Gt=ya(Yt,Pt),re=ya(Yt,kt);function Se(xe,Oe,Ze){let Te,Ge,Ue,hi,je=xe.x<Oe.x?1:-1;xe.x<Oe.x?(Te=xe,Ge=Oe):(Te=Oe,Ge=xe),xe.y<Oe.y?(hi=xe,Ue=Oe):(hi=Oe,Ue=xe);let oi=je<0?Xr(ya(Yt,Ge.x),Yt.length-1):0;for(;Yt[oi]&&(je>0&&Yt[oi].xMin<=Ge.x||je<0&&Yt[oi].xMax>=Te.x);){if(Yt[oi].xMin<=Ge.x&&Yt[oi].xMax>=Te.x&&Yt[oi].yMin<=Ue.y&&Yt[oi].yMax>=hi.y)return Ze?{y:xe.y,x:xe.x<Oe.x?Yt[oi].xMin-1:Yt[oi].xMax+1,obstacle:Yt[oi]}:{x:xe.x,y:xe.y<Oe.y?Yt[oi].yMin-1:Yt[oi].yMax+1,obstacle:Yt[oi]};oi+=je}return Oe}function Fe(xe,Oe,Ze,Te,Ge){let Ue=Ge.soft,hi=Ge.hard,je=Te?"x":"y",oi={x:Oe.x,y:Oe.y},Ti={x:Oe.x,y:Oe.y},Is=xe[je+"Max"]>=Ue[je+"Max"],is=xe[je+"Min"]<=Ue[je+"Min"],Vi=xe[je+"Max"]>=hi[je+"Max"],kr=xe[je+"Min"]<=hi[je+"Min"],Cr=Wo(xe[je+"Min"]-Oe[je]),xr=Wo(xe[je+"Max"]-Oe[je]),Us=10>Wo(Cr-xr)?Oe[je]<Ze[je]:xr<Cr;Ti[je]=xe[je+"Min"],oi[je]=xe[je+"Max"];let qo=Se(Oe,Ti,Te)[je]!==Ti[je],Fo=Se(Oe,oi,Te)[je]!==oi[je];return Us=qo?!Fo||Us:!Fo&&Us,Us=is?!Is||Us:!Is&&Us,Us=kr?!Vi||Us:!Vi&&Us}for((Gt=wo(Yt=Yt.slice(re,Gt+1),O))>-1&&(At=function(xe,Oe,Ze){let Te=Xr(xe.xMax-Oe.x,Oe.x-xe.xMin)<Xr(xe.yMax-Oe.y,Oe.y-xe.yMin),Ge=Fe(xe,Oe,Ze,Te,{soft:Y.hardBounds,hard:Y.hardBounds});return Te?{y:Oe.y,x:xe[Ge?"xMax":"xMin"]+(Ge?1:-1)}:{x:Oe.x,y:xe[Ge?"yMax":"yMin"]+(Ge?1:-1)}}(Yt[Gt],O,ct),pt.push({end:O,start:At}),O=At);(Gt=wo(Yt,O))>-1;)Ct=O[et]-ct[et]<0,(At={x:O.x,y:O.y})[et]=Yt[Gt][Ct?et+"Max":et+"Min"]+(Ct?1:-1),pt.push({end:O,start:At}),O=At;return{path:Zl(Dt=(Dt=function xe(Oe,Ze,Te){let Ge,Ue,hi,je,oi,Ti,Is;if(Oe.x===Ze.x&&Oe.y===Ze.y)return[];let is=Te?"x":"y",Vi=Y.obstacleOptions.margin,kr={soft:{xMin:kt,xMax:Pt,yMin:Rt,yMax:St},hard:Y.hardBounds};return(oi=wo(Yt,Oe))>-1?(je=Fe(oi=Yt[oi],Oe,Ze,Te,kr),Zo(oi,Y.hardBounds),Is=Te?{y:Oe.y,x:oi[je?"xMax":"xMin"]+(je?1:-1)}:{x:Oe.x,y:oi[je?"yMax":"yMin"]+(je?1:-1)},(Ti=wo(Yt,Is))>-1&&(Zo(Ti=Yt[Ti],Y.hardBounds),Is[is]=je?qn(oi[is+"Max"]-Vi+1,(Ti[is+"Min"]+oi[is+"Max"])/2):Xr(oi[is+"Min"]+Vi-1,(Ti[is+"Max"]+oi[is+"Min"])/2),Oe.x===Is.x&&Oe.y===Is.y?(Tt&&(Is[is]=je?qn(oi[is+"Max"],Ti[is+"Max"])+1:Xr(oi[is+"Min"],Ti[is+"Min"])-1),Tt=!Tt):Tt=!1),Ue=[{start:Oe,end:Is}]):(Ge=Se(Oe,{x:Te?Ze.x:Oe.x,y:Te?Oe.y:Ze.y},Te),Ue=[{start:Oe,end:{x:Ge.x,y:Ge.y}}],Ge[Te?"x":"y"]!==Ze[Te?"x":"y"]&&(je=Fe(Ge.obstacle,Ge,Ze,!Te,kr),Zo(Ge.obstacle,Y.hardBounds),hi={x:Te?Ge.x:Ge.obstacle[je?"xMax":"xMin"]+(je?1:-1),y:Te?Ge.obstacle[je?"yMax":"yMin"]+(je?1:-1):Ge.y},Te=!Te,Ue=Ue.concat(xe({x:Ge.x,y:Ge.y},hi,Te)))),Ue=Ue.concat(xe(Ue[Ue.length-1].end,Ze,!Te))}(ct,O,V)).concat(pt.reverse())),obstacles:Dt}}Uh.requiresObstacles=!0,Oo.requiresObstacles=!0;let an={connectors:{type:"straight",radius:0,lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}},{setOptions:va}=ii(),{defined:kh,error:ba,merge:kn}=ii();function ln(ct){let O=ct.shapeArgs;if(O)return{xMin:O.x||0,xMax:(O.x||0)+(O.width||0),yMin:O.y||0,yMax:(O.y||0)+(O.height||0)};let Y=ct.graphic&&ct.graphic.getBBox();return Y?{xMin:ct.plotX-Y.width/2,xMax:ct.plotX+Y.width/2,yMin:ct.plotY-Y.height/2,yMax:ct.plotY+Y.height/2}:null}(function(ct){function O(et){let pt,ft,kt=ln(this);switch(et.align){case"right":pt="xMax";break;case"left":pt="xMin"}switch(et.verticalAlign){case"top":ft="yMin";break;case"bottom":ft="yMax"}return{x:pt?kt[pt]:(kt.xMin+kt.xMax)/2,y:ft?kt[ft]:(kt.yMin+kt.yMax)/2}}function Y(et,pt){let ft;return!kh(pt)&&(ft=ln(this))&&(pt={x:(ft.xMin+ft.xMax)/2,y:(ft.yMin+ft.yMax)/2}),Math.atan2(pt.y-et.y,et.x-pt.x)}function V(et,pt,ft){let kt=2*Math.PI,Pt=ln(this),Rt=Pt.xMax-Pt.xMin,St=Pt.yMax-Pt.yMin,Dt=Math.atan2(St,Rt),Ct=Rt/2,At=St/2,Tt=Pt.xMin+Ct,Yt=Pt.yMin+At,Gt={x:Tt,y:Yt},re=et,Se=1,Fe=!1,xe=1,Oe=1;for(;re<-Math.PI;)re+=kt;for(;re>Math.PI;)re-=kt;return Se=Math.tan(re),re>-Dt&&re<=Dt?(Oe=-1,Fe=!0):re>Dt&&re<=Math.PI-Dt?Oe=-1:re>Math.PI-Dt||re<=-(Math.PI-Dt)?(xe=-1,Fe=!0):xe=-1,Fe?(Gt.x+=xe*Ct,Gt.y+=Oe*Ct*Se):(Gt.x+=St/(2*Se)*xe,Gt.y+=Oe*At),ft.x!==Tt&&(Gt.x=ft.x),ft.y!==Yt&&(Gt.y=ft.y),{x:Gt.x+pt*Math.cos(re),y:Gt.y-pt*Math.sin(re)}}ct.compose=function(et,pt,ft){let kt=ft.prototype;kt.getPathfinderAnchorPoint||(et.prototype.callbacks.push(function(Pt){Pt.options.connectors.enabled!==!1&&((Pt.options.pathfinder||Pt.series.reduce(function(Rt,St){return St.options&&kn(!0,St.options.connectors=St.options.connectors||{},St.options.pathfinder),Rt||St.options&&St.options.pathfinder},!1))&&(kn(!0,Pt.options.connectors=Pt.options.connectors||{},Pt.options.pathfinder),ba('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new pt(this),this.pathfinder.update(!0))}),kt.getMarkerVector=V,kt.getPathfinderAnchorPoint=O,kt.getRadiansToVector=Y,va(an))}})(si||(si={}));let wa=si;var ka=ke(260),Kn=ke.n(ka);let{addEvent:In,defined:$l,pick:Jn,splat:ql}=ii(),Bn=Math.max,Vh=Math.min;class Ma{static compose(O,Y){wa.compose(O,Ma,Y)}constructor(O){this.init(O)}init(O){this.chart=O,this.connections=[],In(O,"redraw",function(){this.pathfinder.update()})}update(O){let Y=this.chart,V=this,et=V.connections;V.connections=[],Y.series.forEach(function(pt){pt.visible&&!pt.options.isInternal&&pt.points.forEach(function(ft){var St;let kt,Pt=ft.options;Pt&&Pt.dependency&&(Pt.connect=Pt.dependency);let Rt=(St=ft.options)!=null&&St.connect?ql(ft.options.connect):[];ft.visible&&ft.isInside!==!1&&Rt.forEach(Dt=>{let Ct=typeof Dt=="string"?Dt:Dt.to;Ct&&(kt=Y.get(Ct)),kt instanceof Kn()&&kt.series.visible&&kt.visible&&kt.isInside!==!1&&V.connections.push(new _s(ft,kt,typeof Dt=="string"?{}:Dt))})})});for(let pt=0,ft,kt,Pt=et.length,Rt=V.connections.length;pt<Pt;++pt){kt=!1;let St=et[pt];for(ft=0;ft<Rt;++ft){let Dt=V.connections[ft];if((St.options&&St.options.type)===(Dt.options&&Dt.options.type)&&St.fromPoint===Dt.fromPoint&&St.toPoint===Dt.toPoint){Dt.graphics=St.graphics,kt=!0;break}}kt||St.destroy()}delete this.chartObstacles,delete this.lineObstacles,V.renderConnections(O)}renderConnections(O){O?this.chart.series.forEach(function(Y){let V=function(){let et=Y.chart.pathfinder;(et&&et.connections||[]).forEach(function(pt){pt.fromPoint&&pt.fromPoint.series===Y&&pt.render()}),Y.pathfinderRemoveRenderEvent&&(Y.pathfinderRemoveRenderEvent(),delete Y.pathfinderRemoveRenderEvent)};Y.options.animation===!1?V():Y.pathfinderRemoveRenderEvent=In(Y,"afterAnimate",V)}):this.connections.forEach(function(Y){Y.render()})}getChartObstacles(O){let Y=this.chart.series,V=Jn(O.algorithmMargin,0),et=[],pt;for(let ft=0,kt=Y.length;ft<kt;++ft)if(Y[ft].visible&&!Y[ft].options.isInternal)for(let Pt=0,Rt=Y[ft].points.length,St,Dt;Pt<Rt;++Pt)(Dt=Y[ft].points[Pt]).visible&&(St=function(Ct){let At=Ct.shapeArgs;if(At)return{xMin:At.x||0,xMax:(At.x||0)+(At.width||0),yMin:At.y||0,yMax:(At.y||0)+(At.height||0)};let Tt=Ct.graphic&&Ct.graphic.getBBox();return Tt?{xMin:Ct.plotX-Tt.width/2,xMax:Ct.plotX+Tt.width/2,yMin:Ct.plotY-Tt.height/2,yMax:Ct.plotY+Tt.height/2}:null}(Dt))&&et.push({xMin:St.xMin-V,xMax:St.xMax+V,yMin:St.yMin-V,yMax:St.yMax+V});return et=et.sort(function(ft,kt){return ft.xMin-kt.xMin}),$l(O.algorithmMargin)||(pt=O.algorithmMargin=function(ft){let kt,Pt=ft.length,Rt=[];for(let St=0;St<Pt;++St)for(let Dt=St+1;Dt<Pt;++Dt)(kt=function Ct(At,Tt,Yt){let Gt=Jn(Yt,10),re=At.yMax+Gt>Tt.yMin-Gt&&At.yMin-Gt<Tt.yMax+Gt,Se=At.xMax+Gt>Tt.xMin-Gt&&At.xMin-Gt<Tt.xMax+Gt,Fe=re?At.xMin>Tt.xMax?At.xMin-Tt.xMax:Tt.xMin-At.xMax:1/0,xe=Se?At.yMin>Tt.yMax?At.yMin-Tt.yMax:Tt.yMin-At.yMax:1/0;return Se&&re?Gt?Ct(At,Tt,Math.floor(Gt/2)):1/0:Vh(Fe,xe)}(ft[St],ft[Dt]))<80&&Rt.push(kt);return Rt.push(80),Bn(Math.floor(Rt.sort(function(St,Dt){return St-Dt})[Math.floor(Rt.length/10)]/2-1),1)}(et),et.forEach(function(ft){ft.xMin-=pt,ft.xMax+=pt,ft.yMin-=pt,ft.yMax+=pt})),et}getObstacleMetrics(O){let Y=0,V=0,et,pt,ft=O.length;for(;ft--;)et=O[ft].xMax-O[ft].xMin,pt=O[ft].yMax-O[ft].yMin,Y<et&&(Y=et),V<pt&&(V=pt);return{maxHeight:V,maxWidth:Y}}getAlgorithmStartDirection(O){let Y=O.align!=="left"&&O.align!=="right",V=O.verticalAlign!=="top"&&O.verticalAlign!=="bottom";return Y?!!V&&void 0:!!V||void 0}}Ma.prototype.algorithms={fastAvoid:Oo,straight:function(ct,O){return{path:[["M",ct.x,ct.y],["L",O.x,O.y]],obstacles:[{start:ct,end:O}]}},simpleConnect:Uh};let Dn=ii();Dn.Pathfinder=Dn.Pathfinder||Ma,zs.compose(Dn.SVGRenderer),Dn.Pathfinder.compose(Dn.Chart,Dn.Point);let{addEvent:$o,defined:uc,isNumber:_d,pick:Zh}=ii();function Mn(){let ct=this.chart.options.chart;!this.horiz&&_d(this.options.staticScale)&&(!ct.height||ct.scrollablePlotArea&&ct.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}function Qn(){if(this.redrawTrigger!=="adjustHeight"){for(let ct of this.axes||[]){let O=ct.chart,Y=!!O.initiatedScale&&O.options.animation,V=ct.options.staticScale;if(ct.staticScale&&uc(ct.min)){let et=Zh(ct.brokenAxis&&ct.brokenAxis.unitLength,ct.max+ct.tickInterval-ct.min)*V,pt=(et=Math.max(et,V))-O.plotHeight;!O.scrollablePixelsY&&Math.abs(pt)>=1&&(O.plotHeight=et,O.redrawTrigger="adjustHeight",O.setSize(void 0,O.chartHeight+pt,Y)),ct.series.forEach(function(ft){let kt=ft.sharedClipKey&&O.sharedClips[ft.sharedClipKey];kt&&kt.attr(O.inverted?{width:O.plotHeight}:{height:O.plotHeight})})}}this.initiatedScale=!0}this.redrawTrigger=null}let Ld={compose:function(ct,O){let Y=O.prototype;Y.adjustHeight||($o(ct,"afterSetOptions",Mn),Y.adjustHeight=Qn,$o(O,"render",Y.adjustHeight))}},Od=ii();Ld.compose(Od.Axis,Od.Chart);let{correctFloat:fc,isNumber:Sn,isObject:ja}=ii(),{column:{prototype:{pointClass:Sa}}}=Ii().seriesTypes,{extend:Pl}=ii();class $h extends Sa{static getColorByCategory(O,Y){let V=O.options.colors||O.chart.options.colors,et=V?V.length:O.chart.options.chart.colorCount,pt=Y.y%et,ft=V==null?void 0:V[pt];return{colorIndex:pt,color:ft}}resolveColor(){let O=this.series;if(O.options.colorByPoint&&!this.options.color){let Y=$h.getColorByCategory(O,this);O.chart.styledMode||(this.color=Y.color),this.options.colorIndex||(this.colorIndex=Y.colorIndex)}else this.color=this.options.color||O.color}constructor(O,Y){super(O,Y),this.y||(this.y=0)}applyOptions(O,Y){var V;return super.applyOptions(O,Y),this.x2=this.series.chart.time.parse(this.x2),this.isNull=!((V=this.isValid)!=null&&V.call(this)),this}setState(){super.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())}isValid(){return typeof this.x=="number"&&typeof this.x2=="number"}}Pl($h.prototype,{ttBelow:!1,tooltipDateKeys:["x","x2"]});let{composed:Ta,noop:Aa}=ii(),{parse:Kl}=Js(),{column:Jl}=Ii().seriesTypes,{addEvent:zn,clamp:Ql,crisp:Pa,defined:th,extend:ta,find:Tn,isNumber:ko,isObject:Ua,merge:ea,pick:Va,pushUnique:ia,relativeLength:sa}=ii();function Ca(){let ct,O;if(this.isXAxis){for(let Y of(ct=Va(this.dataMax,-Number.MAX_VALUE),this.series)){let V=Y.dataTable.getColumn("x2",!0)||Y.dataTable.getColumn("end",!0);if(V)for(let et of V)ko(et)&&et>ct&&(ct=et,O=!0)}O&&(this.dataMax=ct)}}class Mh extends Jl{static compose(O){ia(Ta,"Series.XRange")&&zn(O,"afterGetSeriesExtremes",Ca)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}getColumnMetrics(){let O=()=>{for(let V of this.chart.series){let et=V.xAxis;V.xAxis=V.yAxis,V.yAxis=et}};O();let Y=super.getColumnMetrics();return O(),Y}cropData(O,Y,V){let et=O.getColumn("x")||[],pt=O.getColumn("x2");O.setColumn("x",pt,void 0,{silent:!0});let ft=super.cropData(O,Y,V);return O.setColumn("x",et.slice(ft.start,ft.end),void 0,{silent:!0}),ft}findPointIndex(O){let Y,{cropStart:V,points:et}=this,{id:pt}=O;if(pt){let ft=Tn(et,kt=>kt.id===pt);Y=ft?ft.index:void 0}if(Y===void 0){let ft=Tn(et,kt=>kt.x===O.x&&kt.x2===O.x2&&!kt.touched);Y=ft?ft.index:void 0}return this.cropped&&ko(Y)&&ko(V)&&Y>=V&&(Y-=V),Y}alignDataLabel(O){var V,et;let Y=O.plotX;O.plotX=Va((V=O.dlBox)==null?void 0:V.centerX,O.plotX),O.dataLabel&&((et=O.shapeArgs)!=null&&et.width)&&O.dataLabel.css({width:`${O.shapeArgs.width}px`}),super.alignDataLabel.apply(this,arguments),O.plotX=Y}translatePoint(O){var Cr,xr;let Y=this.xAxis,V=this.yAxis,et=this.columnMetrics,pt=this.options,ft=pt.minPointLength||0,kt=(((Cr=O.shapeArgs)==null?void 0:Cr.width)||0)/2,Pt=this.pointXOffset=et.offset,Rt=Va(O.x2,O.x+(O.len||0)),St=pt.borderRadius,Dt=this.chart.plotTop,Ct=this.chart.plotLeft,At=O.plotX,Tt=Y.translate(Rt,0,0,0,1),Yt=Math.abs(Tt-At),Gt=this.chart.inverted,re=Va(pt.borderWidth,1),Se,Fe,xe=et.offset,Oe=Math.round(et.width),Ze,Te,Ge,Ue;ft&&((Se=ft-Yt)<0&&(Se=0),At-=Se/2,Tt+=Se/2),At=Math.max(At,-10),Tt=Ql(Tt,-10,Y.len+10),th(O.options.pointWidth)&&(xe-=(Math.ceil(O.options.pointWidth)-Oe)/2,Oe=Math.ceil(O.options.pointWidth)),pt.pointPlacement&&ko(O.plotY)&&V.categories&&(O.plotY=V.translate(O.y,0,1,0,1,pt.pointPlacement));let hi=Pa(Math.min(At,Tt),re),je=Pa(Math.max(At,Tt),re)-hi,oi=Math.min(sa(typeof St=="object"?St.radius:St||0,Oe),Math.min(je,Oe)/2),Ti={x:hi,y:Pa((O.plotY||0)+xe,re),width:je,height:Oe,r:oi};O.shapeArgs=Ti,Gt?O.tooltipPos[1]+=Pt+kt:O.tooltipPos[0]-=kt+Pt-Ti.width/2,Te=(Ze=Ti.x)+Ti.width,Ze<0||Te>Y.len?(Ze=Ql(Ze,0,Y.len),Ge=(Te=Ql(Te,0,Y.len))-Ze,O.dlBox=ea(Ti,{x:Ze,width:Te-Ze,centerX:Ge?Ge/2:null})):O.dlBox=null;let Is=O.tooltipPos,is=+!!Gt,Vi=+!Gt,kr=this.columnMetrics?this.columnMetrics.offset:-et.width/2;Gt?Is[is]+=Ti.width/2:Is[is]=Ql(Is[is]+(Y.reversed?-1:0)*Ti.width,Y.left-Ct,Y.left+Y.len-Ct-1),Is[Vi]=Ql(Is[Vi]+(Gt?-1:1)*kr,V.top-Dt,V.top+V.len-Dt-1),(Fe=O.partialFill)&&(Ua(Fe)&&(Fe=Fe.amount),ko(Fe)||(Fe=0),O.partShapeArgs=ea(Ti),Ue=Math.max(Math.round(Yt*Fe+O.plotX-At),0),O.clipRectArgs={x:Y.reversed?Ti.x+Yt-Ue:Ti.x,y:Ti.y,width:Ue,height:Ti.height}),O.key=O.category||O.name,O.yCategory=(xr=V.categories)==null?void 0:xr[O.y??-1]}translate(){for(let O of(super.translate.apply(this,arguments),this.points))this.translatePoint(O)}drawPoint(O,Y){let V=this.options,et=this.chart.renderer,pt=O.shapeType,ft=O.shapeArgs,kt=O.partShapeArgs,Pt=O.clipRectArgs,Rt=O.state,St=V.states[Rt||"normal"]||{},Dt=Rt===void 0?"attr":Y,Ct=this.pointAttribs(O,Rt),At=Va(this.chart.options.chart.animation,St.animation),Tt=O.graphic,Yt=O.partialFill;if(O.isNull||O.visible===!1)Tt&&(O.graphic=Tt.destroy());else if(Tt?Tt.rect[Y](ft):(O.graphic=Tt=et.g("point").addClass(O.getClassName()).add(O.group||this.group),Tt.rect=et[pt](ea(ft)).addClass(O.getClassName()).addClass("highcharts-partfill-original").add(Tt)),kt&&(Tt.partRect?(Tt.partRect[Y](ea(kt)),Tt.partialClipRect[Y](ea(Pt))):(Tt.partialClipRect=et.clipRect(Pt.x,Pt.y,Pt.width,Pt.height),Tt.partRect=et[pt](kt).addClass("highcharts-partfill-overlay").add(Tt).clip(Tt.partialClipRect))),!this.chart.styledMode&&(Tt.rect[Y](Ct,At).shadow(V.shadow),kt)){Ua(Yt)||(Yt={}),Ua(V.partialFill)&&(Yt=ea(V.partialFill,Yt));let Gt=Yt.fill||Kl(Ct.fill).brighten(-.3).get()||Kl(O.color||this.color).brighten(-.3).get();Ct.fill=Gt,Tt.partRect[Dt](Ct,At).shadow(V.shadow)}}drawPoints(){let O=this.getAnimationVerb();for(let Y of this.points)this.drawPoint(Y,O)}getAnimationVerb(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"}isPointInside(O){let Y=O.shapeArgs,V=O.plotX,et=O.plotY;return Y?V!==void 0&&et!==void 0&&et>=0&&et<=this.yAxis.len&&(Y.x||0)+(Y.width||0)>=0&&V<=this.xAxis.len:super.isPointInside.apply(this,arguments)}}Mh.defaultOptions=ea(Jl.defaultOptions,{colorByPoint:!0,dataLabels:{formatter:function(){let ct=this.partialFill;if(ja(ct)&&(ct=ct.amount),Sn(ct)&&ct>0)return fc(100*ct)+"%"},inside:!0,verticalAlign:"middle",style:{whiteSpace:"nowrap"}},tooltip:{headerFormat:'<span style="font-size: 0.8em">{ucfirst point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0}),ta(Mh.prototype,{pointClass:$h,pointArrayMap:["x2","y"],getExtremesFromAll:!0,keysAffectYAxis:["y"],parallelArrays:["x","x2","y"],requireSorting:!1,type:"xrange",animate:Ii().series.prototype.animate,autoIncrement:Aa,buildKDTree:Aa}),Ii().registerSeriesType("xrange",Mh);/**
* @license Highcharts JS v12.3.0 (2025-06-21)
* @module highcharts/modules/xrange
* @requires highcharts
*
* X-range series
*
* (c) 2010-2025 Torstein Honsi, Lars A. V. Cabrera
*
* License: www.highcharts.com/license
*/let Ed=ii();Mh.compose(Ed.Axis);let{xrange:{prototype:{pointClass:An}}}=Ii().seriesTypes;class Er extends An{static setGanttPointAliases(O,Y){O.x=O.start=Y.time.parse(O.start??O.x),O.x2=O.end=Y.time.parse(O.end??O.x2),O.partialFill=O.completed=O.completed??O.partialFill}applyOptions(O,Y){var et;let V=super.applyOptions(O,Y);return Er.setGanttPointAliases(V,V.series.chart),this.isNull=!((et=this.isValid)!=null&&et.call(this)),V}isValid(){return(typeof this.start=="number"||typeof this.x=="number")&&(typeof this.end=="number"||typeof this.x2=="number"||this.milestone)}}let{isNumber:ir}=ii();var Id=ke(184),Bd=ke.n(Id);let{addEvent:ra,find:Cl,fireEvent:bs,isArray:o,isNumber:x,pick:I}=ii();(function(ct){function O(){this.brokenAxis!==void 0&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function Y(){var St;(St=this.brokenAxis)!=null&&St.hasBreaks&&(this.options.ordinal=!1)}function V(){let St=this.brokenAxis;if(St!=null&&St.hasBreaks){let Dt=this.tickPositions,Ct=this.tickPositions.info,At=[];for(let Tt=0;Tt<Dt.length;Tt++)St.isInAnyBreak(Dt[Tt])||At.push(Dt[Tt]);this.tickPositions=At,this.tickPositions.info=Ct}}function et(){this.brokenAxis||(this.brokenAxis=new Rt(this))}function pt(){var Yt,Gt;let{isDirty:St,options:{connectNulls:Dt},points:Ct,xAxis:At,yAxis:Tt}=this;if(St){let re=Ct.length;for(;re--;){let Se=Ct[re],Fe=(Se.y!==null||Dt!==!1)&&(((Yt=At==null?void 0:At.brokenAxis)==null?void 0:Yt.isInAnyBreak(Se.x,!0))||((Gt=Tt==null?void 0:Tt.brokenAxis)==null?void 0:Gt.isInAnyBreak(Se.y,!0)));Se.visible=!Fe&&Se.options.visible!==!1}}}function ft(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,I(this.pointArrayMap,["y"]))}function kt(St,Dt){var re;let Ct,At,Tt,Yt=this,Gt=Yt.points;if((re=St==null?void 0:St.brokenAxis)!=null&&re.hasBreaks){let Se=St.brokenAxis;Dt.forEach(function(Fe){var Oe,Ze;Ct=(Se==null?void 0:Se.breakArray)||[],At=St.isXAxis?St.min:I(Yt.options.threshold,St.min);let xe=(Ze=(Oe=St==null?void 0:St.options)==null?void 0:Oe.breaks)==null?void 0:Ze.filter(function(Te){let Ge=!0;for(let Ue=0;Ue<Ct.length;Ue++){let hi=Ct[Ue];if(hi.from===Te.from&&hi.to===Te.to){Ge=!1;break}}return Ge});Gt.forEach(function(Te){Tt=I(Te["stack"+Fe.toUpperCase()],Te[Fe]),Ct.forEach(function(Ge){if(x(At)&&x(Tt)){let Ue="";At<Ge.from&&Tt>Ge.to||At>Ge.from&&Tt<Ge.from?Ue="pointBreak":(At<Ge.from&&Tt>Ge.from&&Tt<Ge.to||At>Ge.from&&Tt>Ge.to&&Tt<Ge.from)&&(Ue="pointInBreak"),Ue&&bs(St,Ue,{point:Te,brk:Ge})}}),xe==null||xe.forEach(function(Ge){bs(St,"pointOutsideOfBreak",{point:Te,brk:Ge})})})})}}function Pt(){let St=this.currentDataGrouping,Dt=St==null?void 0:St.gapSize,Ct=this.points.slice(),At=this.yAxis,Tt=this.options.gapSize,Yt=Ct.length-1;if(Tt&&Yt>0){let Gt,re;for(this.options.gapUnit!=="value"&&(Tt*=this.basePointRange),Dt&&Dt>Tt&&Dt>=this.basePointRange&&(Tt=Dt);Yt--;)if(re&&re.visible!==!1||(re=Ct[Yt+1]),Gt=Ct[Yt],re.visible!==!1&&Gt.visible!==!1){if(re.x-Gt.x>Tt){let Se=(Gt.x+re.x)/2;Ct.splice(Yt+1,0,{isNull:!0,x:Se}),At.stacking&&this.options.stacking&&((At.stacking.stacks[this.stackKey][Se]=new(Bd())(At,At.options.stackLabels,!1,Se,this.stack)).total=0)}re=Gt}}return this.getGraphPath(Ct)}ct.compose=function(St,Dt){if(!St.keepProps.includes("brokenAxis")){St.keepProps.push("brokenAxis"),ra(St,"init",et),ra(St,"afterInit",O),ra(St,"afterSetTickPositions",V),ra(St,"afterSetOptions",Y);let Ct=Dt.prototype;Ct.drawBreaks=kt,Ct.gappedPath=Pt,ra(Dt,"afterGeneratePoints",pt),ra(Dt,"afterRender",ft)}return St};class Rt{static isInBreak(Dt,Ct){let At=Dt.repeat||1/0,Tt=Dt.from,Yt=Dt.to-Dt.from,Gt=Ct>=Tt?(Ct-Tt)%At:At-(Tt-Ct)%At;return Dt.inclusive?Gt<=Yt:Gt<Yt&&Gt!==0}static lin2Val(Dt){let Ct=this.brokenAxis,At=Ct==null?void 0:Ct.breakArray;if(!At||!x(Dt))return Dt;let Tt=Dt,Yt,Gt;for(Gt=0;Gt<At.length&&!((Yt=At[Gt]).from>=Tt);Gt++)(Yt.to<Tt||Rt.isInBreak(Yt,Tt))&&(Tt+=Yt.len);return Tt}static val2Lin(Dt){let Ct=this.brokenAxis,At=Ct==null?void 0:Ct.breakArray;if(!At||!x(Dt))return Dt;let Tt=Dt,Yt,Gt;for(Gt=0;Gt<At.length;Gt++)if((Yt=At[Gt]).to<=Dt)Tt-=Yt.len;else{if(Yt.from>=Dt)break;if(Rt.isInBreak(Yt,Dt)){Tt-=Dt-Yt.from;break}}return Tt}constructor(Dt){this.hasBreaks=!1,this.axis=Dt}findBreakAt(Dt,Ct){return Cl(Ct,function(At){return At.from<Dt&&Dt<At.to})}isInAnyBreak(Dt,Ct){let At=this.axis,Tt=At.options.breaks||[],Yt=Tt.length,Gt,re,Se;if(Yt&&x(Dt)){for(;Yt--;)Rt.isInBreak(Tt[Yt],Dt)&&(Gt=!0,re||(re=I(Tt[Yt].showPoints,!At.isXAxis)));Se=Gt&&Ct?Gt&&!re:Gt}return Se}setBreaks(Dt,Ct){let At=this,Tt=At.axis,Yt=Tt.chart.time,Gt=o(Dt)&&!!Dt.length&&!!Object.keys(Dt[0]).length;Tt.isDirty=At.hasBreaks!==Gt,At.hasBreaks=Gt,Dt==null||Dt.forEach(re=>{re.from=Yt.parse(re.from)||0,re.to=Yt.parse(re.to)||0}),Dt!==Tt.options.breaks&&(Tt.options.breaks=Tt.userOptions.breaks=Dt),Tt.forceRedraw=!0,Tt.series.forEach(function(re){re.isDirty=!0}),Gt||Tt.val2lin!==Rt.val2Lin||(delete Tt.val2lin,delete Tt.lin2val),Gt&&(Tt.userOptions.ordinal=!1,Tt.lin2val=Rt.lin2Val,Tt.val2lin=Rt.val2Lin,Tt.setExtremes=function(re,Se,Fe,xe,Oe){if(At.hasBreaks){let Ze,Te=this.options.breaks||[];for(;Ze=At.findBreakAt(re,Te);)re=Ze.to;for(;Ze=At.findBreakAt(Se,Te);)Se=Ze.from;Se<re&&(Se=re)}Tt.constructor.prototype.setExtremes.call(this,re,Se,Fe,xe,Oe)},Tt.setAxisTranslation=function(){if(Tt.constructor.prototype.setAxisTranslation.call(this),At.unitLength=void 0,At.hasBreaks){let re=Tt.options.breaks||[],Se=[],Fe=[],xe=I(Tt.pointRangePadding,0),Oe=0,Ze,Te,Ge=Tt.userMin||Tt.min,Ue=Tt.userMax||Tt.max,hi,je;re.forEach(function(oi){Te=oi.repeat||1/0,x(Ge)&&x(Ue)&&(Rt.isInBreak(oi,Ge)&&(Ge+=oi.to%Te-Ge%Te),Rt.isInBreak(oi,Ue)&&(Ue-=Ue%Te-oi.from%Te))}),re.forEach(function(oi){if(hi=oi.from,Te=oi.repeat||1/0,x(Ge)&&x(Ue)){for(;hi-Te>Ge;)hi-=Te;for(;hi<Ge;)hi+=Te;for(je=hi;je<Ue;je+=Te)Se.push({value:je,move:"in"}),Se.push({value:je+oi.to-oi.from,move:"out",size:oi.breakSize})}}),Se.sort(function(oi,Ti){return oi.value===Ti.value?(oi.move!=="in")-(Ti.move!=="in"):oi.value-Ti.value}),Ze=0,hi=Ge,Se.forEach(function(oi){(Ze+=oi.move==="in"?1:-1)===1&&oi.move==="in"&&(hi=oi.value),Ze===0&&x(hi)&&(Fe.push({from:hi,to:oi.value,len:oi.value-hi-(oi.size||0)}),Oe+=oi.value-hi-(oi.size||0))}),At.breakArray=Fe,x(Ge)&&x(Ue)&&x(Tt.min)&&(At.unitLength=Ue-Ge-Oe+xe,bs(Tt,"afterBreaks"),Tt.staticScale?Tt.transA=Tt.staticScale:At.unitLength&&(Tt.transA*=(Ue-Tt.min+xe)/At.unitLength),xe&&(Tt.minPixelPadding=Tt.transA*(Tt.minPointOffset||0)),Tt.min=Ge,Tt.max=Ue)}}),I(Ct,!0)&&Tt.chart.redraw()}}ct.Additions=Rt})(zi||(zi={}));let j=zi,{dateFormats:nt}=ii(),{addEvent:bt,defined:$t,erase:ye,find:de,isArray:pe,isNumber:ci,merge:Wi,pick:ds,timeUnits:bi,wrap:Ai}=ii();function to(ct){return ii().isObject(ct,!0)}function hn(ct,O){let Y={width:0,height:0};if(O.forEach(function(V){let et=ct[V],pt=0,ft=0,kt;to(et)&&(pt=(kt=to(et.label)?et.label:{}).getBBox?kt.getBBox().height:0,kt.textStr&&!ci(kt.textPxLength)&&(kt.textPxLength=kt.getBBox().width),ft=ci(kt.textPxLength)?Math.round(kt.textPxLength):0,kt.textStr&&(ft=Math.round(kt.getBBox().width)),Y.height=Math.max(pt,Y.height),Y.width=Math.max(ft,Y.width))}),this.type==="treegrid"&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode){let V=this.treeGrid.mapOfPosToGridNode[-1].height||0;Y.width+=this.options.labels.indentation*(V-1)}return Y}function Za(ct){let{grid:O}=this,Y=this.side===3;if(Y||ct.apply(this),!(O!=null&&O.isColumn)){let V=(O==null?void 0:O.columns)||[];Y&&(V=V.slice().reverse()),V.forEach(et=>{et.getOffset()})}Y&&ct.apply(this)}function rs(ct){if((this.options.grid||{}).enabled===!0){let{axisTitle:O,height:Y,horiz:V,left:et,offset:pt,opposite:ft,options:kt,top:Pt,width:Rt}=this,St=this.tickSize(),Dt=O==null?void 0:O.getBBox().width,Ct=kt.title.x,At=kt.title.y,Tt=ds(kt.title.margin,V?5:10),Yt=O?this.chart.renderer.fontMetrics(O).f:0,Gt=(V?Pt+Y:et)+(V?1:-1)*(ft?-1:1)*(St?St[0]/2:0)+(this.side===Gi.bottom?Yt:0);ct.titlePosition.x=V?et-(Dt||0)/2-Tt+Ct:Gt+(ft?Rt:0)+pt+Ct,ct.titlePosition.y=V?Gt-(ft?Y:0)+(ft?Yt:-Yt)/2+pt+At:Pt-Tt+At}}function Sh(){let{chart:ct,options:{grid:O={}},userOptions:Y}=this;if(O.enabled&&function(V){let et=V.options;et.labels.align=ds(et.labels.align,"center"),V.categories||(et.showLastLabel=!1),V.labelRotation=0,et.labels.rotation=0,et.minTickInterval=1}(this),O.columns){let V=this.grid.columns=[],et=this.grid.columnIndex=0;for(;++et<O.columns.length;){let pt=Wi(Y,O.columns[et],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}}),ft=new(ti())(this.chart,pt,"yAxis");ft.grid.isColumn=!0,ft.grid.columnIndex=et,ye(ct.axes,ft),ye(ct[this.coll]||[],ft),V.push(ft)}}}function Th(){var V,et;let{axisTitle:ct,grid:O,options:Y}=this;if((Y.grid||{}).enabled===!0){let pt=this.min||0,ft=this.max||0,kt=this.ticks[this.tickPositions[0]];if(ct&&!this.chart.styledMode&&(kt!=null&&kt.slotWidth)&&!this.options.title.style.width&&ct.css({width:`${kt.slotWidth}px`}),this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),((V=this.grid)==null?void 0:V.isOuterAxis())&&this.axisLine){let Pt=Y.lineWidth;if(Pt){let Rt=this.getLinePath(Pt),St=Rt[0],Dt=Rt[1],Ct=(this.tickSize("tick")||[1])[0]*(this.side===Gi.top||this.side===Gi.left?-1:1);if(St[0]==="M"&&Dt[0]==="L"&&(this.horiz?(St[2]+=Ct,Dt[2]+=Ct):(St[1]+=Ct,Dt[1]+=Ct)),!this.horiz&&this.chart.marginRight){let At=["L",this.left,St[2]||0],Tt=[St,At],Yt=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(ft+this.tickmarkOffset)],Gt=[["M",Dt[1]||0,this.toPixels(ft+this.tickmarkOffset)],Yt];this.grid.upperBorder||pt%1==0||(this.grid.upperBorder=this.grid.renderBorder(Tt)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:Y.lineColor,"stroke-width":Y.lineWidth}),this.grid.upperBorder.animate({d:Tt})),this.grid.lowerBorder||ft%1==0||(this.grid.lowerBorder=this.grid.renderBorder(Gt)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:Y.lineColor,"stroke-width":Y.lineWidth}),this.grid.lowerBorder.animate({d:Gt}))}this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:Y.lineColor,"stroke-width":Y.lineWidth}),this.grid.axisLineExtra.animate({d:Rt})):this.grid.axisLineExtra=this.grid.renderBorder(Rt),this.axisLine[this.showAxis?"show":"hide"]()}}if(((O==null?void 0:O.columns)||[]).forEach(Pt=>Pt.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||((et=this.linkedParent)==null?void 0:et.scrollbar))&&this.tickPositions.length){let Pt,Rt,St=this.tickmarkOffset,Dt=this.tickPositions[this.tickPositions.length-1],Ct=this.tickPositions[0];for(;(Pt=this.hiddenLabels.pop())&&Pt.element;)Pt.show();for(;(Rt=this.hiddenMarks.pop())&&Rt.element;)Rt.show();(Pt=this.ticks[Ct].label)&&(pt-Ct>St?this.hiddenLabels.push(Pt.hide()):Pt.show()),(Pt=this.ticks[Dt].label)&&(Dt-ft>St?this.hiddenLabels.push(Pt.hide()):Pt.show());let At=this.ticks[Dt].mark;At&&Dt-ft<St&&Dt-ft>0&&this.ticks[Dt].isLast&&this.hiddenMarks.push(At.hide())}}}function eh(){var et;let ct=(et=this.tickPositions)==null?void 0:et.info,O=this.options,Y=O.grid||{},V=this.userOptions.labels||{};Y.enabled&&(this.horiz?(this.series.forEach(pt=>{pt.options.pointRange=0}),ct&&O.dateTimeLabelFormats&&O.labels&&!$t(V.align)&&(O.dateTimeLabelFormats[ct.unitName].range===!1||ct.count>1)&&(O.labels.align="left",$t(V.x)||(O.labels.x=3))):this.type!=="treegrid"&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function qc(ct){let O,Y=this.options,V=ct.userOptions,et=Y&&to(Y.grid)?Y.grid:{};et.enabled===!0&&(O=Wi(!0,{className:"highcharts-grid-axis "+(V.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},V),this.coll==="xAxis"&&($t(V.linkedTo)&&!$t(V.tickPixelInterval)&&(O.tickPixelInterval=350),!(!$t(V.tickPixelInterval)&&$t(V.linkedTo))||$t(V.tickPositioner)||$t(V.tickInterval)||$t(V.units)||(O.tickPositioner=function(pt,ft){var Pt,Rt;let kt=(Rt=(Pt=this.linkedParent)==null?void 0:Pt.tickPositions)==null?void 0:Rt.info;if(kt){let St=O.units||[],Dt,Ct=1,At="year";for(let Gt=0;Gt<St.length;Gt++){let re=St[Gt];if(re&&re[0]===kt.unitName){Dt=Gt;break}}let Tt=ci(Dt)&&St[Dt+1];if(Tt){At=Tt[0]||"year";let Gt=Tt[1];Ct=(Gt==null?void 0:Gt[0])||1}else kt.unitName==="year"&&(Ct=10*kt.count);let Yt=bi[At];return this.tickInterval=Yt*Ct,this.chart.time.getTimeTicks({unitRange:Yt,count:Ct,unitName:At},pt,ft,this.options.startOfWeek)}})),Wi(!0,this.options,O),this.horiz&&(Y.minPadding=ds(V.minPadding,0),Y.maxPadding=ds(V.maxPadding,0)),ci(Y.grid.borderWidth)&&(Y.tickWidth=Y.lineWidth=et.borderWidth))}function Dd(ct){let O=ct.userOptions,Y=(O==null?void 0:O.grid)||{},V=Y.columns;Y.enabled&&V&&Wi(!0,this.options,V[0])}function nr(){(this.grid.columns||[]).forEach(ct=>ct.setScale())}function _l(ct){let{horiz:O,maxLabelDimensions:Y,options:{grid:V={}}}=this;if(V.enabled&&Y){let et=2*this.options.labels.distance,pt=O?V.cellHeight||et+Y.height:et+Y.width;pe(ct.tickSize)?ct.tickSize[0]=pt:ct.tickSize=[pt,0]}}function gc(){this.axes.forEach(ct=>{var O;(((O=ct.grid)==null?void 0:O.columns)||[]).forEach(Y=>{Y.setAxisSize(),Y.setAxisTranslation()})})}function mc(ct){let{grid:O}=this;(O.columns||[]).forEach(Y=>Y.destroy(ct.keepEvents)),O.columns=void 0}function qh(ct){let O=ct.userOptions||{},Y=O.grid||{};Y.enabled&&$t(Y.borderColor)&&(O.tickColor=O.lineColor=Y.borderColor),this.grid||(this.grid=new Xp(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function Ah(ct){let O=this.label,Y=this.axis,V=Y.reversed,et=Y.chart,pt=Y.options.grid||{},ft=Y.options.labels,kt=ft.align,Pt=Gi[Y.side],Rt=ct.tickmarkOffset,St=Y.tickPositions,Dt=this.pos-Rt,Ct=ci(St[ct.index+1])?St[ct.index+1]-Rt:(Y.max||0)+Rt,At=Y.tickSize("tick"),Tt=At?At[0]:0,Yt=At?At[1]/2:0;if(pt.enabled===!0){let Gt,re,Se,Fe;if(Pt==="top"?re=(Gt=Y.top+Y.offset)-Tt:Pt==="bottom"?Gt=(re=et.chartHeight-Y.bottom+Y.offset)+Tt:(Gt=Y.top+Y.len-(Y.translate(V?Ct:Dt)||0),re=Y.top+Y.len-(Y.translate(V?Dt:Ct)||0)),Pt==="right"?Fe=(Se=et.chartWidth-Y.right+Y.offset)+Tt:Pt==="left"?Se=(Fe=Y.left+Y.offset)-Tt:(Se=Math.round(Y.left+(Y.translate(V?Ct:Dt)||0))-Yt,Fe=Math.min(Math.round(Y.left+(Y.translate(V?Dt:Ct)||0))-Yt,Y.left+Y.len)),this.slotWidth=Fe-Se,ct.pos.x=kt==="left"?Se:kt==="right"?Fe:Se+(Fe-Se)/2,ct.pos.y=re+(Gt-re)/2,O){let xe=et.renderer.fontMetrics(O),Oe=O.getBBox().height;if(ft.useHTML)ct.pos.y+=xe.b+-(Oe/2);else{let Ze=Math.round(Oe/xe.h);ct.pos.y+=(xe.b-(xe.h-xe.f))/2+-((Ze-1)*xe.h/2)}}ct.pos.x+=Y.horiz&&ft.x||0}}function Kh(ct){var V;let{axis:O,value:Y}=ct;if((V=O.options.grid)!=null&&V.enabled){let et,pt=O.tickPositions,ft=(O.linkedParent||O).series[0],kt=Y===pt[0],Pt=Y===pt[pt.length-1],Rt=ft&&de(ft.options.data,function(St){return St[O.isXAxis?"x":"y"]===Y});Rt&&ft.is("gantt")&&(et=Wi(Rt),ii().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(et,O.chart)),ct.isFirst=kt,ct.isLast=Pt,ct.point=et}}function _a(){var re,Se;let ct=this.options,O=ct.grid||{},Y=this.categories,V=this.tickPositions,et=V[0],pt=V[1],ft=V[V.length-1],kt=V[V.length-2],Pt=(re=this.linkedParent)==null?void 0:re.min,Rt=(Se=this.linkedParent)==null?void 0:Se.max,St=Pt||this.min,Dt=Rt||this.max,Ct=this.tickInterval,At=ci(St)&&St>=et+Ct&&St<pt,Tt=ci(St)&&et<St&&et+Ct>St,Yt=ci(Dt)&&ft>Dt&&ft-Ct<Dt,Gt=ci(Dt)&&Dt<=ft-Ct&&Dt>kt;O.enabled===!0&&!Y&&(this.isXAxis||this.isLinked)&&((Tt||At)&&!ct.startOnTick&&(V[0]=St),(Yt||Gt)&&!ct.endOnTick&&(V[V.length-1]=Dt))}function of(ct){var O;let{options:{grid:Y={}}}=this;return Y.enabled===!0&&this.categories?this.tickInterval:ct.apply(this,(O=arguments,Array.prototype.slice.call(O,1)))}(function(ct){ct[ct.top=0]="top",ct[ct.right=1]="right",ct[ct.bottom=2]="bottom",ct[ct.left=3]="left"})(Gi||(Gi={}));class Xp{constructor(O){this.axis=O}isOuterAxis(){var Pt;let O=this.axis,Y=O.chart,V=O.grid.columnIndex,et=((Pt=O.linkedParent)==null?void 0:Pt.grid.columns)||O.grid.columns||[],pt=V?O.linkedParent:O,ft=-1,kt=0;return O.side===3&&!Y.inverted&&et.length?!O.linkedParent:((Y[O.coll]||[]).forEach((Rt,St)=>{Rt.side!==O.side||Rt.options.isInternal||(kt=St,Rt===pt&&(ft=St))}),kt===ft&&(!ci(V)||et.length===V))}renderBorder(O){let Y=this.axis,V=Y.chart.renderer,et=Y.options,pt=V.path(O).addClass("highcharts-axis-line").add(Y.axisGroup);return V.styledMode||pt.attr({stroke:et.lineColor,"stroke-width":et.lineWidth,zIndex:7}),pt}}nt.E=function(ct){return this.dateFormat("%a",ct,!0).charAt(0)},nt.W=function(ct){let O=this.toParts(ct),Y=(O[7]+6)%7,V=O.slice(0);V[2]=O[2]-Y+3;let et=this.toParts(this.makeTime(V[0],0,1));return et[7]!==4&&(O[1]=0,O[2]=1+(11-et[7])%7),(1+Math.floor((this.makeTime(V[0],V[1],V[2])-this.makeTime(et[0],et[1],et[2]))/6048e5)).toString()};let nf={compose:function(ct,O,Y){return ct.keepProps.includes("grid")||(ct.keepProps.push("grid"),ct.prototype.getMaxLabelDimensions=hn,Ai(ct.prototype,"unsquish",of),Ai(ct.prototype,"getOffset",Za),bt(ct,"init",qh),bt(ct,"afterGetTitlePosition",rs),bt(ct,"afterInit",Sh),bt(ct,"afterRender",Th),bt(ct,"afterSetAxisTranslation",eh),bt(ct,"afterSetOptions",qc),bt(ct,"afterSetOptions",Dd),bt(ct,"afterSetScale",nr),bt(ct,"afterTickSize",_l),bt(ct,"trimTicks",_a),bt(ct,"destroy",mc),bt(O,"afterSetChartSize",gc),bt(Y,"afterGetLabelPosition",Ah),bt(Y,"labelFormat",Kh)),ct}},{extend:Yp,isNumber:xc,pick:Kc}=ii();function Pn(ct,O,Y,V,et,pt){let ft=pt&&pt.after,kt=pt&&pt.before,Pt={data:V,depth:Y-1,id:ct,level:Y,parent:O||""},Rt=0,St=0,Dt,Ct;typeof kt=="function"&&kt(Pt,pt);let At=(et[ct]||[]).map(Tt=>{let Yt=Pn(Tt.id,ct,Y+1,Tt,et,pt),Gt=Tt.start||NaN,re=Tt.milestone===!0?Gt:Tt.end||NaN;return Dt=!xc(Dt)||Gt<Dt?Gt:Dt,Ct=!xc(Ct)||re>Ct?re:Ct,Rt=Rt+1+Yt.descendants,St=Math.max(Yt.height+1,St),Yt});return V&&(V.start=Kc(V.start,Dt),V.end=Kc(V.end,Ct)),Yp(Pt,{children:At,descendants:Rt,height:St}),typeof ft=="function"&&ft(Pt,pt),Pt}let Jc={getNode:Pn,getTree:function(ct,O){return Pn("",null,1,null,function(Y){let V=[],et=Y.reduce((pt,ft)=>{let{parent:kt="",id:Pt}=ft;return pt[kt]===void 0&&(pt[kt]=[]),pt[kt].push(ft),Pt&&V.push(Pt),pt},{});return Object.keys(et).forEach(pt=>{if(pt!==""&&V.indexOf(pt)===-1){let ft=et[pt].map(function(kt){let{...Pt}=kt;return Pt});et[""].push(...ft),delete et[pt]}}),et}(ct),O)}},{addEvent:Jh,removeEvent:pl,isObject:yc,isNumber:Qc,pick:Qh,wrap:td}=ii();function af(){this.treeGrid||(this.treeGrid=new jp(this))}function Ph(ct,O,Y,V,et,pt,ft,kt,Pt){var re;let Rt,St,Dt,Ct=Qh((re=this.options)==null?void 0:re.labels,pt),At=this.pos,Tt=this.axis,Yt=Tt.type==="treegrid",Gt=ct.apply(this,[O,Y,V,et,Ct,ft,kt,Pt]);if(Yt){let{width:Se=0,padding:Fe=5*!Tt.linkedParent}=Ct&&yc(Ct.symbol,!0)?Ct.symbol:{},xe=Ct&&Qc(Ct.indentation)?Ct.indentation:0;Rt=Tt.treeGrid.mapOfPosToGridNode,St=Rt==null?void 0:Rt[At],Dt=(St==null?void 0:St.depth)||1,Gt.x+=Se+2*Fe+(Dt-1)*xe}return Gt}function zd(ct){let O,{pos:Y,axis:V,label:et,treeGrid:pt,options:ft}=this,kt=pt==null?void 0:pt.labelIcon,Pt=et==null?void 0:et.element,{treeGrid:Rt,options:St,chart:Dt,tickPositions:Ct}=V,At=Rt.mapOfPosToGridNode,Tt=Qh(ft==null?void 0:ft.labels,St==null?void 0:St.labels),Yt=Tt&&yc(Tt.symbol,!0)?Tt.symbol:{},Gt=At==null?void 0:At[Y],{descendants:re,depth:Se}=Gt||{},Fe=Gt&&re&&re>0,xe=V.type==="treegrid"&&Pt,Oe=Ct.indexOf(Y)>-1,Ze="highcharts-treegrid-node-",Te=Ze+"level-",Ge=Dt.styledMode;xe&&Gt&&et.removeClass(RegExp(Te+".*")).addClass(Te+Se),ct.apply(this,Array.prototype.slice.call(arguments,1)),xe&&Fe?(O=Rt.isCollapsed(Gt),function(Ue,hi){let je=Ue.treeGrid,oi=!je.labelIcon,Ti=hi.renderer,Is=hi.xy,is=hi.options,Vi=is.width||0,kr=is.height||0,Cr=is.padding??Ue.axis.linkedParent?0:5,xr={x:Is.x-Vi/2-Cr,y:Is.y-kr/2},Us=hi.collapsed?90:180,qo=hi.show&&Qc(xr.y),Fo=je.labelIcon;Fo||(je.labelIcon=Fo=Ti.path(Ti.symbols[is.type](is.x||0,is.y||0,Vi,kr)).addClass("highcharts-label-icon").add(hi.group)),Fo[qo?"show":"hide"](),Ti.styledMode||Fo.attr({cursor:"pointer",fill:Qh(hi.color,"#666666"),"stroke-width":1,stroke:is.lineColor,strokeWidth:is.lineWidth||0}),Fo[oi?"attr":"animate"]({translateX:xr.x,translateY:xr.y,rotation:Us})}(this,{color:!Ge&&et.styles.color||"",collapsed:O,group:et.parentGroup,options:Yt,renderer:et.renderer,show:Oe,xy:et.xy}),et.addClass(Ze+(O?"collapsed":"expanded")).removeClass(Ze+(O?"expanded":"collapsed")),Ge||et.css({cursor:"pointer"}),[et,kt].forEach(Ue=>{Ue&&!Ue.attachedTreeGridEvents&&(Jh(Ue.element,"mouseover",function(){et.addClass("highcharts-treegrid-node-active"),et.renderer.styledMode||et.css({textDecoration:"underline"})}),Jh(Ue.element,"mouseout",function(){let hi=yc(Tt.style)?Tt.style:{};et.removeClass("highcharts-treegrid-node-active"),et.renderer.styledMode||et.css({textDecoration:hi.textDecoration||"none"})}),Jh(Ue.element,"click",function(){pt.toggleCollapse()}),Ue.attachedTreeGridEvents=!0)})):kt&&(pl(Pt),et==null||et.css({cursor:"default"}),kt.destroy())}class jp{static compose(O){let Y=O.prototype;Y.toggleCollapse||(Jh(O,"init",af),td(Y,"getLabelPosition",Ph),td(Y,"renderLabel",zd),Y.collapse=function(V){this.treeGrid.collapse(V)},Y.expand=function(V){this.treeGrid.expand(V)},Y.toggleCollapse=function(V){this.treeGrid.toggleCollapse(V)})}constructor(O){this.tick=O}collapse(O){let Y=this.tick,V=Y.axis,et=V.brokenAxis;if(et&&V.treeGrid.mapOfPosToGridNode){let pt=Y.pos,ft=V.treeGrid.mapOfPosToGridNode[pt],kt=V.treeGrid.collapse(ft);et.setBreaks(kt,Qh(O,!0))}}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(O){let{pos:Y,axis:V}=this.tick,{treeGrid:et,brokenAxis:pt}=V,ft=et.mapOfPosToGridNode;if(pt&&ft){let kt=ft[Y],Pt=et.expand(kt);pt.setBreaks(Pt,Qh(O,!0))}}toggleCollapse(O){let Y=this.tick,V=Y.axis,et=V.brokenAxis;if(et&&V.treeGrid.mapOfPosToGridNode){let pt=Y.pos,ft=V.treeGrid.mapOfPosToGridNode[pt],kt=V.treeGrid.toggleCollapse(ft);et.setBreaks(kt,Qh(O,!0))}}}let{extend:Up,isArray:tp,isNumber:vc,isObject:ed,merge:ih,pick:Vp,relativeLength:Zp}=ii(),{getLevelOptions:id}={getLevelOptions:function(ct){let O,Y,V,et,pt,ft,kt={};if(ed(ct))for(et=vc(ct.from)?ct.from:1,ft=ct.levels,Y={},O=ed(ct.defaults)?ct.defaults:{},tp(ft)&&(Y=ft.reduce((Pt,Rt)=>{let St,Dt,Ct;return ed(Rt)&&vc(Rt.level)&&(Dt=Vp((Ct=ih({},Rt)).levelIsConstant,O.levelIsConstant),delete Ct.levelIsConstant,delete Ct.level,ed(Pt[St=Rt.level+(Dt?0:et-1)])?ih(!0,Pt[St],Ct):Pt[St]=Ct),Pt},{})),pt=vc(ct.to)?ct.to:1,V=0;V<=pt;V++)kt[V]=ih({},O,ed(Y[V])?Y[V]:{});return kt}},{addEvent:oa,isArray:$p,splat:ep,find:ip,fireEvent:bc,isObject:ul,isString:qp,merge:Ch,pick:wc,removeEvent:sp,wrap:Ll}=ii();function Rd(ct,O){let Y=ct.collapseEnd||0,V=ct.collapseStart||0;return Y>=O&&(V-=.5),{from:V,to:Y,showPoints:!1}}function sh(ct,O,Y){let V=[],et=[],pt={},ft=O||!1,kt={},Pt=-1,Rt=Jc.getTree(ct,{after:function(St){let Dt=kt[St.pos],Ct=0,At=0;Dt.children.forEach(function(Tt){At+=(Tt.descendants||0)+1,Ct=Math.max((Tt.height||0)+1,Ct)}),Dt.descendants=At,Dt.height=Ct,Dt.collapsed&&et.push(Dt)},before:function(St){let Dt,Ct,At=ul(St.data,!0)?St.data:{},Tt=qp(At.name)?At.name:"",Yt=pt[St.parent],Gt=ul(Yt,!0)?kt[Yt.pos]:null;ft&&ul(Gt,!0)&&(Dt=ip(Gt.children,function(re){return re.name===Tt}))?(Ct=Dt.pos,Dt.nodes.push(St)):Ct=Pt++,!kt[Ct]&&(kt[Ct]=Dt={depth:Gt?Gt.depth+1:0,name:Tt,id:At.id,nodes:[St],children:[],pos:Ct},Ct!==-1&&V.push(Tt),ul(Gt,!0)&&Gt.children.push(Dt)),qp(St.id)&&(pt[St.id]=St),Dt&&At.collapsed===!0&&(Dt.collapsed=!0),St.pos=Ct}});return{categories:V,mapOfIdToNode:pt,mapOfPosToGridNode:kt=function(St,Dt){let Ct=function(At,Tt,Yt){let Gt=At.nodes,re=Tt+(Tt===-1?0:Dt-1),Se=(re-Tt)/2,Fe=Tt+Se;return Gt.forEach(function(xe){let Oe=xe.data;ul(Oe,!0)&&(Oe.y=Tt+(Oe.seriesIndex||0),delete Oe.seriesIndex),xe.pos=Fe}),Yt[Fe]=At,At.pos=Fe,At.tickmarkOffset=Se+.5,At.collapseStart=re+.5,At.children.forEach(function(xe){Ct(xe,re+1,Yt),re=(xe.collapseEnd||0)-.5}),At.collapseEnd=re+.5,Yt};return Ct(St[-1],-1,{})}(kt,Y),collapsedNodes:et,tree:Rt}}function kc(ct){let O=ct.target;O.axes.filter(Y=>Y.type==="treegrid").forEach(function(Y){var Dt;let V=Y.options||{},et=V.labels,pt=Y.uniqueNames,ft=O.time.parse(V.max),kt=!Y.treeGrid.mapOfPosToGridNode||Y.series.some(function(Ct){return!Ct.hasRendered||Ct.isDirtyData||Ct.isDirty}),Pt=0,Rt,St;if(kt){let Ct=[];if(Rt=Y.series.reduce(function(At,Tt){let Yt=Tt.options.data||[],Gt=Yt[0],re=Array.isArray(Gt)&&!Gt.find(Se=>typeof Se=="object");return Ct.push(re),Tt.visible&&(Yt.forEach(function(Se){var Fe;(re||(Fe=Tt.options.keys)!=null&&Fe.length)&&(Se=Tt.pointClass.prototype.optionsToObject.call({series:Tt},Se),Tt.pointClass.setGanttPointAliases(Se,O)),ul(Se,!0)&&(Se.seriesIndex=Pt,At.push(Se))}),pt===!0&&Pt++),At},[]),ft&&Rt.length<ft)for(let At=Rt.length;At<=ft;At++)Rt.push({name:At+"​"});Y.categories=(St=sh(Rt,pt||!1,pt===!0?Pt:1)).categories,Y.treeGrid.mapOfPosToGridNode=St.mapOfPosToGridNode,Y.hasNames=!0,Y.treeGrid.tree=St.tree,Y.series.forEach(function(At,Tt){let Yt=(At.options.data||[]).map(function(Gt){return(Ct[Tt]||$p(Gt)&&At.options.keys&&At.options.keys.length)&&Rt.forEach(function(re){let Se=ep(Gt);Se.indexOf(re.x||0)>=0&&Se.indexOf(re.x2||0)>=0&&(Gt=re)}),ul(Gt,!0)?Ch(Gt):Gt});At.visible&&At.setData(Yt,!1)}),Y.treeGrid.mapOptionsToLevel=id({defaults:et,from:1,levels:et==null?void 0:et.levels,to:(Dt=Y.treeGrid.tree)==null?void 0:Dt.height}),ct.type==="beforeRender"&&(Y.treeGrid.collapsedNodes=St.collapsedNodes)}})}function rp(ct,O){let Y=this.treeGrid.mapOptionsToLevel||{},V=this.type==="treegrid",et=this.ticks,pt=et[O],ft,kt,Pt;V&&this.treeGrid.mapOfPosToGridNode?((ft=Y[(Pt=this.treeGrid.mapOfPosToGridNode[O]).depth])&&(kt={labels:ft}),!pt&&We?et[O]=pt=new We(this,O,void 0,void 0,{category:Pt.name,tickmarkOffset:Pt.tickmarkOffset,options:kt}):(pt.parameters.category=Pt.name,pt.options=kt,pt.addLabel())):ct.apply(this,Array.prototype.slice.call(arguments,1))}function Kp(ct,O,Y,V){let et=this,pt=Y.type==="treegrid";et.treeGrid||(et.treeGrid=new Nd(et)),pt&&(oa(O,"beforeRender",kc),oa(O,"beforeRedraw",kc),oa(O,"addSeries",function(ft){if(ft.options.data){let kt=sh(ft.options.data,Y.uniqueNames||!1,1);et.treeGrid.collapsedNodes=(et.treeGrid.collapsedNodes||[]).concat(kt.collapsedNodes)}}),oa(et,"foundExtremes",function(){et.treeGrid.collapsedNodes&&et.treeGrid.collapsedNodes.forEach(function(ft){let kt=et.treeGrid.collapse(ft);et.brokenAxis&&(et.brokenAxis.setBreaks(kt,!1),et.treeGrid.collapsedNodes&&(et.treeGrid.collapsedNodes=et.treeGrid.collapsedNodes.filter(Pt=>ft.collapseStart!==Pt.collapseStart||ft.collapseEnd!==Pt.collapseEnd)))})}),oa(et,"afterBreaks",function(){et.coll==="yAxis"&&!et.staticScale&&et.chart.options.chart.height&&(et.isDirty=!0)}),Y=Ch({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},Y,{reversed:!0})),ct.apply(et,[O,Y,V]),pt&&(et.hasNames=!0,et.options.showLastLabel=!0)}function lf(ct){var et;let O=this.options,Y=this.chart.time,V=typeof O.linkedTo=="number"?(et=this.chart[this.coll])==null?void 0:et[O.linkedTo]:void 0;if(this.type==="treegrid"){if(this.min=this.userMin??Y.parse(O.min)??this.dataMin,this.max=this.userMax??Y.parse(O.max)??this.dataMax,bc(this,"foundExtremes"),this.setAxisTranslation(),this.tickInterval=1,this.tickmarkOffset=.5,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[],V){let pt=V.getExtremes();this.min=wc(pt.min,pt.dataMin),this.max=wc(pt.max,pt.dataMax),this.tickPositions=V.tickPositions}this.linkedParent=V}else ct.apply(this,Array.prototype.slice.call(arguments,1))}function rh(ct){let O=this;this.type==="treegrid"&&O.visible&&O.tickPositions.forEach(function(Y){var et;let V=O.ticks[Y];(et=V.label)!=null&&et.attachedTreeGridEvents&&(sp(V.label.element),V.label.attachedTreeGridEvents=!1)}),ct.apply(O,Array.prototype.slice.call(arguments,1))}class Nd{static compose(O,Y,V,et){if(!O.keepProps.includes("treeGrid")){let pt=O.prototype;O.keepProps.push("treeGrid"),Ll(pt,"generateTick",rp),Ll(pt,"init",Kp),Ll(pt,"setTickInterval",lf),Ll(pt,"redraw",rh),pt.utils={getNode:Jc.getNode},We||(We=et)}return nf.compose(O,Y,et),j.compose(O,V),jp.compose(et),O}constructor(O){this.axis=O}setCollapsedStatus(O){let Y=this.axis,V=Y.chart;Y.series.forEach(function(et){let pt=et.options.data;if(O.id&&pt){let ft=V.get(O.id),kt=pt[et.data.indexOf(ft)];ft&&kt&&(ft.collapsed=O.collapsed,kt.collapsed=O.collapsed)}})}collapse(O){let Y=this.axis,V=Y.options.breaks||[],et=Rd(O,Y.max);return V.push(et),O.collapsed=!0,Y.treeGrid.setCollapsedStatus(O),V}expand(O){let Y=this.axis,V=Y.options.breaks||[],et=Rd(O,Y.max);return O.collapsed=!1,Y.treeGrid.setCollapsedStatus(O),V.reduce(function(pt,ft){return(ft.to!==et.to||ft.from!==et.from)&&pt.push(ft),pt},[])}getTickPositions(){let O=this.axis,Y=Math.floor(O.min/O.tickInterval)*O.tickInterval,V=Math.ceil(O.max/O.tickInterval)*O.tickInterval;return Object.keys(O.treeGrid.mapOfPosToGridNode||{}).reduce(function(et,pt){var kt;let ft=+pt;return ft>=Y&&ft<=V&&!((kt=O.brokenAxis)!=null&&kt.isInAnyBreak(ft))&&et.push(ft),et},[])}isCollapsed(O){let Y=this.axis,V=Y.options.breaks||[],et=Rd(O,Y.max);return V.some(function(pt){return pt.from===et.from&&pt.to===et.to})}toggleCollapse(O){return this.isCollapsed(O)?this.expand(O):this.collapse(O)}}let{series:Wd,seriesTypes:{xrange:La}}=Ii(),{extend:hf,isNumber:Fd,merge:op}=ii();class Cn extends La{static compose(O,Y,V,et){La.compose(O),Y&&(Ld.compose(O,Y),V&&(Ma.compose(Y,V.prototype.pointClass),et&&Nd.compose(O,Y,V,et)))}drawPoint(O,Y){let V=this.options,et=this.chart.renderer,pt=O.shapeArgs,ft=O.plotY,kt=O.selected&&"select",Pt=V.stacking&&!V.borderRadius,Rt=O.graphic,St;O.options.milestone?Fd(ft)&&O.y!==null&&O.visible!==!1?(St=et.symbols.diamond(pt.x||0,pt.y||0,pt.width||0,pt.height||0),Rt?Rt[Y]({d:St}):O.graphic=Rt=et.path(St).addClass(O.getClassName(),!0).add(O.group||this.group),this.chart.styledMode||O.graphic.attr(this.pointAttribs(O,kt)).shadow(V.shadow,null,Pt)):Rt&&(O.graphic=Rt.destroy()):super.drawPoint(O,Y)}translatePoint(O){let Y,V;super.translatePoint(O),O.options.milestone&&(V=(Y=O.shapeArgs).height||0,O.shapeArgs={x:(Y.x||0)-V/2,y:Y.y,width:V,height:V})}}Cn.defaultOptions=op(La.defaultOptions,{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){let ct=this.series,O=ct.xAxis,Y=ct.tooltipOptions.dateTimeLabelFormats,V=O.options.startOfWeek,et=ct.tooltipOptions,pt=this.options.milestone,ft=et.xDateFormat,kt="<b>"+(this.name||this.yCategory)+"</b>";if(et.pointFormat)return this.tooltipFormatter(et.pointFormat);!ft&&ir(this.start)&&(ft=ct.chart.time.getDateFormat(O.closestPointRange,this.start,V,Y||{}));let Pt=ct.chart.time.dateFormat(ft,this.start),Rt=ct.chart.time.dateFormat(ft,this.end);return kt+="<br/>",pt?kt+=Pt+"<br/>":kt+="Start: "+Pt+"<br/>"+("End: "+Rt)+"<br/>",kt}},connectors:{type:"simpleConnect",animation:{reversed:!0},radius:0,startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}}),hf(Cn.prototype,{pointArrayMap:["start","end","y"],pointClass:Er,setData:Wd.prototype.setData}),Ii().registerSeriesType("gantt",Cn);/**
* @license Highcharts Gantt JS v12.3.0 (2025-06-21)
* @module highcharts/modules/gantt
* @requires highcharts
*
* Gantt series
*
* (c) 2016-2025 Lars A. V. Cabrera
*
* License: www.highcharts.com/license
*/let As=ii();As.Connection=As.Connection||_s,As.GanttChart=As.GanttChart||Po,As.Navigator=As.Navigator||sn,As.RangeSelector=As.RangeSelector||Rr,As.Scrollbar=As.Scrollbar||Pr,As.ganttChart=As.GanttChart.ganttChart,zs.compose(As.SVGRenderer),{compose:function(ct,O){uo(ms,"CurrentDateIndication")&&(Xi(ct,"afterSetOptions",Ks),Xi(O,"render",ro),zr(O.prototype,"getLabelText",wi))}}.compose(As.Axis,As.PlotLineOrBand),Cn.compose(As.Axis,As.Chart,As.Series,As.Tick),As.Navigator.compose(As.Chart,As.Axis,As.Series),As.RangeSelector.compose(As.Axis,As.Chart),As.Scrollbar.compose(As.Axis);let Jp=ii();return Kr.default})())}(wy)),wy.exports}Uw();var Vw=Oi('<div><div class="sticky svelte-115v4r3"><!></div> <div class="scrolly svelte-115v4r3"><!></div></div>');function Gp(tt,dt){var at=Vw(),It=Ri(at),Et=Ri(It);Ad(Et,()=>dt.sticky);var jt=Bi(It,2),te=Ri(jt);Ad(te,()=>dt.scrolly),Zc(()=>Fy(at,1,`wrapper ${dt.layout??""}`,"svelte-115v4r3")),li(tt,at)}var Zw=Oi('<div class="article-text svelte-1jxono4"><p><!></p></div>');function rl(tt,dt){var at=Zw(),It=Ri(at),Et=Ri(It);Ad(Et,()=>dt.children),li(tt,at)}var $w=Oi(`<div class="chart svelte-j8eksm"><!></div> <button class="toggle-button svelte-j8eksm"> </button> <div><p>You can use Svelte to add and remove data from a Highcharts chart.</p> <p>When you click the button above, a third group is toggled in the
          chart. Check out the source code to see how it's done.</p> <p><strong>🤔 How might you use other HTML elements, like checkboxes or radio
            buttons, in a similar way to filter data?</strong></p></div>`,1),qw=Oi(`<strong>It's up to you to research how to create the effects and functionality
          that you envision!</strong>`),Kw=Oi("<!> <!> <!> <!>",1),Jw=Oi("<div><!></div>");function Qw(tt){const dt=[{name:"Group 1",data:[[1990,3],[2e3,4],[2010,1],[2020,1]],color:"#8427c9"},{name:"Group 2",data:[[1990,2],[2e3,5],[2010,-2],[2020,2]],color:"#ff99fc"},{name:"Group 3",data:[[1990,4],[2e3,3],[2010,0],[2020,3]],color:"#4096fa"}];let at=My(),It=My(!1),Et={chart:{type:"spline",backgroundColor:"#e3ff00",borderColor:"#007052",borderWidth:5,borderRadius:20},title:{text:"Another Example Chart"},subtitle:{text:"With a subtitle! And styling!"},series:[dt[0],dt[1]]};function jt(){const ee=Ho(at).series.find(ae=>ae.name==="Group 3");ee?(ee.remove(),il(It,!1)):(Ho(at).addSeries(dt[2]),il(It,!0))}var te=Jw(),me=Ri(te);Gp(me,{layout:"left",sticky:ue=>{var le=$w(),oe=sl(le),Ce=Ri(oe);Am(Ce,{get options(){return Et},get highcharts(){return ig},get chart(){return Ho(at)},set chart(di){il(at,di)},$$legacy:!0});var Be=Bi(oe,2),We=Ri(Be);Zc(()=>km(We,Ho(It)?"Remove Group 3":"Add Group 3")),hw("click",Be,jt),li(ue,le)},scrolly:ue=>{var le=Kw(),oe=sl(le);rl(oe,{children:(di,Ve)=>{var xi=ho(`You might notice that this basic template doesn't have certain features\r
        that are common in scrollytelling.`);li(di,xi)}});var Ce=Bi(oe,2);rl(Ce,{children:(di,Ve)=>{var xi=ho(`For example, you might want a component that doesn't feature a sticky\r
        component at all. Or a component that is solely a sticky component.`);li(di,xi)}});var Be=Bi(Ce,2);rl(Be,{children:(di,Ve)=>{var xi=ho(`You might also want to add more interactivity or gamify parts of your\r
        scrollytelling piece.`);li(di,xi)}});var We=Bi(Be,2);rl(We,{children:(di,Ve)=>{var xi=qw();li(di,xi)}}),li(ue,le)}}),li(tt,te)}var t1=Oi('<div><div class="sticky svelte-1u3pmwf"><!></div> <div class="scrolly svelte-1u3pmwf"><!></div></div>');function e1(tt,dt){var at=t1(),It=Ri(at),Et=Ri(It);Ad(Et,()=>dt.sticky);var jt=Bi(It,2),te=Ri(jt);Ad(te,()=>dt.scrolly),Zc(()=>Fy(at,1,`wrapper ${dt.layout??""}`,"svelte-1u3pmwf")),li(tt,at)}var i1=Oi('<div class="chart svelte-14jlvi5"><!></div>'),s1=Oi('<div class="text svelte-14jlvi5"><!> <!> <!></div>'),r1=Oi("<div><!></div>");function o1(tt){let dt={chart:{type:"pie",backgroundColor:"#94CBEC",height:600,style:{fontFamily:"DM Sans"}},title:{text:"",style:{fontFamily:"DM Serif Display"}},plotOptions:{pie:{borderColor:"#94CBEC",allowPointSelect:!0,dataLabels:[{enabled:!0,distance:20},{enabled:!0,distance:-50,format:"{point.percentage:.1f}%",style:{fontSize:"1.4em",textOutline:"none"},filter:{operator:">",property:"percentage",value:10}}]}},series:[{name:"Number of Counties",data:[{name:"Severe Shortage",selected:!0,y:11,color:"#0072B2"},{name:"Moderate Shortage",y:1,color:"#5DA899"},{name:"No Shortage",y:8,color:"#E6E6E6"}]}]};var at=r1(),It=Ri(at);e1(It,{layout:"left",sticky:te=>{var me=i1(),ee=Ri(me);Am(ee,{get options(){return dt},get highcharts(){return ig}}),li(te,me)},scrolly:te=>{var me=s1(),ee=Ri(me);rl(ee,{children:(le,oe)=>{var Ce=ho(`12 of the 20 counties were considered a primary care health professional\r
          shortage area (HPSA) in 2024. The higher the primary care HPSA score, the more severe the shortage.`);li(le,Ce)}});var ae=Bi(ee,2);rl(ae,{children:(le,oe)=>{var Ce=ho(`1 of those 12 counties had a moderate shortage (primary care HPSA score:\r
          1-15)`);li(le,Ce)}});var ue=Bi(ae,2);rl(ue,{children:(le,oe)=>{var Ce=ho(`The remaining 11 counties had a severe shortage (primary care HPSA\r
          score: 16-25)`);li(le,Ce)}}),li(te,me)}}),li(tt,at)}var n1=Oi('<img class="duck-img svelte-zlczyh" src="duck.png" alt="KWK rubber duck!"/>'),a1=Oi(`<strong>Your final project might look totally different from this
                    template!</strong>`),l1=Oi("<!> <!>",1),h1=Oi("<div><!></div>");function d1(tt){var dt=h1(),at=Ri(dt);Gp(at,{layout:"right",sticky:jt=>{var te=n1();li(jt,te)},scrolly:jt=>{var te=l1(),me=sl(te);rl(me,{children:(ae,ue)=>{var le=a1();li(ae,le)}});var ee=Bi(me,2);rl(ee,{children:(ae,ue)=>{var le=ho("It's yours to create.");li(ae,le)}}),li(jt,te)}}),li(tt,dt)}var c1=Oi('<div class="article-text svelte-1c6dkuc"><p><!></p></div>');function Kv(tt,dt){var at=c1(),It=Ri(at),Et=Ri(It);Ad(Et,()=>dt.children),li(tt,at)}var p1=Oi('<div class="title-card svelte-10mcd9o"><div class="layer"></div> <div class="content svelte-10mcd9o"><h1 class="svelte-10mcd9o"> </h1> <h1 class="svelte-10mcd9o"> </h1> <p class="svelte-10mcd9o"> </p></div></div>');function Jv(tt,dt){var at=p1(),It=Bi(Ri(at),2),Et=Ri(It),jt=Ri(Et),te=Bi(Et,2),me=Ri(te),ee=Bi(te,2),ae=Ri(ee);Zc(()=>{km(jt,dt.title),km(me,dt.title2),km(ae,dt.subtitle)}),li(tt,at)}var u1=Oi('<div><div class="sticky svelte-k6awgl"><!></div> <div class="scrolly svelte-k6awgl"><!></div></div>');function f1(tt,dt){var at=u1(),It=Ri(at),Et=Ri(It);Ad(Et,()=>dt.sticky);var jt=Bi(It,2),te=Ri(jt);Ad(te,()=>dt.scrolly),Zc(()=>Fy(at,1,`wrapper ${dt.layout??""}`,"svelte-k6awgl")),li(tt,at)}var g1=Oi('<div class="article-text svelte-149owht"><p><!></p></div>');function m1(tt,dt){var at=g1(),It=Ri(at),Et=Ri(It);Ad(Et,()=>dt.children),li(tt,at)}var x1=Oi("<div></div>");function y1(tt,dt){var at=x1();Zc(()=>Fy(at,1,`fade ${dt.direction??""}`,"svelte-1eavqts")),li(tt,at)}var v1=Oi('<div class="content svelte-p3glej"><section class="text svelte-p3glej"><!></section> <div class="chart svelte-p3glej"><!></div></div>'),b1=Oi("<!> <!>",1),w1=Oi("<div><!></div>");function k1(tt){const dt="The Intersection of Income and Healthcare",at=" in Black Communities",It="The wealth gap is widely known, but what health implication could it come with?";let Et={chart:{height:570,backgroundColor:"#E6E6E6",style:{fontFamily:"DM Sans"}},title:{text:"Median Annual Earnings for Full-Time Workers (25-34 Years Old, All Education Levels, Nationwide) by Race/Ethnicity",align:"left",style:{fontFamily:"DM Serif Display",fontSize:"1.8em"}},subtitle:{text:'Source: <a href="https://blackwealthdata.org/explore/employment" target="_blank">Black Wealth Data Center</a>.',align:"left"},yAxis:{title:{text:"Median Annnual Earnings (dollars)"}},xAxis:{title:{text:"Year"},accessibility:{rangeDescription:"Range: 2012 to 2022"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2012}},tooltip:{valuePrefix:"$"},series:[{name:"Hispanic",data:[39260,38580,38880,39840,41420,42090,42790,43180,46310,45490,45610],color:"#ab6ad6"},{name:"White",data:[53110,53140,52580,56060,55910,56040,57450,58760,59790,59620,58120],color:"#0072B2"},{name:"Asian",data:[67110,64740,62910,64400,67210,73300,71130,70540,81160,78740,81030],color:"#5DA899"},{name:"Black",data:[40930,42810,39190,43440,41980,42170,42740,43660,46550,45170,46040],color:"#4048b6"}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}};var jt=w1(),te=Ri(jt);f1(te,{layout:"left",sticky:ae=>{Jv(ae,{title:dt,title2:at,subtitle:It})},scrolly:ae=>{var ue=b1(),le=sl(ue);y1(le,{direction:"up"});var oe=Bi(le,2);m1(oe,{children:(Ce,Be)=>{var We=v1(),di=Ri(We),Ve=Ri(di);Kv(Ve,{children:(zi,Gi)=>{var Ds=ho(`In 2022, the median annual earnings for Black full-time workers\r
            (25-34 years old of all education levels) was $46,040, one of the\r
            lowest earnings compared to other racial/ethnic groups.`);li(zi,Ds)}});var xi=Bi(di,2),si=Ri(xi);Am(si,{get options(){return Et},get highcharts(){return ig}}),li(Ce,We)}}),li(ae,ue)}}),li(tt,jt)}var M1=Oi('<div class="article-text svelte-16fjw91"><p><!></p></div>');function pa(tt,dt){Ax(dt,!0);let at=Math.random().toString();_x(()=>{let te=new IntersectionObserver(dt.callback,dt.options);const me=document.getElementById(at);te.observe(me)});var It=M1(),Et=Ri(It),jt=Ri(Et);Ad(jt,()=>dt.children),Zc(()=>Vv(It,"id",at)),li(tt,It),Px()}var S1=Oi(`<div><p>This section shows how to use the <code></code></p> <p>The <code></code> component is very similar to the <code></code> component, but it also creates and uses an <a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API">Intersection Observer</a>.</p> <p>That Intersection Observer object "watches" the element. We
                    can use it to answer the question: <br/><br/> <strong>"Is this element currently visible in the browser
                        window?"</strong> <br/><br/> <strong>How does it work?</strong> When some specified percentage of
                    the element crosses into or out of the viewport of this
                    browser window, a <strong>callback function</strong> is called.</p> <p>A <strong>callback function</strong> is a function, which we
                    define, that will get called when a specific event happens.</p> <p>We can define any behavior we want to in that callback
                    function. In this case, we turn the background of the box a
                    different color depending on whether the element is more or
                    less than 90% visible.</p> <p>📝 <strong>Try it yourself!:</strong> Make a change so that
                    the article text box changes color when <strong>50%</strong> of it is visible.</p></div>`),T1=Oi("<code></code> example #1",1),A1=Oi("<code></code> example #2",1),P1=Oi("<code></code> example #3",1),C1=Oi("<!> <!> <!>",1),_1=Oi("<div><!></div>");function L1(tt){const dt={threshold:[.45,.55]},at=(jt,te)=>{jt.forEach(me=>{const ee=me.target;me.intersectionRatio>=.5?ee.style.backgroundColor="#e3ff00":me.intersectionRatio<.5&&(ee.style.backgroundColor="#888888")})};var It=_1(),Et=Ri(It);Gp(Et,{layout:"left",sticky:me=>{var ee=S1(),ae=Ri(ee),ue=Bi(Ri(ae));ue.textContent="<ObservedArticleText> component.";var le=Bi(ae,2),oe=Bi(Ri(le));oe.textContent="<ObservedArticleText>";var Ce=Bi(oe,2);Ce.textContent="<ArticleText>",li(me,ee)},scrolly:me=>{var ee=C1(),ae=sl(ee);pa(ae,{callback:at,get options(){return dt},children:(oe,Ce)=>{var Be=T1(),We=sl(Be);We.textContent="<ObservedArticleText>",li(oe,Be)},$$slots:{default:!0}});var ue=Bi(ae,2);pa(ue,{callback:at,get options(){return dt},children:(oe,Ce)=>{var Be=A1(),We=sl(Be);We.textContent="<ObservedArticleText>",li(oe,Be)},$$slots:{default:!0}});var le=Bi(ue,2);pa(le,{callback:at,get options(){return dt},children:(oe,Ce)=>{var Be=P1(),We=sl(Be);We.textContent="<ObservedArticleText>",li(oe,Be)},$$slots:{default:!0}}),li(me,ee)}}),li(tt,It)}var O1=Oi(`<div><p>You can use the event triggered by an Intersection Observer
                    any way you want!</p> <p>This section will show you how to use it to <strong>change something other than the element that triggered
                        the event.</strong></p> <p>To see this section in action again, you'll have to refresh
                    the page.</p></div>`),E1=Oi("This article text is just like the ones from the last section. <br/><br/> <strong>The next one will do something different.</strong>",1),I1=Oi(`This <code></code> component causes an alert to
                show when scrolled into view! <br/><br/> Notice that nothing changes about this particular <code></code> component itself. <br/><br/> <strong>You can use an Intersection Observer event to trigger
                    changes:</strong> <ul><li>the observed element itself</li> <li>in some other element</li> <li>or both</li></ul>`,1),B1=Oi(`Think of the Intersection Observer event trigger like any other
                event: <ul><li>a <code>mouseover</code> event</li> <li>a <code>mouseclick</code> event</li> <li>a keyboard key being pressed</li></ul> Any of these kinds of events can be used to trigger any action you
                want to take on the page.`,1),D1=Oi(`<strong>🤔 How might you use this functionality to draw attention to
                    something on your website?</strong>`),z1=Oi("<!> <!> <!> <!>",1),R1=Oi("<div><!></div>");function N1(tt){let dt=!1;const at={threshold:[.85,.95]},It=(me,ee)=>{me.forEach(ae=>{const ue=ae.target;ae.intersectionRatio>=.9?ue.style.backgroundColor="#e3ff00":ae.intersectionRatio<.9&&(ue.style.backgroundColor="#888888")})},Et=(me,ee)=>{me.forEach(ae=>{ae.target,ae.intersectionRatio>=.9&&!dt&&(alert('The first time that article text section scrolls into view, this alert pops up! Then, we set the hasAlerted flag to true, which we use to prevent the alert from showing again. Refresh the page if you want to see it happen again. (btw, "flag" is just a jargon term for a boolean variable!)'),dt=!0)})};var jt=R1(),te=Ri(jt);Gp(te,{layout:"right",sticky:ae=>{var ue=O1();li(ae,ue)},scrolly:ae=>{var ue=z1(),le=sl(ue);pa(le,{callback:It,get options(){return at},children:(We,di)=>{var Ve=E1();li(We,Ve)},$$slots:{default:!0}});var oe=Bi(le,2);pa(oe,{callback:Et,get options(){return at},children:(We,di)=>{var Ve=I1(),xi=Bi(sl(Ve));xi.textContent="<ArticleText>";var si=Bi(xi,5);si.textContent="<ArticleText>",li(We,Ve)},$$slots:{default:!0}});var Ce=Bi(oe,2);pa(Ce,{callback:It,get options(){return at},children:(We,di)=>{var Ve=B1();li(We,Ve)},$$slots:{default:!0}});var Be=Bi(Ce,2);pa(Be,{callback:It,get options(){return at},children:(We,di)=>{var Ve=D1();li(We,Ve)},$$slots:{default:!0}}),li(ae,ue)}}),li(tt,jt)}const W1=tt=>tt;function Qv(tt){const dt=tt-1;return dt*dt*dt+1}function F1(tt){return tt<.5?4*tt*tt*tt:.5*Math.pow(2*tt-2,3)+1}function O0(tt){const dt=typeof tt=="string"&&tt.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return dt?[parseFloat(dt[1]),dt[2]||"px"]:[tt,"px"]}function cv(tt,{delay:dt=0,duration:at=400,easing:It=F1,amount:Et=5,opacity:jt=0}={}){const te=getComputedStyle(tt),me=+te.opacity,ee=te.filter==="none"?"":te.filter,ae=me*(1-jt),[ue,le]=O0(Et);return{delay:dt,duration:at,easing:It,css:(oe,Ce)=>`opacity: ${me-ae*Ce}; filter: ${ee} blur(${Ce*ue}${le});`}}function tb(tt,{delay:dt=0,duration:at=400,easing:It=W1}={}){const Et=+getComputedStyle(tt).opacity;return{delay:dt,duration:at,easing:It,css:jt=>`opacity: ${jt*Et}`}}function H1(tt,{delay:dt=0,duration:at=400,easing:It=Qv,x:Et=0,y:jt=0,opacity:te=0}={}){const me=getComputedStyle(tt),ee=+me.opacity,ae=me.transform==="none"?"":me.transform,ue=ee*(1-te),[le,oe]=O0(Et),[Ce,Be]=O0(jt);return{delay:dt,duration:at,easing:It,css:(We,di)=>`
			transform: ${ae} translate(${(1-We)*le}${oe}, ${(1-We)*Ce}${Be});
			opacity: ${ee-ue*di}`}}function pv(tt,{delay:dt=0,duration:at=400,easing:It=Qv,axis:Et="y"}={}){const jt=getComputedStyle(tt),te=+jt.opacity,me=Et==="y"?"height":"width",ee=parseFloat(jt[me]),ae=Et==="y"?["top","bottom"]:["left","right"],ue=ae.map(Ve=>`${Ve[0].toUpperCase()}${Ve.slice(1)}`),le=parseFloat(jt[`padding${ue[0]}`]),oe=parseFloat(jt[`padding${ue[1]}`]),Ce=parseFloat(jt[`margin${ue[0]}`]),Be=parseFloat(jt[`margin${ue[1]}`]),We=parseFloat(jt[`border${ue[0]}Width`]),di=parseFloat(jt[`border${ue[1]}Width`]);return{delay:dt,duration:at,easing:It,css:Ve=>`overflow: hidden;opacity: ${Math.min(Ve*20,1)*te};${me}: ${Ve*ee}px;padding-${ae[0]}: ${Ve*le}px;padding-${ae[1]}: ${Ve*oe}px;margin-${ae[0]}: ${Ve*Ce}px;margin-${ae[1]}: ${Ve*Be}px;border-${ae[0]}-width: ${Ve*We}px;border-${ae[1]}-width: ${Ve*di}px;min-${me}: 0`}}var G1=Oi('<img class="duck-img svelte-1rwlw3o" src="duck.png" alt="KWK rubber duck!"/>'),X1=Oi("<div><!> <br/></div>"),Y1=Oi(`This example shows how to use an Intersection Observer callback
                along with a <a href="https://svelte.dev/docs/svelte/transition">Svelte transition.</a> <br/><br/> Svelte transitions are built-in, easy to use animations that elevate
                the user experience as elements change on the website. Try them out
                in the tutorial <a href="https://svelte.dev/tutorial/svelte/transition">here</a> (and the next few pages). <br/><br/> You can also <a href="https://svelte.dev/tutorial/svelte/custom-css-transitions">build your own transitions</a> (it's not as hard as you think!).`,1),j1=Oi(`When this box scrolls into view, the callback will set a boolean
                variable, <code>duckIsVisible</code> to <code>true</code>. <br/><br/> Because <code>duckIsVisible</code> is declared as <a href="https://svelte.dev/tutorial/svelte/state">state</a> , and the duck image is only rendered conditionally if <code>duckIsVisible==true</code>, Svelte automatically updates
                the page and adds the duck component. <br/><br/> The svelte transition <code></code> handles <strong>animating</strong> the transition.`,1),U1=Oi(`When this box scrolls into view, the callback will set <code>duckIsVisible</code> to <code>false</code>. <br/><br/> Svelte then automatically updates the page (more precisely, the DOM)
                and removes the duck component. <br/><br/> The Svelte transition <code></code> handles animating the transition.`,1),V1=Oi(`Pretty slick, huh? <br/><br/> 🤔 <strong>How might you use a transition like this for emotional
                    impact in your final project?</strong>`,1),Z1=Oi("<!> <!> <!> <!>",1),$1=Oi("<div><!></div>");function q1(tt){let dt=Uc(!1);const at={threshold:[.85,.95]},It=(ee,ae)=>{ee.forEach(ue=>{const le=ue.target;ue.intersectionRatio>=.9?le.style.backgroundColor="#e3ff00":ue.intersectionRatio<.9&&(le.style.backgroundColor="#888888")})},Et=(ee,ae)=>{ee.forEach(ue=>{const le=ue.target;ue.intersectionRatio>=.9?(le.style.backgroundColor="#e3ff00",il(dt,!0)):ue.intersectionRatio<.9&&(le.style.backgroundColor="#888888")})},jt=(ee,ae)=>{ee.forEach(ue=>{const le=ue.target;ue.intersectionRatio>=.9?(le.style.backgroundColor="#e3ff00",il(dt,!1)):ue.intersectionRatio<.9&&(le.style.backgroundColor="#888888")})};var te=$1(),me=Ri(te);Gp(me,{layout:"left",sticky:ue=>{var le=X1(),oe=Ri(le);{var Ce=Be=>{var We=G1();Kf(1,We,()=>H1,()=>({y:200,duration:2e3})),Kf(2,We,()=>tb),li(Be,We)};Uv(oe,Be=>{Ho(dt)&&Be(Ce)})}li(ue,le)},scrolly:ue=>{var le=Z1(),oe=sl(le);pa(oe,{callback:jt,get options(){return at},children:(di,Ve)=>{var xi=Y1();li(di,xi)},$$slots:{default:!0}});var Ce=Bi(oe,2);pa(Ce,{callback:Et,get options(){return at},children:(di,Ve)=>{var xi=j1(),si=Bi(sl(xi),17);si.textContent="in:fly={{ y: 200, duration: 2000 }}",li(di,xi)},$$slots:{default:!0}});var Be=Bi(Ce,2);pa(Be,{callback:jt,get options(){return at},children:(di,Ve)=>{var xi=U1(),si=Bi(sl(xi),11);si.textContent="out:fade",li(di,xi)},$$slots:{default:!0}});var We=Bi(Be,2);pa(We,{callback:It,get options(){return at},children:(di,Ve)=>{var xi=V1();li(di,xi)},$$slots:{default:!0}}),li(ue,le)}}),li(tt,te)}function K1(tt){Jv(tt,{title:"The following examples show the use of the Intersection Observer API",subtitle:"Be sure to read through the text on this page and also poke around in the code to fully understand how they work!"})}var J1=Oi('<div class="list-item svelte-qhwust"> </div>'),Q1=Oi('<div class="list-item svelte-qhwust"> </div>'),tk=Oi('<div id="lists-container" class="svelte-qhwust"><div class="list svelte-qhwust"><h3 class="svelte-qhwust">list one</h3> <!></div> <div class="list svelte-qhwust"><h3 class="svelte-qhwust">list two</h3> <!></div></div>'),ek=Oi(`This section is... a little buggy. But it might give you some
                ideas. As you scroll through each of the <code></code> components, list items are moved from list one to list two. <br/><br/> (The buggy bit is that if you scroll in the opposite direction, they
                still get moved).`,1),ik=Oi("<!> <!> <!> <!> <!> <!> <!> <!>",1),sk=Oi("<div><!></div>");function rk(tt){const dt={threshold:[.95]},at=(me,ee)=>{me.forEach(ae=>{const ue=ae.target;if(ae.intersectionRatio>=.9){ue.style.backgroundColor="#e3ff00";const le=It.pop();Et.push(le)}})};let It=Qu(["one","two","three","four","five","six","seven"]),Et=Qu([]);var jt=sk(),te=Ri(jt);Gp(te,{layout:"right",sticky:ae=>{var ue=tk(),le=Ri(ue),oe=Bi(Ri(le),2);Q0(oe,17,()=>It,J0,(We,di)=>{var Ve=J1(),xi=Ri(Ve);Zc(()=>km(xi,Ho(di))),Kf(1,Ve,()=>pv,()=>({duration:750})),Kf(2,Ve,()=>cv,()=>({duration:1e3})),li(We,Ve)});var Ce=Bi(le,2),Be=Bi(Ri(Ce),2);Q0(Be,17,()=>Et,J0,(We,di)=>{var Ve=Q1(),xi=Ri(Ve);Zc(()=>km(xi,Ho(di))),Kf(1,Ve,()=>pv,()=>({duration:750})),Kf(2,Ve,()=>cv,()=>({duration:1e3})),li(We,Ve)}),li(ae,ue)},scrolly:ae=>{var ue=ik(),le=sl(ue);rl(le,{children:(si,zi)=>{var Gi=ek(),Ds=Bi(sl(Gi));Ds.textContent="<ObservedArticleText>",li(si,Gi)}});var oe=Bi(le,2);pa(oe,{callback:at,get options(){return dt},children:(si,zi)=>{var Gi=ho("Move element seven.");li(si,Gi)},$$slots:{default:!0}});var Ce=Bi(oe,2);pa(Ce,{callback:at,get options(){return dt},children:(si,zi)=>{var Gi=ho("Move element six.");li(si,Gi)},$$slots:{default:!0}});var Be=Bi(Ce,2);pa(Be,{callback:at,get options(){return dt},children:(si,zi)=>{var Gi=ho("Move element five.");li(si,Gi)},$$slots:{default:!0}});var We=Bi(Be,2);pa(We,{callback:at,get options(){return dt},children:(si,zi)=>{var Gi=ho("Move element four.");li(si,Gi)},$$slots:{default:!0}});var di=Bi(We,2);pa(di,{callback:at,get options(){return dt},children:(si,zi)=>{var Gi=ho("Move element three.");li(si,Gi)},$$slots:{default:!0}});var Ve=Bi(di,2);pa(Ve,{callback:at,get options(){return dt},children:(si,zi)=>{var Gi=ho("Move element two.");li(si,Gi)},$$slots:{default:!0}});var xi=Bi(Ve,2);pa(xi,{callback:at,get options(){return dt},children:(si,zi)=>{var Gi=ho("Move element one.");li(si,Gi)},$$slots:{default:!0}}),li(ae,ue)}}),li(tt,jt)}var ok=Oi('<img src="https://images.unsplash.com/vector-1738590593450-647695dbf9d0?q=80&amp;w=880&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="coding illustration"/> <div class="chart"><!></div>',1),nk=Oi("<!> <!> <!>",1),ak=Oi("<div><!></div>");function lk(tt){let dt={chart:{type:"bar"},title:{text:"Undergrad Enrollment Rates by Race/Ethnicity"},subtitle:{text:'Source: <a href="https://en.wikipedia.org/wiki/List_of_continents_and_continental_subregions_by_population"target="_blank">Wikipedia.org</a>'},xAxis:{categories:["Asian","Black","Hispanic","White"],title:{text:null},gridLineWidth:1,lineWidth:0},yAxis:{min:0,title:{text:"Percentage",align:"high"},labels:{overflow:"justify"},gridLineWidth:0},tooltip:{valueSuffix:" millions"},plotOptions:{bar:{borderRadius:"50%",dataLabels:{enabled:!0},groupPadding:.1}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:265,floating:!0,borderWidth:1,backgroundColor:"var(--highcharts-background-color, #ffffff)",shadow:!0},credits:{enabled:!1},series:[{name:"Year 2021",data:[7.3,6.4,6.2,5.1]},{name:"Year 2023",data:[6.9,5.1,5.9,4.8]}]};var at=ak(),It=Ri(at);Gp(It,{layout:"left",sticky:te=>{var me=ok(),ee=Bi(sl(me),2),ae=Ri(ee);Am(ae,{get options(){return dt},get highcharts(){return ig}}),li(te,me)},scrolly:te=>{var me=nk(),ee=sl(me);rl(ee,{children:(le,oe)=>{var Ce=ho("Here is an additional piece of text!");li(le,Ce)}});var ae=Bi(ee,2);rl(ae,{children:(le,oe)=>{var Ce=ho("This is another piece of text.");li(le,Ce)}});var ue=Bi(ae,2);rl(ue,{children:(le,oe)=>{var Ce=ho("My final piece of text is here.");li(le,Ce)}}),li(te,me)}}),li(tt,at)}var hk=Oi('<div class="footnote-text svelte-e25h4p"><p><!></p></div>');function eb(tt,dt){var at=hk(),It=Ri(at),Et=Ri(It);Ad(Et,()=>dt.children),li(tt,at)}var dk=Oi(`<p class="svelte-7uy7hg">The impact of a lower income does not end at financial struggles.
          Having a lower income may possibly be linked to greater health risks.</p>`),ck=Oi('<div class="svelte-7uy7hg"><section class="svelte-7uy7hg"><article><!> <!></article> <!></section></div>');function pk(tt){let dt=Uc(!1);const at={threshold:[.9,1]},It=(le,oe)=>{le.forEach(Ce=>{Ce.target,Ce.intersectionRatio>=.95?il(dt,!0):Ce.intersectionRatio<.95})};var Et=ck(),jt=Ri(Et),te=Ri(jt),me=Ri(te);{var ee=le=>{var oe=dk();Kf(1,oe,()=>tb,()=>({duration:1700})),li(le,oe)};Uv(me,le=>{Ho(dt)&&le(ee)})}var ae=Bi(me,2);pa(ae,{callback:It,get options(){return at},children:(le,oe)=>{var Ce=ho(".");li(le,Ce)},$$slots:{default:!0}});var ue=Bi(te,2);eb(ue,{children:(le,oe)=>{var Ce=ho(`Liu, Lili et al. “Impacts of Poverty and Lifestyles on Mortality: A Cohort\r
      Study in Predominantly Low-Income Americans.” American journal of\r
      preventive medicine vol. 67,1 (2024): 15-23.\r
      doi:10.1016/j.amepre.2024.02.015`);li(le,Ce)}}),li(tt,Et)}var kx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var uk=kx.exports,uv;function fk(){return uv||(uv=1,function(tt,dt){(function(at,It){It(dt)})(uk,function(at){var It="1.9.4";function Et(o){var x,I,j,nt;for(I=1,j=arguments.length;I<j;I++){nt=arguments[I];for(x in nt)o[x]=nt[x]}return o}var jt=Object.create||function(){function o(){}return function(x){return o.prototype=x,new o}}();function te(o,x){var I=Array.prototype.slice;if(o.bind)return o.bind.apply(o,I.call(arguments,1));var j=I.call(arguments,2);return function(){return o.apply(x,j.length?j.concat(I.call(arguments)):arguments)}}var me=0;function ee(o){return"_leaflet_id"in o||(o._leaflet_id=++me),o._leaflet_id}function ae(o,x,I){var j,nt,bt,$t;return $t=function(){j=!1,nt&&(bt.apply(I,nt),nt=!1)},bt=function(){j?nt=arguments:(o.apply(I,arguments),setTimeout($t,x),j=!0)},bt}function ue(o,x,I){var j=x[1],nt=x[0],bt=j-nt;return o===j&&I?o:((o-nt)%bt+bt)%bt+nt}function le(){return!1}function oe(o,x){if(x===!1)return o;var I=Math.pow(10,x===void 0?6:x);return Math.round(o*I)/I}function Ce(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function Be(o){return Ce(o).split(/\s+/)}function We(o,x){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?jt(o.options):{});for(var I in x)o.options[I]=x[I];return o.options}function di(o,x,I){var j=[];for(var nt in o)j.push(encodeURIComponent(I?nt.toUpperCase():nt)+"="+encodeURIComponent(o[nt]));return(!x||x.indexOf("?")===-1?"?":"&")+j.join("&")}var Ve=/\{ *([\w_ -]+) *\}/g;function xi(o,x){return o.replace(Ve,function(I,j){var nt=x[j];if(nt===void 0)throw new Error("No value provided for variable "+I);return typeof nt=="function"&&(nt=nt(x)),nt})}var si=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function zi(o,x){for(var I=0;I<o.length;I++)if(o[I]===x)return I;return-1}var Gi="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ds(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var qr=0;function ke(o){var x=+new Date,I=Math.max(0,16-(x-qr));return qr=x+I,window.setTimeout(o,I)}var Kr=window.requestAnimationFrame||Ds("RequestAnimationFrame")||ke,co=window.cancelAnimationFrame||Ds("CancelAnimationFrame")||Ds("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function ii(o,x,I){if(I&&Kr===ke)o.call(x);else return Kr.call(window,te(o,x))}function Xs(o){o&&co.call(window,o)}var Wn={__proto__:null,extend:Et,create:jt,bind:te,get lastId(){return me},stamp:ee,throttle:ae,wrapNum:ue,falseFn:le,formatNum:oe,trim:Ce,splitWords:Be,setOptions:We,getParamString:di,template:xi,isArray:si,indexOf:zi,emptyImageUrl:Gi,requestFn:Kr,cancelFn:co,requestAnimFrame:ii,cancelAnimFrame:Xs};function ge(){}ge.extend=function(o){var x=function(){We(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},I=x.__super__=this.prototype,j=jt(I);j.constructor=x,x.prototype=j;for(var nt in this)Object.prototype.hasOwnProperty.call(this,nt)&&nt!=="prototype"&&nt!=="__super__"&&(x[nt]=this[nt]);return o.statics&&Et(x,o.statics),o.includes&&(On(o.includes),Et.apply(null,[j].concat(o.includes))),Et(j,o),delete j.statics,delete j.includes,j.options&&(j.options=I.options?jt(I.options):{},Et(j.options,o.options)),j._initHooks=[],j.callInitHooks=function(){if(!this._initHooksCalled){I.callInitHooks&&I.callInitHooks.call(this),this._initHooksCalled=!0;for(var bt=0,$t=j._initHooks.length;bt<$t;bt++)j._initHooks[bt].call(this)}},x},ge.include=function(o){var x=this.prototype.options;return Et(this.prototype,o),o.options&&(this.prototype.options=x,this.mergeOptions(o.options)),this},ge.mergeOptions=function(o){return Et(this.prototype.options,o),this},ge.addInitHook=function(o){var x=Array.prototype.slice.call(arguments,1),I=typeof o=="function"?o:function(){this[o].apply(this,x)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(I),this};function On(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=si(o)?o:[o];for(var x=0;x<o.length;x++)o[x]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var zs={on:function(o,x,I){if(typeof o=="object")for(var j in o)this._on(j,o[j],x);else{o=Be(o);for(var nt=0,bt=o.length;nt<bt;nt++)this._on(o[nt],x,I)}return this},off:function(o,x,I){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var j in o)this._off(j,o[j],x);else{o=Be(o);for(var nt=arguments.length===1,bt=0,$t=o.length;bt<$t;bt++)nt?this._off(o[bt]):this._off(o[bt],x,I)}return this},_on:function(o,x,I,j){if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}if(this._listens(o,x,I)===!1){I===this&&(I=void 0);var nt={fn:x,ctx:I};j&&(nt.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(nt)}},_off:function(o,x,I){var j,nt,bt;if(this._events&&(j=this._events[o],!!j)){if(arguments.length===1){if(this._firingCount)for(nt=0,bt=j.length;nt<bt;nt++)j[nt].fn=le;delete this._events[o];return}if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}var $t=this._listens(o,x,I);if($t!==!1){var ye=j[$t];this._firingCount&&(ye.fn=le,this._events[o]=j=j.slice()),j.splice($t,1)}}},fire:function(o,x,I){if(!this.listens(o,I))return this;var j=Et({},x,{type:o,target:this,sourceTarget:x&&x.sourceTarget||this});if(this._events){var nt=this._events[o];if(nt){this._firingCount=this._firingCount+1||1;for(var bt=0,$t=nt.length;bt<$t;bt++){var ye=nt[bt],de=ye.fn;ye.once&&this.off(o,de,ye.ctx),de.call(ye.ctx||this,j)}this._firingCount--}}return I&&this._propagateEvent(j),this},listens:function(o,x,I,j){typeof o!="string"&&console.warn('"string" type argument expected');var nt=x;typeof x!="function"&&(j=!!x,nt=void 0,I=void 0);var bt=this._events&&this._events[o];if(bt&&bt.length&&this._listens(o,nt,I)!==!1)return!0;if(j){for(var $t in this._eventParents)if(this._eventParents[$t].listens(o,x,I,j))return!0}return!1},_listens:function(o,x,I){if(!this._events)return!1;var j=this._events[o]||[];if(!x)return!!j.length;I===this&&(I=void 0);for(var nt=0,bt=j.length;nt<bt;nt++)if(j[nt].fn===x&&j[nt].ctx===I)return nt;return!1},once:function(o,x,I){if(typeof o=="object")for(var j in o)this._on(j,o[j],x,!0);else{o=Be(o);for(var nt=0,bt=o.length;nt<bt;nt++)this._on(o[nt],x,I,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[ee(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[ee(o)],this},_propagateEvent:function(o){for(var x in this._eventParents)this._eventParents[x].fire(o.type,Et({layer:o.target,propagatedFrom:o.target},o),!0)}};zs.addEventListener=zs.on,zs.removeEventListener=zs.clearAllEventListeners=zs.off,zs.addOneTimeEventListener=zs.once,zs.fireEvent=zs.fire,zs.hasEventListeners=zs.listens;var so=ge.extend(zs);function Zt(o,x,I){this.x=I?Math.round(o):o,this.y=I?Math.round(x):x}var Jo=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};Zt.prototype={clone:function(){return new Zt(this.x,this.y)},add:function(o){return this.clone()._add(ri(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ri(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Zt(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Zt(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Jo(this.x),this.y=Jo(this.y),this},distanceTo:function(o){o=ri(o);var x=o.x-this.x,I=o.y-this.y;return Math.sqrt(x*x+I*I)},equals:function(o){return o=ri(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ri(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+oe(this.x)+", "+oe(this.y)+")"}};function ri(o,x,I){return o instanceof Zt?o:si(o)?new Zt(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new Zt(o.x,o.y):new Zt(o,x,I)}function ks(o,x){if(o)for(var I=x?[o,x]:o,j=0,nt=I.length;j<nt;j++)this.extend(I[j])}ks.prototype={extend:function(o){var x,I;if(!o)return this;if(o instanceof Zt||typeof o[0]=="number"||"x"in o)x=I=ri(o);else if(o=rr(o),x=o.min,I=o.max,!x||!I)return this;return!this.min&&!this.max?(this.min=x.clone(),this.max=I.clone()):(this.min.x=Math.min(x.x,this.min.x),this.max.x=Math.max(I.x,this.max.x),this.min.y=Math.min(x.y,this.min.y),this.max.y=Math.max(I.y,this.max.y)),this},getCenter:function(o){return ri((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ri(this.min.x,this.max.y)},getTopRight:function(){return ri(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var x,I;return typeof o[0]=="number"||o instanceof Zt?o=ri(o):o=rr(o),o instanceof ks?(x=o.min,I=o.max):x=I=o,x.x>=this.min.x&&I.x<=this.max.x&&x.y>=this.min.y&&I.y<=this.max.y},intersects:function(o){o=rr(o);var x=this.min,I=this.max,j=o.min,nt=o.max,bt=nt.x>=x.x&&j.x<=I.x,$t=nt.y>=x.y&&j.y<=I.y;return bt&&$t},overlaps:function(o){o=rr(o);var x=this.min,I=this.max,j=o.min,nt=o.max,bt=nt.x>x.x&&j.x<I.x,$t=nt.y>x.y&&j.y<I.y;return bt&&$t},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var x=this.min,I=this.max,j=Math.abs(x.x-I.x)*o,nt=Math.abs(x.y-I.y)*o;return rr(ri(x.x-j,x.y-nt),ri(I.x+j,I.y+nt))},equals:function(o){return o?(o=rr(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function rr(o,x){return!o||o instanceof ks?o:new ks(o,x)}function Ts(o,x){if(o)for(var I=x?[o,x]:o,j=0,nt=I.length;j<nt;j++)this.extend(I[j])}Ts.prototype={extend:function(o){var x=this._southWest,I=this._northEast,j,nt;if(o instanceof ms)j=o,nt=o;else if(o instanceof Ts){if(j=o._southWest,nt=o._northEast,!j||!nt)return this}else return o?this.extend(Xi(o)||_s(o)):this;return!x&&!I?(this._southWest=new ms(j.lat,j.lng),this._northEast=new ms(nt.lat,nt.lng)):(x.lat=Math.min(j.lat,x.lat),x.lng=Math.min(j.lng,x.lng),I.lat=Math.max(nt.lat,I.lat),I.lng=Math.max(nt.lng,I.lng)),this},pad:function(o){var x=this._southWest,I=this._northEast,j=Math.abs(x.lat-I.lat)*o,nt=Math.abs(x.lng-I.lng)*o;return new Ts(new ms(x.lat-j,x.lng-nt),new ms(I.lat+j,I.lng+nt))},getCenter:function(){return new ms((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ms(this.getNorth(),this.getWest())},getSouthEast:function(){return new ms(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ms||"lat"in o?o=Xi(o):o=_s(o);var x=this._southWest,I=this._northEast,j,nt;return o instanceof Ts?(j=o.getSouthWest(),nt=o.getNorthEast()):j=nt=o,j.lat>=x.lat&&nt.lat<=I.lat&&j.lng>=x.lng&&nt.lng<=I.lng},intersects:function(o){o=_s(o);var x=this._southWest,I=this._northEast,j=o.getSouthWest(),nt=o.getNorthEast(),bt=nt.lat>=x.lat&&j.lat<=I.lat,$t=nt.lng>=x.lng&&j.lng<=I.lng;return bt&&$t},overlaps:function(o){o=_s(o);var x=this._southWest,I=this._northEast,j=o.getSouthWest(),nt=o.getNorthEast(),bt=nt.lat>x.lat&&j.lat<I.lat,$t=nt.lng>x.lng&&j.lng<I.lng;return bt&&$t},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,x){return o?(o=_s(o),this._southWest.equals(o.getSouthWest(),x)&&this._northEast.equals(o.getNorthEast(),x)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _s(o,x){return o instanceof Ts?o:new Ts(o,x)}function ms(o,x,I){if(isNaN(o)||isNaN(x))throw new Error("Invalid LatLng object: ("+o+", "+x+")");this.lat=+o,this.lng=+x,I!==void 0&&(this.alt=+I)}ms.prototype={equals:function(o,x){if(!o)return!1;o=Xi(o);var I=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return I<=(x===void 0?1e-9:x)},toString:function(o){return"LatLng("+oe(this.lat,o)+", "+oe(this.lng,o)+")"},distanceTo:function(o){return uo.distance(this,Xi(o))},wrap:function(){return uo.wrapLatLng(this)},toBounds:function(o){var x=180*o/40075017,I=x/Math.cos(Math.PI/180*this.lat);return _s([this.lat-x,this.lng-I],[this.lat+x,this.lng+I])},clone:function(){return new ms(this.lat,this.lng,this.alt)}};function Xi(o,x,I){return o instanceof ms?o:si(o)&&typeof o[0]!="object"?o.length===3?new ms(o[0],o[1],o[2]):o.length===2?new ms(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ms(o.lat,"lng"in o?o.lng:o.lon,o.alt):x===void 0?null:new ms(o,x,I)}var po={latLngToPoint:function(o,x){var I=this.projection.project(o),j=this.scale(x);return this.transformation._transform(I,j)},pointToLatLng:function(o,x){var I=this.scale(x),j=this.transformation.untransform(o,I);return this.projection.unproject(j)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var x=this.projection.bounds,I=this.scale(o),j=this.transformation.transform(x.min,I),nt=this.transformation.transform(x.max,I);return new ks(j,nt)},infinite:!1,wrapLatLng:function(o){var x=this.wrapLng?ue(o.lng,this.wrapLng,!0):o.lng,I=this.wrapLat?ue(o.lat,this.wrapLat,!0):o.lat,j=o.alt;return new ms(I,x,j)},wrapLatLngBounds:function(o){var x=o.getCenter(),I=this.wrapLatLng(x),j=x.lat-I.lat,nt=x.lng-I.lng;if(j===0&&nt===0)return o;var bt=o.getSouthWest(),$t=o.getNorthEast(),ye=new ms(bt.lat-j,bt.lng-nt),de=new ms($t.lat-j,$t.lng-nt);return new Ts(ye,de)}},uo=Et({},po,{wrapLng:[-180,180],R:6371e3,distance:function(o,x){var I=Math.PI/180,j=o.lat*I,nt=x.lat*I,bt=Math.sin((x.lat-o.lat)*I/2),$t=Math.sin((x.lng-o.lng)*I/2),ye=bt*bt+Math.cos(j)*Math.cos(nt)*$t*$t,de=2*Math.atan2(Math.sqrt(ye),Math.sqrt(1-ye));return this.R*de}}),zr=6378137,fo={R:zr,MAX_LATITUDE:85.0511287798,project:function(o){var x=Math.PI/180,I=this.MAX_LATITUDE,j=Math.max(Math.min(I,o.lat),-I),nt=Math.sin(j*x);return new Zt(this.R*o.lng*x,this.R*Math.log((1+nt)/(1-nt))/2)},unproject:function(o){var x=180/Math.PI;return new ms((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*x,o.x*x/this.R)},bounds:function(){var o=zr*Math.PI;return new ks([-o,-o],[o,o])}()};function Ks(o,x,I,j){if(si(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=x,this._c=I,this._d=j}Ks.prototype={transform:function(o,x){return this._transform(o.clone(),x)},_transform:function(o,x){return x=x||1,o.x=x*(this._a*o.x+this._b),o.y=x*(this._c*o.y+this._d),o},untransform:function(o,x){return x=x||1,new Zt((o.x/x-this._b)/this._a,(o.y/x-this._d)/this._c)}};function ro(o,x,I,j){return new Ks(o,x,I,j)}var wi=Et({},uo,{code:"EPSG:3857",projection:fo,transformation:function(){var o=.5/(Math.PI*fo.R);return ro(o,.5,-o,.5)}()}),Go=Et({},wi,{code:"EPSG:900913"});function or(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Qo(o,x){var I="",j,nt,bt,$t,ye,de;for(j=0,bt=o.length;j<bt;j++){for(ye=o[j],nt=0,$t=ye.length;nt<$t;nt++)de=ye[nt],I+=(nt?"L":"M")+de.x+" "+de.y;I+=x?De.svg?"z":"x":""}return I||"M0 0"}var Fn=document.documentElement.style,go="ActiveXObject"in window,Ke=go&&!document.addEventListener,oo="msLaunchUri"in navigator&&!("documentMode"in document),Po=Ls("webkit"),mo=Ls("android"),ti=Ls("android 2")||Ls("android 3"),fr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Co=mo&&Ls("Google")&&fr<537&&!("AudioNode"in window),un=!!window.opera,tn=!oo&&Ls("chrome"),Na=Ls("gecko")&&!Po&&!un&&!go,ol=!tn&&Ls("safari"),Ji=Ls("phantom"),En="OTransition"in Fn,_o=navigator.platform.indexOf("Win")===0,gr=go&&"transition"in Fn,He="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ti,Ut="MozPerspective"in Fn,be=!window.L_DISABLE_3D&&(gr||He||Ut)&&!En&&!Ji,Ee=typeof orientation<"u"||Ls("mobile"),_e=Ee&&Po,Me=Ee&&He,Le=!window.PointerEvent&&window.MSPointerEvent,gi=!!(window.PointerEvent||Le),Li="ontouchstart"in window||!!window.TouchEvent,$e=!window.L_NO_TOUCH&&(Li||gi),ji=Ee&&un,os=Ee&&Na,Ni=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Js=function(){var o=!1;try{var x=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",le,x),window.removeEventListener("testPassiveEventSupport",le,x)}catch{}return o}(),ns=function(){return!!document.createElement("canvas").getContext}(),Ii=!!(document.createElementNS&&or("svg").createSVGRect),Di=!!Ii&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ui=!Ii&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var x=o.firstChild;return x.style.behavior="url(#default#VML)",x&&typeof x.adj=="object"}catch{return!1}}(),Ns=navigator.platform.indexOf("Mac")===0,ar=navigator.platform.indexOf("Linux")===0;function Ls(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var De={ie:go,ielt9:Ke,edge:oo,webkit:Po,android:mo,android23:ti,androidStock:Co,opera:un,chrome:tn,gecko:Na,safari:ol,phantom:Ji,opera12:En,win:_o,ie3d:gr,webkit3d:He,gecko3d:Ut,any3d:be,mobile:Ee,mobileWebkit:_e,mobileWebkit3d:Me,msPointer:Le,pointer:gi,touch:$e,touchNative:Li,mobileOpera:ji,mobileGecko:os,retina:Ni,passiveEvents:Js,canvas:ns,svg:Ii,vml:Ui,inlineSvg:Di,mac:Ns,linux:ar},Ar=De.msPointer?"MSPointerDown":"pointerdown",fn=De.msPointer?"MSPointerMove":"pointermove",Hn=De.msPointer?"MSPointerUp":"pointerup",Ys=De.msPointer?"MSPointerCancel":"pointercancel",Fr={touchstart:Ar,touchmove:fn,touchend:Hn,touchcancel:Ys},mh={touchstart:Gr,touchmove:nl,touchend:nl,touchcancel:nl},Xo={},Hl=!1;function xo(o,x,I){return x==="touchstart"&&bl(),mh[x]?(I=mh[x].bind(this,I),o.addEventListener(Fr[x],I,!1),I):(console.warn("wrong event specified:",x),le)}function Hr(o,x,I){if(!Fr[x]){console.warn("wrong event specified:",x);return}o.removeEventListener(Fr[x],I,!1)}function xh(o){Xo[o.pointerId]=o}function Xh(o){Xo[o.pointerId]&&(Xo[o.pointerId]=o)}function Wa(o){delete Xo[o.pointerId]}function bl(){Hl||(document.addEventListener(Ar,xh,!0),document.addEventListener(fn,Xh,!0),document.addEventListener(Hn,Wa,!0),document.addEventListener(Ys,Wa,!0),Hl=!0)}function nl(o,x){if(x.pointerType!==(x.MSPOINTER_TYPE_MOUSE||"mouse")){x.touches=[];for(var I in Xo)x.touches.push(Xo[I]);x.changedTouches=[x],o(x)}}function Gr(o,x){x.MSPOINTER_TYPE_TOUCH&&x.pointerType===x.MSPOINTER_TYPE_TOUCH&&mr(x),nl(o,x)}function wl(o){var x={},I,j;for(j in o)I=o[j],x[j]=I&&I.bind?I.bind(o):I;return o=x,x.type="dblclick",x.detail=2,x.isTrusted=!1,x._simulated=!0,x}var Gn=200;function al(o,x){o.addEventListener("dblclick",x);var I=0,j;function nt(bt){if(bt.detail!==1){j=bt.detail;return}if(!(bt.pointerType==="mouse"||bt.sourceCapabilities&&!bt.sourceCapabilities.firesTouchEvents)){var $t=Bt(bt);if(!($t.some(function(de){return de instanceof HTMLLabelElement&&de.attributes.for})&&!$t.some(function(de){return de instanceof HTMLInputElement||de instanceof HTMLSelectElement}))){var ye=Date.now();ye-I<=Gn?(j++,j===2&&x(wl(bt))):j=1,I=ye}}}return o.addEventListener("click",nt),{dblclick:x,simDblclick:nt}}function Jr(o,x){o.removeEventListener("dblclick",x.dblclick),o.removeEventListener("click",x.simDblclick)}var Xn=ll(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gn=ll(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),kl=gn==="webkitTransition"||gn==="OTransition"?gn+"End":"transitionend";function Qs(o){return typeof o=="string"?document.getElementById(o):o}function Fa(o,x){var I=o.style[x]||o.currentStyle&&o.currentStyle[x];if((!I||I==="auto")&&document.defaultView){var j=document.defaultView.getComputedStyle(o,null);I=j?j[x]:null}return I==="auto"?null:I}function hs(o,x,I){var j=document.createElement(o);return j.className=x||"",I&&I.appendChild(j),j}function js(o){var x=o.parentNode;x&&x.removeChild(o)}function Yn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ha(o){var x=o.parentNode;x&&x.lastChild!==o&&x.appendChild(o)}function Es(o){var x=o.parentNode;x&&x.firstChild!==o&&x.insertBefore(o,x.firstChild)}function mn(o,x){if(o.classList!==void 0)return o.classList.contains(x);var I=Ml(o);return I.length>0&&new RegExp("(^|\\s)"+x+"(\\s|$)").test(I)}function Qi(o,x){if(o.classList!==void 0)for(var I=Be(x),j=0,nt=I.length;j<nt;j++)o.classList.add(I[j]);else if(!mn(o,x)){var bt=Ml(o);tr(o,(bt?bt+" ":"")+x)}}function lr(o,x){o.classList!==void 0?o.classList.remove(x):tr(o,Ce((" "+Ml(o)+" ").replace(" "+x+" "," ")))}function tr(o,x){o.className.baseVal===void 0?o.className=x:o.className.baseVal=x}function Ml(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Pr(o,x){"opacity"in o.style?o.style.opacity=x:"filter"in o.style&&yh(o,x)}function yh(o,x){var I=!1,j="DXImageTransform.Microsoft.Alpha";try{I=o.filters.item(j)}catch{if(x===1)return}x=Math.round(x*100),I?(I.Enabled=x!==100,I.Opacity=x):o.style.filter+=" progid:"+j+"(opacity="+x+")"}function ll(o){for(var x=document.documentElement.style,I=0;I<o.length;I++)if(o[I]in x)return o[I];return!1}function en(o,x,I){var j=x||new Zt(0,0);o.style[Xn]=(De.ie3d?"translate("+j.x+"px,"+j.y+"px)":"translate3d("+j.x+"px,"+j.y+"px,0)")+(I?" scale("+I+")":"")}function _r(o,x){o._leaflet_pos=x,De.any3d?en(o,x):(o.style.left=x.x+"px",o.style.top=x.y+"px")}function br(o){return o._leaflet_pos||new Zt(0,0)}var Os,ua,Yo;if("onselectstart"in document)Os=function(){ts(window,"selectstart",mr)},ua=function(){Ms(window,"selectstart",mr)};else{var jo=ll(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Os=function(){if(jo){var o=document.documentElement.style;Yo=o[jo],o[jo]="none"}},ua=function(){jo&&(document.documentElement.style[jo]=Yo,Yo=void 0)}}function jn(){ts(window,"dragstart",mr)}function hr(){Ms(window,"dragstart",mr)}var Un,hl;function Ga(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Lr(),Un=o,hl=o.style.outlineStyle,o.style.outlineStyle="none",ts(window,"keydown",Lr))}function Lr(){Un&&(Un.style.outlineStyle=hl,Un=void 0,hl=void 0,Ms(window,"keydown",Lr))}function Ws(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function xn(o){var x=o.getBoundingClientRect();return{x:x.width/o.offsetWidth||1,y:x.height/o.offsetHeight||1,boundingClientRect:x}}var no={__proto__:null,TRANSFORM:Xn,TRANSITION:gn,TRANSITION_END:kl,get:Qs,getStyle:Fa,create:hs,remove:js,empty:Yn,toFront:Ha,toBack:Es,hasClass:mn,addClass:Qi,removeClass:lr,setClass:tr,getClass:Ml,setOpacity:Pr,testProp:ll,setTransform:en,setPosition:_r,getPosition:br,get disableTextSelection(){return Os},get enableTextSelection(){return ua},disableImageDrag:jn,enableImageDrag:hr,preventOutline:Ga,restoreOutline:Lr,getSizedParentNode:Ws,getScale:xn};function ts(o,x,I,j){if(x&&typeof x=="object")for(var nt in x)rn(o,nt,x[nt],I);else{x=Be(x);for(var bt=0,$t=x.length;bt<$t;bt++)rn(o,x[bt],I,j)}return this}var yo="_leaflet_events";function Ms(o,x,I,j){if(arguments.length===1)sn(o),delete o[yo];else if(x&&typeof x=="object")for(var nt in x)Sl(o,nt,x[nt],I);else if(x=Be(x),arguments.length===2)sn(o,function(ye){return zi(x,ye)!==-1});else for(var bt=0,$t=x.length;bt<$t;bt++)Sl(o,x[bt],I,j);return this}function sn(o,x){for(var I in o[yo]){var j=I.split(/\d/)[0];(!x||x(j))&&Sl(o,j,null,null,I)}}var Gl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function rn(o,x,I,j){var nt=x+ee(I)+(j?"_"+ee(j):"");if(o[yo]&&o[yo][nt])return this;var bt=function(ye){return I.call(j||o,ye||window.event)},$t=bt;!De.touchNative&&De.pointer&&x.indexOf("touch")===0?bt=xo(o,x,bt):De.touch&&x==="dblclick"?bt=al(o,bt):"addEventListener"in o?x==="touchstart"||x==="touchmove"||x==="wheel"||x==="mousewheel"?o.addEventListener(Gl[x]||x,bt,De.passiveEvents?{passive:!1}:!1):x==="mouseenter"||x==="mouseleave"?(bt=function(ye){ye=ye||window.event,wr(o,ye)&&$t(ye)},o.addEventListener(Gl[x],bt,!1)):o.addEventListener(x,$t,!1):o.attachEvent("on"+x,bt),o[yo]=o[yo]||{},o[yo][nt]=bt}function Sl(o,x,I,j,nt){nt=nt||x+ee(I)+(j?"_"+ee(j):"");var bt=o[yo]&&o[yo][nt];if(!bt)return this;!De.touchNative&&De.pointer&&x.indexOf("touch")===0?Hr(o,x,bt):De.touch&&x==="dblclick"?Jr(o,bt):"removeEventListener"in o?o.removeEventListener(Gl[x]||x,bt,!1):o.detachEvent("on"+x,bt),o[yo][nt]=null}function Fs(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function vh(o){return rn(o,"wheel",Fs),this}function ao(o){return ts(o,"mousedown touchstart dblclick contextmenu",Fs),o._leaflet_disable_click=!0,this}function mr(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function on(o){return mr(o),Fs(o),this}function Bt(o){if(o.composedPath)return o.composedPath();for(var x=[],I=o.target;I;)x.push(I),I=I.parentNode;return x}function we(o,x){if(!x)return new Zt(o.clientX,o.clientY);var I=xn(x),j=I.boundingClientRect;return new Zt((o.clientX-j.left)/I.x-x.clientLeft,(o.clientY-j.top)/I.y-x.clientTop)}var Ne=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Mi(o){return De.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ne:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function wr(o,x){var I=x.relatedTarget;if(!I)return!0;try{for(;I&&I!==o;)I=I.parentNode}catch{return!1}return I!==o}var er={__proto__:null,on:ts,off:Ms,stopPropagation:Fs,disableScrollPropagation:vh,disableClickPropagation:ao,preventDefault:mr,stop:on,getPropagationPath:Bt,getMousePosition:we,getWheelDelta:Mi,isExternalTarget:wr,addListener:ts,removeListener:Ms},vo=so.extend({run:function(o,x,I,j){this.stop(),this._el=o,this._inProgress=!0,this._duration=I||.25,this._easeOutPower=1/Math.max(j||.5,.2),this._startPos=br(o),this._offset=x.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ii(this._animate,this),this._step()},_step:function(o){var x=+new Date-this._startTime,I=this._duration*1e3;x<I?this._runFrame(this._easeOut(x/I),o):(this._runFrame(1),this._complete())},_runFrame:function(o,x){var I=this._startPos.add(this._offset.multiplyBy(o));x&&I._round(),_r(this._el,I),this.fire("step")},_complete:function(){Xs(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ci=so.extend({options:{crs:wi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,x){x=We(this,x),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=te(this._onResize,this),this._initEvents(),x.maxBounds&&this.setMaxBounds(x.maxBounds),x.zoom!==void 0&&(this._zoom=this._limitZoom(x.zoom)),x.center&&x.zoom!==void 0&&this.setView(Xi(x.center),x.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gn&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ts(this._proxy,kl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,x,I){if(x=x===void 0?this._zoom:this._limitZoom(x),o=this._limitCenter(Xi(o),x,this.options.maxBounds),I=I||{},this._stop(),this._loaded&&!I.reset&&I!==!0){I.animate!==void 0&&(I.zoom=Et({animate:I.animate},I.zoom),I.pan=Et({animate:I.animate,duration:I.duration},I.pan));var j=this._zoom!==x?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,x,I.zoom):this._tryAnimatedPan(o,I.pan);if(j)return clearTimeout(this._sizeTimer),this}return this._resetView(o,x,I.pan&&I.pan.noMoveStart),this},setZoom:function(o,x){return this._loaded?this.setView(this.getCenter(),o,{zoom:x}):(this._zoom=o,this)},zoomIn:function(o,x){return o=o||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,x)},zoomOut:function(o,x){return o=o||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,x)},setZoomAround:function(o,x,I){var j=this.getZoomScale(x),nt=this.getSize().divideBy(2),bt=o instanceof Zt?o:this.latLngToContainerPoint(o),$t=bt.subtract(nt).multiplyBy(1-1/j),ye=this.containerPointToLatLng(nt.add($t));return this.setView(ye,x,{zoom:I})},_getBoundsCenterZoom:function(o,x){x=x||{},o=o.getBounds?o.getBounds():_s(o);var I=ri(x.paddingTopLeft||x.padding||[0,0]),j=ri(x.paddingBottomRight||x.padding||[0,0]),nt=this.getBoundsZoom(o,!1,I.add(j));if(nt=typeof x.maxZoom=="number"?Math.min(x.maxZoom,nt):nt,nt===1/0)return{center:o.getCenter(),zoom:nt};var bt=j.subtract(I).divideBy(2),$t=this.project(o.getSouthWest(),nt),ye=this.project(o.getNorthEast(),nt),de=this.unproject($t.add(ye).divideBy(2).add(bt),nt);return{center:de,zoom:nt}},fitBounds:function(o,x){if(o=_s(o),!o.isValid())throw new Error("Bounds are not valid.");var I=this._getBoundsCenterZoom(o,x);return this.setView(I.center,I.zoom,x)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,x){return this.setView(o,this._zoom,{pan:x})},panBy:function(o,x){if(o=ri(o).round(),x=x||{},!o.x&&!o.y)return this.fire("moveend");if(x.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),x.noMoveStart||this.fire("movestart"),x.animate!==!1){Qi(this._mapPane,"leaflet-pan-anim");var I=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,I,x.duration||.25,x.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,x,I){if(I=I||{},I.animate===!1||!De.any3d)return this.setView(o,x,I);this._stop();var j=this.project(this.getCenter()),nt=this.project(o),bt=this.getSize(),$t=this._zoom;o=Xi(o),x=x===void 0?$t:x;var ye=Math.max(bt.x,bt.y),de=ye*this.getZoomScale($t,x),pe=nt.distanceTo(j)||1,ci=1.42,Wi=ci*ci;function ds(nr){var _l=nr?-1:1,gc=nr?de:ye,mc=de*de-ye*ye+_l*Wi*Wi*pe*pe,qh=2*gc*Wi*pe,Ah=mc/qh,Kh=Math.sqrt(Ah*Ah+1)-Ah,_a=Kh<1e-9?-18:Math.log(Kh);return _a}function bi(nr){return(Math.exp(nr)-Math.exp(-nr))/2}function Ai(nr){return(Math.exp(nr)+Math.exp(-nr))/2}function to(nr){return bi(nr)/Ai(nr)}var hn=ds(0);function Za(nr){return ye*(Ai(hn)/Ai(hn+ci*nr))}function rs(nr){return ye*(Ai(hn)*to(hn+ci*nr)-bi(hn))/Wi}function Sh(nr){return 1-Math.pow(1-nr,1.5)}var Th=Date.now(),eh=(ds(1)-hn)/ci,qc=I.duration?1e3*I.duration:1e3*eh*.8;function Dd(){var nr=(Date.now()-Th)/qc,_l=Sh(nr)*eh;nr<=1?(this._flyToFrame=ii(Dd,this),this._move(this.unproject(j.add(nt.subtract(j).multiplyBy(rs(_l)/pe)),$t),this.getScaleZoom(ye/Za(_l),$t),{flyTo:!0})):this._move(o,x)._moveEnd(!0)}return this._moveStart(!0,I.noMoveStart),Dd.call(this),this},flyToBounds:function(o,x){var I=this._getBoundsCenterZoom(o,x);return this.flyTo(I.center,I.zoom,x)},setMaxBounds:function(o){return o=_s(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var x=this.options.minZoom;return this.options.minZoom=o,this._loaded&&x!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var x=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&x!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,x){this._enforcingBounds=!0;var I=this.getCenter(),j=this._limitCenter(I,this._zoom,_s(o));return I.equals(j)||this.panTo(j,x),this._enforcingBounds=!1,this},panInside:function(o,x){x=x||{};var I=ri(x.paddingTopLeft||x.padding||[0,0]),j=ri(x.paddingBottomRight||x.padding||[0,0]),nt=this.project(this.getCenter()),bt=this.project(o),$t=this.getPixelBounds(),ye=rr([$t.min.add(I),$t.max.subtract(j)]),de=ye.getSize();if(!ye.contains(bt)){this._enforcingBounds=!0;var pe=bt.subtract(ye.getCenter()),ci=ye.extend(bt).getSize().subtract(de);nt.x+=pe.x<0?-ci.x:ci.x,nt.y+=pe.y<0?-ci.y:ci.y,this.panTo(this.unproject(nt),x),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=Et({animate:!1,pan:!0},o===!0?{animate:!0}:o);var x=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var I=this.getSize(),j=x.divideBy(2).round(),nt=I.divideBy(2).round(),bt=j.subtract(nt);return!bt.x&&!bt.y?this:(o.animate&&o.pan?this.panBy(bt):(o.pan&&this._rawPanBy(bt),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(te(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:x,newSize:I}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=Et({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var x=te(this._handleGeolocationResponse,this),I=te(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(x,I,o):navigator.geolocation.getCurrentPosition(x,I,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var x=o.code,I=o.message||(x===1?"permission denied":x===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:x,message:"Geolocation error: "+I+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var x=o.coords.latitude,I=o.coords.longitude,j=new ms(x,I),nt=j.toBounds(o.coords.accuracy*2),bt=this._locateOptions;if(bt.setView){var $t=this.getBoundsZoom(nt);this.setView(j,bt.maxZoom?Math.min($t,bt.maxZoom):$t)}var ye={latlng:j,bounds:nt,timestamp:o.timestamp};for(var de in o.coords)typeof o.coords[de]=="number"&&(ye[de]=o.coords[de]);this.fire("locationfound",ye)}},addHandler:function(o,x){if(!x)return this;var I=this[o]=new x(this);return this._handlers.push(I),this.options[o]&&I.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),js(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Xs(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)js(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,x){var I="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),j=hs("div",I,x||this._mapPane);return o&&(this._panes[o]=j),j},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),x=this.unproject(o.getBottomLeft()),I=this.unproject(o.getTopRight());return new Ts(x,I)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,x,I){o=_s(o),I=ri(I||[0,0]);var j=this.getZoom()||0,nt=this.getMinZoom(),bt=this.getMaxZoom(),$t=o.getNorthWest(),ye=o.getSouthEast(),de=this.getSize().subtract(I),pe=rr(this.project(ye,j),this.project($t,j)).getSize(),ci=De.any3d?this.options.zoomSnap:1,Wi=de.x/pe.x,ds=de.y/pe.y,bi=x?Math.max(Wi,ds):Math.min(Wi,ds);return j=this.getScaleZoom(bi,j),ci&&(j=Math.round(j/(ci/100))*(ci/100),j=x?Math.ceil(j/ci)*ci:Math.floor(j/ci)*ci),Math.max(nt,Math.min(bt,j))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Zt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,x){var I=this._getTopLeftPoint(o,x);return new ks(I,I.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,x){var I=this.options.crs;return x=x===void 0?this._zoom:x,I.scale(o)/I.scale(x)},getScaleZoom:function(o,x){var I=this.options.crs;x=x===void 0?this._zoom:x;var j=I.zoom(o*I.scale(x));return isNaN(j)?1/0:j},project:function(o,x){return x=x===void 0?this._zoom:x,this.options.crs.latLngToPoint(Xi(o),x)},unproject:function(o,x){return x=x===void 0?this._zoom:x,this.options.crs.pointToLatLng(ri(o),x)},layerPointToLatLng:function(o){var x=ri(o).add(this.getPixelOrigin());return this.unproject(x)},latLngToLayerPoint:function(o){var x=this.project(Xi(o))._round();return x._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Xi(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(_s(o))},distance:function(o,x){return this.options.crs.distance(Xi(o),Xi(x))},containerPointToLayerPoint:function(o){return ri(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ri(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var x=this.containerPointToLayerPoint(ri(o));return this.layerPointToLatLng(x)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Xi(o)))},mouseEventToContainerPoint:function(o){return we(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var x=this._container=Qs(o);if(x){if(x._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ts(x,"scroll",this._onScroll,this),this._containerId=ee(x)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,Qi(o,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var x=Fa(o,"position");x!=="absolute"&&x!=="relative"&&x!=="fixed"&&x!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_r(this._mapPane,new Zt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Qi(o.markerPane,"leaflet-zoom-hide"),Qi(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,x,I){_r(this._mapPane,new Zt(0,0));var j=!this._loaded;this._loaded=!0,x=this._limitZoom(x),this.fire("viewprereset");var nt=this._zoom!==x;this._moveStart(nt,I)._move(o,x)._moveEnd(nt),this.fire("viewreset"),j&&this.fire("load")},_moveStart:function(o,x){return o&&this.fire("zoomstart"),x||this.fire("movestart"),this},_move:function(o,x,I,j){x===void 0&&(x=this._zoom);var nt=this._zoom!==x;return this._zoom=x,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),j?I&&I.pinch&&this.fire("zoom",I):((nt||I&&I.pinch)&&this.fire("zoom",I),this.fire("move",I)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Xs(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){_r(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[ee(this._container)]=this;var x=o?Ms:ts;x(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&x(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Xs(this._resizeRequest),this._resizeRequest=ii(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,x){for(var I=[],j,nt=x==="mouseout"||x==="mouseover",bt=o.target||o.srcElement,$t=!1;bt;){if(j=this._targets[ee(bt)],j&&(x==="click"||x==="preclick")&&this._draggableMoved(j)){$t=!0;break}if(j&&j.listens(x,!0)&&(nt&&!wr(bt,o)||(I.push(j),nt))||bt===this._container)break;bt=bt.parentNode}return!I.length&&!$t&&!nt&&this.listens(x,!0)&&(I=[this]),I},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var x=o.target||o.srcElement;if(!(!this._loaded||x._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(x))){var I=o.type;I==="mousedown"&&Ga(x),this._fireDOMEvent(o,I)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,x,I){if(o.type==="click"){var j=Et({},o);j.type="preclick",this._fireDOMEvent(j,j.type,I)}var nt=this._findEventTargets(o,x);if(I){for(var bt=[],$t=0;$t<I.length;$t++)I[$t].listens(x,!0)&&bt.push(I[$t]);nt=bt.concat(nt)}if(nt.length){x==="contextmenu"&&mr(o);var ye=nt[0],de={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var pe=ye.getLatLng&&(!ye._radius||ye._radius<=10);de.containerPoint=pe?this.latLngToContainerPoint(ye.getLatLng()):this.mouseEventToContainerPoint(o),de.layerPoint=this.containerPointToLayerPoint(de.containerPoint),de.latlng=pe?ye.getLatLng():this.layerPointToLatLng(de.layerPoint)}for($t=0;$t<nt.length;$t++)if(nt[$t].fire(x,de,!0),de.originalEvent._stopped||nt[$t].options.bubblingMouseEvents===!1&&zi(this._mouseEvents,x)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,x=this._handlers.length;o<x;o++)this._handlers[o].disable()},whenReady:function(o,x){return this._loaded?o.call(x||this,{target:this}):this.on("load",o,x),this},_getMapPanePos:function(){return br(this._mapPane)||new Zt(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,x){var I=o&&x!==void 0?this._getNewPixelOrigin(o,x):this.getPixelOrigin();return I.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,x){var I=this.getSize()._divideBy(2);return this.project(o,x)._subtract(I)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,x,I){var j=this._getNewPixelOrigin(I,x);return this.project(o,x)._subtract(j)},_latLngBoundsToNewLayerBounds:function(o,x,I){var j=this._getNewPixelOrigin(I,x);return rr([this.project(o.getSouthWest(),x)._subtract(j),this.project(o.getNorthWest(),x)._subtract(j),this.project(o.getSouthEast(),x)._subtract(j),this.project(o.getNorthEast(),x)._subtract(j)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,x,I){if(!I)return o;var j=this.project(o,x),nt=this.getSize().divideBy(2),bt=new ks(j.subtract(nt),j.add(nt)),$t=this._getBoundsOffset(bt,I,x);return Math.abs($t.x)<=1&&Math.abs($t.y)<=1?o:this.unproject(j.add($t),x)},_limitOffset:function(o,x){if(!x)return o;var I=this.getPixelBounds(),j=new ks(I.min.add(o),I.max.add(o));return o.add(this._getBoundsOffset(j,x))},_getBoundsOffset:function(o,x,I){var j=rr(this.project(x.getNorthEast(),I),this.project(x.getSouthWest(),I)),nt=j.min.subtract(o.min),bt=j.max.subtract(o.max),$t=this._rebound(nt.x,-bt.x),ye=this._rebound(nt.y,-bt.y);return new Zt($t,ye)},_rebound:function(o,x){return o+x>0?Math.round(o-x)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(x))},_limitZoom:function(o){var x=this.getMinZoom(),I=this.getMaxZoom(),j=De.any3d?this.options.zoomSnap:1;return j&&(o=Math.round(o/j)*j),Math.max(x,Math.min(I,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,x){var I=this._getCenterOffset(o)._trunc();return(x&&x.animate)!==!0&&!this.getSize().contains(I)?!1:(this.panBy(I,x),!0)},_createAnimProxy:function(){var o=this._proxy=hs("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(x){var I=Xn,j=this._proxy.style[I];en(this._proxy,this.project(x.center,x.zoom),this.getZoomScale(x.zoom,1)),j===this._proxy.style[I]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){js(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),x=this.getZoom();en(this._proxy,this.project(o,x),this.getZoomScale(x,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,x,I){if(this._animatingZoom)return!0;if(I=I||{},!this._zoomAnimated||I.animate===!1||this._nothingToAnimate()||Math.abs(x-this._zoom)>this.options.zoomAnimationThreshold)return!1;var j=this.getZoomScale(x),nt=this._getCenterOffset(o)._divideBy(1-1/j);return I.animate!==!0&&!this.getSize().contains(nt)?!1:(ii(function(){this._moveStart(!0,I.noMoveStart||!1)._animateZoom(o,x,!0)},this),!0)},_animateZoom:function(o,x,I,j){this._mapPane&&(I&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=x,Qi(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:x,noUpdate:j}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(te(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xa(o,x){return new Ci(o,x)}var Qr=ge.extend({options:{position:"topright"},initialize:function(o){We(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var x=this._map;return x&&x.removeControl(this),this.options.position=o,x&&x.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var x=this._container=this.onAdd(o),I=this.getPosition(),j=o._controlCorners[I];return Qi(x,"leaflet-control"),I.indexOf("bottom")!==-1?j.insertBefore(x,j.firstChild):j.appendChild(x),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(js(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),fa=function(o){return new Qr(o)};Ci.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},x="leaflet-",I=this._controlContainer=hs("div",x+"control-container",this._container);function j(nt,bt){var $t=x+nt+" "+x+bt;o[nt+bt]=hs("div",$t,I)}j("top","left"),j("top","right"),j("bottom","left"),j("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)js(this._controlCorners[o]);js(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dl=Qr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,x,I,j){return I<j?-1:j<I?1:0}},initialize:function(o,x,I){We(this,I),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var j in o)this._addLayer(o[j],j);for(j in x)this._addLayer(x[j],j,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var x=0;x<this._layers.length;x++)this._layers[x].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Qr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,x){return this._addLayer(o,x),this._map?this._update():this},addOverlay:function(o,x){return this._addLayer(o,x,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var x=this._getLayer(ee(o));return x&&this._layers.splice(this._layers.indexOf(x),1),this._map?this._update():this},expand:function(){Qi(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Qi(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):lr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",x=this._container=hs("div",o),I=this.options.collapsed;x.setAttribute("aria-haspopup",!0),ao(x),vh(x);var j=this._section=hs("section",o+"-list");I&&(this._map.on("click",this.collapse,this),ts(x,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var nt=this._layersLink=hs("a",o+"-toggle",x);nt.href="#",nt.title="Layers",nt.setAttribute("role","button"),ts(nt,{keydown:function(bt){bt.keyCode===13&&this._expandSafely()},click:function(bt){mr(bt),this._expandSafely()}},this),I||this.expand(),this._baseLayersList=hs("div",o+"-base",j),this._separator=hs("div",o+"-separator",j),this._overlaysList=hs("div",o+"-overlays",j),x.appendChild(j)},_getLayer:function(o){for(var x=0;x<this._layers.length;x++)if(this._layers[x]&&ee(this._layers[x].layer)===o)return this._layers[x]},_addLayer:function(o,x,I){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:x,overlay:I}),this.options.sortLayers&&this._layers.sort(te(function(j,nt){return this.options.sortFunction(j.layer,nt.layer,j.name,nt.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yn(this._baseLayersList),Yn(this._overlaysList),this._layerControlInputs=[];var o,x,I,j,nt=0;for(I=0;I<this._layers.length;I++)j=this._layers[I],this._addItem(j),x=x||j.overlay,o=o||!j.overlay,nt+=j.overlay?0:1;return this.options.hideSingleBase&&(o=o&&nt>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=x&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var x=this._getLayer(ee(o.target)),I=x.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;I&&this._map.fire(I,x)},_createRadioElement:function(o,x){var I='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(x?' checked="checked"':"")+"/>",j=document.createElement("div");return j.innerHTML=I,j.firstChild},_addItem:function(o){var x=document.createElement("label"),I=this._map.hasLayer(o.layer),j;o.overlay?(j=document.createElement("input"),j.type="checkbox",j.className="leaflet-control-layers-selector",j.defaultChecked=I):j=this._createRadioElement("leaflet-base-layers_"+ee(this),I),this._layerControlInputs.push(j),j.layerId=ee(o.layer),ts(j,"click",this._onInputClick,this);var nt=document.createElement("span");nt.innerHTML=" "+o.name;var bt=document.createElement("span");x.appendChild(bt),bt.appendChild(j),bt.appendChild(nt);var $t=o.overlay?this._overlaysList:this._baseLayersList;return $t.appendChild(x),this._checkDisabledLayers(),x},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,x,I,j=[],nt=[];this._handlingClick=!0;for(var bt=o.length-1;bt>=0;bt--)x=o[bt],I=this._getLayer(x.layerId).layer,x.checked?j.push(I):x.checked||nt.push(I);for(bt=0;bt<nt.length;bt++)this._map.hasLayer(nt[bt])&&this._map.removeLayer(nt[bt]);for(bt=0;bt<j.length;bt++)this._map.hasLayer(j[bt])||this._map.addLayer(j[bt]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,x,I,j=this._map.getZoom(),nt=o.length-1;nt>=0;nt--)x=o[nt],I=this._getLayer(x.layerId).layer,x.disabled=I.options.minZoom!==void 0&&j<I.options.minZoom||I.options.maxZoom!==void 0&&j>I.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ts(o,"click",mr),this.expand();var x=this;setTimeout(function(){Ms(o,"click",mr),x._preventClick=!1})}}),ga=function(o,x,I){return new dl(o,x,I)},Rs=Qr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var x="leaflet-control-zoom",I=hs("div",x+" leaflet-bar"),j=this.options;return this._zoomInButton=this._createButton(j.zoomInText,j.zoomInTitle,x+"-in",I,this._zoomIn),this._zoomOutButton=this._createButton(j.zoomOutText,j.zoomOutTitle,x+"-out",I,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),I},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,x,I,j,nt){var bt=hs("a",I,j);return bt.innerHTML=o,bt.href="#",bt.title=x,bt.setAttribute("role","button"),bt.setAttribute("aria-label",x),ao(bt),ts(bt,"click",on),ts(bt,"click",nt,this),ts(bt,"click",this._refocusOnMap,this),bt},_updateDisabled:function(){var o=this._map,x="leaflet-disabled";lr(this._zoomInButton,x),lr(this._zoomOutButton,x),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Qi(this._zoomOutButton,x),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Qi(this._zoomInButton,x),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ci.mergeOptions({zoomControl:!0}),Ci.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rs,this.addControl(this.zoomControl))});var lo=function(o){return new Rs(o)},bh=Qr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var x="leaflet-control-scale",I=hs("div",x),j=this.options;return this._addScales(j,x+"-line",I),o.on(j.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),I},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,x,I){o.metric&&(this._mScale=hs("div",x,I)),o.imperial&&(this._iScale=hs("div",x,I))},_update:function(){var o=this._map,x=o.getSize().y/2,I=o.distance(o.containerPointToLatLng([0,x]),o.containerPointToLatLng([this.options.maxWidth,x]));this._updateScales(I)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var x=this._getRoundNum(o),I=x<1e3?x+" m":x/1e3+" km";this._updateScale(this._mScale,I,x/o)},_updateImperial:function(o){var x=o*3.2808399,I,j,nt;x>5280?(I=x/5280,j=this._getRoundNum(I),this._updateScale(this._iScale,j+" mi",j/I)):(nt=this._getRoundNum(x),this._updateScale(this._iScale,nt+" ft",nt/x))},_updateScale:function(o,x,I){o.style.width=Math.round(this.options.maxWidth*I)+"px",o.innerHTML=x},_getRoundNum:function(o){var x=Math.pow(10,(Math.floor(o)+"").length-1),I=o/x;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:1,x*I}}),Xl=function(o){return new bh(o)},Vn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yn=Qr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?Vn+" ":"")+"Leaflet</a>"},initialize:function(o){We(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=hs("div","leaflet-control-attribution"),ao(this._container);for(var x in o._layers)o._layers[x].getAttribution&&this.addAttribution(o._layers[x].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var x in this._attributions)this._attributions[x]&&o.push(x);var I=[];this.options.prefix&&I.push(this.options.prefix),o.length&&I.push(o.join(", ")),this._container.innerHTML=I.join(' <span aria-hidden="true">|</span> ')}}});Ci.mergeOptions({attributionControl:!0}),Ci.addInitHook(function(){this.options.attributionControl&&new yn().addTo(this)});var Or=function(o){return new yn(o)};Qr.Layers=dl,Qr.Zoom=Rs,Qr.Scale=bh,Qr.Attribution=yn,fa.layers=ga,fa.zoom=lo,fa.scale=Xl,fa.attribution=Or;var dr=ge.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dr.addTo=function(o,x){return o.addHandler(x,this),this};var Pd={Events:zs},Uo=De.touch?"touchstart mousedown":"mousedown",Gs=so.extend({options:{clickTolerance:3},initialize:function(o,x,I,j){We(this,j),this._element=o,this._dragStartTarget=x||o,this._preventOutline=I},enable:function(){this._enabled||(ts(this._dragStartTarget,Uo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gs._dragging===this&&this.finishDrag(!0),Ms(this._dragStartTarget,Uo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!mn(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Gs._dragging===this&&this.finishDrag();return}if(!(Gs._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Gs._dragging=this,this._preventOutline&&Ga(this._element),jn(),Os(),!this._moving)){this.fire("down");var x=o.touches?o.touches[0]:o,I=Ws(this._element);this._startPoint=new Zt(x.clientX,x.clientY),this._startPos=br(this._element),this._parentScale=xn(I);var j=o.type==="mousedown";ts(document,j?"mousemove":"touchmove",this._onMove,this),ts(document,j?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var x=o.touches&&o.touches.length===1?o.touches[0]:o,I=new Zt(x.clientX,x.clientY)._subtract(this._startPoint);!I.x&&!I.y||Math.abs(I.x)+Math.abs(I.y)<this.options.clickTolerance||(I.x/=this._parentScale.x,I.y/=this._parentScale.y,mr(o),this._moved||(this.fire("dragstart"),this._moved=!0,Qi(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Qi(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(I),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),_r(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){lr(document.body,"leaflet-dragging"),this._lastTarget&&(lr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ms(document,"mousemove touchmove",this._onMove,this),Ms(document,"mouseup touchend touchcancel",this._onUp,this),hr(),ua();var x=this._moved&&this._moving;this._moving=!1,Gs._dragging=!1,x&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Lo(o,x,I){var j,nt=[1,4,2,8],bt,$t,ye,de,pe,ci,Wi,ds;for(bt=0,ci=o.length;bt<ci;bt++)o[bt]._code=No(o[bt],x);for(ye=0;ye<4;ye++){for(Wi=nt[ye],j=[],bt=0,ci=o.length,$t=ci-1;bt<ci;$t=bt++)de=o[bt],pe=o[$t],de._code&Wi?pe._code&Wi||(ds=Vo(pe,de,Wi,x,I),ds._code=No(ds,x),j.push(ds)):(pe._code&Wi&&(ds=Vo(pe,de,Wi,x,I),ds._code=No(ds,x),j.push(ds)),j.push(de));o=j}return o}function zo(o,x){var I,j,nt,bt,$t,ye,de,pe,ci;if(!o||o.length===0)throw new Error("latlngs not passed");nn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Wi=Xi([0,0]),ds=_s(o),bi=ds.getNorthWest().distanceTo(ds.getSouthWest())*ds.getNorthEast().distanceTo(ds.getNorthWest());bi<1700&&(Wi=Tl(o));var Ai=o.length,to=[];for(I=0;I<Ai;I++){var hn=Xi(o[I]);to.push(x.project(Xi([hn.lat-Wi.lat,hn.lng-Wi.lng])))}for(ye=de=pe=0,I=0,j=Ai-1;I<Ai;j=I++)nt=to[I],bt=to[j],$t=nt.y*bt.x-bt.y*nt.x,de+=(nt.x+bt.x)*$t,pe+=(nt.y+bt.y)*$t,ye+=$t*3;ye===0?ci=to[0]:ci=[de/ye,pe/ye];var Za=x.unproject(ri(ci));return Xi([Za.lat+Wi.lat,Za.lng+Wi.lng])}function Tl(o){for(var x=0,I=0,j=0,nt=0;nt<o.length;nt++){var bt=Xi(o[nt]);x+=bt.lat,I+=bt.lng,j++}return Xi([x/j,I/j])}var Yl={__proto__:null,clipPolygon:Lo,polygonCenter:zo,centroid:Tl};function Ro(o,x){if(!x||!o.length)return o.slice();var I=x*x;return o=Ul(o,I),o=Al(o,I),o}function Yh(o,x,I){return Math.sqrt($n(o,x,I,!0))}function jl(o,x,I){return $n(o,x,I)}function Al(o,x){var I=o.length,j=typeof Uint8Array<"u"?Uint8Array:Array,nt=new j(I);nt[0]=nt[I-1]=1,vn(o,nt,x,0,I-1);var bt,$t=[];for(bt=0;bt<I;bt++)nt[bt]&&$t.push(o[bt]);return $t}function vn(o,x,I,j,nt){var bt=0,$t,ye,de;for(ye=j+1;ye<=nt-1;ye++)de=$n(o[ye],o[j],o[nt],!0),de>bt&&($t=ye,bt=de);bt>I&&(x[$t]=1,vn(o,x,I,j,$t),vn(o,x,I,$t,nt))}function Ul(o,x){for(var I=[o[0]],j=1,nt=0,bt=o.length;j<bt;j++)jh(o[j],o[nt])>x&&(I.push(o[j]),nt=j);return nt<bt-1&&I.push(o[bt-1]),I}var bn;function Zn(o,x,I,j,nt){var bt=j?bn:No(o,I),$t=No(x,I),ye,de,pe;for(bn=$t;;){if(!(bt|$t))return[o,x];if(bt&$t)return!1;ye=bt||$t,de=Vo(o,x,ye,I,nt),pe=No(de,I),ye===bt?(o=de,bt=pe):(x=de,$t=pe)}}function Vo(o,x,I,j,nt){var bt=x.x-o.x,$t=x.y-o.y,ye=j.min,de=j.max,pe,ci;return I&8?(pe=o.x+bt*(de.y-o.y)/$t,ci=de.y):I&4?(pe=o.x+bt*(ye.y-o.y)/$t,ci=ye.y):I&2?(pe=de.x,ci=o.y+$t*(de.x-o.x)/bt):I&1&&(pe=ye.x,ci=o.y+$t*(ye.x-o.x)/bt),new Zt(pe,ci,nt)}function No(o,x){var I=0;return o.x<x.min.x?I|=1:o.x>x.max.x&&(I|=2),o.y<x.min.y?I|=4:o.y>x.max.y&&(I|=8),I}function jh(o,x){var I=x.x-o.x,j=x.y-o.y;return I*I+j*j}function $n(o,x,I,j){var nt=x.x,bt=x.y,$t=I.x-nt,ye=I.y-bt,de=$t*$t+ye*ye,pe;return de>0&&(pe=((o.x-nt)*$t+(o.y-bt)*ye)/de,pe>1?(nt=I.x,bt=I.y):pe>0&&(nt+=$t*pe,bt+=ye*pe)),$t=o.x-nt,ye=o.y-bt,j?$t*$t+ye*ye:new Zt(nt,bt)}function nn(o){return!si(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Cd(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(o)}function cl(o,x){var I,j,nt,bt,$t,ye,de,pe;if(!o||o.length===0)throw new Error("latlngs not passed");nn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ci=Xi([0,0]),Wi=_s(o),ds=Wi.getNorthWest().distanceTo(Wi.getSouthWest())*Wi.getNorthEast().distanceTo(Wi.getNorthWest());ds<1700&&(ci=Tl(o));var bi=o.length,Ai=[];for(I=0;I<bi;I++){var to=Xi(o[I]);Ai.push(x.project(Xi([to.lat-ci.lat,to.lng-ci.lng])))}for(I=0,j=0;I<bi-1;I++)j+=Ai[I].distanceTo(Ai[I+1])/2;if(j===0)pe=Ai[0];else for(I=0,bt=0;I<bi-1;I++)if($t=Ai[I],ye=Ai[I+1],nt=$t.distanceTo(ye),bt+=nt,bt>j){de=(bt-j)/nt,pe=[ye.x-de*(ye.x-$t.x),ye.y-de*(ye.y-$t.y)];break}var hn=x.unproject(ri(pe));return Xi([hn.lat+ci.lat,hn.lng+ci.lng])}var bo={__proto__:null,simplify:Ro,pointToSegmentDistance:Yh,closestPointOnSegment:jl,clipSegment:Zn,_getEdgeIntersection:Vo,_getBitCode:No,_sqClosestPointOnSegment:$n,isFlat:nn,_flat:Cd,polylineCenter:cl},ma={project:function(o){return new Zt(o.lng,o.lat)},unproject:function(o){return new ms(o.y,o.x)},bounds:new ks([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ks([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var x=Math.PI/180,I=this.R,j=o.lat*x,nt=this.R_MINOR/I,bt=Math.sqrt(1-nt*nt),$t=bt*Math.sin(j),ye=Math.tan(Math.PI/4-j/2)/Math.pow((1-$t)/(1+$t),bt/2);return j=-I*Math.log(Math.max(ye,1e-10)),new Zt(o.lng*x*I,j)},unproject:function(o){for(var x=180/Math.PI,I=this.R,j=this.R_MINOR/I,nt=Math.sqrt(1-j*j),bt=Math.exp(-o.y/I),$t=Math.PI/2-2*Math.atan(bt),ye=0,de=.1,pe;ye<15&&Math.abs(de)>1e-7;ye++)pe=nt*Math.sin($t),pe=Math.pow((1-pe)/(1+pe),nt/2),de=Math.PI/2-2*Math.atan(bt*pe)-$t,$t+=de;return new ms($t*x,o.x*x/I)}},cc={__proto__:null,LonLat:ma,Mercator:wn,SphericalMercator:fo},xa=Et({},uo,{code:"EPSG:3395",projection:wn,transformation:function(){var o=.5/(Math.PI*wn.R);return ro(o,.5,-o,.5)}()}),pc=Et({},uo,{code:"EPSG:4326",projection:ma,transformation:ro(1/180,1,-1/180,.5)}),wh=Et({},po,{projection:ma,transformation:ro(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,x){var I=x.lng-o.lng,j=x.lat-o.lat;return Math.sqrt(I*I+j*j)},infinite:!0});po.Earth=uo,po.EPSG3395=xa,po.EPSG3857=wi,po.EPSG900913=Go,po.EPSG4326=pc,po.Simple=wh;var Rr=so.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[ee(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[ee(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var x=o.target;if(x.hasLayer(this)){if(this._map=x,this._zoomAnimated=x._zoomAnimated,this.getEvents){var I=this.getEvents();x.on(I,this),this.once("remove",function(){x.off(I,this)},this)}this.onAdd(x),this.fire("add"),x.fire("layeradd",{layer:this})}}});Ci.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var x=ee(o);return this._layers[x]?this:(this._layers[x]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var x=ee(o);return this._layers[x]?(this._loaded&&o.onRemove(this),delete this._layers[x],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return ee(o)in this._layers},eachLayer:function(o,x){for(var I in this._layers)o.call(x,this._layers[I]);return this},_addLayers:function(o){o=o?si(o)?o:[o]:[];for(var x=0,I=o.length;x<I;x++)this.addLayer(o[x])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[ee(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var x=ee(o);this._zoomBoundLayers[x]&&(delete this._zoomBoundLayers[x],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,x=-1/0,I=this._getZoomSpan();for(var j in this._zoomBoundLayers){var nt=this._zoomBoundLayers[j].options;o=nt.minZoom===void 0?o:Math.min(o,nt.minZoom),x=nt.maxZoom===void 0?x:Math.max(x,nt.maxZoom)}this._layersMaxZoom=x===-1/0?void 0:x,this._layersMinZoom=o===1/0?void 0:o,I!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ya=Rr.extend({initialize:function(o,x){We(this,x),this._layers={};var I,j;if(o)for(I=0,j=o.length;I<j;I++)this.addLayer(o[I])},addLayer:function(o){var x=this.getLayerId(o);return this._layers[x]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var x=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[x]&&this._map.removeLayer(this._layers[x]),delete this._layers[x],this},hasLayer:function(o){var x=typeof o=="number"?o:this.getLayerId(o);return x in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var x=Array.prototype.slice.call(arguments,1),I,j;for(I in this._layers)j=this._layers[I],j[o]&&j[o].apply(j,x);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,x){for(var I in this._layers)o.call(x,this._layers[I]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return ee(o)}}),Vl=function(o,x){return new Ya(o,x)},Xr=Ya.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ya.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ya.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ts;for(var x in this._layers){var I=this._layers[x];o.extend(I.getBounds?I.getBounds():I.getLatLng())}return o}}),qn=function(o,x){return new Xr(o,x)},Wo=ge.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){We(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,x){var I=this._getIconUrl(o);if(!I){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var j=this._createImg(I,x&&x.tagName==="IMG"?x:null);return this._setIconStyles(j,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(j.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),j},_setIconStyles:function(o,x){var I=this.options,j=I[x+"Size"];typeof j=="number"&&(j=[j,j]);var nt=ri(j),bt=ri(x==="shadow"&&I.shadowAnchor||I.iconAnchor||nt&&nt.divideBy(2,!0));o.className="leaflet-marker-"+x+" "+(I.className||""),bt&&(o.style.marginLeft=-bt.x+"px",o.style.marginTop=-bt.y+"px"),nt&&(o.style.width=nt.x+"px",o.style.height=nt.y+"px")},_createImg:function(o,x){return x=x||document.createElement("img"),x.src=o,x},_getIconUrl:function(o){return De.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function ya(o){return new Wo(o)}var wo=Wo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof wo.imagePath!="string"&&(wo.imagePath=this._detectIconPath()),(this.options.imagePath||wo.imagePath)+Wo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var x=function(I,j,nt){var bt=j.exec(I);return bt&&bt[nt]};return o=x(o,/^url\((['"])?(.+)\1\)$/,2),o&&x(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=hs("div","leaflet-default-icon-path",document.body),x=Fa(o,"background-image")||Fa(o,"backgroundImage");if(document.body.removeChild(o),x=this._stripUrl(x),x)return x;var I=document.querySelector('link[href$="leaflet.css"]');return I?I.href.substring(0,I.href.length-11-1):""}}),Zl=dr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Gs(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Qi(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var x=this._marker,I=x._map,j=this._marker.options.autoPanSpeed,nt=this._marker.options.autoPanPadding,bt=br(x._icon),$t=I.getPixelBounds(),ye=I.getPixelOrigin(),de=rr($t.min._subtract(ye).add(nt),$t.max._subtract(ye).subtract(nt));if(!de.contains(bt)){var pe=ri((Math.max(de.max.x,bt.x)-de.max.x)/($t.max.x-de.max.x)-(Math.min(de.min.x,bt.x)-de.min.x)/($t.min.x-de.min.x),(Math.max(de.max.y,bt.y)-de.max.y)/($t.max.y-de.max.y)-(Math.min(de.min.y,bt.y)-de.min.y)/($t.min.y-de.min.y)).multiplyBy(j);I.panBy(pe,{animate:!1}),this._draggable._newPos._add(pe),this._draggable._startPos._add(pe),_r(x._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=ii(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Xs(this._panRequest),this._panRequest=ii(this._adjustPan.bind(this,o)))},_onDrag:function(o){var x=this._marker,I=x._shadow,j=br(x._icon),nt=x._map.layerPointToLatLng(j);I&&_r(I,j),x._latlng=nt,o.latlng=nt,o.oldLatLng=this._oldLatLng,x.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Xs(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Zo=Rr.extend({options:{icon:new wo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,x){We(this,x),this._latlng=Xi(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var x=this._latlng;return this._latlng=Xi(o),this.update(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,x="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),I=o.icon.createIcon(this._icon),j=!1;I!==this._icon&&(this._icon&&this._removeIcon(),j=!0,o.title&&(I.title=o.title),I.tagName==="IMG"&&(I.alt=o.alt||"")),Qi(I,x),o.keyboard&&(I.tabIndex="0",I.setAttribute("role","button")),this._icon=I,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ts(I,"focus",this._panOnFocus,this);var nt=o.icon.createShadow(this._shadow),bt=!1;nt!==this._shadow&&(this._removeShadow(),bt=!0),nt&&(Qi(nt,x),nt.alt=""),this._shadow=nt,o.opacity<1&&this._updateOpacity(),j&&this.getPane().appendChild(this._icon),this._initInteraction(),nt&&bt&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ms(this._icon,"focus",this._panOnFocus,this),js(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&js(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&_r(this._icon,o),this._shadow&&_r(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var x=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(x)},_initInteraction:function(){if(this.options.interactive&&(Qi(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Pr(this._icon,o),this._shadow&&Pr(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var x=this.options.icon.options,I=x.iconSize?ri(x.iconSize):ri(0,0),j=x.iconAnchor?ri(x.iconAnchor):ri(0,0);o.panInside(this._latlng,{paddingTopLeft:j,paddingBottomRight:I.subtract(j)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Uh(o,x){return new Zo(o,x)}var Oo=Rr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return We(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),an=Oo.extend({options:{fill:!0,radius:10},initialize:function(o,x){We(this,x),this._latlng=Xi(o),this._radius=this.options.radius},setLatLng:function(o){var x=this._latlng;return this._latlng=Xi(o),this.redraw(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var x=o&&o.radius||this._radius;return Oo.prototype.setStyle.call(this,o),this.setRadius(x),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,x=this._radiusY||o,I=this._clickTolerance(),j=[o+I,x+I];this._pxBounds=new ks(this._point.subtract(j),this._point.add(j))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function va(o,x){return new an(o,x)}var kh=an.extend({initialize:function(o,x,I){if(typeof x=="number"&&(x=Et({},I,{radius:x})),We(this,x),this._latlng=Xi(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ts(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Oo.prototype.setStyle,_project:function(){var o=this._latlng.lng,x=this._latlng.lat,I=this._map,j=I.options.crs;if(j.distance===uo.distance){var nt=Math.PI/180,bt=this._mRadius/uo.R/nt,$t=I.project([x+bt,o]),ye=I.project([x-bt,o]),de=$t.add(ye).divideBy(2),pe=I.unproject(de).lat,ci=Math.acos((Math.cos(bt*nt)-Math.sin(x*nt)*Math.sin(pe*nt))/(Math.cos(x*nt)*Math.cos(pe*nt)))/nt;(isNaN(ci)||ci===0)&&(ci=bt/Math.cos(Math.PI/180*x)),this._point=de.subtract(I.getPixelOrigin()),this._radius=isNaN(ci)?0:de.x-I.project([pe,o-ci]).x,this._radiusY=de.y-$t.y}else{var Wi=j.unproject(j.project(this._latlng).subtract([this._mRadius,0]));this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(Wi).x}this._updateBounds()}});function ba(o,x,I){return new kh(o,x,I)}var kn=Oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,x){We(this,x),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var x=1/0,I=null,j=$n,nt,bt,$t=0,ye=this._parts.length;$t<ye;$t++)for(var de=this._parts[$t],pe=1,ci=de.length;pe<ci;pe++){nt=de[pe-1],bt=de[pe];var Wi=j(o,nt,bt,!0);Wi<x&&(x=Wi,I=j(o,nt,bt))}return I&&(I.distance=Math.sqrt(x)),I},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,x){return x=x||this._defaultShape(),o=Xi(o),x.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ts,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var x=[],I=nn(o),j=0,nt=o.length;j<nt;j++)I?(x[j]=Xi(o[j]),this._bounds.extend(x[j])):x[j]=this._convertLatLngs(o[j]);return x},_project:function(){var o=new ks;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),x=new Zt(o,o);this._rawPxBounds&&(this._pxBounds=new ks([this._rawPxBounds.min.subtract(x),this._rawPxBounds.max.add(x)]))},_projectLatlngs:function(o,x,I){var j=o[0]instanceof ms,nt=o.length,bt,$t;if(j){for($t=[],bt=0;bt<nt;bt++)$t[bt]=this._map.latLngToLayerPoint(o[bt]),I.extend($t[bt]);x.push($t)}else for(bt=0;bt<nt;bt++)this._projectLatlngs(o[bt],x,I)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var x=this._parts,I,j,nt,bt,$t,ye,de;for(I=0,nt=0,bt=this._rings.length;I<bt;I++)for(de=this._rings[I],j=0,$t=de.length;j<$t-1;j++)ye=Zn(de[j],de[j+1],o,j,!0),ye&&(x[nt]=x[nt]||[],x[nt].push(ye[0]),(ye[1]!==de[j+1]||j===$t-2)&&(x[nt].push(ye[1]),nt++))}},_simplifyPoints:function(){for(var o=this._parts,x=this.options.smoothFactor,I=0,j=o.length;I<j;I++)o[I]=Ro(o[I],x)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,x){var I,j,nt,bt,$t,ye,de=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(I=0,bt=this._parts.length;I<bt;I++)for(ye=this._parts[I],j=0,$t=ye.length,nt=$t-1;j<$t;nt=j++)if(!(!x&&j===0)&&Yh(o,ye[nt],ye[j])<=de)return!0;return!1}});function ln(o,x){return new kn(o,x)}kn._flat=Cd;var wa=kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var x=kn.prototype._convertLatLngs.call(this,o),I=x.length;return I>=2&&x[0]instanceof ms&&x[0].equals(x[I-1])&&x.pop(),x},_setLatLngs:function(o){kn.prototype._setLatLngs.call(this,o),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,x=this.options.weight,I=new Zt(x,x);if(o=new ks(o.min.subtract(I),o.max.add(I)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var j=0,nt=this._rings.length,bt;j<nt;j++)bt=Lo(this._rings[j],o,!0),bt.length&&this._parts.push(bt)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var x=!1,I,j,nt,bt,$t,ye,de,pe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(bt=0,de=this._parts.length;bt<de;bt++)for(I=this._parts[bt],$t=0,pe=I.length,ye=pe-1;$t<pe;ye=$t++)j=I[$t],nt=I[ye],j.y>o.y!=nt.y>o.y&&o.x<(nt.x-j.x)*(o.y-j.y)/(nt.y-j.y)+j.x&&(x=!x);return x||kn.prototype._containsPoint.call(this,o,!0)}});function ka(o,x){return new wa(o,x)}var Kn=Xr.extend({initialize:function(o,x){We(this,x),this._layers={},o&&this.addData(o)},addData:function(o){var x=si(o)?o:o.features,I,j,nt;if(x){for(I=0,j=x.length;I<j;I++)nt=x[I],(nt.geometries||nt.geometry||nt.features||nt.coordinates)&&this.addData(nt);return this}var bt=this.options;if(bt.filter&&!bt.filter(o))return this;var $t=In(o,bt);return $t?($t.feature=Dn(o),$t.defaultOptions=$t.options,this.resetStyle($t),bt.onEachFeature&&bt.onEachFeature(o,$t),this.addLayer($t)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=Et({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(x){this._setLayerStyle(x,o)},this)},_setLayerStyle:function(o,x){o.setStyle&&(typeof x=="function"&&(x=x(o.feature)),o.setStyle(x))}});function In(o,x){var I=o.type==="Feature"?o.geometry:o,j=I?I.coordinates:null,nt=[],bt=x&&x.pointToLayer,$t=x&&x.coordsToLatLng||Jn,ye,de,pe,ci;if(!j&&!I)return null;switch(I.type){case"Point":return ye=$t(j),$l(bt,o,ye,x);case"MultiPoint":for(pe=0,ci=j.length;pe<ci;pe++)ye=$t(j[pe]),nt.push($l(bt,o,ye,x));return new Xr(nt);case"LineString":case"MultiLineString":return de=ql(j,I.type==="LineString"?0:1,$t),new kn(de,x);case"Polygon":case"MultiPolygon":return de=ql(j,I.type==="Polygon"?1:2,$t),new wa(de,x);case"GeometryCollection":for(pe=0,ci=I.geometries.length;pe<ci;pe++){var Wi=In({geometry:I.geometries[pe],type:"Feature",properties:o.properties},x);Wi&&nt.push(Wi)}return new Xr(nt);case"FeatureCollection":for(pe=0,ci=I.features.length;pe<ci;pe++){var ds=In(I.features[pe],x);ds&&nt.push(ds)}return new Xr(nt);default:throw new Error("Invalid GeoJSON object.")}}function $l(o,x,I,j){return o?o(x,I):new Zo(I,j&&j.markersInheritOptions&&j)}function Jn(o){return new ms(o[1],o[0],o[2])}function ql(o,x,I){for(var j=[],nt=0,bt=o.length,$t;nt<bt;nt++)$t=x?ql(o[nt],x-1,I):(I||Jn)(o[nt]),j.push($t);return j}function Bn(o,x){return o=Xi(o),o.alt!==void 0?[oe(o.lng,x),oe(o.lat,x),oe(o.alt,x)]:[oe(o.lng,x),oe(o.lat,x)]}function Vh(o,x,I,j){for(var nt=[],bt=0,$t=o.length;bt<$t;bt++)nt.push(x?Vh(o[bt],nn(o[bt])?0:x-1,I,j):Bn(o[bt],j));return!x&&I&&nt.length>0&&nt.push(nt[0].slice()),nt}function Ma(o,x){return o.feature?Et({},o.feature,{geometry:x}):Dn(x)}function Dn(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var $o={toGeoJSON:function(o){return Ma(this,{type:"Point",coordinates:Bn(this.getLatLng(),o)})}};Zo.include($o),kh.include($o),an.include($o),kn.include({toGeoJSON:function(o){var x=!nn(this._latlngs),I=Vh(this._latlngs,x?1:0,!1,o);return Ma(this,{type:(x?"Multi":"")+"LineString",coordinates:I})}}),wa.include({toGeoJSON:function(o){var x=!nn(this._latlngs),I=x&&!nn(this._latlngs[0]),j=Vh(this._latlngs,I?2:x?1:0,!0,o);return x||(j=[j]),Ma(this,{type:(I?"Multi":"")+"Polygon",coordinates:j})}}),Ya.include({toMultiPoint:function(o){var x=[];return this.eachLayer(function(I){x.push(I.toGeoJSON(o).geometry.coordinates)}),Ma(this,{type:"MultiPoint",coordinates:x})},toGeoJSON:function(o){var x=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(x==="MultiPoint")return this.toMultiPoint(o);var I=x==="GeometryCollection",j=[];return this.eachLayer(function(nt){if(nt.toGeoJSON){var bt=nt.toGeoJSON(o);if(I)j.push(bt.geometry);else{var $t=Dn(bt);$t.type==="FeatureCollection"?j.push.apply(j,$t.features):j.push($t)}}}),I?Ma(this,{geometries:j,type:"GeometryCollection"}):{type:"FeatureCollection",features:j}}});function uc(o,x){return new Kn(o,x)}var _d=uc,Zh=Rr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,x,I){this._url=o,this._bounds=_s(x),We(this,I)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Qi(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){js(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ha(this._image),this},bringToBack:function(){return this._map&&Es(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=_s(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",x=this._image=o?this._url:hs("img");if(Qi(x,"leaflet-image-layer"),this._zoomAnimated&&Qi(x,"leaflet-zoom-animated"),this.options.className&&Qi(x,this.options.className),x.onselectstart=le,x.onmousemove=le,x.onload=te(this.fire,this,"load"),x.onerror=te(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=x.src;return}x.src=this._url,x.alt=this.options.alt},_animateZoom:function(o){var x=this._map.getZoomScale(o.zoom),I=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;en(this._image,I,x)},_reset:function(){var o=this._image,x=new ks(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),I=x.getSize();_r(o,x.min),o.style.width=I.x+"px",o.style.height=I.y+"px"},_updateOpacity:function(){Pr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Mn=function(o,x,I){return new Zh(o,x,I)},Qn=Zh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",x=this._image=o?this._url:hs("video");if(Qi(x,"leaflet-image-layer"),this._zoomAnimated&&Qi(x,"leaflet-zoom-animated"),this.options.className&&Qi(x,this.options.className),x.onselectstart=le,x.onmousemove=le,x.onloadeddata=te(this.fire,this,"load"),o){for(var I=x.getElementsByTagName("source"),j=[],nt=0;nt<I.length;nt++)j.push(I[nt].src);this._url=I.length>0?j:[x.src];return}si(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(x.style,"objectFit")&&(x.style.objectFit="fill"),x.autoplay=!!this.options.autoplay,x.loop=!!this.options.loop,x.muted=!!this.options.muted,x.playsInline=!!this.options.playsInline;for(var bt=0;bt<this._url.length;bt++){var $t=hs("source");$t.src=this._url[bt],x.appendChild($t)}}});function Ld(o,x,I){return new Qn(o,x,I)}var Od=Zh.extend({_initImage:function(){var o=this._image=this._url;Qi(o,"leaflet-image-layer"),this._zoomAnimated&&Qi(o,"leaflet-zoom-animated"),this.options.className&&Qi(o,this.options.className),o.onselectstart=le,o.onmousemove=le}});function fc(o,x,I){return new Od(o,x,I)}var Sn=Rr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,x){o&&(o instanceof ms||si(o))?(this._latlng=Xi(o),We(this,x)):(We(this,o),this._source=x),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Pr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Pr(this._container,1),this.bringToFront(),this.options.interactive&&(Qi(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Pr(this._container,0),this._removeTimeout=setTimeout(te(js,void 0,this._container),200)):js(this._container),this.options.interactive&&(lr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Xi(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ha(this._container),this},bringToBack:function(){return this._map&&Es(this._container),this},_prepareOpen:function(o){var x=this._source;if(!x._map)return!1;if(x instanceof Xr){x=null;var I=this._source._layers;for(var j in I)if(I[j]._map){x=I[j];break}if(!x)return!1;this._source=x}if(!o)if(x.getCenter)o=x.getCenter();else if(x.getLatLng)o=x.getLatLng();else if(x.getBounds)o=x.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,x=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof x=="string")o.innerHTML=x;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(x)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),x=ri(this.options.offset),I=this._getAnchor();this._zoomAnimated?_r(this._container,o.add(I)):x=x.add(o).add(I);var j=this._containerBottom=-x.y,nt=this._containerLeft=-Math.round(this._containerWidth/2)+x.x;this._container.style.bottom=j+"px",this._container.style.left=nt+"px"}},_getAnchor:function(){return[0,0]}});Ci.include({_initOverlay:function(o,x,I,j){var nt=x;return nt instanceof o||(nt=new o(j).setContent(x)),I&&nt.setLatLng(I),nt}}),Rr.include({_initOverlay:function(o,x,I,j){var nt=I;return nt instanceof o?(We(nt,j),nt._source=this):(nt=x&&!j?x:new o(j,this),nt.setContent(I)),nt}});var ja=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Sn.prototype.openOn.call(this,o)},onAdd:function(o){Sn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oo||this._source.on("preclick",Fs))},onRemove:function(o){Sn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oo||this._source.off("preclick",Fs))},getEvents:function(){var o=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",x=this._container=hs("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),I=this._wrapper=hs("div",o+"-content-wrapper",x);if(this._contentNode=hs("div",o+"-content",I),ao(x),vh(this._contentNode),ts(x,"contextmenu",Fs),this._tipContainer=hs("div",o+"-tip-container",x),this._tip=hs("div",o+"-tip",this._tipContainer),this.options.closeButton){var j=this._closeButton=hs("a",o+"-close-button",x);j.setAttribute("role","button"),j.setAttribute("aria-label","Close popup"),j.href="#close",j.innerHTML='<span aria-hidden="true">&#215;</span>',ts(j,"click",function(nt){mr(nt),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,x=o.style;x.width="",x.whiteSpace="nowrap";var I=o.offsetWidth;I=Math.min(I,this.options.maxWidth),I=Math.max(I,this.options.minWidth),x.width=I+1+"px",x.whiteSpace="",x.height="";var j=o.offsetHeight,nt=this.options.maxHeight,bt="leaflet-popup-scrolled";nt&&j>nt?(x.height=nt+"px",Qi(o,bt)):lr(o,bt),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var x=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),I=this._getAnchor();_r(this._container,x.add(I))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,x=parseInt(Fa(this._container,"marginBottom"),10)||0,I=this._container.offsetHeight+x,j=this._containerWidth,nt=new Zt(this._containerLeft,-I-this._containerBottom);nt._add(br(this._container));var bt=o.layerPointToContainerPoint(nt),$t=ri(this.options.autoPanPadding),ye=ri(this.options.autoPanPaddingTopLeft||$t),de=ri(this.options.autoPanPaddingBottomRight||$t),pe=o.getSize(),ci=0,Wi=0;bt.x+j+de.x>pe.x&&(ci=bt.x+j-pe.x+de.x),bt.x-ci-ye.x<0&&(ci=bt.x-ye.x),bt.y+I+de.y>pe.y&&(Wi=bt.y+I-pe.y+de.y),bt.y-Wi-ye.y<0&&(Wi=bt.y-ye.y),(ci||Wi)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([ci,Wi]))}},_getAnchor:function(){return ri(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Sa=function(o,x){return new ja(o,x)};Ci.mergeOptions({closePopupOnClick:!0}),Ci.include({openPopup:function(o,x,I){return this._initOverlay(ja,o,x,I).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Rr.include({bindPopup:function(o,x){return this._popup=this._initOverlay(ja,this._popup,o,x),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Xr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){on(o);var x=o.layer||o.target;if(this._popup._source===x&&!(x instanceof Oo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=x,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Pl=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Sn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Sn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Sn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",x=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=hs("div",x),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+ee(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var x,I,j=this._map,nt=this._container,bt=j.latLngToContainerPoint(j.getCenter()),$t=j.layerPointToContainerPoint(o),ye=this.options.direction,de=nt.offsetWidth,pe=nt.offsetHeight,ci=ri(this.options.offset),Wi=this._getAnchor();ye==="top"?(x=de/2,I=pe):ye==="bottom"?(x=de/2,I=0):ye==="center"?(x=de/2,I=pe/2):ye==="right"?(x=0,I=pe/2):ye==="left"?(x=de,I=pe/2):$t.x<bt.x?(ye="right",x=0,I=pe/2):(ye="left",x=de+(ci.x+Wi.x)*2,I=pe/2),o=o.subtract(ri(x,I,!0)).add(ci).add(Wi),lr(nt,"leaflet-tooltip-right"),lr(nt,"leaflet-tooltip-left"),lr(nt,"leaflet-tooltip-top"),lr(nt,"leaflet-tooltip-bottom"),Qi(nt,"leaflet-tooltip-"+ye),_r(nt,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Pr(this._container,o)},_animateZoom:function(o){var x=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(x)},_getAnchor:function(){return ri(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$h=function(o,x){return new Pl(o,x)};Ci.include({openTooltip:function(o,x,I){return this._initOverlay(Pl,o,x,I).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Rr.include({bindTooltip:function(o,x){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Pl,this._tooltip,o,x),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var x=o?"off":"on",I={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?I.add=this._openTooltip:(I.mouseover=this._openTooltip,I.mouseout=this.closeTooltip,I.click=this._openTooltip,this._map?this._addFocusListeners():I.add=this._addFocusListeners),this._tooltip.options.sticky&&(I.mousemove=this._moveTooltip),this[x](I),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Xr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var x=typeof o.getElement=="function"&&o.getElement();x&&(ts(x,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ts(x,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var x=typeof o.getElement=="function"&&o.getElement();x&&x.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var x=this;this._map.once("moveend",function(){x._openOnceFlag=!1,x._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var x=o.latlng,I,j;this._tooltip.options.sticky&&o.originalEvent&&(I=this._map.mouseEventToContainerPoint(o.originalEvent),j=this._map.containerPointToLayerPoint(I),x=this._map.layerPointToLatLng(j)),this._tooltip.setLatLng(x)}});var Ta=Wo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var x=o&&o.tagName==="DIV"?o:document.createElement("div"),I=this.options;if(I.html instanceof Element?(Yn(x),x.appendChild(I.html)):x.innerHTML=I.html!==!1?I.html:"",I.bgPos){var j=ri(I.bgPos);x.style.backgroundPosition=-j.x+"px "+-j.y+"px"}return this._setIconStyles(x,"icon"),x},createShadow:function(){return null}});function Aa(o){return new Ta(o)}Wo.Default=wo;var Kl=Rr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){We(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),js(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ha(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Es(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ae(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Zt?o:new Zt(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var x=this.getPane().children,I=-o(-1/0,1/0),j=0,nt=x.length,bt;j<nt;j++)bt=x[j].style.zIndex,x[j]!==this._container&&bt&&(I=o(I,+bt));isFinite(I)&&(this.options.zIndex=I+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){Pr(this._container,this.options.opacity);var o=+new Date,x=!1,I=!1;for(var j in this._tiles){var nt=this._tiles[j];if(!(!nt.current||!nt.loaded)){var bt=Math.min(1,(o-nt.loaded)/200);Pr(nt.el,bt),bt<1?x=!0:(nt.active?I=!0:this._onOpaqueTile(nt),nt.active=!0)}}I&&!this._noPrune&&this._pruneTiles(),x&&(Xs(this._fadeFrame),this._fadeFrame=ii(this._updateOpacity,this))}},_onOpaqueTile:le,_initContainer:function(){this._container||(this._container=hs("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,x=this.options.maxZoom;if(o!==void 0){for(var I in this._levels)I=Number(I),this._levels[I].el.children.length||I===o?(this._levels[I].el.style.zIndex=x-Math.abs(o-I),this._onUpdateLevel(I)):(js(this._levels[I].el),this._removeTilesAtZoom(I),this._onRemoveLevel(I),delete this._levels[I]);var j=this._levels[o],nt=this._map;return j||(j=this._levels[o]={},j.el=hs("div","leaflet-tile-container leaflet-zoom-animated",this._container),j.el.style.zIndex=x,j.origin=nt.project(nt.unproject(nt.getPixelOrigin()),o).round(),j.zoom=o,this._setZoomTransform(j,nt.getCenter(),nt.getZoom()),le(j.el.offsetWidth),this._onCreateLevel(j)),this._level=j,j}},_onUpdateLevel:le,_onRemoveLevel:le,_onCreateLevel:le,_pruneTiles:function(){if(this._map){var o,x,I=this._map.getZoom();if(I>this.options.maxZoom||I<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)x=this._tiles[o],x.retain=x.current;for(o in this._tiles)if(x=this._tiles[o],x.current&&!x.active){var j=x.coords;this._retainParent(j.x,j.y,j.z,j.z-5)||this._retainChildren(j.x,j.y,j.z,j.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var x in this._tiles)this._tiles[x].coords.z===o&&this._removeTile(x)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)js(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,x,I,j){var nt=Math.floor(o/2),bt=Math.floor(x/2),$t=I-1,ye=new Zt(+nt,+bt);ye.z=+$t;var de=this._tileCoordsToKey(ye),pe=this._tiles[de];return pe&&pe.active?(pe.retain=!0,!0):(pe&&pe.loaded&&(pe.retain=!0),$t>j?this._retainParent(nt,bt,$t,j):!1)},_retainChildren:function(o,x,I,j){for(var nt=2*o;nt<2*o+2;nt++)for(var bt=2*x;bt<2*x+2;bt++){var $t=new Zt(nt,bt);$t.z=I+1;var ye=this._tileCoordsToKey($t),de=this._tiles[ye];if(de&&de.active){de.retain=!0;continue}else de&&de.loaded&&(de.retain=!0);I+1<j&&this._retainChildren(nt,bt,I+1,j)}},_resetView:function(o){var x=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),x,x)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var x=this.options;return x.minNativeZoom!==void 0&&o<x.minNativeZoom?x.minNativeZoom:x.maxNativeZoom!==void 0&&x.maxNativeZoom<o?x.maxNativeZoom:o},_setView:function(o,x,I,j){var nt=Math.round(x);this.options.maxZoom!==void 0&&nt>this.options.maxZoom||this.options.minZoom!==void 0&&nt<this.options.minZoom?nt=void 0:nt=this._clampZoom(nt);var bt=this.options.updateWhenZooming&&nt!==this._tileZoom;(!j||bt)&&(this._tileZoom=nt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),nt!==void 0&&this._update(o),I||this._pruneTiles(),this._noPrune=!!I),this._setZoomTransforms(o,x)},_setZoomTransforms:function(o,x){for(var I in this._levels)this._setZoomTransform(this._levels[I],o,x)},_setZoomTransform:function(o,x,I){var j=this._map.getZoomScale(I,o.zoom),nt=o.origin.multiplyBy(j).subtract(this._map._getNewPixelOrigin(x,I)).round();De.any3d?en(o.el,nt,j):_r(o.el,nt)},_resetGrid:function(){var o=this._map,x=o.options.crs,I=this._tileSize=this.getTileSize(),j=this._tileZoom,nt=this._map.getPixelWorldBounds(this._tileZoom);nt&&(this._globalTileRange=this._pxBoundsToTileRange(nt)),this._wrapX=x.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,x.wrapLng[0]],j).x/I.x),Math.ceil(o.project([0,x.wrapLng[1]],j).x/I.y)],this._wrapY=x.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([x.wrapLat[0],0],j).y/I.x),Math.ceil(o.project([x.wrapLat[1],0],j).y/I.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var x=this._map,I=x._animatingZoom?Math.max(x._animateToZoom,x.getZoom()):x.getZoom(),j=x.getZoomScale(I,this._tileZoom),nt=x.project(o,this._tileZoom).floor(),bt=x.getSize().divideBy(j*2);return new ks(nt.subtract(bt),nt.add(bt))},_update:function(o){var x=this._map;if(x){var I=this._clampZoom(x.getZoom());if(o===void 0&&(o=x.getCenter()),this._tileZoom!==void 0){var j=this._getTiledPixelBounds(o),nt=this._pxBoundsToTileRange(j),bt=nt.getCenter(),$t=[],ye=this.options.keepBuffer,de=new ks(nt.getBottomLeft().subtract([ye,-ye]),nt.getTopRight().add([ye,-ye]));if(!(isFinite(nt.min.x)&&isFinite(nt.min.y)&&isFinite(nt.max.x)&&isFinite(nt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pe in this._tiles){var ci=this._tiles[pe].coords;(ci.z!==this._tileZoom||!de.contains(new Zt(ci.x,ci.y)))&&(this._tiles[pe].current=!1)}if(Math.abs(I-this._tileZoom)>1){this._setView(o,I);return}for(var Wi=nt.min.y;Wi<=nt.max.y;Wi++)for(var ds=nt.min.x;ds<=nt.max.x;ds++){var bi=new Zt(ds,Wi);if(bi.z=this._tileZoom,!!this._isValidTile(bi)){var Ai=this._tiles[this._tileCoordsToKey(bi)];Ai?Ai.current=!0:$t.push(bi)}}if($t.sort(function(hn,Za){return hn.distanceTo(bt)-Za.distanceTo(bt)}),$t.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var to=document.createDocumentFragment();for(ds=0;ds<$t.length;ds++)this._addTile($t[ds],to);this._level.el.appendChild(to)}}}},_isValidTile:function(o){var x=this._map.options.crs;if(!x.infinite){var I=this._globalTileRange;if(!x.wrapLng&&(o.x<I.min.x||o.x>I.max.x)||!x.wrapLat&&(o.y<I.min.y||o.y>I.max.y))return!1}if(!this.options.bounds)return!0;var j=this._tileCoordsToBounds(o);return _s(this.options.bounds).overlaps(j)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var x=this._map,I=this.getTileSize(),j=o.scaleBy(I),nt=j.add(I),bt=x.unproject(j,o.z),$t=x.unproject(nt,o.z);return[bt,$t]},_tileCoordsToBounds:function(o){var x=this._tileCoordsToNwSe(o),I=new Ts(x[0],x[1]);return this.options.noWrap||(I=this._map.wrapLatLngBounds(I)),I},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var x=o.split(":"),I=new Zt(+x[0],+x[1]);return I.z=+x[2],I},_removeTile:function(o){var x=this._tiles[o];x&&(js(x.el),delete this._tiles[o],this.fire("tileunload",{tile:x.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Qi(o,"leaflet-tile");var x=this.getTileSize();o.style.width=x.x+"px",o.style.height=x.y+"px",o.onselectstart=le,o.onmousemove=le,De.ielt9&&this.options.opacity<1&&Pr(o,this.options.opacity)},_addTile:function(o,x){var I=this._getTilePos(o),j=this._tileCoordsToKey(o),nt=this.createTile(this._wrapCoords(o),te(this._tileReady,this,o));this._initTile(nt),this.createTile.length<2&&ii(te(this._tileReady,this,o,null,nt)),_r(nt,I),this._tiles[j]={el:nt,coords:o,current:!0},x.appendChild(nt),this.fire("tileloadstart",{tile:nt,coords:o})},_tileReady:function(o,x,I){x&&this.fire("tileerror",{error:x,tile:I,coords:o});var j=this._tileCoordsToKey(o);I=this._tiles[j],I&&(I.loaded=+new Date,this._map._fadeAnimated?(Pr(I.el,0),Xs(this._fadeFrame),this._fadeFrame=ii(this._updateOpacity,this)):(I.active=!0,this._pruneTiles()),x||(Qi(I.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:I.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?ii(this._pruneTiles,this):setTimeout(te(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var x=new Zt(this._wrapX?ue(o.x,this._wrapX):o.x,this._wrapY?ue(o.y,this._wrapY):o.y);return x.z=o.z,x},_pxBoundsToTileRange:function(o){var x=this.getTileSize();return new ks(o.min.unscaleBy(x).floor(),o.max.unscaleBy(x).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Jl(o){return new Kl(o)}var zn=Kl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,x){this._url=o,x=We(this,x),x.detectRetina&&De.retina&&x.maxZoom>0?(x.tileSize=Math.floor(x.tileSize/2),x.zoomReverse?(x.zoomOffset--,x.minZoom=Math.min(x.maxZoom,x.minZoom+1)):(x.zoomOffset++,x.maxZoom=Math.max(x.minZoom,x.maxZoom-1)),x.minZoom=Math.max(0,x.minZoom)):x.zoomReverse?x.minZoom=Math.min(x.maxZoom,x.minZoom):x.maxZoom=Math.max(x.minZoom,x.maxZoom),typeof x.subdomains=="string"&&(x.subdomains=x.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,x){return this._url===o&&x===void 0&&(x=!0),this._url=o,x||this.redraw(),this},createTile:function(o,x){var I=document.createElement("img");return ts(I,"load",te(this._tileOnLoad,this,x,I)),ts(I,"error",te(this._tileOnError,this,x,I)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(I.referrerPolicy=this.options.referrerPolicy),I.alt="",I.src=this.getTileUrl(o),I},getTileUrl:function(o){var x={r:De.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var I=this._globalTileRange.max.y-o.y;this.options.tms&&(x.y=I),x["-y"]=I}return xi(this._url,Et(x,this.options))},_tileOnLoad:function(o,x){De.ielt9?setTimeout(te(o,this,null,x),0):o(null,x)},_tileOnError:function(o,x,I){var j=this.options.errorTileUrl;j&&x.getAttribute("src")!==j&&(x.src=j),o(I,x)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,x=this.options.maxZoom,I=this.options.zoomReverse,j=this.options.zoomOffset;return I&&(o=x-o),o+j},_getSubdomain:function(o){var x=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[x]},_abortLoading:function(){var o,x;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(x=this._tiles[o].el,x.onload=le,x.onerror=le,!x.complete)){x.src=Gi;var I=this._tiles[o].coords;js(x),delete this._tiles[o],this.fire("tileabort",{tile:x,coords:I})}},_removeTile:function(o){var x=this._tiles[o];if(x)return x.el.setAttribute("src",Gi),Kl.prototype._removeTile.call(this,o)},_tileReady:function(o,x,I){if(!(!this._map||I&&I.getAttribute("src")===Gi))return Kl.prototype._tileReady.call(this,o,x,I)}});function Ql(o,x){return new zn(o,x)}var Pa=zn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,x){this._url=o;var I=Et({},this.defaultWmsParams);for(var j in x)j in this.options||(I[j]=x[j]);x=We(this,x);var nt=x.detectRetina&&De.retina?2:1,bt=this.getTileSize();I.width=bt.x*nt,I.height=bt.y*nt,this.wmsParams=I},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var x=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[x]=this._crs.code,zn.prototype.onAdd.call(this,o)},getTileUrl:function(o){var x=this._tileCoordsToNwSe(o),I=this._crs,j=rr(I.project(x[0]),I.project(x[1])),nt=j.min,bt=j.max,$t=(this._wmsVersion>=1.3&&this._crs===pc?[nt.y,nt.x,bt.y,bt.x]:[nt.x,nt.y,bt.x,bt.y]).join(","),ye=zn.prototype.getTileUrl.call(this,o);return ye+di(this.wmsParams,ye,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$t},setParams:function(o,x){return Et(this.wmsParams,o),x||this.redraw(),this}});function th(o,x){return new Pa(o,x)}zn.WMS=Pa,Ql.wms=th;var ta=Rr.extend({options:{padding:.1},initialize:function(o){We(this,o),ee(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Qi(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,x){var I=this._map.getZoomScale(x,this._zoom),j=this._map.getSize().multiplyBy(.5+this.options.padding),nt=this._map.project(this._center,x),bt=j.multiplyBy(-I).add(nt).subtract(this._map._getNewPixelOrigin(o,x));De.any3d?en(this._container,bt,I):_r(this._container,bt)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,x=this._map.getSize(),I=this._map.containerPointToLayerPoint(x.multiplyBy(-o)).round();this._bounds=new ks(I,I.add(x.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tn=ta.extend({options:{tolerance:0},getEvents:function(){var o=ta.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ta.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ts(o,"mousemove",this._onMouseMove,this),ts(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ts(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Xs(this._redrawRequest),delete this._ctx,js(this._container),Ms(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var x in this._layers)o=this._layers[x],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ta.prototype._update.call(this);var o=this._bounds,x=this._container,I=o.getSize(),j=De.retina?2:1;_r(x,o.min),x.width=j*I.x,x.height=j*I.y,x.style.width=I.x+"px",x.style.height=I.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ta.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[ee(o)]=o;var x=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=x),this._drawLast=x,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var x=o._order,I=x.next,j=x.prev;I?I.prev=j:this._drawLast=j,j?j.next=I:this._drawFirst=I,delete o._order,delete this._layers[ee(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var x=o.options.dashArray.split(/[, ]+/),I=[],j,nt;for(nt=0;nt<x.length;nt++){if(j=Number(x[nt]),isNaN(j))return;I.push(j)}o.options._dashArray=I}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||ii(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var x=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ks,this._redrawBounds.extend(o._pxBounds.min.subtract([x,x])),this._redrawBounds.extend(o._pxBounds.max.add([x,x]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var x=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,x.x,x.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,x=this._redrawBounds;if(this._ctx.save(),x){var I=x.getSize();this._ctx.beginPath(),this._ctx.rect(x.min.x,x.min.y,I.x,I.y),this._ctx.clip()}this._drawing=!0;for(var j=this._drawFirst;j;j=j.next)o=j.layer,(!x||o._pxBounds&&o._pxBounds.intersects(x))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,x){if(this._drawing){var I,j,nt,bt,$t=o._parts,ye=$t.length,de=this._ctx;if(ye){for(de.beginPath(),I=0;I<ye;I++){for(j=0,nt=$t[I].length;j<nt;j++)bt=$t[I][j],de[j?"lineTo":"moveTo"](bt.x,bt.y);x&&de.closePath()}this._fillStroke(de,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var x=o._point,I=this._ctx,j=Math.max(Math.round(o._radius),1),nt=(Math.max(Math.round(o._radiusY),1)||j)/j;nt!==1&&(I.save(),I.scale(1,nt)),I.beginPath(),I.arc(x.x,x.y/nt,j,0,Math.PI*2,!1),nt!==1&&I.restore(),this._fillStroke(I,o)}},_fillStroke:function(o,x){var I=x.options;I.fill&&(o.globalAlpha=I.fillOpacity,o.fillStyle=I.fillColor||I.color,o.fill(I.fillRule||"evenodd")),I.stroke&&I.weight!==0&&(o.setLineDash&&o.setLineDash(x.options&&x.options._dashArray||[]),o.globalAlpha=I.opacity,o.lineWidth=I.weight,o.strokeStyle=I.color,o.lineCap=I.lineCap,o.lineJoin=I.lineJoin,o.stroke())},_onClick:function(o){for(var x=this._map.mouseEventToLayerPoint(o),I,j,nt=this._drawFirst;nt;nt=nt.next)I=nt.layer,I.options.interactive&&I._containsPoint(x)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(I))&&(j=I);this._fireEvent(j?[j]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var x=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,x)}},_handleMouseOut:function(o){var x=this._hoveredLayer;x&&(lr(this._container,"leaflet-interactive"),this._fireEvent([x],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,x){if(!this._mouseHoverThrottled){for(var I,j,nt=this._drawFirst;nt;nt=nt.next)I=nt.layer,I.options.interactive&&I._containsPoint(x)&&(j=I);j!==this._hoveredLayer&&(this._handleMouseOut(o),j&&(Qi(this._container,"leaflet-interactive"),this._fireEvent([j],o,"mouseover"),this._hoveredLayer=j)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(te(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,x,I){this._map._fireDOMEvent(x,I||x.type,o)},_bringToFront:function(o){var x=o._order;if(x){var I=x.next,j=x.prev;if(I)I.prev=j;else return;j?j.next=I:I&&(this._drawFirst=I),x.prev=this._drawLast,this._drawLast.next=x,x.next=null,this._drawLast=x,this._requestRedraw(o)}},_bringToBack:function(o){var x=o._order;if(x){var I=x.next,j=x.prev;if(j)j.next=I;else return;I?I.prev=j:j&&(this._drawLast=j),x.prev=null,x.next=this._drawFirst,this._drawFirst.prev=x,this._drawFirst=x,this._requestRedraw(o)}}});function ko(o){return De.canvas?new Tn(o):null}var Ua=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ea={_initContainer:function(){this._container=hs("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ta.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var x=o._container=Ua("shape");Qi(x,"leaflet-vml-shape "+(this.options.className||"")),x.coordsize="1 1",o._path=Ua("path"),x.appendChild(o._path),this._updateStyle(o),this._layers[ee(o)]=o},_addPath:function(o){var x=o._container;this._container.appendChild(x),o.options.interactive&&o.addInteractiveTarget(x)},_removePath:function(o){var x=o._container;js(x),o.removeInteractiveTarget(x),delete this._layers[ee(o)]},_updateStyle:function(o){var x=o._stroke,I=o._fill,j=o.options,nt=o._container;nt.stroked=!!j.stroke,nt.filled=!!j.fill,j.stroke?(x||(x=o._stroke=Ua("stroke")),nt.appendChild(x),x.weight=j.weight+"px",x.color=j.color,x.opacity=j.opacity,j.dashArray?x.dashStyle=si(j.dashArray)?j.dashArray.join(" "):j.dashArray.replace(/( *, *)/g," "):x.dashStyle="",x.endcap=j.lineCap.replace("butt","flat"),x.joinstyle=j.lineJoin):x&&(nt.removeChild(x),o._stroke=null),j.fill?(I||(I=o._fill=Ua("fill")),nt.appendChild(I),I.color=j.fillColor||j.color,I.opacity=j.fillOpacity):I&&(nt.removeChild(I),o._fill=null)},_updateCircle:function(o){var x=o._point.round(),I=Math.round(o._radius),j=Math.round(o._radiusY||I);this._setPath(o,o._empty()?"M0 0":"AL "+x.x+","+x.y+" "+I+","+j+" 0,"+65535*360)},_setPath:function(o,x){o._path.v=x},_bringToFront:function(o){Ha(o._container)},_bringToBack:function(o){Es(o._container)}},Va=De.vml?Ua:or,ia=ta.extend({_initContainer:function(){this._container=Va("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Va("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){js(this._container),Ms(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ta.prototype._update.call(this);var o=this._bounds,x=o.getSize(),I=this._container;(!this._svgSize||!this._svgSize.equals(x))&&(this._svgSize=x,I.setAttribute("width",x.x),I.setAttribute("height",x.y)),_r(I,o.min),I.setAttribute("viewBox",[o.min.x,o.min.y,x.x,x.y].join(" ")),this.fire("update")}},_initPath:function(o){var x=o._path=Va("path");o.options.className&&Qi(x,o.options.className),o.options.interactive&&Qi(x,"leaflet-interactive"),this._updateStyle(o),this._layers[ee(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){js(o._path),o.removeInteractiveTarget(o._path),delete this._layers[ee(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var x=o._path,I=o.options;x&&(I.stroke?(x.setAttribute("stroke",I.color),x.setAttribute("stroke-opacity",I.opacity),x.setAttribute("stroke-width",I.weight),x.setAttribute("stroke-linecap",I.lineCap),x.setAttribute("stroke-linejoin",I.lineJoin),I.dashArray?x.setAttribute("stroke-dasharray",I.dashArray):x.removeAttribute("stroke-dasharray"),I.dashOffset?x.setAttribute("stroke-dashoffset",I.dashOffset):x.removeAttribute("stroke-dashoffset")):x.setAttribute("stroke","none"),I.fill?(x.setAttribute("fill",I.fillColor||I.color),x.setAttribute("fill-opacity",I.fillOpacity),x.setAttribute("fill-rule",I.fillRule||"evenodd")):x.setAttribute("fill","none"))},_updatePoly:function(o,x){this._setPath(o,Qo(o._parts,x))},_updateCircle:function(o){var x=o._point,I=Math.max(Math.round(o._radius),1),j=Math.max(Math.round(o._radiusY),1)||I,nt="a"+I+","+j+" 0 1,0 ",bt=o._empty()?"M0 0":"M"+(x.x-I)+","+x.y+nt+I*2+",0 "+nt+-I*2+",0 ";this._setPath(o,bt)},_setPath:function(o,x){o._path.setAttribute("d",x)},_bringToFront:function(o){Ha(o._path)},_bringToBack:function(o){Es(o._path)}});De.vml&&ia.include(ea);function sa(o){return De.svg||De.vml?new ia(o):null}Ci.include({getRenderer:function(o){var x=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return x||(x=this._renderer=this._createRenderer()),this.hasLayer(x)||this.addLayer(x),x},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var x=this._paneRenderers[o];return x===void 0&&(x=this._createRenderer({pane:o}),this._paneRenderers[o]=x),x},_createRenderer:function(o){return this.options.preferCanvas&&ko(o)||sa(o)}});var Ca=wa.extend({initialize:function(o,x){wa.prototype.initialize.call(this,this._boundsToLatLngs(o),x)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=_s(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Mh(o,x){return new Ca(o,x)}ia.create=Va,ia.pointsToPath=Qo,Kn.geometryToLayer=In,Kn.coordsToLatLng=Jn,Kn.coordsToLatLngs=ql,Kn.latLngToCoords=Bn,Kn.latLngsToCoords=Vh,Kn.getFeature=Ma,Kn.asFeature=Dn,Ci.mergeOptions({boxZoom:!0});var Ed=dr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ts(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ms(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){js(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Os(),jn(),this._startPoint=this._map.mouseEventToContainerPoint(o),ts(document,{contextmenu:on,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=hs("div","leaflet-zoom-box",this._container),Qi(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var x=new ks(this._point,this._startPoint),I=x.getSize();_r(this._box,x.min),this._box.style.width=I.x+"px",this._box.style.height=I.y+"px"},_finish:function(){this._moved&&(js(this._box),lr(this._container,"leaflet-crosshair")),ua(),hr(),Ms(document,{contextmenu:on,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(te(this._resetState,this),0);var x=new Ts(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(x).fire("boxzoomend",{boxZoomBounds:x})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ci.addInitHook("addHandler","boxZoom",Ed),Ci.mergeOptions({doubleClickZoom:!0});var An=dr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var x=this._map,I=x.getZoom(),j=x.options.zoomDelta,nt=o.originalEvent.shiftKey?I-j:I+j;x.options.doubleClickZoom==="center"?x.setZoom(nt):x.setZoomAround(o.containerPoint,nt)}});Ci.addInitHook("addHandler","doubleClickZoom",An),Ci.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Er=dr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Gs(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Qi(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lr(this._map._container,"leaflet-grab"),lr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var x=_s(this._map.options.maxBounds);this._offsetLimit=rr(this._map.latLngToContainerPoint(x.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(x.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var x=this._lastTime=+new Date,I=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(I),this._times.push(x),this._prunePositions(x)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),x=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=x.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,x){return o-(o-x)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),x=this._offsetLimit;o.x<x.min.x&&(o.x=this._viscousLimit(o.x,x.min.x)),o.y<x.min.y&&(o.y=this._viscousLimit(o.y,x.min.y)),o.x>x.max.x&&(o.x=this._viscousLimit(o.x,x.max.x)),o.y>x.max.y&&(o.y=this._viscousLimit(o.y,x.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,x=Math.round(o/2),I=this._initialWorldOffset,j=this._draggable._newPos.x,nt=(j-x+I)%o+x-I,bt=(j+x+I)%o-x-I,$t=Math.abs(nt+I)<Math.abs(bt+I)?nt:bt;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$t},_onDragEnd:function(o){var x=this._map,I=x.options,j=!I.inertia||o.noInertia||this._times.length<2;if(x.fire("dragend",o),j)x.fire("moveend");else{this._prunePositions(+new Date);var nt=this._lastPos.subtract(this._positions[0]),bt=(this._lastTime-this._times[0])/1e3,$t=I.easeLinearity,ye=nt.multiplyBy($t/bt),de=ye.distanceTo([0,0]),pe=Math.min(I.inertiaMaxSpeed,de),ci=ye.multiplyBy(pe/de),Wi=pe/(I.inertiaDeceleration*$t),ds=ci.multiplyBy(-Wi/2).round();!ds.x&&!ds.y?x.fire("moveend"):(ds=x._limitOffset(ds,x.options.maxBounds),ii(function(){x.panBy(ds,{duration:Wi,easeLinearity:$t,noMoveStart:!0,animate:!0})}))}}});Ci.addInitHook("addHandler","dragging",Er),Ci.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ir=dr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ts(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ms(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,x=document.documentElement,I=o.scrollTop||x.scrollTop,j=o.scrollLeft||x.scrollLeft;this._map._container.focus(),window.scrollTo(j,I)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var x=this._panKeys={},I=this.keyCodes,j,nt;for(j=0,nt=I.left.length;j<nt;j++)x[I.left[j]]=[-1*o,0];for(j=0,nt=I.right.length;j<nt;j++)x[I.right[j]]=[o,0];for(j=0,nt=I.down.length;j<nt;j++)x[I.down[j]]=[0,o];for(j=0,nt=I.up.length;j<nt;j++)x[I.up[j]]=[0,-1*o]},_setZoomDelta:function(o){var x=this._zoomKeys={},I=this.keyCodes,j,nt;for(j=0,nt=I.zoomIn.length;j<nt;j++)x[I.zoomIn[j]]=o;for(j=0,nt=I.zoomOut.length;j<nt;j++)x[I.zoomOut[j]]=-o},_addHooks:function(){ts(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ms(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var x=o.keyCode,I=this._map,j;if(x in this._panKeys){if(!I._panAnim||!I._panAnim._inProgress)if(j=this._panKeys[x],o.shiftKey&&(j=ri(j).multiplyBy(3)),I.options.maxBounds&&(j=I._limitOffset(ri(j),I.options.maxBounds)),I.options.worldCopyJump){var nt=I.wrapLatLng(I.unproject(I.project(I.getCenter()).add(j)));I.panTo(nt)}else I.panBy(j)}else if(x in this._zoomKeys)I.setZoom(I.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[x]);else if(x===27&&I._popup&&I._popup.options.closeOnEscapeKey)I.closePopup();else return;on(o)}}});Ci.addInitHook("addHandler","keyboard",ir),Ci.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Id=dr.extend({addHooks:function(){ts(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ms(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var x=Mi(o),I=this._map.options.wheelDebounceTime;this._delta+=x,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var j=Math.max(I-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(te(this._performZoom,this),j),on(o)},_performZoom:function(){var o=this._map,x=o.getZoom(),I=this._map.options.zoomSnap||0;o._stop();var j=this._delta/(this._map.options.wheelPxPerZoomLevel*4),nt=4*Math.log(2/(1+Math.exp(-Math.abs(j))))/Math.LN2,bt=I?Math.ceil(nt/I)*I:nt,$t=o._limitZoom(x+(this._delta>0?bt:-bt))-x;this._delta=0,this._startTime=null,$t&&(o.options.scrollWheelZoom==="center"?o.setZoom(x+$t):o.setZoomAround(this._lastMousePos,x+$t))}});Ci.addInitHook("addHandler","scrollWheelZoom",Id);var Bd=600;Ci.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var ra=dr.extend({addHooks:function(){ts(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ms(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var x=o.touches[0];this._startPos=this._newPos=new Zt(x.clientX,x.clientY),this._holdTimeout=setTimeout(te(function(){this._cancel(),this._isTapValid()&&(ts(document,"touchend",mr),ts(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",x))},this),Bd),ts(document,"touchend touchcancel contextmenu",this._cancel,this),ts(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ms(document,"touchend",mr),Ms(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ms(document,"touchend touchcancel contextmenu",this._cancel,this),Ms(document,"touchmove",this._onMove,this)},_onMove:function(o){var x=o.touches[0];this._newPos=new Zt(x.clientX,x.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,x){var I=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:x.screenX,screenY:x.screenY,clientX:x.clientX,clientY:x.clientY});I._simulated=!0,x.target.dispatchEvent(I)}});Ci.addInitHook("addHandler","tapHold",ra),Ci.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var Cl=dr.extend({addHooks:function(){Qi(this._map._container,"leaflet-touch-zoom"),ts(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lr(this._map._container,"leaflet-touch-zoom"),Ms(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var x=this._map;if(!(!o.touches||o.touches.length!==2||x._animatingZoom||this._zooming)){var I=x.mouseEventToContainerPoint(o.touches[0]),j=x.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=x.getSize()._divideBy(2),this._startLatLng=x.containerPointToLatLng(this._centerPoint),x.options.touchZoom!=="center"&&(this._pinchStartLatLng=x.containerPointToLatLng(I.add(j)._divideBy(2))),this._startDist=I.distanceTo(j),this._startZoom=x.getZoom(),this._moved=!1,this._zooming=!0,x._stop(),ts(document,"touchmove",this._onTouchMove,this),ts(document,"touchend touchcancel",this._onTouchEnd,this),mr(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var x=this._map,I=x.mouseEventToContainerPoint(o.touches[0]),j=x.mouseEventToContainerPoint(o.touches[1]),nt=I.distanceTo(j)/this._startDist;if(this._zoom=x.getScaleZoom(nt,this._startZoom),!x.options.bounceAtZoomLimits&&(this._zoom<x.getMinZoom()&&nt<1||this._zoom>x.getMaxZoom()&&nt>1)&&(this._zoom=x._limitZoom(this._zoom)),x.options.touchZoom==="center"){if(this._center=this._startLatLng,nt===1)return}else{var bt=I._add(j)._divideBy(2)._subtract(this._centerPoint);if(nt===1&&bt.x===0&&bt.y===0)return;this._center=x.unproject(x.project(this._pinchStartLatLng,this._zoom).subtract(bt),this._zoom)}this._moved||(x._moveStart(!0,!1),this._moved=!0),Xs(this._animRequest);var $t=te(x._move,x,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ii($t,this,!0),mr(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Xs(this._animRequest),Ms(document,"touchmove",this._onTouchMove,this),Ms(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ci.addInitHook("addHandler","touchZoom",Cl),Ci.BoxZoom=Ed,Ci.DoubleClickZoom=An,Ci.Drag=Er,Ci.Keyboard=ir,Ci.ScrollWheelZoom=Id,Ci.TapHold=ra,Ci.TouchZoom=Cl,at.Bounds=ks,at.Browser=De,at.CRS=po,at.Canvas=Tn,at.Circle=kh,at.CircleMarker=an,at.Class=ge,at.Control=Qr,at.DivIcon=Ta,at.DivOverlay=Sn,at.DomEvent=er,at.DomUtil=no,at.Draggable=Gs,at.Evented=so,at.FeatureGroup=Xr,at.GeoJSON=Kn,at.GridLayer=Kl,at.Handler=dr,at.Icon=Wo,at.ImageOverlay=Zh,at.LatLng=ms,at.LatLngBounds=Ts,at.Layer=Rr,at.LayerGroup=Ya,at.LineUtil=bo,at.Map=Ci,at.Marker=Zo,at.Mixin=Pd,at.Path=Oo,at.Point=Zt,at.PolyUtil=Yl,at.Polygon=wa,at.Polyline=kn,at.Popup=ja,at.PosAnimation=vo,at.Projection=cc,at.Rectangle=Ca,at.Renderer=ta,at.SVG=ia,at.SVGOverlay=Od,at.TileLayer=zn,at.Tooltip=Pl,at.Transformation=Ks,at.Util=Wn,at.VideoOverlay=Qn,at.bind=te,at.bounds=rr,at.canvas=ko,at.circle=ba,at.circleMarker=va,at.control=fa,at.divIcon=Aa,at.extend=Et,at.featureGroup=qn,at.geoJSON=uc,at.geoJson=_d,at.gridLayer=Jl,at.icon=ya,at.imageOverlay=Mn,at.latLng=Xi,at.latLngBounds=_s,at.layerGroup=Vl,at.map=Xa,at.marker=Uh,at.point=ri,at.polygon=ka,at.polyline=ln,at.popup=Sa,at.rectangle=Mh,at.setOptions=We,at.stamp=ee,at.svg=sa,at.svgOverlay=fc,at.tileLayer=Ql,at.tooltip=$h,at.transformation=ro,at.version=It,at.videoOverlay=Ld;var bs=window.L;at.noConflict=function(){return window.L=bs,this},window.L=at})}(kx,kx.exports)),kx.exports}var gk=fk();const pn=X0(gk);var mk=Oi(`<div class="svelte-gdnxqa"><section class="svelte-gdnxqa"><h1 class="svelte-gdnxqa">A dive into the 20 U.S. counties with the highest Black population
      percentage</h1></section> <section id="map" class="svelte-gdnxqa"></section></div>`);function xk(tt,dt){Ax(dt,!1),_x(()=>{var It=pn.map("map").setView([33.878966,-83.400032],6);pn.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:`&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,
	        &copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>`,maxZoom:14}).addTo(It);var Et=pn.marker([31.961248,-90.982161]).addTo(It);Et.bindPopup("<b>Claiborne County, MS</b><br>86.2%").openPopup();var Et=pn.marker([33.114072,-90.053049]).addTo(It);Et.bindPopup("<b>Holmes County, MS</b><br>82.4%").openPopup();var Et=pn.marker([32.841031,-87.887813]).addTo(It);Et.bindPopup("<b>Greene County, AL</b><br>81.5%").openPopup();var Et=pn.marker([31.711173,-91.06034]).addTo(It);Et.bindPopup("<b>Jefferson County, MS</b><br>81.2%").openPopup();var Et=pn.marker([34.686492,-90.383476]).addTo(It);Et.bindPopup("<b>Tunica County, MS</b><br>79.6%").openPopup();var Et=pn.marker([33.183698,-90.489321]).addTo(It);Et.bindPopup("<b>Humphreys County, MS</b><br>78.8%").openPopup();var Et=pn.marker([32.431028,-85.707801]).addTo(It);Et.bindPopup("<b>Macon County, AL</b><br>78.3%").openPopup();var Et=pn.marker([37.227618,-77.394928]).addTo(It);Et.bindPopup("<b>Petersburg city, VA</b><br>77.2%").openPopup();var Et=pn.marker([34.200812,-90.571414]).addTo(It);Et.bindPopup("<b>Coahoma County, MS</b><br>75.9%").openPopup();var Et=pn.marker([32.183521,-86.580704]).addTo(It);Et.bindPopup("<b>Lowndes County, AL</b><br>74.5%").openPopup();var Et=pn.marker([33.516672,-90.180385]).addTo(It);Et.bindPopup("<b>Leflore County, MS</b><br>74.5%").openPopup();var Et=pn.marker([33.105964,-88.560918]).addTo(It);Et.bindPopup("<b>Noxubee County, MS</b><br>73.8%").openPopup();var Et=pn.marker([32.905941,-90.877673]).addTo(It);Et.bindPopup("<b>Sharkey County, MS</b><br>73.7%").openPopup();var Et=pn.marker([33.451461,-90.655584]).addTo(It);Et.bindPopup("<b>Sunflower County, MS</b><br>73.0%").openPopup();var Et=pn.marker([32.297093,-90.180801]).addTo(It);Et.bindPopup("<b>Hinds County, MS</b><br>72.4%").openPopup();var Et=pn.marker([33.397767,-91.037962]).addTo(It);Et.bindPopup("<b>Washington County, MS</b><br>72.2%").openPopup();var Et=pn.marker([34.256528,-90.273232]).addTo(It);Et.bindPopup("<b>Quitman County, MS</b><br>72.2%").openPopup();var Et=pn.marker([33.275346,-82.976309]).addTo(It);Et.bindPopup("<b>Hancock County, GA</b><br>71.4%").openPopup();var Et=pn.marker([32.583884,-88.18684]).addTo(It);Et.bindPopup("<b>Sumter County, AL</b><br>71.2%").openPopup();var Et=pn.marker([32.143306,-85.715404]).addTo(It);Et.bindPopup("<b>Bullock County, AL</b><br>71.2%").openPopup()}),$v();var at=mk();li(tt,at),Px()}var yk=Oi('<div class="article-text svelte-1qm7lip"><p><!></p></div>');function fv(tt,dt){Ax(dt,!0);let at=Math.random().toString();_x(()=>{let te=new IntersectionObserver(dt.callback,dt.options);const me=document.getElementById(at);te.observe(me)});var It=yk(),Et=Ri(It),jt=Ri(Et);Ad(jt,()=>dt.children),Zc(()=>Vv(It,"id",at)),li(tt,It),Px()}var vk=Oi('<div class="text svelte-1dwd4rl"><!> <!></div>'),bk=Oi('<div class="chart svelte-1dwd4rl"><!></div>'),wk=Oi('<div class="svelte-1dwd4rl"><!></div>');function kk(tt){let dt={chart:{type:"bar",height:2100,backgroundColor:"#E6E6E6",style:{fontFamily:"DM Sans"}},title:{text:"Median Income by County",style:{fontFamily:"DM Serif Display",fontSize:"1.8em"}},subtitle:{text:'Source: <a href="https://blackwealthdata.org/explore/employment"target="_blank">Black Wealth Data Center</a>'},xAxis:{categories:["Claiborne County, MS","Holmes County, MS","Greene County, AL","Jefferson County, MS","Tunica County, MS","Humphreys County, MS","Macon County, AL","Petersburg city, VA","Coahoma County, MS","Lowndes County, AL","Leflore County, MS","Noxubee County, MS","Sharkey County, MS","Sunflower County, MS","Hinds County, MS","Washington County, MS","Quitman County, MS","Hancock County, GA","Sumter County, AL","Bullock County, AL"],title:{text:null},gridLineWidth:1,lineWidth:0},yAxis:{min:0,title:{text:"Dollars",align:"high"},labels:{overflow:"justify"},gridLineWidth:0},tooltip:{valuePrefix:"$"},plotOptions:{bar:{borderRadius:"50%",dataLabels:{enabled:!0},groupPadding:.1}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:80,width:155,floating:!0,borderWidth:1,backgroundColor:"var(--highcharts-background-color, #f0f0f0)"},credits:{enabled:!1},series:[{name:"Median Income",data:[34371,29434,31495,36207,38402,32976,45951,50741,36259,35160,33188,38814,35741,40265,49966,40117,32131,33182,37981,36723],color:"#0072B2"},{name:"Black Median Income",data:[33155,26469,26201,29556,36078,26812,40838,49454,29779,26819,27799,29258,30304,31902,43863,30353,26250,27849,31346,30149],color:"#5DA899"}]};const at={threshold:[.5,.6]},It=(te,me)=>{te.forEach(ee=>{const ae=ee.target;ee.intersectionRatio>=.55?(ae.style.color="#000000",ae.style.textShadow="0 0 0 transparent"):ee.intersectionRatio<.55&&(ae.style.color="transparent",ae.style.textShadow="0 0 8px #000")})};var Et=wk(),jt=Ri(Et);Gp(jt,{layout:"left",sticky:ee=>{var ae=vk(),ue=Ri(ae);fv(ue,{callback:It,get option(){return at},children:(oe,Ce)=>{var Be=ho("All 20 counties fell into the lower quartile of county median incomes in 2023.");li(oe,Be)},$$slots:{default:!0}});var le=Bi(ue,2);fv(le,{callback:It,get option(){return at},children:(oe,Ce)=>{var Be=ho(`Additionally, within these counties, the Black median income was less\r
          than the median income of the county as a whole.`);li(oe,Be)},$$slots:{default:!0}}),li(ee,ae)},scrolly:ee=>{var ae=bk(),ue=Ri(ae);Am(ue,{get options(){return dt},get highcharts(){return ig}}),li(ee,ae)}}),li(tt,Et)}var Mk=Oi('<div class="chart svelte-12n8igr"><!></div>'),Sk=Oi('<div class="text svelte-12n8igr"><!> <!></div>'),Tk=Oi("<div><!></div>");function Ak(tt){let dt={chart:{type:"column",height:"700",backgroundColor:"#E6E6E6",style:{fontFamily:"DM Sans"}},title:{text:"Health Insurance Coverage (2023)",style:{fontFamily:"DM Serif Display",fontSize:"1.8em"}},subtitle:{text:'Source: <a target="_blank" href="https://blackwealthdata.org/explore/employment">Black Wealth Data Center</a>'},xAxis:{categories:["Claiborne County, MS","Holmes County, MS","Greene County, AL","Jefferson County, MS","Tunica County, MS","Humphreys County, MS","Macon County, AL","Petersburg city, VA","Coahoma County, MS","Lowndes County, AL","Leflore County, MS","Noxubee County, MS","Sharkey County, MS","Sunflower County, MS","Hinds County, MS","Washington County, MS","Quitman County, MS","Hancock County, GA","Sumter County, AL","Bullock County, AL"],crosshair:!0,accessibility:{description:"Counties"}},yAxis:{min:0,title:{text:"Total Population Percentage with Health Insurance"}},tooltip:{valueSuffix:"%"},plotOptions:{column:{pointPadding:.1,borderWidth:0}},series:[{name:"Percentage",data:[81.9,89.4,86.2,91.3,86.9,85.6,90.9,91.8,86.8,91.5,85.9,80,85.8,88.6,87.2,87.8,87.2,92,90.8,87.1],color:"#0072B2"}]};var at=Tk(),It=Ri(at);Gp(It,{layout:"right",sticky:te=>{var me=Mk(),ee=Ri(me);Am(ee,{get options(){return dt},get highcharts(){return ig}}),li(te,me)},scrolly:te=>{var me=Sk(),ee=Ri(me);rl(ee,{children:(ue,le)=>{var oe=ho(`In 2023, 12 of the 20 counties fell into the lower quartile of health\r
          insurance coverage percentage. The remaining 8 counties were in the\r
          second quartile.`);li(ue,oe)}});var ae=Bi(ee,2);rl(ae,{children:(ue,le)=>{var oe=ho(`All 20 counties were in the bottom two quartiles, meaning they were\r
          all below the median total population percentage with health\r
          insurance.`);li(ue,oe)}}),li(te,me)}}),li(tt,at)}var Pk=Oi('<div class="svelte-q4uhtg"><!> <!> <!></div>');function Ck(tt){var dt=Pk(),at=Ri(dt);Kv(at,{children:(jt,te)=>{var me=ho(`While many factors may play a role in these findings, such as living\r
    conditions and stress, this data suggests that having a low income can be a\r
    factor in making access to healthcare more challenging.`);li(jt,me)}});var It=Bi(at,2);rl(It,{children:(jt,te)=>{var me=ho(`Affording health insurance can be difficult, and, even with health\r
    insurance, there may be additional barriers to receiving healthcare due to\r
    the shortage of primary care health professionals in these counties.`);li(jt,me)}});var Et=Bi(It,2);rl(Et,{children:(jt,te)=>{var me=ho(`While disparities exist in many areas, this data highlights that Black\r
    communities may be more disproportionately impacted.`);li(jt,me)}}),li(tt,dt)}var _k=Oi(`<ul><li>The Black Wealth Data Center. (2025). Explore Data - Employment.
          “Median Annual Earnings for Full-Time Workers (25-34 Years Old) by
          Race/Ethnicity (Nationwide, 2010-2022)”. Blackwealthdata.org.
          https://blackwealthdata.org/explore/employment</li> <li>The Black Wealth Data Center. (2025). Explore Data - Employment.
          “Median Income by Race/Ethnicity (County-wide, 2023)”.
          Blackwealthdata.org. https://blackwealthdata.org/explore/employment</li> <li>The Black Wealth Data Center. (2025). Explore Data - Employment.
          “Health Insurance Coverage by Race/Ethnicity (County-wide, 2023)”.
          Blackwealthdata.org. https://blackwealthdata.org/explore/employment</li> <li>The Black Wealth Data Center. (2025). Explore Data - Population.
          “Population Counts by Race/Ethnicity (County-wide, 2023)”.
          Blackwealthdata.org. https://blackwealthdata.org/explore/population</li> <li>The Black Wealth Data Center. (2025). Explore Data - Employment.
          “Primary Care Health Professional Shortage Areas (County-wide, 2024)”.
          Blackwealthdata.org. https://blackwealthdata.org/explore/employment</li> <li>2021 National Healthcare Quality and Disparities Report [Internet].
          Rockville (MD): Agency for Healthcare Research and Quality (US); 2021
          Dec. ACCESS TO HEALTHCARE AND DISPARITIES IN ACCESS. Available from:
          https://www.ncbi.nlm.nih.gov/books/NBK578537/</li> <li>Awan, Omer. “How Income Can Affect Your Health and Population
          Health.” Forbes, 4 June 2025,
          www.forbes.com/sites/omerawan/2025/06/04/how-income-can-affect-your-health-and-population-health/</li></ul>`),Lk=Oi('<div class="svelte-1yuzlxr"><section class="svelte-1yuzlxr"><article></article> <h1 class="svelte-1yuzlxr">Citations:</h1> <!></section></div>');function Ok(tt){var dt=Lk(),at=Ri(dt),It=Bi(Ri(at),4);eb(It,{children:(Et,jt)=>{var te=_k();li(Et,te)}}),li(tt,dt)}var Ek=Oi("<main><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main>");function Ik(tt){var dt=Ek(),at=Ri(dt);k1(at);var It=Bi(at,2);pk(It);var Et=Bi(It,2);xk(Et,{});var jt=Bi(Et,2);kk(jt);var te=Bi(jt,2);o1(te);var me=Bi(te,2);Ak(me);var ee=Bi(me,2);Ck(ee);var ae=Bi(ee,2);Ok(ae);var ue=Bi(ae,2);Qw(ue);var le=Bi(ue,2);d1(le);var oe=Bi(le,2);K1(oe);var Ce=Bi(oe,2);L1(Ce);var Be=Bi(Ce,2);N1(Be);var We=Bi(Be,2);q1(We);var di=Bi(We,2);rk(di);var Ve=Bi(di,2);lk(Ve),li(tt,dt)}cw(Ik,{target:document.getElementById("app")});
